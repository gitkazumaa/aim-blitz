var F9=Object.defineProperty;var z9=(t,e,n)=>e in t?F9(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var ye=(t,e,n)=>(z9(t,typeof e!="symbol"?e+"":e,n),n),ME=(t,e,n)=>{if(!e.has(t))throw TypeError("Cannot "+n)};var ie=(t,e,n)=>(ME(t,e,"read from private field"),n?n.call(t):e.get(t)),_t=(t,e,n)=>{if(e.has(t))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(t):e.set(t,n)},Je=(t,e,n,i)=>(ME(t,e,"write to private field"),i?i.call(t,n):e.set(t,n),n);var bx=(t,e,n,i)=>({set _(r){Je(t,e,r,n)},get _(){return ie(t,e,i)}}),Gt=(t,e,n)=>(ME(t,e,"access private method"),n);function g4(t,e){for(var n=0;n<e.length;n++){const i=e[n];if(typeof i!="string"&&!Array.isArray(i)){for(const r in i)if(r!=="default"&&!(r in t)){const s=Object.getOwnPropertyDescriptor(i,r);s&&Object.defineProperty(t,r,s.get?s:{enumerable:!0,get:()=>i[r]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))i(r);new MutationObserver(r=>{for(const s of r)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&i(o)}).observe(document,{childList:!0,subtree:!0});function n(r){const s={};return r.integrity&&(s.integrity=r.integrity),r.referrerPolicy&&(s.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?s.credentials="include":r.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function i(r){if(r.ep)return;r.ep=!0;const s=n(r);fetch(r.href,s)}})();var U9=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Bv(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function B9(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var n=function i(){return this instanceof i?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(i){var r=Object.getOwnPropertyDescriptor(t,i);Object.defineProperty(n,i,r.get?r:{enumerable:!0,get:function(){return t[i]}})}),n}var v4={exports:{}},dS={},y4={exports:{}},an={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Hv=Symbol.for("react.element"),H9=Symbol.for("react.portal"),V9=Symbol.for("react.fragment"),j9=Symbol.for("react.strict_mode"),W9=Symbol.for("react.profiler"),G9=Symbol.for("react.provider"),$9=Symbol.for("react.context"),X9=Symbol.for("react.forward_ref"),Y9=Symbol.for("react.suspense"),q9=Symbol.for("react.memo"),K9=Symbol.for("react.lazy"),BD=Symbol.iterator;function Q9(t){return t===null||typeof t!="object"?null:(t=BD&&t[BD]||t["@@iterator"],typeof t=="function"?t:null)}var x4={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},_4=Object.assign,b4={};function Qp(t,e,n){this.props=t,this.context=e,this.refs=b4,this.updater=n||x4}Qp.prototype.isReactComponent={};Qp.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Qp.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function S4(){}S4.prototype=Qp.prototype;function MA(t,e,n){this.props=t,this.context=e,this.refs=b4,this.updater=n||x4}var EA=MA.prototype=new S4;EA.constructor=MA;_4(EA,Qp.prototype);EA.isPureReactComponent=!0;var HD=Array.isArray,w4=Object.prototype.hasOwnProperty,TA={current:null},M4={key:!0,ref:!0,__self:!0,__source:!0};function E4(t,e,n){var i,r={},s=null,o=null;if(e!=null)for(i in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)w4.call(e,i)&&!M4.hasOwnProperty(i)&&(r[i]=e[i]);var a=arguments.length-2;if(a===1)r.children=n;else if(1<a){for(var l=Array(a),c=0;c<a;c++)l[c]=arguments[c+2];r.children=l}if(t&&t.defaultProps)for(i in a=t.defaultProps,a)r[i]===void 0&&(r[i]=a[i]);return{$$typeof:Hv,type:t,key:s,ref:o,props:r,_owner:TA.current}}function Z9(t,e){return{$$typeof:Hv,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function CA(t){return typeof t=="object"&&t!==null&&t.$$typeof===Hv}function J9(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var VD=/\/+/g;function EE(t,e){return typeof t=="object"&&t!==null&&t.key!=null?J9(""+t.key):e.toString(36)}function mb(t,e,n,i,r){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case Hv:case H9:o=!0}}if(o)return o=t,r=r(o),t=i===""?"."+EE(o,0):i,HD(r)?(n="",t!=null&&(n=t.replace(VD,"$&/")+"/"),mb(r,e,n,"",function(c){return c})):r!=null&&(CA(r)&&(r=Z9(r,n+(!r.key||o&&o.key===r.key?"":(""+r.key).replace(VD,"$&/")+"/")+t)),e.push(r)),1;if(o=0,i=i===""?".":i+":",HD(t))for(var a=0;a<t.length;a++){s=t[a];var l=i+EE(s,a);o+=mb(s,e,n,l,r)}else if(l=Q9(t),typeof l=="function")for(t=l.call(t),a=0;!(s=t.next()).done;)s=s.value,l=i+EE(s,a++),o+=mb(s,e,n,l,r);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function Sx(t,e,n){if(t==null)return t;var i=[],r=0;return mb(t,i,"","",function(s){return e.call(n,s,r++)}),i}function e7(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var os={current:null},gb={transition:null},t7={ReactCurrentDispatcher:os,ReactCurrentBatchConfig:gb,ReactCurrentOwner:TA};an.Children={map:Sx,forEach:function(t,e,n){Sx(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Sx(t,function(){e++}),e},toArray:function(t){return Sx(t,function(e){return e})||[]},only:function(t){if(!CA(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};an.Component=Qp;an.Fragment=V9;an.Profiler=W9;an.PureComponent=MA;an.StrictMode=j9;an.Suspense=Y9;an.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=t7;an.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var i=_4({},t.props),r=t.key,s=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=TA.current),e.key!==void 0&&(r=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)w4.call(e,l)&&!M4.hasOwnProperty(l)&&(i[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)i.children=n;else if(1<l){a=Array(l);for(var c=0;c<l;c++)a[c]=arguments[c+2];i.children=a}return{$$typeof:Hv,type:t.type,key:r,ref:s,props:i,_owner:o}};an.createContext=function(t){return t={$$typeof:$9,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:G9,_context:t},t.Consumer=t};an.createElement=E4;an.createFactory=function(t){var e=E4.bind(null,t);return e.type=t,e};an.createRef=function(){return{current:null}};an.forwardRef=function(t){return{$$typeof:X9,render:t}};an.isValidElement=CA;an.lazy=function(t){return{$$typeof:K9,_payload:{_status:-1,_result:t},_init:e7}};an.memo=function(t,e){return{$$typeof:q9,type:t,compare:e===void 0?null:e}};an.startTransition=function(t){var e=gb.transition;gb.transition={};try{t()}finally{gb.transition=e}};an.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};an.useCallback=function(t,e){return os.current.useCallback(t,e)};an.useContext=function(t){return os.current.useContext(t)};an.useDebugValue=function(){};an.useDeferredValue=function(t){return os.current.useDeferredValue(t)};an.useEffect=function(t,e){return os.current.useEffect(t,e)};an.useId=function(){return os.current.useId()};an.useImperativeHandle=function(t,e,n){return os.current.useImperativeHandle(t,e,n)};an.useInsertionEffect=function(t,e){return os.current.useInsertionEffect(t,e)};an.useLayoutEffect=function(t,e){return os.current.useLayoutEffect(t,e)};an.useMemo=function(t,e){return os.current.useMemo(t,e)};an.useReducer=function(t,e,n){return os.current.useReducer(t,e,n)};an.useRef=function(t){return os.current.useRef(t)};an.useState=function(t){return os.current.useState(t)};an.useSyncExternalStore=function(t,e,n){return os.current.useSyncExternalStore(t,e,n)};an.useTransition=function(){return os.current.useTransition()};an.version="18.2.0";y4.exports=an;var k=y4.exports;const Qt=Bv(k),e1=g4({__proto__:null,default:Qt},[k]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var n7=k,i7=Symbol.for("react.element"),r7=Symbol.for("react.fragment"),s7=Object.prototype.hasOwnProperty,o7=n7.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,a7={key:!0,ref:!0,__self:!0,__source:!0};function T4(t,e,n){var i,r={},s=null,o=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(i in e)s7.call(e,i)&&!a7.hasOwnProperty(i)&&(r[i]=e[i]);if(t&&t.defaultProps)for(i in e=t.defaultProps,e)r[i]===void 0&&(r[i]=e[i]);return{$$typeof:i7,type:t,key:s,ref:o,props:r,_owner:o7.current}}dS.Fragment=r7;dS.jsx=T4;dS.jsxs=T4;v4.exports=dS;var M=v4.exports,DC={},C4={exports:{}},so={},R4={exports:{}},A4={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(N,B){var j=N.length;N.push(B);e:for(;0<j;){var te=j-1>>>1,se=N[te];if(0<r(se,B))N[te]=B,N[j]=se,j=te;else break e}}function n(N){return N.length===0?null:N[0]}function i(N){if(N.length===0)return null;var B=N[0],j=N.pop();if(j!==B){N[0]=j;e:for(var te=0,se=N.length,ne=se>>>1;te<ne;){var ae=2*(te+1)-1,xe=N[ae],Ee=ae+1,Oe=N[Ee];if(0>r(xe,j))Ee<se&&0>r(Oe,xe)?(N[te]=Oe,N[Ee]=j,te=Ee):(N[te]=xe,N[ae]=j,te=ae);else if(Ee<se&&0>r(Oe,j))N[te]=Oe,N[Ee]=j,te=Ee;else break e}}return B}function r(N,B){var j=N.sortIndex-B.sortIndex;return j!==0?j:N.id-B.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],c=[],u=1,d=null,f=3,m=!1,g=!1,y=!1,x=typeof setTimeout=="function"?setTimeout:null,v=typeof clearTimeout=="function"?clearTimeout:null,_=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function b(N){for(var B=n(c);B!==null;){if(B.callback===null)i(c);else if(B.startTime<=N)i(c),B.sortIndex=B.expirationTime,e(l,B);else break;B=n(c)}}function w(N){if(y=!1,b(N),!g)if(n(l)!==null)g=!0,Q(C);else{var B=n(c);B!==null&&J(w,B.startTime-N)}}function C(N,B){g=!1,y&&(y=!1,v(I),I=-1),m=!0;var j=f;try{for(b(B),d=n(l);d!==null&&(!(d.expirationTime>B)||N&&!O());){var te=d.callback;if(typeof te=="function"){d.callback=null,f=d.priorityLevel;var se=te(d.expirationTime<=B);B=t.unstable_now(),typeof se=="function"?d.callback=se:d===n(l)&&i(l),b(B)}else i(l);d=n(l)}if(d!==null)var ne=!0;else{var ae=n(c);ae!==null&&J(w,ae.startTime-B),ne=!1}return ne}finally{d=null,f=j,m=!1}}var T=!1,R=null,I=-1,A=5,L=-1;function O(){return!(t.unstable_now()-L<A)}function H(){if(R!==null){var N=t.unstable_now();L=N;var B=!0;try{B=R(!0,N)}finally{B?q():(T=!1,R=null)}}else T=!1}var q;if(typeof _=="function")q=function(){_(H)};else if(typeof MessageChannel<"u"){var U=new MessageChannel,G=U.port2;U.port1.onmessage=H,q=function(){G.postMessage(null)}}else q=function(){x(H,0)};function Q(N){R=N,T||(T=!0,q())}function J(N,B){I=x(function(){N(t.unstable_now())},B)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(N){N.callback=null},t.unstable_continueExecution=function(){g||m||(g=!0,Q(C))},t.unstable_forceFrameRate=function(N){0>N||125<N?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<N?Math.floor(1e3/N):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(N){switch(f){case 1:case 2:case 3:var B=3;break;default:B=f}var j=f;f=B;try{return N()}finally{f=j}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(N,B){switch(N){case 1:case 2:case 3:case 4:case 5:break;default:N=3}var j=f;f=N;try{return B()}finally{f=j}},t.unstable_scheduleCallback=function(N,B,j){var te=t.unstable_now();switch(typeof j=="object"&&j!==null?(j=j.delay,j=typeof j=="number"&&0<j?te+j:te):j=te,N){case 1:var se=-1;break;case 2:se=250;break;case 5:se=1073741823;break;case 4:se=1e4;break;default:se=5e3}return se=j+se,N={id:u++,callback:B,priorityLevel:N,startTime:j,expirationTime:se,sortIndex:-1},j>te?(N.sortIndex=j,e(c,N),n(l)===null&&N===n(c)&&(y?(v(I),I=-1):y=!0,J(w,j-te))):(N.sortIndex=se,e(l,N),g||m||(g=!0,Q(C))),N},t.unstable_shouldYield=O,t.unstable_wrapCallback=function(N){var B=f;return function(){var j=f;f=B;try{return N.apply(this,arguments)}finally{f=j}}}})(A4);R4.exports=A4;var l7=R4.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var P4=k,ro=l7;function Ue(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var k4=new Set,R0={};function af(t,e){Mp(t,e),Mp(t+"Capture",e)}function Mp(t,e){for(R0[t]=e,t=0;t<e.length;t++)k4.add(e[t])}var zl=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),OC=Object.prototype.hasOwnProperty,c7=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,jD={},WD={};function u7(t){return OC.call(WD,t)?!0:OC.call(jD,t)?!1:c7.test(t)?WD[t]=!0:(jD[t]=!0,!1)}function d7(t,e,n,i){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return i?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function f7(t,e,n,i){if(e===null||typeof e>"u"||d7(t,e,n,i))return!0;if(i)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function as(t,e,n,i,r,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=i,this.attributeNamespace=r,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var Tr={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Tr[t]=new as(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Tr[e]=new as(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Tr[t]=new as(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Tr[t]=new as(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Tr[t]=new as(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Tr[t]=new as(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Tr[t]=new as(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Tr[t]=new as(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Tr[t]=new as(t,5,!1,t.toLowerCase(),null,!1,!1)});var RA=/[\-:]([a-z])/g;function AA(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(RA,AA);Tr[e]=new as(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(RA,AA);Tr[e]=new as(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(RA,AA);Tr[e]=new as(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Tr[t]=new as(t,1,!1,t.toLowerCase(),null,!1,!1)});Tr.xlinkHref=new as("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Tr[t]=new as(t,1,!1,t.toLowerCase(),null,!0,!0)});function PA(t,e,n,i){var r=Tr.hasOwnProperty(e)?Tr[e]:null;(r!==null?r.type!==0:i||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(f7(e,n,r,i)&&(n=null),i||r===null?u7(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):r.mustUseProperty?t[r.propertyName]=n===null?r.type===3?!1:"":n:(e=r.attributeName,i=r.attributeNamespace,n===null?t.removeAttribute(e):(r=r.type,n=r===3||r===4&&n===!0?"":""+n,i?t.setAttributeNS(i,e,n):t.setAttribute(e,n))))}var $l=P4.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,wx=Symbol.for("react.element"),Rh=Symbol.for("react.portal"),Ah=Symbol.for("react.fragment"),kA=Symbol.for("react.strict_mode"),NC=Symbol.for("react.profiler"),I4=Symbol.for("react.provider"),L4=Symbol.for("react.context"),IA=Symbol.for("react.forward_ref"),FC=Symbol.for("react.suspense"),zC=Symbol.for("react.suspense_list"),LA=Symbol.for("react.memo"),Sc=Symbol.for("react.lazy"),D4=Symbol.for("react.offscreen"),GD=Symbol.iterator;function Om(t){return t===null||typeof t!="object"?null:(t=GD&&t[GD]||t["@@iterator"],typeof t=="function"?t:null)}var hi=Object.assign,TE;function Pg(t){if(TE===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);TE=e&&e[1]||""}return`
`+TE+t}var CE=!1;function RE(t,e){if(!t||CE)return"";CE=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var i=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){i=c}t.call(e.prototype)}else{try{throw Error()}catch(c){i=c}t()}}catch(c){if(c&&i&&typeof c.stack=="string"){for(var r=c.stack.split(`
`),s=i.stack.split(`
`),o=r.length-1,a=s.length-1;1<=o&&0<=a&&r[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(r[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||r[o]!==s[a]){var l=`
`+r[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{CE=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Pg(t):""}function h7(t){switch(t.tag){case 5:return Pg(t.type);case 16:return Pg("Lazy");case 13:return Pg("Suspense");case 19:return Pg("SuspenseList");case 0:case 2:case 15:return t=RE(t.type,!1),t;case 11:return t=RE(t.type.render,!1),t;case 1:return t=RE(t.type,!0),t;default:return""}}function UC(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Ah:return"Fragment";case Rh:return"Portal";case NC:return"Profiler";case kA:return"StrictMode";case FC:return"Suspense";case zC:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case L4:return(t.displayName||"Context")+".Consumer";case I4:return(t._context.displayName||"Context")+".Provider";case IA:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case LA:return e=t.displayName||null,e!==null?e:UC(t.type)||"Memo";case Sc:e=t._payload,t=t._init;try{return UC(t(e))}catch{}}return null}function p7(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return UC(e);case 8:return e===kA?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function ru(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function O4(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function m7(t){var e=O4(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),i=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var r=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return r.call(this)},set:function(o){i=""+o,s.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return i},setValue:function(o){i=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Mx(t){t._valueTracker||(t._valueTracker=m7(t))}function N4(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),i="";return t&&(i=O4(t)?t.checked?"true":"false":t.value),t=i,t!==n?(e.setValue(t),!0):!1}function t1(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function BC(t,e){var n=e.checked;return hi({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function $D(t,e){var n=e.defaultValue==null?"":e.defaultValue,i=e.checked!=null?e.checked:e.defaultChecked;n=ru(e.value!=null?e.value:n),t._wrapperState={initialChecked:i,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function F4(t,e){e=e.checked,e!=null&&PA(t,"checked",e,!1)}function HC(t,e){F4(t,e);var n=ru(e.value),i=e.type;if(n!=null)i==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(i==="submit"||i==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?VC(t,e.type,n):e.hasOwnProperty("defaultValue")&&VC(t,e.type,ru(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function XD(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var i=e.type;if(!(i!=="submit"&&i!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function VC(t,e,n){(e!=="number"||t1(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var kg=Array.isArray;function Yh(t,e,n,i){if(t=t.options,e){e={};for(var r=0;r<n.length;r++)e["$"+n[r]]=!0;for(n=0;n<t.length;n++)r=e.hasOwnProperty("$"+t[n].value),t[n].selected!==r&&(t[n].selected=r),r&&i&&(t[n].defaultSelected=!0)}else{for(n=""+ru(n),e=null,r=0;r<t.length;r++){if(t[r].value===n){t[r].selected=!0,i&&(t[r].defaultSelected=!0);return}e!==null||t[r].disabled||(e=t[r])}e!==null&&(e.selected=!0)}}function jC(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(Ue(91));return hi({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function YD(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(Ue(92));if(kg(n)){if(1<n.length)throw Error(Ue(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:ru(n)}}function z4(t,e){var n=ru(e.value),i=ru(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),i!=null&&(t.defaultValue=""+i)}function qD(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function U4(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function WC(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?U4(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Ex,B4=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,i,r){MSApp.execUnsafeLocalFunction(function(){return t(e,n,i,r)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Ex=Ex||document.createElement("div"),Ex.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Ex.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function A0(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Xg={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},g7=["Webkit","ms","Moz","O"];Object.keys(Xg).forEach(function(t){g7.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Xg[e]=Xg[t]})});function H4(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Xg.hasOwnProperty(t)&&Xg[t]?(""+e).trim():e+"px"}function V4(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var i=n.indexOf("--")===0,r=H4(n,e[n],i);n==="float"&&(n="cssFloat"),i?t.setProperty(n,r):t[n]=r}}var v7=hi({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function GC(t,e){if(e){if(v7[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(Ue(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(Ue(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(Ue(61))}if(e.style!=null&&typeof e.style!="object")throw Error(Ue(62))}}function $C(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var XC=null;function DA(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var YC=null,qh=null,Kh=null;function KD(t){if(t=Wv(t)){if(typeof YC!="function")throw Error(Ue(280));var e=t.stateNode;e&&(e=gS(e),YC(t.stateNode,t.type,e))}}function j4(t){qh?Kh?Kh.push(t):Kh=[t]:qh=t}function W4(){if(qh){var t=qh,e=Kh;if(Kh=qh=null,KD(t),e)for(t=0;t<e.length;t++)KD(e[t])}}function G4(t,e){return t(e)}function $4(){}var AE=!1;function X4(t,e,n){if(AE)return t(e,n);AE=!0;try{return G4(t,e,n)}finally{AE=!1,(qh!==null||Kh!==null)&&($4(),W4())}}function P0(t,e){var n=t.stateNode;if(n===null)return null;var i=gS(n);if(i===null)return null;n=i[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(i=!i.disabled)||(t=t.type,i=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!i;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(Ue(231,e,typeof n));return n}var qC=!1;if(zl)try{var Nm={};Object.defineProperty(Nm,"passive",{get:function(){qC=!0}}),window.addEventListener("test",Nm,Nm),window.removeEventListener("test",Nm,Nm)}catch{qC=!1}function y7(t,e,n,i,r,s,o,a,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(u){this.onError(u)}}var Yg=!1,n1=null,i1=!1,KC=null,x7={onError:function(t){Yg=!0,n1=t}};function _7(t,e,n,i,r,s,o,a,l){Yg=!1,n1=null,y7.apply(x7,arguments)}function b7(t,e,n,i,r,s,o,a,l){if(_7.apply(this,arguments),Yg){if(Yg){var c=n1;Yg=!1,n1=null}else throw Error(Ue(198));i1||(i1=!0,KC=c)}}function lf(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function Y4(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function QD(t){if(lf(t)!==t)throw Error(Ue(188))}function S7(t){var e=t.alternate;if(!e){if(e=lf(t),e===null)throw Error(Ue(188));return e!==t?null:t}for(var n=t,i=e;;){var r=n.return;if(r===null)break;var s=r.alternate;if(s===null){if(i=r.return,i!==null){n=i;continue}break}if(r.child===s.child){for(s=r.child;s;){if(s===n)return QD(r),t;if(s===i)return QD(r),e;s=s.sibling}throw Error(Ue(188))}if(n.return!==i.return)n=r,i=s;else{for(var o=!1,a=r.child;a;){if(a===n){o=!0,n=r,i=s;break}if(a===i){o=!0,i=r,n=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===n){o=!0,n=s,i=r;break}if(a===i){o=!0,i=s,n=r;break}a=a.sibling}if(!o)throw Error(Ue(189))}}if(n.alternate!==i)throw Error(Ue(190))}if(n.tag!==3)throw Error(Ue(188));return n.stateNode.current===n?t:e}function q4(t){return t=S7(t),t!==null?K4(t):null}function K4(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=K4(t);if(e!==null)return e;t=t.sibling}return null}var Q4=ro.unstable_scheduleCallback,ZD=ro.unstable_cancelCallback,w7=ro.unstable_shouldYield,M7=ro.unstable_requestPaint,Ai=ro.unstable_now,E7=ro.unstable_getCurrentPriorityLevel,OA=ro.unstable_ImmediatePriority,Z4=ro.unstable_UserBlockingPriority,r1=ro.unstable_NormalPriority,T7=ro.unstable_LowPriority,J4=ro.unstable_IdlePriority,fS=null,Fa=null;function C7(t){if(Fa&&typeof Fa.onCommitFiberRoot=="function")try{Fa.onCommitFiberRoot(fS,t,void 0,(t.current.flags&128)===128)}catch{}}var ia=Math.clz32?Math.clz32:P7,R7=Math.log,A7=Math.LN2;function P7(t){return t>>>=0,t===0?32:31-(R7(t)/A7|0)|0}var Tx=64,Cx=4194304;function Ig(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function s1(t,e){var n=t.pendingLanes;if(n===0)return 0;var i=0,r=t.suspendedLanes,s=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~r;a!==0?i=Ig(a):(s&=o,s!==0&&(i=Ig(s)))}else o=n&~r,o!==0?i=Ig(o):s!==0&&(i=Ig(s));if(i===0)return 0;if(e!==0&&e!==i&&!(e&r)&&(r=i&-i,s=e&-e,r>=s||r===16&&(s&4194240)!==0))return e;if(i&4&&(i|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=i;0<e;)n=31-ia(e),r=1<<n,i|=t[n],e&=~r;return i}function k7(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function I7(t,e){for(var n=t.suspendedLanes,i=t.pingedLanes,r=t.expirationTimes,s=t.pendingLanes;0<s;){var o=31-ia(s),a=1<<o,l=r[o];l===-1?(!(a&n)||a&i)&&(r[o]=k7(a,e)):l<=e&&(t.expiredLanes|=a),s&=~a}}function QC(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function e5(){var t=Tx;return Tx<<=1,!(Tx&4194240)&&(Tx=64),t}function PE(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Vv(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-ia(e),t[e]=n}function L7(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var i=t.eventTimes;for(t=t.expirationTimes;0<n;){var r=31-ia(n),s=1<<r;e[r]=0,i[r]=-1,t[r]=-1,n&=~s}}function NA(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var i=31-ia(n),r=1<<i;r&e|t[i]&e&&(t[i]|=e),n&=~r}}var In=0;function t5(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var n5,FA,i5,r5,s5,ZC=!1,Rx=[],Gc=null,$c=null,Xc=null,k0=new Map,I0=new Map,Ec=[],D7="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function JD(t,e){switch(t){case"focusin":case"focusout":Gc=null;break;case"dragenter":case"dragleave":$c=null;break;case"mouseover":case"mouseout":Xc=null;break;case"pointerover":case"pointerout":k0.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":I0.delete(e.pointerId)}}function Fm(t,e,n,i,r,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:i,nativeEvent:s,targetContainers:[r]},e!==null&&(e=Wv(e),e!==null&&FA(e)),t):(t.eventSystemFlags|=i,e=t.targetContainers,r!==null&&e.indexOf(r)===-1&&e.push(r),t)}function O7(t,e,n,i,r){switch(e){case"focusin":return Gc=Fm(Gc,t,e,n,i,r),!0;case"dragenter":return $c=Fm($c,t,e,n,i,r),!0;case"mouseover":return Xc=Fm(Xc,t,e,n,i,r),!0;case"pointerover":var s=r.pointerId;return k0.set(s,Fm(k0.get(s)||null,t,e,n,i,r)),!0;case"gotpointercapture":return s=r.pointerId,I0.set(s,Fm(I0.get(s)||null,t,e,n,i,r)),!0}return!1}function o5(t){var e=dd(t.target);if(e!==null){var n=lf(e);if(n!==null){if(e=n.tag,e===13){if(e=Y4(n),e!==null){t.blockedOn=e,s5(t.priority,function(){i5(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function vb(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=JC(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var i=new n.constructor(n.type,n);XC=i,n.target.dispatchEvent(i),XC=null}else return e=Wv(n),e!==null&&FA(e),t.blockedOn=n,!1;e.shift()}return!0}function eO(t,e,n){vb(t)&&n.delete(e)}function N7(){ZC=!1,Gc!==null&&vb(Gc)&&(Gc=null),$c!==null&&vb($c)&&($c=null),Xc!==null&&vb(Xc)&&(Xc=null),k0.forEach(eO),I0.forEach(eO)}function zm(t,e){t.blockedOn===e&&(t.blockedOn=null,ZC||(ZC=!0,ro.unstable_scheduleCallback(ro.unstable_NormalPriority,N7)))}function L0(t){function e(r){return zm(r,t)}if(0<Rx.length){zm(Rx[0],t);for(var n=1;n<Rx.length;n++){var i=Rx[n];i.blockedOn===t&&(i.blockedOn=null)}}for(Gc!==null&&zm(Gc,t),$c!==null&&zm($c,t),Xc!==null&&zm(Xc,t),k0.forEach(e),I0.forEach(e),n=0;n<Ec.length;n++)i=Ec[n],i.blockedOn===t&&(i.blockedOn=null);for(;0<Ec.length&&(n=Ec[0],n.blockedOn===null);)o5(n),n.blockedOn===null&&Ec.shift()}var Qh=$l.ReactCurrentBatchConfig,o1=!0;function F7(t,e,n,i){var r=In,s=Qh.transition;Qh.transition=null;try{In=1,zA(t,e,n,i)}finally{In=r,Qh.transition=s}}function z7(t,e,n,i){var r=In,s=Qh.transition;Qh.transition=null;try{In=4,zA(t,e,n,i)}finally{In=r,Qh.transition=s}}function zA(t,e,n,i){if(o1){var r=JC(t,e,n,i);if(r===null)BE(t,e,i,a1,n),JD(t,i);else if(O7(r,t,e,n,i))i.stopPropagation();else if(JD(t,i),e&4&&-1<D7.indexOf(t)){for(;r!==null;){var s=Wv(r);if(s!==null&&n5(s),s=JC(t,e,n,i),s===null&&BE(t,e,i,a1,n),s===r)break;r=s}r!==null&&i.stopPropagation()}else BE(t,e,i,null,n)}}var a1=null;function JC(t,e,n,i){if(a1=null,t=DA(i),t=dd(t),t!==null)if(e=lf(t),e===null)t=null;else if(n=e.tag,n===13){if(t=Y4(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return a1=t,null}function a5(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(E7()){case OA:return 1;case Z4:return 4;case r1:case T7:return 16;case J4:return 536870912;default:return 16}default:return 16}}var Uc=null,UA=null,yb=null;function l5(){if(yb)return yb;var t,e=UA,n=e.length,i,r="value"in Uc?Uc.value:Uc.textContent,s=r.length;for(t=0;t<n&&e[t]===r[t];t++);var o=n-t;for(i=1;i<=o&&e[n-i]===r[s-i];i++);return yb=r.slice(t,1<i?1-i:void 0)}function xb(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Ax(){return!0}function tO(){return!1}function oo(t){function e(n,i,r,s,o){this._reactName=n,this._targetInst=r,this.type=i,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?Ax:tO,this.isPropagationStopped=tO,this}return hi(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Ax)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Ax)},persist:function(){},isPersistent:Ax}),e}var Zp={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},BA=oo(Zp),jv=hi({},Zp,{view:0,detail:0}),U7=oo(jv),kE,IE,Um,hS=hi({},jv,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:HA,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Um&&(Um&&t.type==="mousemove"?(kE=t.screenX-Um.screenX,IE=t.screenY-Um.screenY):IE=kE=0,Um=t),kE)},movementY:function(t){return"movementY"in t?t.movementY:IE}}),nO=oo(hS),B7=hi({},hS,{dataTransfer:0}),H7=oo(B7),V7=hi({},jv,{relatedTarget:0}),LE=oo(V7),j7=hi({},Zp,{animationName:0,elapsedTime:0,pseudoElement:0}),W7=oo(j7),G7=hi({},Zp,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),$7=oo(G7),X7=hi({},Zp,{data:0}),iO=oo(X7),Y7={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},q7={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},K7={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Q7(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=K7[t])?!!e[t]:!1}function HA(){return Q7}var Z7=hi({},jv,{key:function(t){if(t.key){var e=Y7[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=xb(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?q7[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:HA,charCode:function(t){return t.type==="keypress"?xb(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?xb(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),J7=oo(Z7),eX=hi({},hS,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),rO=oo(eX),tX=hi({},jv,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:HA}),nX=oo(tX),iX=hi({},Zp,{propertyName:0,elapsedTime:0,pseudoElement:0}),rX=oo(iX),sX=hi({},hS,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),oX=oo(sX),aX=[9,13,27,32],VA=zl&&"CompositionEvent"in window,qg=null;zl&&"documentMode"in document&&(qg=document.documentMode);var lX=zl&&"TextEvent"in window&&!qg,c5=zl&&(!VA||qg&&8<qg&&11>=qg),sO=" ",oO=!1;function u5(t,e){switch(t){case"keyup":return aX.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function d5(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Ph=!1;function cX(t,e){switch(t){case"compositionend":return d5(e);case"keypress":return e.which!==32?null:(oO=!0,sO);case"textInput":return t=e.data,t===sO&&oO?null:t;default:return null}}function uX(t,e){if(Ph)return t==="compositionend"||!VA&&u5(t,e)?(t=l5(),yb=UA=Uc=null,Ph=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return c5&&e.locale!=="ko"?null:e.data;default:return null}}var dX={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function aO(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!dX[t.type]:e==="textarea"}function f5(t,e,n,i){j4(i),e=l1(e,"onChange"),0<e.length&&(n=new BA("onChange","change",null,n,i),t.push({event:n,listeners:e}))}var Kg=null,D0=null;function fX(t){w5(t,0)}function pS(t){var e=Lh(t);if(N4(e))return t}function hX(t,e){if(t==="change")return e}var h5=!1;if(zl){var DE;if(zl){var OE="oninput"in document;if(!OE){var lO=document.createElement("div");lO.setAttribute("oninput","return;"),OE=typeof lO.oninput=="function"}DE=OE}else DE=!1;h5=DE&&(!document.documentMode||9<document.documentMode)}function cO(){Kg&&(Kg.detachEvent("onpropertychange",p5),D0=Kg=null)}function p5(t){if(t.propertyName==="value"&&pS(D0)){var e=[];f5(e,D0,t,DA(t)),X4(fX,e)}}function pX(t,e,n){t==="focusin"?(cO(),Kg=e,D0=n,Kg.attachEvent("onpropertychange",p5)):t==="focusout"&&cO()}function mX(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return pS(D0)}function gX(t,e){if(t==="click")return pS(e)}function vX(t,e){if(t==="input"||t==="change")return pS(e)}function yX(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var aa=typeof Object.is=="function"?Object.is:yX;function O0(t,e){if(aa(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),i=Object.keys(e);if(n.length!==i.length)return!1;for(i=0;i<n.length;i++){var r=n[i];if(!OC.call(e,r)||!aa(t[r],e[r]))return!1}return!0}function uO(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function dO(t,e){var n=uO(t);t=0;for(var i;n;){if(n.nodeType===3){if(i=t+n.textContent.length,t<=e&&i>=e)return{node:n,offset:e-t};t=i}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=uO(n)}}function m5(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?m5(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function g5(){for(var t=window,e=t1();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=t1(t.document)}return e}function jA(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function xX(t){var e=g5(),n=t.focusedElem,i=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&m5(n.ownerDocument.documentElement,n)){if(i!==null&&jA(n)){if(e=i.start,t=i.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var r=n.textContent.length,s=Math.min(i.start,r);i=i.end===void 0?s:Math.min(i.end,r),!t.extend&&s>i&&(r=i,i=s,s=r),r=dO(n,s);var o=dO(n,i);r&&o&&(t.rangeCount!==1||t.anchorNode!==r.node||t.anchorOffset!==r.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(r.node,r.offset),t.removeAllRanges(),s>i?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var _X=zl&&"documentMode"in document&&11>=document.documentMode,kh=null,e2=null,Qg=null,t2=!1;function fO(t,e,n){var i=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;t2||kh==null||kh!==t1(i)||(i=kh,"selectionStart"in i&&jA(i)?i={start:i.selectionStart,end:i.selectionEnd}:(i=(i.ownerDocument&&i.ownerDocument.defaultView||window).getSelection(),i={anchorNode:i.anchorNode,anchorOffset:i.anchorOffset,focusNode:i.focusNode,focusOffset:i.focusOffset}),Qg&&O0(Qg,i)||(Qg=i,i=l1(e2,"onSelect"),0<i.length&&(e=new BA("onSelect","select",null,e,n),t.push({event:e,listeners:i}),e.target=kh)))}function Px(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Ih={animationend:Px("Animation","AnimationEnd"),animationiteration:Px("Animation","AnimationIteration"),animationstart:Px("Animation","AnimationStart"),transitionend:Px("Transition","TransitionEnd")},NE={},v5={};zl&&(v5=document.createElement("div").style,"AnimationEvent"in window||(delete Ih.animationend.animation,delete Ih.animationiteration.animation,delete Ih.animationstart.animation),"TransitionEvent"in window||delete Ih.transitionend.transition);function mS(t){if(NE[t])return NE[t];if(!Ih[t])return t;var e=Ih[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in v5)return NE[t]=e[n];return t}var y5=mS("animationend"),x5=mS("animationiteration"),_5=mS("animationstart"),b5=mS("transitionend"),S5=new Map,hO="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function yu(t,e){S5.set(t,e),af(e,[t])}for(var FE=0;FE<hO.length;FE++){var zE=hO[FE],bX=zE.toLowerCase(),SX=zE[0].toUpperCase()+zE.slice(1);yu(bX,"on"+SX)}yu(y5,"onAnimationEnd");yu(x5,"onAnimationIteration");yu(_5,"onAnimationStart");yu("dblclick","onDoubleClick");yu("focusin","onFocus");yu("focusout","onBlur");yu(b5,"onTransitionEnd");Mp("onMouseEnter",["mouseout","mouseover"]);Mp("onMouseLeave",["mouseout","mouseover"]);Mp("onPointerEnter",["pointerout","pointerover"]);Mp("onPointerLeave",["pointerout","pointerover"]);af("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));af("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));af("onBeforeInput",["compositionend","keypress","textInput","paste"]);af("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));af("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));af("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Lg="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),wX=new Set("cancel close invalid load scroll toggle".split(" ").concat(Lg));function pO(t,e,n){var i=t.type||"unknown-event";t.currentTarget=n,b7(i,e,void 0,t),t.currentTarget=null}function w5(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var i=t[n],r=i.event;i=i.listeners;e:{var s=void 0;if(e)for(var o=i.length-1;0<=o;o--){var a=i[o],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==s&&r.isPropagationStopped())break e;pO(r,a,c),s=l}else for(o=0;o<i.length;o++){if(a=i[o],l=a.instance,c=a.currentTarget,a=a.listener,l!==s&&r.isPropagationStopped())break e;pO(r,a,c),s=l}}}if(i1)throw t=KC,i1=!1,KC=null,t}function Xn(t,e){var n=e[o2];n===void 0&&(n=e[o2]=new Set);var i=t+"__bubble";n.has(i)||(M5(e,t,2,!1),n.add(i))}function UE(t,e,n){var i=0;e&&(i|=4),M5(n,t,i,e)}var kx="_reactListening"+Math.random().toString(36).slice(2);function N0(t){if(!t[kx]){t[kx]=!0,k4.forEach(function(n){n!=="selectionchange"&&(wX.has(n)||UE(n,!1,t),UE(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[kx]||(e[kx]=!0,UE("selectionchange",!1,e))}}function M5(t,e,n,i){switch(a5(e)){case 1:var r=F7;break;case 4:r=z7;break;default:r=zA}n=r.bind(null,e,n,t),r=void 0,!qC||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(r=!0),i?r!==void 0?t.addEventListener(e,n,{capture:!0,passive:r}):t.addEventListener(e,n,!0):r!==void 0?t.addEventListener(e,n,{passive:r}):t.addEventListener(e,n,!1)}function BE(t,e,n,i,r){var s=i;if(!(e&1)&&!(e&2)&&i!==null)e:for(;;){if(i===null)return;var o=i.tag;if(o===3||o===4){var a=i.stateNode.containerInfo;if(a===r||a.nodeType===8&&a.parentNode===r)break;if(o===4)for(o=i.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===r||l.nodeType===8&&l.parentNode===r))return;o=o.return}for(;a!==null;){if(o=dd(a),o===null)return;if(l=o.tag,l===5||l===6){i=s=o;continue e}a=a.parentNode}}i=i.return}X4(function(){var c=s,u=DA(n),d=[];e:{var f=S5.get(t);if(f!==void 0){var m=BA,g=t;switch(t){case"keypress":if(xb(n)===0)break e;case"keydown":case"keyup":m=J7;break;case"focusin":g="focus",m=LE;break;case"focusout":g="blur",m=LE;break;case"beforeblur":case"afterblur":m=LE;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=nO;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=H7;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=nX;break;case y5:case x5:case _5:m=W7;break;case b5:m=rX;break;case"scroll":m=U7;break;case"wheel":m=oX;break;case"copy":case"cut":case"paste":m=$7;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=rO}var y=(e&4)!==0,x=!y&&t==="scroll",v=y?f!==null?f+"Capture":null:f;y=[];for(var _=c,b;_!==null;){b=_;var w=b.stateNode;if(b.tag===5&&w!==null&&(b=w,v!==null&&(w=P0(_,v),w!=null&&y.push(F0(_,w,b)))),x)break;_=_.return}0<y.length&&(f=new m(f,g,null,n,u),d.push({event:f,listeners:y}))}}if(!(e&7)){e:{if(f=t==="mouseover"||t==="pointerover",m=t==="mouseout"||t==="pointerout",f&&n!==XC&&(g=n.relatedTarget||n.fromElement)&&(dd(g)||g[Ul]))break e;if((m||f)&&(f=u.window===u?u:(f=u.ownerDocument)?f.defaultView||f.parentWindow:window,m?(g=n.relatedTarget||n.toElement,m=c,g=g?dd(g):null,g!==null&&(x=lf(g),g!==x||g.tag!==5&&g.tag!==6)&&(g=null)):(m=null,g=c),m!==g)){if(y=nO,w="onMouseLeave",v="onMouseEnter",_="mouse",(t==="pointerout"||t==="pointerover")&&(y=rO,w="onPointerLeave",v="onPointerEnter",_="pointer"),x=m==null?f:Lh(m),b=g==null?f:Lh(g),f=new y(w,_+"leave",m,n,u),f.target=x,f.relatedTarget=b,w=null,dd(u)===c&&(y=new y(v,_+"enter",g,n,u),y.target=b,y.relatedTarget=x,w=y),x=w,m&&g)t:{for(y=m,v=g,_=0,b=y;b;b=zf(b))_++;for(b=0,w=v;w;w=zf(w))b++;for(;0<_-b;)y=zf(y),_--;for(;0<b-_;)v=zf(v),b--;for(;_--;){if(y===v||v!==null&&y===v.alternate)break t;y=zf(y),v=zf(v)}y=null}else y=null;m!==null&&mO(d,f,m,y,!1),g!==null&&x!==null&&mO(d,x,g,y,!0)}}e:{if(f=c?Lh(c):window,m=f.nodeName&&f.nodeName.toLowerCase(),m==="select"||m==="input"&&f.type==="file")var C=hX;else if(aO(f))if(h5)C=vX;else{C=mX;var T=pX}else(m=f.nodeName)&&m.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(C=gX);if(C&&(C=C(t,c))){f5(d,C,n,u);break e}T&&T(t,f,c),t==="focusout"&&(T=f._wrapperState)&&T.controlled&&f.type==="number"&&VC(f,"number",f.value)}switch(T=c?Lh(c):window,t){case"focusin":(aO(T)||T.contentEditable==="true")&&(kh=T,e2=c,Qg=null);break;case"focusout":Qg=e2=kh=null;break;case"mousedown":t2=!0;break;case"contextmenu":case"mouseup":case"dragend":t2=!1,fO(d,n,u);break;case"selectionchange":if(_X)break;case"keydown":case"keyup":fO(d,n,u)}var R;if(VA)e:{switch(t){case"compositionstart":var I="onCompositionStart";break e;case"compositionend":I="onCompositionEnd";break e;case"compositionupdate":I="onCompositionUpdate";break e}I=void 0}else Ph?u5(t,n)&&(I="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(I="onCompositionStart");I&&(c5&&n.locale!=="ko"&&(Ph||I!=="onCompositionStart"?I==="onCompositionEnd"&&Ph&&(R=l5()):(Uc=u,UA="value"in Uc?Uc.value:Uc.textContent,Ph=!0)),T=l1(c,I),0<T.length&&(I=new iO(I,t,null,n,u),d.push({event:I,listeners:T}),R?I.data=R:(R=d5(n),R!==null&&(I.data=R)))),(R=lX?cX(t,n):uX(t,n))&&(c=l1(c,"onBeforeInput"),0<c.length&&(u=new iO("onBeforeInput","beforeinput",null,n,u),d.push({event:u,listeners:c}),u.data=R))}w5(d,e)})}function F0(t,e,n){return{instance:t,listener:e,currentTarget:n}}function l1(t,e){for(var n=e+"Capture",i=[];t!==null;){var r=t,s=r.stateNode;r.tag===5&&s!==null&&(r=s,s=P0(t,n),s!=null&&i.unshift(F0(t,s,r)),s=P0(t,e),s!=null&&i.push(F0(t,s,r))),t=t.return}return i}function zf(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function mO(t,e,n,i,r){for(var s=e._reactName,o=[];n!==null&&n!==i;){var a=n,l=a.alternate,c=a.stateNode;if(l!==null&&l===i)break;a.tag===5&&c!==null&&(a=c,r?(l=P0(n,s),l!=null&&o.unshift(F0(n,l,a))):r||(l=P0(n,s),l!=null&&o.push(F0(n,l,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var MX=/\r\n?/g,EX=/\u0000|\uFFFD/g;function gO(t){return(typeof t=="string"?t:""+t).replace(MX,`
`).replace(EX,"")}function Ix(t,e,n){if(e=gO(e),gO(t)!==e&&n)throw Error(Ue(425))}function c1(){}var n2=null,i2=null;function r2(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var s2=typeof setTimeout=="function"?setTimeout:void 0,TX=typeof clearTimeout=="function"?clearTimeout:void 0,vO=typeof Promise=="function"?Promise:void 0,CX=typeof queueMicrotask=="function"?queueMicrotask:typeof vO<"u"?function(t){return vO.resolve(null).then(t).catch(RX)}:s2;function RX(t){setTimeout(function(){throw t})}function HE(t,e){var n=e,i=0;do{var r=n.nextSibling;if(t.removeChild(n),r&&r.nodeType===8)if(n=r.data,n==="/$"){if(i===0){t.removeChild(r),L0(e);return}i--}else n!=="$"&&n!=="$?"&&n!=="$!"||i++;n=r}while(n);L0(e)}function Yc(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function yO(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Jp=Math.random().toString(36).slice(2),ka="__reactFiber$"+Jp,z0="__reactProps$"+Jp,Ul="__reactContainer$"+Jp,o2="__reactEvents$"+Jp,AX="__reactListeners$"+Jp,PX="__reactHandles$"+Jp;function dd(t){var e=t[ka];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Ul]||n[ka]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=yO(t);t!==null;){if(n=t[ka])return n;t=yO(t)}return e}t=n,n=t.parentNode}return null}function Wv(t){return t=t[ka]||t[Ul],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Lh(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(Ue(33))}function gS(t){return t[z0]||null}var a2=[],Dh=-1;function xu(t){return{current:t}}function Kn(t){0>Dh||(t.current=a2[Dh],a2[Dh]=null,Dh--)}function Wn(t,e){Dh++,a2[Dh]=t.current,t.current=e}var su={},Xr=xu(su),As=xu(!1),Vd=su;function Ep(t,e){var n=t.type.contextTypes;if(!n)return su;var i=t.stateNode;if(i&&i.__reactInternalMemoizedUnmaskedChildContext===e)return i.__reactInternalMemoizedMaskedChildContext;var r={},s;for(s in n)r[s]=e[s];return i&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=r),r}function Ps(t){return t=t.childContextTypes,t!=null}function u1(){Kn(As),Kn(Xr)}function xO(t,e,n){if(Xr.current!==su)throw Error(Ue(168));Wn(Xr,e),Wn(As,n)}function E5(t,e,n){var i=t.stateNode;if(e=e.childContextTypes,typeof i.getChildContext!="function")return n;i=i.getChildContext();for(var r in i)if(!(r in e))throw Error(Ue(108,p7(t)||"Unknown",r));return hi({},n,i)}function d1(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||su,Vd=Xr.current,Wn(Xr,t),Wn(As,As.current),!0}function _O(t,e,n){var i=t.stateNode;if(!i)throw Error(Ue(169));n?(t=E5(t,e,Vd),i.__reactInternalMemoizedMergedChildContext=t,Kn(As),Kn(Xr),Wn(Xr,t)):Kn(As),Wn(As,n)}var yl=null,vS=!1,VE=!1;function T5(t){yl===null?yl=[t]:yl.push(t)}function kX(t){vS=!0,T5(t)}function _u(){if(!VE&&yl!==null){VE=!0;var t=0,e=In;try{var n=yl;for(In=1;t<n.length;t++){var i=n[t];do i=i(!0);while(i!==null)}yl=null,vS=!1}catch(r){throw yl!==null&&(yl=yl.slice(t+1)),Q4(OA,_u),r}finally{In=e,VE=!1}}return null}var Oh=[],Nh=0,f1=null,h1=0,ko=[],Io=0,jd=null,Cl=1,Rl="";function Zu(t,e){Oh[Nh++]=h1,Oh[Nh++]=f1,f1=t,h1=e}function C5(t,e,n){ko[Io++]=Cl,ko[Io++]=Rl,ko[Io++]=jd,jd=t;var i=Cl;t=Rl;var r=32-ia(i)-1;i&=~(1<<r),n+=1;var s=32-ia(e)+r;if(30<s){var o=r-r%5;s=(i&(1<<o)-1).toString(32),i>>=o,r-=o,Cl=1<<32-ia(e)+r|n<<r|i,Rl=s+t}else Cl=1<<s|n<<r|i,Rl=t}function WA(t){t.return!==null&&(Zu(t,1),C5(t,1,0))}function GA(t){for(;t===f1;)f1=Oh[--Nh],Oh[Nh]=null,h1=Oh[--Nh],Oh[Nh]=null;for(;t===jd;)jd=ko[--Io],ko[Io]=null,Rl=ko[--Io],ko[Io]=null,Cl=ko[--Io],ko[Io]=null}var to=null,Js=null,ei=!1,Jo=null;function R5(t,e){var n=Do(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function bO(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,to=t,Js=Yc(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,to=t,Js=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=jd!==null?{id:Cl,overflow:Rl}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Do(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,to=t,Js=null,!0):!1;default:return!1}}function l2(t){return(t.mode&1)!==0&&(t.flags&128)===0}function c2(t){if(ei){var e=Js;if(e){var n=e;if(!bO(t,e)){if(l2(t))throw Error(Ue(418));e=Yc(n.nextSibling);var i=to;e&&bO(t,e)?R5(i,n):(t.flags=t.flags&-4097|2,ei=!1,to=t)}}else{if(l2(t))throw Error(Ue(418));t.flags=t.flags&-4097|2,ei=!1,to=t}}}function SO(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;to=t}function Lx(t){if(t!==to)return!1;if(!ei)return SO(t),ei=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!r2(t.type,t.memoizedProps)),e&&(e=Js)){if(l2(t))throw A5(),Error(Ue(418));for(;e;)R5(t,e),e=Yc(e.nextSibling)}if(SO(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(Ue(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Js=Yc(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Js=null}}else Js=to?Yc(t.stateNode.nextSibling):null;return!0}function A5(){for(var t=Js;t;)t=Yc(t.nextSibling)}function Tp(){Js=to=null,ei=!1}function $A(t){Jo===null?Jo=[t]:Jo.push(t)}var IX=$l.ReactCurrentBatchConfig;function Yo(t,e){if(t&&t.defaultProps){e=hi({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}var p1=xu(null),m1=null,Fh=null,XA=null;function YA(){XA=Fh=m1=null}function qA(t){var e=p1.current;Kn(p1),t._currentValue=e}function u2(t,e,n){for(;t!==null;){var i=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,i!==null&&(i.childLanes|=e)):i!==null&&(i.childLanes&e)!==e&&(i.childLanes|=e),t===n)break;t=t.return}}function Zh(t,e){m1=t,XA=Fh=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Rs=!0),t.firstContext=null)}function Fo(t){var e=t._currentValue;if(XA!==t)if(t={context:t,memoizedValue:e,next:null},Fh===null){if(m1===null)throw Error(Ue(308));Fh=t,m1.dependencies={lanes:0,firstContext:t}}else Fh=Fh.next=t;return e}var fd=null;function KA(t){fd===null?fd=[t]:fd.push(t)}function P5(t,e,n,i){var r=e.interleaved;return r===null?(n.next=n,KA(e)):(n.next=r.next,r.next=n),e.interleaved=n,Bl(t,i)}function Bl(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var wc=!1;function QA(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function k5(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Il(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function qc(t,e,n){var i=t.updateQueue;if(i===null)return null;if(i=i.shared,dn&2){var r=i.pending;return r===null?e.next=e:(e.next=r.next,r.next=e),i.pending=e,Bl(t,n)}return r=i.interleaved,r===null?(e.next=e,KA(i)):(e.next=r.next,r.next=e),i.interleaved=e,Bl(t,n)}function _b(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var i=e.lanes;i&=t.pendingLanes,n|=i,e.lanes=n,NA(t,n)}}function wO(t,e){var n=t.updateQueue,i=t.alternate;if(i!==null&&(i=i.updateQueue,n===i)){var r=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?r=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?r=s=e:s=s.next=e}else r=s=e;n={baseState:i.baseState,firstBaseUpdate:r,lastBaseUpdate:s,shared:i.shared,effects:i.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function g1(t,e,n,i){var r=t.updateQueue;wc=!1;var s=r.firstBaseUpdate,o=r.lastBaseUpdate,a=r.shared.pending;if(a!==null){r.shared.pending=null;var l=a,c=l.next;l.next=null,o===null?s=c:o.next=c,o=l;var u=t.alternate;u!==null&&(u=u.updateQueue,a=u.lastBaseUpdate,a!==o&&(a===null?u.firstBaseUpdate=c:a.next=c,u.lastBaseUpdate=l))}if(s!==null){var d=r.baseState;o=0,u=c=l=null,a=s;do{var f=a.lane,m=a.eventTime;if((i&f)===f){u!==null&&(u=u.next={eventTime:m,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var g=t,y=a;switch(f=e,m=n,y.tag){case 1:if(g=y.payload,typeof g=="function"){d=g.call(m,d,f);break e}d=g;break e;case 3:g.flags=g.flags&-65537|128;case 0:if(g=y.payload,f=typeof g=="function"?g.call(m,d,f):g,f==null)break e;d=hi({},d,f);break e;case 2:wc=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,f=r.effects,f===null?r.effects=[a]:f.push(a))}else m={eventTime:m,lane:f,tag:a.tag,payload:a.payload,callback:a.callback,next:null},u===null?(c=u=m,l=d):u=u.next=m,o|=f;if(a=a.next,a===null){if(a=r.shared.pending,a===null)break;f=a,a=f.next,f.next=null,r.lastBaseUpdate=f,r.shared.pending=null}}while(!0);if(u===null&&(l=d),r.baseState=l,r.firstBaseUpdate=c,r.lastBaseUpdate=u,e=r.shared.interleaved,e!==null){r=e;do o|=r.lane,r=r.next;while(r!==e)}else s===null&&(r.shared.lanes=0);Gd|=o,t.lanes=o,t.memoizedState=d}}function MO(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var i=t[e],r=i.callback;if(r!==null){if(i.callback=null,i=n,typeof r!="function")throw Error(Ue(191,r));r.call(i)}}}var I5=new P4.Component().refs;function d2(t,e,n,i){e=t.memoizedState,n=n(i,e),n=n==null?e:hi({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var yS={isMounted:function(t){return(t=t._reactInternals)?lf(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var i=rs(),r=Qc(t),s=Il(i,r);s.payload=e,n!=null&&(s.callback=n),e=qc(t,s,r),e!==null&&(ra(e,t,r,i),_b(e,t,r))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var i=rs(),r=Qc(t),s=Il(i,r);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=qc(t,s,r),e!==null&&(ra(e,t,r,i),_b(e,t,r))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=rs(),i=Qc(t),r=Il(n,i);r.tag=2,e!=null&&(r.callback=e),e=qc(t,r,i),e!==null&&(ra(e,t,i,n),_b(e,t,i))}};function EO(t,e,n,i,r,s,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(i,s,o):e.prototype&&e.prototype.isPureReactComponent?!O0(n,i)||!O0(r,s):!0}function L5(t,e,n){var i=!1,r=su,s=e.contextType;return typeof s=="object"&&s!==null?s=Fo(s):(r=Ps(e)?Vd:Xr.current,i=e.contextTypes,s=(i=i!=null)?Ep(t,r):su),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=yS,t.stateNode=e,e._reactInternals=t,i&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=r,t.__reactInternalMemoizedMaskedChildContext=s),e}function TO(t,e,n,i){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,i),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,i),e.state!==t&&yS.enqueueReplaceState(e,e.state,null)}function f2(t,e,n,i){var r=t.stateNode;r.props=n,r.state=t.memoizedState,r.refs=I5,QA(t);var s=e.contextType;typeof s=="object"&&s!==null?r.context=Fo(s):(s=Ps(e)?Vd:Xr.current,r.context=Ep(t,s)),r.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(d2(t,e,s,n),r.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof r.getSnapshotBeforeUpdate=="function"||typeof r.UNSAFE_componentWillMount!="function"&&typeof r.componentWillMount!="function"||(e=r.state,typeof r.componentWillMount=="function"&&r.componentWillMount(),typeof r.UNSAFE_componentWillMount=="function"&&r.UNSAFE_componentWillMount(),e!==r.state&&yS.enqueueReplaceState(r,r.state,null),g1(t,n,r,i),r.state=t.memoizedState),typeof r.componentDidMount=="function"&&(t.flags|=4194308)}function Bm(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(Ue(309));var i=n.stateNode}if(!i)throw Error(Ue(147,t));var r=i,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var a=r.refs;a===I5&&(a=r.refs={}),o===null?delete a[s]:a[s]=o},e._stringRef=s,e)}if(typeof t!="string")throw Error(Ue(284));if(!n._owner)throw Error(Ue(290,t))}return t}function Dx(t,e){throw t=Object.prototype.toString.call(e),Error(Ue(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function CO(t){var e=t._init;return e(t._payload)}function D5(t){function e(v,_){if(t){var b=v.deletions;b===null?(v.deletions=[_],v.flags|=16):b.push(_)}}function n(v,_){if(!t)return null;for(;_!==null;)e(v,_),_=_.sibling;return null}function i(v,_){for(v=new Map;_!==null;)_.key!==null?v.set(_.key,_):v.set(_.index,_),_=_.sibling;return v}function r(v,_){return v=Zc(v,_),v.index=0,v.sibling=null,v}function s(v,_,b){return v.index=b,t?(b=v.alternate,b!==null?(b=b.index,b<_?(v.flags|=2,_):b):(v.flags|=2,_)):(v.flags|=1048576,_)}function o(v){return t&&v.alternate===null&&(v.flags|=2),v}function a(v,_,b,w){return _===null||_.tag!==6?(_=qE(b,v.mode,w),_.return=v,_):(_=r(_,b),_.return=v,_)}function l(v,_,b,w){var C=b.type;return C===Ah?u(v,_,b.props.children,w,b.key):_!==null&&(_.elementType===C||typeof C=="object"&&C!==null&&C.$$typeof===Sc&&CO(C)===_.type)?(w=r(_,b.props),w.ref=Bm(v,_,b),w.return=v,w):(w=Tb(b.type,b.key,b.props,null,v.mode,w),w.ref=Bm(v,_,b),w.return=v,w)}function c(v,_,b,w){return _===null||_.tag!==4||_.stateNode.containerInfo!==b.containerInfo||_.stateNode.implementation!==b.implementation?(_=KE(b,v.mode,w),_.return=v,_):(_=r(_,b.children||[]),_.return=v,_)}function u(v,_,b,w,C){return _===null||_.tag!==7?(_=Ld(b,v.mode,w,C),_.return=v,_):(_=r(_,b),_.return=v,_)}function d(v,_,b){if(typeof _=="string"&&_!==""||typeof _=="number")return _=qE(""+_,v.mode,b),_.return=v,_;if(typeof _=="object"&&_!==null){switch(_.$$typeof){case wx:return b=Tb(_.type,_.key,_.props,null,v.mode,b),b.ref=Bm(v,null,_),b.return=v,b;case Rh:return _=KE(_,v.mode,b),_.return=v,_;case Sc:var w=_._init;return d(v,w(_._payload),b)}if(kg(_)||Om(_))return _=Ld(_,v.mode,b,null),_.return=v,_;Dx(v,_)}return null}function f(v,_,b,w){var C=_!==null?_.key:null;if(typeof b=="string"&&b!==""||typeof b=="number")return C!==null?null:a(v,_,""+b,w);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case wx:return b.key===C?l(v,_,b,w):null;case Rh:return b.key===C?c(v,_,b,w):null;case Sc:return C=b._init,f(v,_,C(b._payload),w)}if(kg(b)||Om(b))return C!==null?null:u(v,_,b,w,null);Dx(v,b)}return null}function m(v,_,b,w,C){if(typeof w=="string"&&w!==""||typeof w=="number")return v=v.get(b)||null,a(_,v,""+w,C);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case wx:return v=v.get(w.key===null?b:w.key)||null,l(_,v,w,C);case Rh:return v=v.get(w.key===null?b:w.key)||null,c(_,v,w,C);case Sc:var T=w._init;return m(v,_,b,T(w._payload),C)}if(kg(w)||Om(w))return v=v.get(b)||null,u(_,v,w,C,null);Dx(_,w)}return null}function g(v,_,b,w){for(var C=null,T=null,R=_,I=_=0,A=null;R!==null&&I<b.length;I++){R.index>I?(A=R,R=null):A=R.sibling;var L=f(v,R,b[I],w);if(L===null){R===null&&(R=A);break}t&&R&&L.alternate===null&&e(v,R),_=s(L,_,I),T===null?C=L:T.sibling=L,T=L,R=A}if(I===b.length)return n(v,R),ei&&Zu(v,I),C;if(R===null){for(;I<b.length;I++)R=d(v,b[I],w),R!==null&&(_=s(R,_,I),T===null?C=R:T.sibling=R,T=R);return ei&&Zu(v,I),C}for(R=i(v,R);I<b.length;I++)A=m(R,v,I,b[I],w),A!==null&&(t&&A.alternate!==null&&R.delete(A.key===null?I:A.key),_=s(A,_,I),T===null?C=A:T.sibling=A,T=A);return t&&R.forEach(function(O){return e(v,O)}),ei&&Zu(v,I),C}function y(v,_,b,w){var C=Om(b);if(typeof C!="function")throw Error(Ue(150));if(b=C.call(b),b==null)throw Error(Ue(151));for(var T=C=null,R=_,I=_=0,A=null,L=b.next();R!==null&&!L.done;I++,L=b.next()){R.index>I?(A=R,R=null):A=R.sibling;var O=f(v,R,L.value,w);if(O===null){R===null&&(R=A);break}t&&R&&O.alternate===null&&e(v,R),_=s(O,_,I),T===null?C=O:T.sibling=O,T=O,R=A}if(L.done)return n(v,R),ei&&Zu(v,I),C;if(R===null){for(;!L.done;I++,L=b.next())L=d(v,L.value,w),L!==null&&(_=s(L,_,I),T===null?C=L:T.sibling=L,T=L);return ei&&Zu(v,I),C}for(R=i(v,R);!L.done;I++,L=b.next())L=m(R,v,I,L.value,w),L!==null&&(t&&L.alternate!==null&&R.delete(L.key===null?I:L.key),_=s(L,_,I),T===null?C=L:T.sibling=L,T=L);return t&&R.forEach(function(H){return e(v,H)}),ei&&Zu(v,I),C}function x(v,_,b,w){if(typeof b=="object"&&b!==null&&b.type===Ah&&b.key===null&&(b=b.props.children),typeof b=="object"&&b!==null){switch(b.$$typeof){case wx:e:{for(var C=b.key,T=_;T!==null;){if(T.key===C){if(C=b.type,C===Ah){if(T.tag===7){n(v,T.sibling),_=r(T,b.props.children),_.return=v,v=_;break e}}else if(T.elementType===C||typeof C=="object"&&C!==null&&C.$$typeof===Sc&&CO(C)===T.type){n(v,T.sibling),_=r(T,b.props),_.ref=Bm(v,T,b),_.return=v,v=_;break e}n(v,T);break}else e(v,T);T=T.sibling}b.type===Ah?(_=Ld(b.props.children,v.mode,w,b.key),_.return=v,v=_):(w=Tb(b.type,b.key,b.props,null,v.mode,w),w.ref=Bm(v,_,b),w.return=v,v=w)}return o(v);case Rh:e:{for(T=b.key;_!==null;){if(_.key===T)if(_.tag===4&&_.stateNode.containerInfo===b.containerInfo&&_.stateNode.implementation===b.implementation){n(v,_.sibling),_=r(_,b.children||[]),_.return=v,v=_;break e}else{n(v,_);break}else e(v,_);_=_.sibling}_=KE(b,v.mode,w),_.return=v,v=_}return o(v);case Sc:return T=b._init,x(v,_,T(b._payload),w)}if(kg(b))return g(v,_,b,w);if(Om(b))return y(v,_,b,w);Dx(v,b)}return typeof b=="string"&&b!==""||typeof b=="number"?(b=""+b,_!==null&&_.tag===6?(n(v,_.sibling),_=r(_,b),_.return=v,v=_):(n(v,_),_=qE(b,v.mode,w),_.return=v,v=_),o(v)):n(v,_)}return x}var Cp=D5(!0),O5=D5(!1),Gv={},za=xu(Gv),U0=xu(Gv),B0=xu(Gv);function hd(t){if(t===Gv)throw Error(Ue(174));return t}function ZA(t,e){switch(Wn(B0,e),Wn(U0,t),Wn(za,Gv),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:WC(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=WC(e,t)}Kn(za),Wn(za,e)}function Rp(){Kn(za),Kn(U0),Kn(B0)}function N5(t){hd(B0.current);var e=hd(za.current),n=WC(e,t.type);e!==n&&(Wn(U0,t),Wn(za,n))}function JA(t){U0.current===t&&(Kn(za),Kn(U0))}var ai=xu(0);function v1(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var jE=[];function eP(){for(var t=0;t<jE.length;t++)jE[t]._workInProgressVersionPrimary=null;jE.length=0}var bb=$l.ReactCurrentDispatcher,WE=$l.ReactCurrentBatchConfig,Wd=0,fi=null,Yi=null,dr=null,y1=!1,Zg=!1,H0=0,LX=0;function Ir(){throw Error(Ue(321))}function tP(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!aa(t[n],e[n]))return!1;return!0}function nP(t,e,n,i,r,s){if(Wd=s,fi=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,bb.current=t===null||t.memoizedState===null?FX:zX,t=n(i,r),Zg){s=0;do{if(Zg=!1,H0=0,25<=s)throw Error(Ue(301));s+=1,dr=Yi=null,e.updateQueue=null,bb.current=UX,t=n(i,r)}while(Zg)}if(bb.current=x1,e=Yi!==null&&Yi.next!==null,Wd=0,dr=Yi=fi=null,y1=!1,e)throw Error(Ue(300));return t}function iP(){var t=H0!==0;return H0=0,t}function wa(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return dr===null?fi.memoizedState=dr=t:dr=dr.next=t,dr}function zo(){if(Yi===null){var t=fi.alternate;t=t!==null?t.memoizedState:null}else t=Yi.next;var e=dr===null?fi.memoizedState:dr.next;if(e!==null)dr=e,Yi=t;else{if(t===null)throw Error(Ue(310));Yi=t,t={memoizedState:Yi.memoizedState,baseState:Yi.baseState,baseQueue:Yi.baseQueue,queue:Yi.queue,next:null},dr===null?fi.memoizedState=dr=t:dr=dr.next=t}return dr}function V0(t,e){return typeof e=="function"?e(t):e}function GE(t){var e=zo(),n=e.queue;if(n===null)throw Error(Ue(311));n.lastRenderedReducer=t;var i=Yi,r=i.baseQueue,s=n.pending;if(s!==null){if(r!==null){var o=r.next;r.next=s.next,s.next=o}i.baseQueue=r=s,n.pending=null}if(r!==null){s=r.next,i=i.baseState;var a=o=null,l=null,c=s;do{var u=c.lane;if((Wd&u)===u)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),i=c.hasEagerState?c.eagerState:t(i,c.action);else{var d={lane:u,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(a=l=d,o=i):l=l.next=d,fi.lanes|=u,Gd|=u}c=c.next}while(c!==null&&c!==s);l===null?o=i:l.next=a,aa(i,e.memoizedState)||(Rs=!0),e.memoizedState=i,e.baseState=o,e.baseQueue=l,n.lastRenderedState=i}if(t=n.interleaved,t!==null){r=t;do s=r.lane,fi.lanes|=s,Gd|=s,r=r.next;while(r!==t)}else r===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function $E(t){var e=zo(),n=e.queue;if(n===null)throw Error(Ue(311));n.lastRenderedReducer=t;var i=n.dispatch,r=n.pending,s=e.memoizedState;if(r!==null){n.pending=null;var o=r=r.next;do s=t(s,o.action),o=o.next;while(o!==r);aa(s,e.memoizedState)||(Rs=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,i]}function F5(){}function z5(t,e){var n=fi,i=zo(),r=e(),s=!aa(i.memoizedState,r);if(s&&(i.memoizedState=r,Rs=!0),i=i.queue,rP(H5.bind(null,n,i,t),[t]),i.getSnapshot!==e||s||dr!==null&&dr.memoizedState.tag&1){if(n.flags|=2048,j0(9,B5.bind(null,n,i,r,e),void 0,null),hr===null)throw Error(Ue(349));Wd&30||U5(n,e,r)}return r}function U5(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=fi.updateQueue,e===null?(e={lastEffect:null,stores:null},fi.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function B5(t,e,n,i){e.value=n,e.getSnapshot=i,V5(e)&&j5(t)}function H5(t,e,n){return n(function(){V5(e)&&j5(t)})}function V5(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!aa(t,n)}catch{return!0}}function j5(t){var e=Bl(t,1);e!==null&&ra(e,t,1,-1)}function RO(t){var e=wa();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:V0,lastRenderedState:t},e.queue=t,t=t.dispatch=NX.bind(null,fi,t),[e.memoizedState,t]}function j0(t,e,n,i){return t={tag:t,create:e,destroy:n,deps:i,next:null},e=fi.updateQueue,e===null?(e={lastEffect:null,stores:null},fi.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(i=n.next,n.next=t,t.next=i,e.lastEffect=t)),t}function W5(){return zo().memoizedState}function Sb(t,e,n,i){var r=wa();fi.flags|=t,r.memoizedState=j0(1|e,n,void 0,i===void 0?null:i)}function xS(t,e,n,i){var r=zo();i=i===void 0?null:i;var s=void 0;if(Yi!==null){var o=Yi.memoizedState;if(s=o.destroy,i!==null&&tP(i,o.deps)){r.memoizedState=j0(e,n,s,i);return}}fi.flags|=t,r.memoizedState=j0(1|e,n,s,i)}function AO(t,e){return Sb(8390656,8,t,e)}function rP(t,e){return xS(2048,8,t,e)}function G5(t,e){return xS(4,2,t,e)}function $5(t,e){return xS(4,4,t,e)}function X5(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function Y5(t,e,n){return n=n!=null?n.concat([t]):null,xS(4,4,X5.bind(null,e,t),n)}function sP(){}function q5(t,e){var n=zo();e=e===void 0?null:e;var i=n.memoizedState;return i!==null&&e!==null&&tP(e,i[1])?i[0]:(n.memoizedState=[t,e],t)}function K5(t,e){var n=zo();e=e===void 0?null:e;var i=n.memoizedState;return i!==null&&e!==null&&tP(e,i[1])?i[0]:(t=t(),n.memoizedState=[t,e],t)}function Q5(t,e,n){return Wd&21?(aa(n,e)||(n=e5(),fi.lanes|=n,Gd|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Rs=!0),t.memoizedState=n)}function DX(t,e){var n=In;In=n!==0&&4>n?n:4,t(!0);var i=WE.transition;WE.transition={};try{t(!1),e()}finally{In=n,WE.transition=i}}function Z5(){return zo().memoizedState}function OX(t,e,n){var i=Qc(t);if(n={lane:i,action:n,hasEagerState:!1,eagerState:null,next:null},J5(t))eH(e,n);else if(n=P5(t,e,n,i),n!==null){var r=rs();ra(n,t,i,r),tH(n,e,i)}}function NX(t,e,n){var i=Qc(t),r={lane:i,action:n,hasEagerState:!1,eagerState:null,next:null};if(J5(t))eH(e,r);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,a=s(o,n);if(r.hasEagerState=!0,r.eagerState=a,aa(a,o)){var l=e.interleaved;l===null?(r.next=r,KA(e)):(r.next=l.next,l.next=r),e.interleaved=r;return}}catch{}finally{}n=P5(t,e,r,i),n!==null&&(r=rs(),ra(n,t,i,r),tH(n,e,i))}}function J5(t){var e=t.alternate;return t===fi||e!==null&&e===fi}function eH(t,e){Zg=y1=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function tH(t,e,n){if(n&4194240){var i=e.lanes;i&=t.pendingLanes,n|=i,e.lanes=n,NA(t,n)}}var x1={readContext:Fo,useCallback:Ir,useContext:Ir,useEffect:Ir,useImperativeHandle:Ir,useInsertionEffect:Ir,useLayoutEffect:Ir,useMemo:Ir,useReducer:Ir,useRef:Ir,useState:Ir,useDebugValue:Ir,useDeferredValue:Ir,useTransition:Ir,useMutableSource:Ir,useSyncExternalStore:Ir,useId:Ir,unstable_isNewReconciler:!1},FX={readContext:Fo,useCallback:function(t,e){return wa().memoizedState=[t,e===void 0?null:e],t},useContext:Fo,useEffect:AO,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Sb(4194308,4,X5.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Sb(4194308,4,t,e)},useInsertionEffect:function(t,e){return Sb(4,2,t,e)},useMemo:function(t,e){var n=wa();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var i=wa();return e=n!==void 0?n(e):e,i.memoizedState=i.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},i.queue=t,t=t.dispatch=OX.bind(null,fi,t),[i.memoizedState,t]},useRef:function(t){var e=wa();return t={current:t},e.memoizedState=t},useState:RO,useDebugValue:sP,useDeferredValue:function(t){return wa().memoizedState=t},useTransition:function(){var t=RO(!1),e=t[0];return t=DX.bind(null,t[1]),wa().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var i=fi,r=wa();if(ei){if(n===void 0)throw Error(Ue(407));n=n()}else{if(n=e(),hr===null)throw Error(Ue(349));Wd&30||U5(i,e,n)}r.memoizedState=n;var s={value:n,getSnapshot:e};return r.queue=s,AO(H5.bind(null,i,s,t),[t]),i.flags|=2048,j0(9,B5.bind(null,i,s,n,e),void 0,null),n},useId:function(){var t=wa(),e=hr.identifierPrefix;if(ei){var n=Rl,i=Cl;n=(i&~(1<<32-ia(i)-1)).toString(32)+n,e=":"+e+"R"+n,n=H0++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=LX++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},zX={readContext:Fo,useCallback:q5,useContext:Fo,useEffect:rP,useImperativeHandle:Y5,useInsertionEffect:G5,useLayoutEffect:$5,useMemo:K5,useReducer:GE,useRef:W5,useState:function(){return GE(V0)},useDebugValue:sP,useDeferredValue:function(t){var e=zo();return Q5(e,Yi.memoizedState,t)},useTransition:function(){var t=GE(V0)[0],e=zo().memoizedState;return[t,e]},useMutableSource:F5,useSyncExternalStore:z5,useId:Z5,unstable_isNewReconciler:!1},UX={readContext:Fo,useCallback:q5,useContext:Fo,useEffect:rP,useImperativeHandle:Y5,useInsertionEffect:G5,useLayoutEffect:$5,useMemo:K5,useReducer:$E,useRef:W5,useState:function(){return $E(V0)},useDebugValue:sP,useDeferredValue:function(t){var e=zo();return Yi===null?e.memoizedState=t:Q5(e,Yi.memoizedState,t)},useTransition:function(){var t=$E(V0)[0],e=zo().memoizedState;return[t,e]},useMutableSource:F5,useSyncExternalStore:z5,useId:Z5,unstable_isNewReconciler:!1};function Ap(t,e){try{var n="",i=e;do n+=h7(i),i=i.return;while(i);var r=n}catch(s){r=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:r,digest:null}}function XE(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function h2(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var BX=typeof WeakMap=="function"?WeakMap:Map;function nH(t,e,n){n=Il(-1,n),n.tag=3,n.payload={element:null};var i=e.value;return n.callback=function(){b1||(b1=!0,w2=i),h2(t,e)},n}function iH(t,e,n){n=Il(-1,n),n.tag=3;var i=t.type.getDerivedStateFromError;if(typeof i=="function"){var r=e.value;n.payload=function(){return i(r)},n.callback=function(){h2(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){h2(t,e),typeof i!="function"&&(Kc===null?Kc=new Set([this]):Kc.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function PO(t,e,n){var i=t.pingCache;if(i===null){i=t.pingCache=new BX;var r=new Set;i.set(e,r)}else r=i.get(e),r===void 0&&(r=new Set,i.set(e,r));r.has(n)||(r.add(n),t=eY.bind(null,t,e,n),e.then(t,t))}function kO(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function IO(t,e,n,i,r){return t.mode&1?(t.flags|=65536,t.lanes=r,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Il(-1,1),e.tag=2,qc(n,e,1))),n.lanes|=1),t)}var HX=$l.ReactCurrentOwner,Rs=!1;function ts(t,e,n,i){e.child=t===null?O5(e,null,n,i):Cp(e,t.child,n,i)}function LO(t,e,n,i,r){n=n.render;var s=e.ref;return Zh(e,r),i=nP(t,e,n,i,s,r),n=iP(),t!==null&&!Rs?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~r,Hl(t,e,r)):(ei&&n&&WA(e),e.flags|=1,ts(t,e,i,r),e.child)}function DO(t,e,n,i,r){if(t===null){var s=n.type;return typeof s=="function"&&!hP(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,rH(t,e,s,i,r)):(t=Tb(n.type,null,i,e,e.mode,r),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&r)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:O0,n(o,i)&&t.ref===e.ref)return Hl(t,e,r)}return e.flags|=1,t=Zc(s,i),t.ref=e.ref,t.return=e,e.child=t}function rH(t,e,n,i,r){if(t!==null){var s=t.memoizedProps;if(O0(s,i)&&t.ref===e.ref)if(Rs=!1,e.pendingProps=i=s,(t.lanes&r)!==0)t.flags&131072&&(Rs=!0);else return e.lanes=t.lanes,Hl(t,e,r)}return p2(t,e,n,i,r)}function sH(t,e,n){var i=e.pendingProps,r=i.children,s=t!==null?t.memoizedState:null;if(i.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Wn(Uh,Ys),Ys|=n;else{if(!(n&1073741824))return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Wn(Uh,Ys),Ys|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},i=s!==null?s.baseLanes:n,Wn(Uh,Ys),Ys|=i}else s!==null?(i=s.baseLanes|n,e.memoizedState=null):i=n,Wn(Uh,Ys),Ys|=i;return ts(t,e,r,n),e.child}function oH(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function p2(t,e,n,i,r){var s=Ps(n)?Vd:Xr.current;return s=Ep(e,s),Zh(e,r),n=nP(t,e,n,i,s,r),i=iP(),t!==null&&!Rs?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~r,Hl(t,e,r)):(ei&&i&&WA(e),e.flags|=1,ts(t,e,n,r),e.child)}function OO(t,e,n,i,r){if(Ps(n)){var s=!0;d1(e)}else s=!1;if(Zh(e,r),e.stateNode===null)wb(t,e),L5(e,n,i),f2(e,n,i,r),i=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,c=n.contextType;typeof c=="object"&&c!==null?c=Fo(c):(c=Ps(n)?Vd:Xr.current,c=Ep(e,c));var u=n.getDerivedStateFromProps,d=typeof u=="function"||typeof o.getSnapshotBeforeUpdate=="function";d||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==i||l!==c)&&TO(e,o,i,c),wc=!1;var f=e.memoizedState;o.state=f,g1(e,i,o,r),l=e.memoizedState,a!==i||f!==l||As.current||wc?(typeof u=="function"&&(d2(e,n,u,i),l=e.memoizedState),(a=wc||EO(e,n,a,i,f,l,c))?(d||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=i,e.memoizedState=l),o.props=i,o.state=l,o.context=c,i=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),i=!1)}else{o=e.stateNode,k5(t,e),a=e.memoizedProps,c=e.type===e.elementType?a:Yo(e.type,a),o.props=c,d=e.pendingProps,f=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=Fo(l):(l=Ps(n)?Vd:Xr.current,l=Ep(e,l));var m=n.getDerivedStateFromProps;(u=typeof m=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==d||f!==l)&&TO(e,o,i,l),wc=!1,f=e.memoizedState,o.state=f,g1(e,i,o,r);var g=e.memoizedState;a!==d||f!==g||As.current||wc?(typeof m=="function"&&(d2(e,n,m,i),g=e.memoizedState),(c=wc||EO(e,n,c,i,f,g,l)||!1)?(u||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(i,g,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(i,g,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),e.memoizedProps=i,e.memoizedState=g),o.props=i,o.state=g,o.context=l,i=c):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),i=!1)}return m2(t,e,n,i,s,r)}function m2(t,e,n,i,r,s){oH(t,e);var o=(e.flags&128)!==0;if(!i&&!o)return r&&_O(e,n,!1),Hl(t,e,s);i=e.stateNode,HX.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:i.render();return e.flags|=1,t!==null&&o?(e.child=Cp(e,t.child,null,s),e.child=Cp(e,null,a,s)):ts(t,e,a,s),e.memoizedState=i.state,r&&_O(e,n,!0),e.child}function aH(t){var e=t.stateNode;e.pendingContext?xO(t,e.pendingContext,e.pendingContext!==e.context):e.context&&xO(t,e.context,!1),ZA(t,e.containerInfo)}function NO(t,e,n,i,r){return Tp(),$A(r),e.flags|=256,ts(t,e,n,i),e.child}var g2={dehydrated:null,treeContext:null,retryLane:0};function v2(t){return{baseLanes:t,cachePool:null,transitions:null}}function lH(t,e,n){var i=e.pendingProps,r=ai.current,s=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(r&2)!==0),a?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(r|=1),Wn(ai,r&1),t===null)return c2(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=i.children,t=i.fallback,s?(i=e.mode,s=e.child,o={mode:"hidden",children:o},!(i&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=SS(o,i,0,null),t=Ld(t,i,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=v2(n),e.memoizedState=g2,t):oP(e,o));if(r=t.memoizedState,r!==null&&(a=r.dehydrated,a!==null))return VX(t,e,o,i,a,r,n);if(s){s=i.fallback,o=e.mode,r=t.child,a=r.sibling;var l={mode:"hidden",children:i.children};return!(o&1)&&e.child!==r?(i=e.child,i.childLanes=0,i.pendingProps=l,e.deletions=null):(i=Zc(r,l),i.subtreeFlags=r.subtreeFlags&14680064),a!==null?s=Zc(a,s):(s=Ld(s,o,n,null),s.flags|=2),s.return=e,i.return=e,i.sibling=s,e.child=i,i=s,s=e.child,o=t.child.memoizedState,o=o===null?v2(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=t.childLanes&~n,e.memoizedState=g2,i}return s=t.child,t=s.sibling,i=Zc(s,{mode:"visible",children:i.children}),!(e.mode&1)&&(i.lanes=n),i.return=e,i.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=i,e.memoizedState=null,i}function oP(t,e){return e=SS({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Ox(t,e,n,i){return i!==null&&$A(i),Cp(e,t.child,null,n),t=oP(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function VX(t,e,n,i,r,s,o){if(n)return e.flags&256?(e.flags&=-257,i=XE(Error(Ue(422))),Ox(t,e,o,i)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=i.fallback,r=e.mode,i=SS({mode:"visible",children:i.children},r,0,null),s=Ld(s,r,o,null),s.flags|=2,i.return=e,s.return=e,i.sibling=s,e.child=i,e.mode&1&&Cp(e,t.child,null,o),e.child.memoizedState=v2(o),e.memoizedState=g2,s);if(!(e.mode&1))return Ox(t,e,o,null);if(r.data==="$!"){if(i=r.nextSibling&&r.nextSibling.dataset,i)var a=i.dgst;return i=a,s=Error(Ue(419)),i=XE(s,i,void 0),Ox(t,e,o,i)}if(a=(o&t.childLanes)!==0,Rs||a){if(i=hr,i!==null){switch(o&-o){case 4:r=2;break;case 16:r=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:r=32;break;case 536870912:r=268435456;break;default:r=0}r=r&(i.suspendedLanes|o)?0:r,r!==0&&r!==s.retryLane&&(s.retryLane=r,Bl(t,r),ra(i,t,r,-1))}return fP(),i=XE(Error(Ue(421))),Ox(t,e,o,i)}return r.data==="$?"?(e.flags|=128,e.child=t.child,e=tY.bind(null,t),r._reactRetry=e,null):(t=s.treeContext,Js=Yc(r.nextSibling),to=e,ei=!0,Jo=null,t!==null&&(ko[Io++]=Cl,ko[Io++]=Rl,ko[Io++]=jd,Cl=t.id,Rl=t.overflow,jd=e),e=oP(e,i.children),e.flags|=4096,e)}function FO(t,e,n){t.lanes|=e;var i=t.alternate;i!==null&&(i.lanes|=e),u2(t.return,e,n)}function YE(t,e,n,i,r){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:i,tail:n,tailMode:r}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=i,s.tail=n,s.tailMode=r)}function cH(t,e,n){var i=e.pendingProps,r=i.revealOrder,s=i.tail;if(ts(t,e,i.children,n),i=ai.current,i&2)i=i&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&FO(t,n,e);else if(t.tag===19)FO(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}i&=1}if(Wn(ai,i),!(e.mode&1))e.memoizedState=null;else switch(r){case"forwards":for(n=e.child,r=null;n!==null;)t=n.alternate,t!==null&&v1(t)===null&&(r=n),n=n.sibling;n=r,n===null?(r=e.child,e.child=null):(r=n.sibling,n.sibling=null),YE(e,!1,r,n,s);break;case"backwards":for(n=null,r=e.child,e.child=null;r!==null;){if(t=r.alternate,t!==null&&v1(t)===null){e.child=r;break}t=r.sibling,r.sibling=n,n=r,r=t}YE(e,!0,n,null,s);break;case"together":YE(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function wb(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Hl(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Gd|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(Ue(153));if(e.child!==null){for(t=e.child,n=Zc(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Zc(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function jX(t,e,n){switch(e.tag){case 3:aH(e),Tp();break;case 5:N5(e);break;case 1:Ps(e.type)&&d1(e);break;case 4:ZA(e,e.stateNode.containerInfo);break;case 10:var i=e.type._context,r=e.memoizedProps.value;Wn(p1,i._currentValue),i._currentValue=r;break;case 13:if(i=e.memoizedState,i!==null)return i.dehydrated!==null?(Wn(ai,ai.current&1),e.flags|=128,null):n&e.child.childLanes?lH(t,e,n):(Wn(ai,ai.current&1),t=Hl(t,e,n),t!==null?t.sibling:null);Wn(ai,ai.current&1);break;case 19:if(i=(n&e.childLanes)!==0,t.flags&128){if(i)return cH(t,e,n);e.flags|=128}if(r=e.memoizedState,r!==null&&(r.rendering=null,r.tail=null,r.lastEffect=null),Wn(ai,ai.current),i)break;return null;case 22:case 23:return e.lanes=0,sH(t,e,n)}return Hl(t,e,n)}var uH,y2,dH,fH;uH=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};y2=function(){};dH=function(t,e,n,i){var r=t.memoizedProps;if(r!==i){t=e.stateNode,hd(za.current);var s=null;switch(n){case"input":r=BC(t,r),i=BC(t,i),s=[];break;case"select":r=hi({},r,{value:void 0}),i=hi({},i,{value:void 0}),s=[];break;case"textarea":r=jC(t,r),i=jC(t,i),s=[];break;default:typeof r.onClick!="function"&&typeof i.onClick=="function"&&(t.onclick=c1)}GC(n,i);var o;n=null;for(c in r)if(!i.hasOwnProperty(c)&&r.hasOwnProperty(c)&&r[c]!=null)if(c==="style"){var a=r[c];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(R0.hasOwnProperty(c)?s||(s=[]):(s=s||[]).push(c,null));for(c in i){var l=i[c];if(a=r!=null?r[c]:void 0,i.hasOwnProperty(c)&&l!==a&&(l!=null||a!=null))if(c==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(s||(s=[]),s.push(c,n)),n=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(s=s||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(R0.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&Xn("scroll",t),s||a===l||(s=[])):(s=s||[]).push(c,l))}n&&(s=s||[]).push("style",n);var c=s;(e.updateQueue=c)&&(e.flags|=4)}};fH=function(t,e,n,i){n!==i&&(e.flags|=4)};function Hm(t,e){if(!ei)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var i=null;n!==null;)n.alternate!==null&&(i=n),n=n.sibling;i===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:i.sibling=null}}function Lr(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,i=0;if(e)for(var r=t.child;r!==null;)n|=r.lanes|r.childLanes,i|=r.subtreeFlags&14680064,i|=r.flags&14680064,r.return=t,r=r.sibling;else for(r=t.child;r!==null;)n|=r.lanes|r.childLanes,i|=r.subtreeFlags,i|=r.flags,r.return=t,r=r.sibling;return t.subtreeFlags|=i,t.childLanes=n,e}function WX(t,e,n){var i=e.pendingProps;switch(GA(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Lr(e),null;case 1:return Ps(e.type)&&u1(),Lr(e),null;case 3:return i=e.stateNode,Rp(),Kn(As),Kn(Xr),eP(),i.pendingContext&&(i.context=i.pendingContext,i.pendingContext=null),(t===null||t.child===null)&&(Lx(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Jo!==null&&(T2(Jo),Jo=null))),y2(t,e),Lr(e),null;case 5:JA(e);var r=hd(B0.current);if(n=e.type,t!==null&&e.stateNode!=null)dH(t,e,n,i,r),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!i){if(e.stateNode===null)throw Error(Ue(166));return Lr(e),null}if(t=hd(za.current),Lx(e)){i=e.stateNode,n=e.type;var s=e.memoizedProps;switch(i[ka]=e,i[z0]=s,t=(e.mode&1)!==0,n){case"dialog":Xn("cancel",i),Xn("close",i);break;case"iframe":case"object":case"embed":Xn("load",i);break;case"video":case"audio":for(r=0;r<Lg.length;r++)Xn(Lg[r],i);break;case"source":Xn("error",i);break;case"img":case"image":case"link":Xn("error",i),Xn("load",i);break;case"details":Xn("toggle",i);break;case"input":$D(i,s),Xn("invalid",i);break;case"select":i._wrapperState={wasMultiple:!!s.multiple},Xn("invalid",i);break;case"textarea":YD(i,s),Xn("invalid",i)}GC(n,s),r=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?i.textContent!==a&&(s.suppressHydrationWarning!==!0&&Ix(i.textContent,a,t),r=["children",a]):typeof a=="number"&&i.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&Ix(i.textContent,a,t),r=["children",""+a]):R0.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&Xn("scroll",i)}switch(n){case"input":Mx(i),XD(i,s,!0);break;case"textarea":Mx(i),qD(i);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(i.onclick=c1)}i=r,e.updateQueue=i,i!==null&&(e.flags|=4)}else{o=r.nodeType===9?r:r.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=U4(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof i.is=="string"?t=o.createElement(n,{is:i.is}):(t=o.createElement(n),n==="select"&&(o=t,i.multiple?o.multiple=!0:i.size&&(o.size=i.size))):t=o.createElementNS(t,n),t[ka]=e,t[z0]=i,uH(t,e,!1,!1),e.stateNode=t;e:{switch(o=$C(n,i),n){case"dialog":Xn("cancel",t),Xn("close",t),r=i;break;case"iframe":case"object":case"embed":Xn("load",t),r=i;break;case"video":case"audio":for(r=0;r<Lg.length;r++)Xn(Lg[r],t);r=i;break;case"source":Xn("error",t),r=i;break;case"img":case"image":case"link":Xn("error",t),Xn("load",t),r=i;break;case"details":Xn("toggle",t),r=i;break;case"input":$D(t,i),r=BC(t,i),Xn("invalid",t);break;case"option":r=i;break;case"select":t._wrapperState={wasMultiple:!!i.multiple},r=hi({},i,{value:void 0}),Xn("invalid",t);break;case"textarea":YD(t,i),r=jC(t,i),Xn("invalid",t);break;default:r=i}GC(n,r),a=r;for(s in a)if(a.hasOwnProperty(s)){var l=a[s];s==="style"?V4(t,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&B4(t,l)):s==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&A0(t,l):typeof l=="number"&&A0(t,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(R0.hasOwnProperty(s)?l!=null&&s==="onScroll"&&Xn("scroll",t):l!=null&&PA(t,s,l,o))}switch(n){case"input":Mx(t),XD(t,i,!1);break;case"textarea":Mx(t),qD(t);break;case"option":i.value!=null&&t.setAttribute("value",""+ru(i.value));break;case"select":t.multiple=!!i.multiple,s=i.value,s!=null?Yh(t,!!i.multiple,s,!1):i.defaultValue!=null&&Yh(t,!!i.multiple,i.defaultValue,!0);break;default:typeof r.onClick=="function"&&(t.onclick=c1)}switch(n){case"button":case"input":case"select":case"textarea":i=!!i.autoFocus;break e;case"img":i=!0;break e;default:i=!1}}i&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Lr(e),null;case 6:if(t&&e.stateNode!=null)fH(t,e,t.memoizedProps,i);else{if(typeof i!="string"&&e.stateNode===null)throw Error(Ue(166));if(n=hd(B0.current),hd(za.current),Lx(e)){if(i=e.stateNode,n=e.memoizedProps,i[ka]=e,(s=i.nodeValue!==n)&&(t=to,t!==null))switch(t.tag){case 3:Ix(i.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Ix(i.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else i=(n.nodeType===9?n:n.ownerDocument).createTextNode(i),i[ka]=e,e.stateNode=i}return Lr(e),null;case 13:if(Kn(ai),i=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(ei&&Js!==null&&e.mode&1&&!(e.flags&128))A5(),Tp(),e.flags|=98560,s=!1;else if(s=Lx(e),i!==null&&i.dehydrated!==null){if(t===null){if(!s)throw Error(Ue(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(Ue(317));s[ka]=e}else Tp(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Lr(e),s=!1}else Jo!==null&&(T2(Jo),Jo=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(i=i!==null,i!==(t!==null&&t.memoizedState!==null)&&i&&(e.child.flags|=8192,e.mode&1&&(t===null||ai.current&1?Qi===0&&(Qi=3):fP())),e.updateQueue!==null&&(e.flags|=4),Lr(e),null);case 4:return Rp(),y2(t,e),t===null&&N0(e.stateNode.containerInfo),Lr(e),null;case 10:return qA(e.type._context),Lr(e),null;case 17:return Ps(e.type)&&u1(),Lr(e),null;case 19:if(Kn(ai),s=e.memoizedState,s===null)return Lr(e),null;if(i=(e.flags&128)!==0,o=s.rendering,o===null)if(i)Hm(s,!1);else{if(Qi!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=v1(t),o!==null){for(e.flags|=128,Hm(s,!1),i=o.updateQueue,i!==null&&(e.updateQueue=i,e.flags|=4),e.subtreeFlags=0,i=n,n=e.child;n!==null;)s=n,t=i,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,t=o.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Wn(ai,ai.current&1|2),e.child}t=t.sibling}s.tail!==null&&Ai()>Pp&&(e.flags|=128,i=!0,Hm(s,!1),e.lanes=4194304)}else{if(!i)if(t=v1(o),t!==null){if(e.flags|=128,i=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Hm(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!ei)return Lr(e),null}else 2*Ai()-s.renderingStartTime>Pp&&n!==1073741824&&(e.flags|=128,i=!0,Hm(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(n=s.last,n!==null?n.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=Ai(),e.sibling=null,n=ai.current,Wn(ai,i?n&1|2:n&1),e):(Lr(e),null);case 22:case 23:return dP(),i=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==i&&(e.flags|=8192),i&&e.mode&1?Ys&1073741824&&(Lr(e),e.subtreeFlags&6&&(e.flags|=8192)):Lr(e),null;case 24:return null;case 25:return null}throw Error(Ue(156,e.tag))}function GX(t,e){switch(GA(e),e.tag){case 1:return Ps(e.type)&&u1(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Rp(),Kn(As),Kn(Xr),eP(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return JA(e),null;case 13:if(Kn(ai),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(Ue(340));Tp()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Kn(ai),null;case 4:return Rp(),null;case 10:return qA(e.type._context),null;case 22:case 23:return dP(),null;case 24:return null;default:return null}}var Nx=!1,Vr=!1,$X=typeof WeakSet=="function"?WeakSet:Set,mt=null;function zh(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(i){_i(t,e,i)}else n.current=null}function x2(t,e,n){try{n()}catch(i){_i(t,e,i)}}var zO=!1;function XX(t,e){if(n2=o1,t=g5(),jA(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var i=n.getSelection&&n.getSelection();if(i&&i.rangeCount!==0){n=i.anchorNode;var r=i.anchorOffset,s=i.focusNode;i=i.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,c=0,u=0,d=t,f=null;t:for(;;){for(var m;d!==n||r!==0&&d.nodeType!==3||(a=o+r),d!==s||i!==0&&d.nodeType!==3||(l=o+i),d.nodeType===3&&(o+=d.nodeValue.length),(m=d.firstChild)!==null;)f=d,d=m;for(;;){if(d===t)break t;if(f===n&&++c===r&&(a=o),f===s&&++u===i&&(l=o),(m=d.nextSibling)!==null)break;d=f,f=d.parentNode}d=m}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(i2={focusedElem:t,selectionRange:n},o1=!1,mt=e;mt!==null;)if(e=mt,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,mt=t;else for(;mt!==null;){e=mt;try{var g=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(g!==null){var y=g.memoizedProps,x=g.memoizedState,v=e.stateNode,_=v.getSnapshotBeforeUpdate(e.elementType===e.type?y:Yo(e.type,y),x);v.__reactInternalSnapshotBeforeUpdate=_}break;case 3:var b=e.stateNode.containerInfo;b.nodeType===1?b.textContent="":b.nodeType===9&&b.documentElement&&b.removeChild(b.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Ue(163))}}catch(w){_i(e,e.return,w)}if(t=e.sibling,t!==null){t.return=e.return,mt=t;break}mt=e.return}return g=zO,zO=!1,g}function Jg(t,e,n){var i=e.updateQueue;if(i=i!==null?i.lastEffect:null,i!==null){var r=i=i.next;do{if((r.tag&t)===t){var s=r.destroy;r.destroy=void 0,s!==void 0&&x2(e,n,s)}r=r.next}while(r!==i)}}function _S(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var i=n.create;n.destroy=i()}n=n.next}while(n!==e)}}function _2(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function hH(t){var e=t.alternate;e!==null&&(t.alternate=null,hH(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[ka],delete e[z0],delete e[o2],delete e[AX],delete e[PX])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function pH(t){return t.tag===5||t.tag===3||t.tag===4}function UO(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||pH(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function b2(t,e,n){var i=t.tag;if(i===5||i===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=c1));else if(i!==4&&(t=t.child,t!==null))for(b2(t,e,n),t=t.sibling;t!==null;)b2(t,e,n),t=t.sibling}function S2(t,e,n){var i=t.tag;if(i===5||i===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(i!==4&&(t=t.child,t!==null))for(S2(t,e,n),t=t.sibling;t!==null;)S2(t,e,n),t=t.sibling}var br=null,Qo=!1;function rc(t,e,n){for(n=n.child;n!==null;)mH(t,e,n),n=n.sibling}function mH(t,e,n){if(Fa&&typeof Fa.onCommitFiberUnmount=="function")try{Fa.onCommitFiberUnmount(fS,n)}catch{}switch(n.tag){case 5:Vr||zh(n,e);case 6:var i=br,r=Qo;br=null,rc(t,e,n),br=i,Qo=r,br!==null&&(Qo?(t=br,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):br.removeChild(n.stateNode));break;case 18:br!==null&&(Qo?(t=br,n=n.stateNode,t.nodeType===8?HE(t.parentNode,n):t.nodeType===1&&HE(t,n),L0(t)):HE(br,n.stateNode));break;case 4:i=br,r=Qo,br=n.stateNode.containerInfo,Qo=!0,rc(t,e,n),br=i,Qo=r;break;case 0:case 11:case 14:case 15:if(!Vr&&(i=n.updateQueue,i!==null&&(i=i.lastEffect,i!==null))){r=i=i.next;do{var s=r,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&x2(n,e,o),r=r.next}while(r!==i)}rc(t,e,n);break;case 1:if(!Vr&&(zh(n,e),i=n.stateNode,typeof i.componentWillUnmount=="function"))try{i.props=n.memoizedProps,i.state=n.memoizedState,i.componentWillUnmount()}catch(a){_i(n,e,a)}rc(t,e,n);break;case 21:rc(t,e,n);break;case 22:n.mode&1?(Vr=(i=Vr)||n.memoizedState!==null,rc(t,e,n),Vr=i):rc(t,e,n);break;default:rc(t,e,n)}}function BO(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new $X),e.forEach(function(i){var r=nY.bind(null,t,i);n.has(i)||(n.add(i),i.then(r,r))})}}function Wo(t,e){var n=e.deletions;if(n!==null)for(var i=0;i<n.length;i++){var r=n[i];try{var s=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:br=a.stateNode,Qo=!1;break e;case 3:br=a.stateNode.containerInfo,Qo=!0;break e;case 4:br=a.stateNode.containerInfo,Qo=!0;break e}a=a.return}if(br===null)throw Error(Ue(160));mH(s,o,r),br=null,Qo=!1;var l=r.alternate;l!==null&&(l.return=null),r.return=null}catch(c){_i(r,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)gH(e,t),e=e.sibling}function gH(t,e){var n=t.alternate,i=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Wo(e,t),ba(t),i&4){try{Jg(3,t,t.return),_S(3,t)}catch(y){_i(t,t.return,y)}try{Jg(5,t,t.return)}catch(y){_i(t,t.return,y)}}break;case 1:Wo(e,t),ba(t),i&512&&n!==null&&zh(n,n.return);break;case 5:if(Wo(e,t),ba(t),i&512&&n!==null&&zh(n,n.return),t.flags&32){var r=t.stateNode;try{A0(r,"")}catch(y){_i(t,t.return,y)}}if(i&4&&(r=t.stateNode,r!=null)){var s=t.memoizedProps,o=n!==null?n.memoizedProps:s,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&F4(r,s),$C(a,o);var c=$C(a,s);for(o=0;o<l.length;o+=2){var u=l[o],d=l[o+1];u==="style"?V4(r,d):u==="dangerouslySetInnerHTML"?B4(r,d):u==="children"?A0(r,d):PA(r,u,d,c)}switch(a){case"input":HC(r,s);break;case"textarea":z4(r,s);break;case"select":var f=r._wrapperState.wasMultiple;r._wrapperState.wasMultiple=!!s.multiple;var m=s.value;m!=null?Yh(r,!!s.multiple,m,!1):f!==!!s.multiple&&(s.defaultValue!=null?Yh(r,!!s.multiple,s.defaultValue,!0):Yh(r,!!s.multiple,s.multiple?[]:"",!1))}r[z0]=s}catch(y){_i(t,t.return,y)}}break;case 6:if(Wo(e,t),ba(t),i&4){if(t.stateNode===null)throw Error(Ue(162));r=t.stateNode,s=t.memoizedProps;try{r.nodeValue=s}catch(y){_i(t,t.return,y)}}break;case 3:if(Wo(e,t),ba(t),i&4&&n!==null&&n.memoizedState.isDehydrated)try{L0(e.containerInfo)}catch(y){_i(t,t.return,y)}break;case 4:Wo(e,t),ba(t);break;case 13:Wo(e,t),ba(t),r=t.child,r.flags&8192&&(s=r.memoizedState!==null,r.stateNode.isHidden=s,!s||r.alternate!==null&&r.alternate.memoizedState!==null||(cP=Ai())),i&4&&BO(t);break;case 22:if(u=n!==null&&n.memoizedState!==null,t.mode&1?(Vr=(c=Vr)||u,Wo(e,t),Vr=c):Wo(e,t),ba(t),i&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!u&&t.mode&1)for(mt=t,u=t.child;u!==null;){for(d=mt=u;mt!==null;){switch(f=mt,m=f.child,f.tag){case 0:case 11:case 14:case 15:Jg(4,f,f.return);break;case 1:zh(f,f.return);var g=f.stateNode;if(typeof g.componentWillUnmount=="function"){i=f,n=f.return;try{e=i,g.props=e.memoizedProps,g.state=e.memoizedState,g.componentWillUnmount()}catch(y){_i(i,n,y)}}break;case 5:zh(f,f.return);break;case 22:if(f.memoizedState!==null){VO(d);continue}}m!==null?(m.return=f,mt=m):VO(d)}u=u.sibling}e:for(u=null,d=t;;){if(d.tag===5){if(u===null){u=d;try{r=d.stateNode,c?(s=r.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=d.stateNode,l=d.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=H4("display",o))}catch(y){_i(t,t.return,y)}}}else if(d.tag===6){if(u===null)try{d.stateNode.nodeValue=c?"":d.memoizedProps}catch(y){_i(t,t.return,y)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===t)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===t)break e;for(;d.sibling===null;){if(d.return===null||d.return===t)break e;u===d&&(u=null),d=d.return}u===d&&(u=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:Wo(e,t),ba(t),i&4&&BO(t);break;case 21:break;default:Wo(e,t),ba(t)}}function ba(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(pH(n)){var i=n;break e}n=n.return}throw Error(Ue(160))}switch(i.tag){case 5:var r=i.stateNode;i.flags&32&&(A0(r,""),i.flags&=-33);var s=UO(t);S2(t,s,r);break;case 3:case 4:var o=i.stateNode.containerInfo,a=UO(t);b2(t,a,o);break;default:throw Error(Ue(161))}}catch(l){_i(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function YX(t,e,n){mt=t,vH(t)}function vH(t,e,n){for(var i=(t.mode&1)!==0;mt!==null;){var r=mt,s=r.child;if(r.tag===22&&i){var o=r.memoizedState!==null||Nx;if(!o){var a=r.alternate,l=a!==null&&a.memoizedState!==null||Vr;a=Nx;var c=Vr;if(Nx=o,(Vr=l)&&!c)for(mt=r;mt!==null;)o=mt,l=o.child,o.tag===22&&o.memoizedState!==null?jO(r):l!==null?(l.return=o,mt=l):jO(r);for(;s!==null;)mt=s,vH(s),s=s.sibling;mt=r,Nx=a,Vr=c}HO(t)}else r.subtreeFlags&8772&&s!==null?(s.return=r,mt=s):HO(t)}}function HO(t){for(;mt!==null;){var e=mt;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Vr||_S(5,e);break;case 1:var i=e.stateNode;if(e.flags&4&&!Vr)if(n===null)i.componentDidMount();else{var r=e.elementType===e.type?n.memoizedProps:Yo(e.type,n.memoizedProps);i.componentDidUpdate(r,n.memoizedState,i.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&MO(e,s,i);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}MO(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var u=c.memoizedState;if(u!==null){var d=u.dehydrated;d!==null&&L0(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Ue(163))}Vr||e.flags&512&&_2(e)}catch(f){_i(e,e.return,f)}}if(e===t){mt=null;break}if(n=e.sibling,n!==null){n.return=e.return,mt=n;break}mt=e.return}}function VO(t){for(;mt!==null;){var e=mt;if(e===t){mt=null;break}var n=e.sibling;if(n!==null){n.return=e.return,mt=n;break}mt=e.return}}function jO(t){for(;mt!==null;){var e=mt;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{_S(4,e)}catch(l){_i(e,n,l)}break;case 1:var i=e.stateNode;if(typeof i.componentDidMount=="function"){var r=e.return;try{i.componentDidMount()}catch(l){_i(e,r,l)}}var s=e.return;try{_2(e)}catch(l){_i(e,s,l)}break;case 5:var o=e.return;try{_2(e)}catch(l){_i(e,o,l)}}}catch(l){_i(e,e.return,l)}if(e===t){mt=null;break}var a=e.sibling;if(a!==null){a.return=e.return,mt=a;break}mt=e.return}}var qX=Math.ceil,_1=$l.ReactCurrentDispatcher,aP=$l.ReactCurrentOwner,Oo=$l.ReactCurrentBatchConfig,dn=0,hr=null,Ui=null,Mr=0,Ys=0,Uh=xu(0),Qi=0,W0=null,Gd=0,bS=0,lP=0,e0=null,Ss=null,cP=0,Pp=1/0,vl=null,b1=!1,w2=null,Kc=null,Fx=!1,Bc=null,S1=0,t0=0,M2=null,Mb=-1,Eb=0;function rs(){return dn&6?Ai():Mb!==-1?Mb:Mb=Ai()}function Qc(t){return t.mode&1?dn&2&&Mr!==0?Mr&-Mr:IX.transition!==null?(Eb===0&&(Eb=e5()),Eb):(t=In,t!==0||(t=window.event,t=t===void 0?16:a5(t.type)),t):1}function ra(t,e,n,i){if(50<t0)throw t0=0,M2=null,Error(Ue(185));Vv(t,n,i),(!(dn&2)||t!==hr)&&(t===hr&&(!(dn&2)&&(bS|=n),Qi===4&&Tc(t,Mr)),ks(t,i),n===1&&dn===0&&!(e.mode&1)&&(Pp=Ai()+500,vS&&_u()))}function ks(t,e){var n=t.callbackNode;I7(t,e);var i=s1(t,t===hr?Mr:0);if(i===0)n!==null&&ZD(n),t.callbackNode=null,t.callbackPriority=0;else if(e=i&-i,t.callbackPriority!==e){if(n!=null&&ZD(n),e===1)t.tag===0?kX(WO.bind(null,t)):T5(WO.bind(null,t)),CX(function(){!(dn&6)&&_u()}),n=null;else{switch(t5(i)){case 1:n=OA;break;case 4:n=Z4;break;case 16:n=r1;break;case 536870912:n=J4;break;default:n=r1}n=EH(n,yH.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function yH(t,e){if(Mb=-1,Eb=0,dn&6)throw Error(Ue(327));var n=t.callbackNode;if(Jh()&&t.callbackNode!==n)return null;var i=s1(t,t===hr?Mr:0);if(i===0)return null;if(i&30||i&t.expiredLanes||e)e=w1(t,i);else{e=i;var r=dn;dn|=2;var s=_H();(hr!==t||Mr!==e)&&(vl=null,Pp=Ai()+500,Id(t,e));do try{ZX();break}catch(a){xH(t,a)}while(!0);YA(),_1.current=s,dn=r,Ui!==null?e=0:(hr=null,Mr=0,e=Qi)}if(e!==0){if(e===2&&(r=QC(t),r!==0&&(i=r,e=E2(t,r))),e===1)throw n=W0,Id(t,0),Tc(t,i),ks(t,Ai()),n;if(e===6)Tc(t,i);else{if(r=t.current.alternate,!(i&30)&&!KX(r)&&(e=w1(t,i),e===2&&(s=QC(t),s!==0&&(i=s,e=E2(t,s))),e===1))throw n=W0,Id(t,0),Tc(t,i),ks(t,Ai()),n;switch(t.finishedWork=r,t.finishedLanes=i,e){case 0:case 1:throw Error(Ue(345));case 2:Ju(t,Ss,vl);break;case 3:if(Tc(t,i),(i&130023424)===i&&(e=cP+500-Ai(),10<e)){if(s1(t,0)!==0)break;if(r=t.suspendedLanes,(r&i)!==i){rs(),t.pingedLanes|=t.suspendedLanes&r;break}t.timeoutHandle=s2(Ju.bind(null,t,Ss,vl),e);break}Ju(t,Ss,vl);break;case 4:if(Tc(t,i),(i&4194240)===i)break;for(e=t.eventTimes,r=-1;0<i;){var o=31-ia(i);s=1<<o,o=e[o],o>r&&(r=o),i&=~s}if(i=r,i=Ai()-i,i=(120>i?120:480>i?480:1080>i?1080:1920>i?1920:3e3>i?3e3:4320>i?4320:1960*qX(i/1960))-i,10<i){t.timeoutHandle=s2(Ju.bind(null,t,Ss,vl),i);break}Ju(t,Ss,vl);break;case 5:Ju(t,Ss,vl);break;default:throw Error(Ue(329))}}}return ks(t,Ai()),t.callbackNode===n?yH.bind(null,t):null}function E2(t,e){var n=e0;return t.current.memoizedState.isDehydrated&&(Id(t,e).flags|=256),t=w1(t,e),t!==2&&(e=Ss,Ss=n,e!==null&&T2(e)),t}function T2(t){Ss===null?Ss=t:Ss.push.apply(Ss,t)}function KX(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var i=0;i<n.length;i++){var r=n[i],s=r.getSnapshot;r=r.value;try{if(!aa(s(),r))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Tc(t,e){for(e&=~lP,e&=~bS,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-ia(e),i=1<<n;t[n]=-1,e&=~i}}function WO(t){if(dn&6)throw Error(Ue(327));Jh();var e=s1(t,0);if(!(e&1))return ks(t,Ai()),null;var n=w1(t,e);if(t.tag!==0&&n===2){var i=QC(t);i!==0&&(e=i,n=E2(t,i))}if(n===1)throw n=W0,Id(t,0),Tc(t,e),ks(t,Ai()),n;if(n===6)throw Error(Ue(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Ju(t,Ss,vl),ks(t,Ai()),null}function uP(t,e){var n=dn;dn|=1;try{return t(e)}finally{dn=n,dn===0&&(Pp=Ai()+500,vS&&_u())}}function $d(t){Bc!==null&&Bc.tag===0&&!(dn&6)&&Jh();var e=dn;dn|=1;var n=Oo.transition,i=In;try{if(Oo.transition=null,In=1,t)return t()}finally{In=i,Oo.transition=n,dn=e,!(dn&6)&&_u()}}function dP(){Ys=Uh.current,Kn(Uh)}function Id(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,TX(n)),Ui!==null)for(n=Ui.return;n!==null;){var i=n;switch(GA(i),i.tag){case 1:i=i.type.childContextTypes,i!=null&&u1();break;case 3:Rp(),Kn(As),Kn(Xr),eP();break;case 5:JA(i);break;case 4:Rp();break;case 13:Kn(ai);break;case 19:Kn(ai);break;case 10:qA(i.type._context);break;case 22:case 23:dP()}n=n.return}if(hr=t,Ui=t=Zc(t.current,null),Mr=Ys=e,Qi=0,W0=null,lP=bS=Gd=0,Ss=e0=null,fd!==null){for(e=0;e<fd.length;e++)if(n=fd[e],i=n.interleaved,i!==null){n.interleaved=null;var r=i.next,s=n.pending;if(s!==null){var o=s.next;s.next=r,i.next=o}n.pending=i}fd=null}return t}function xH(t,e){do{var n=Ui;try{if(YA(),bb.current=x1,y1){for(var i=fi.memoizedState;i!==null;){var r=i.queue;r!==null&&(r.pending=null),i=i.next}y1=!1}if(Wd=0,dr=Yi=fi=null,Zg=!1,H0=0,aP.current=null,n===null||n.return===null){Qi=1,W0=e,Ui=null;break}e:{var s=t,o=n.return,a=n,l=e;if(e=Mr,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,u=a,d=u.tag;if(!(u.mode&1)&&(d===0||d===11||d===15)){var f=u.alternate;f?(u.updateQueue=f.updateQueue,u.memoizedState=f.memoizedState,u.lanes=f.lanes):(u.updateQueue=null,u.memoizedState=null)}var m=kO(o);if(m!==null){m.flags&=-257,IO(m,o,a,s,e),m.mode&1&&PO(s,c,e),e=m,l=c;var g=e.updateQueue;if(g===null){var y=new Set;y.add(l),e.updateQueue=y}else g.add(l);break e}else{if(!(e&1)){PO(s,c,e),fP();break e}l=Error(Ue(426))}}else if(ei&&a.mode&1){var x=kO(o);if(x!==null){!(x.flags&65536)&&(x.flags|=256),IO(x,o,a,s,e),$A(Ap(l,a));break e}}s=l=Ap(l,a),Qi!==4&&(Qi=2),e0===null?e0=[s]:e0.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var v=nH(s,l,e);wO(s,v);break e;case 1:a=l;var _=s.type,b=s.stateNode;if(!(s.flags&128)&&(typeof _.getDerivedStateFromError=="function"||b!==null&&typeof b.componentDidCatch=="function"&&(Kc===null||!Kc.has(b)))){s.flags|=65536,e&=-e,s.lanes|=e;var w=iH(s,a,e);wO(s,w);break e}}s=s.return}while(s!==null)}SH(n)}catch(C){e=C,Ui===n&&n!==null&&(Ui=n=n.return);continue}break}while(!0)}function _H(){var t=_1.current;return _1.current=x1,t===null?x1:t}function fP(){(Qi===0||Qi===3||Qi===2)&&(Qi=4),hr===null||!(Gd&268435455)&&!(bS&268435455)||Tc(hr,Mr)}function w1(t,e){var n=dn;dn|=2;var i=_H();(hr!==t||Mr!==e)&&(vl=null,Id(t,e));do try{QX();break}catch(r){xH(t,r)}while(!0);if(YA(),dn=n,_1.current=i,Ui!==null)throw Error(Ue(261));return hr=null,Mr=0,Qi}function QX(){for(;Ui!==null;)bH(Ui)}function ZX(){for(;Ui!==null&&!w7();)bH(Ui)}function bH(t){var e=MH(t.alternate,t,Ys);t.memoizedProps=t.pendingProps,e===null?SH(t):Ui=e,aP.current=null}function SH(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=GX(n,e),n!==null){n.flags&=32767,Ui=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Qi=6,Ui=null;return}}else if(n=WX(n,e,Ys),n!==null){Ui=n;return}if(e=e.sibling,e!==null){Ui=e;return}Ui=e=t}while(e!==null);Qi===0&&(Qi=5)}function Ju(t,e,n){var i=In,r=Oo.transition;try{Oo.transition=null,In=1,JX(t,e,n,i)}finally{Oo.transition=r,In=i}return null}function JX(t,e,n,i){do Jh();while(Bc!==null);if(dn&6)throw Error(Ue(327));n=t.finishedWork;var r=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(Ue(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(L7(t,s),t===hr&&(Ui=hr=null,Mr=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Fx||(Fx=!0,EH(r1,function(){return Jh(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=Oo.transition,Oo.transition=null;var o=In;In=1;var a=dn;dn|=4,aP.current=null,XX(t,n),gH(n,t),xX(i2),o1=!!n2,i2=n2=null,t.current=n,YX(n),M7(),dn=a,In=o,Oo.transition=s}else t.current=n;if(Fx&&(Fx=!1,Bc=t,S1=r),s=t.pendingLanes,s===0&&(Kc=null),C7(n.stateNode),ks(t,Ai()),e!==null)for(i=t.onRecoverableError,n=0;n<e.length;n++)r=e[n],i(r.value,{componentStack:r.stack,digest:r.digest});if(b1)throw b1=!1,t=w2,w2=null,t;return S1&1&&t.tag!==0&&Jh(),s=t.pendingLanes,s&1?t===M2?t0++:(t0=0,M2=t):t0=0,_u(),null}function Jh(){if(Bc!==null){var t=t5(S1),e=Oo.transition,n=In;try{if(Oo.transition=null,In=16>t?16:t,Bc===null)var i=!1;else{if(t=Bc,Bc=null,S1=0,dn&6)throw Error(Ue(331));var r=dn;for(dn|=4,mt=t.current;mt!==null;){var s=mt,o=s.child;if(mt.flags&16){var a=s.deletions;if(a!==null){for(var l=0;l<a.length;l++){var c=a[l];for(mt=c;mt!==null;){var u=mt;switch(u.tag){case 0:case 11:case 15:Jg(8,u,s)}var d=u.child;if(d!==null)d.return=u,mt=d;else for(;mt!==null;){u=mt;var f=u.sibling,m=u.return;if(hH(u),u===c){mt=null;break}if(f!==null){f.return=m,mt=f;break}mt=m}}}var g=s.alternate;if(g!==null){var y=g.child;if(y!==null){g.child=null;do{var x=y.sibling;y.sibling=null,y=x}while(y!==null)}}mt=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,mt=o;else e:for(;mt!==null;){if(s=mt,s.flags&2048)switch(s.tag){case 0:case 11:case 15:Jg(9,s,s.return)}var v=s.sibling;if(v!==null){v.return=s.return,mt=v;break e}mt=s.return}}var _=t.current;for(mt=_;mt!==null;){o=mt;var b=o.child;if(o.subtreeFlags&2064&&b!==null)b.return=o,mt=b;else e:for(o=_;mt!==null;){if(a=mt,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:_S(9,a)}}catch(C){_i(a,a.return,C)}if(a===o){mt=null;break e}var w=a.sibling;if(w!==null){w.return=a.return,mt=w;break e}mt=a.return}}if(dn=r,_u(),Fa&&typeof Fa.onPostCommitFiberRoot=="function")try{Fa.onPostCommitFiberRoot(fS,t)}catch{}i=!0}return i}finally{In=n,Oo.transition=e}}return!1}function GO(t,e,n){e=Ap(n,e),e=nH(t,e,1),t=qc(t,e,1),e=rs(),t!==null&&(Vv(t,1,e),ks(t,e))}function _i(t,e,n){if(t.tag===3)GO(t,t,n);else for(;e!==null;){if(e.tag===3){GO(e,t,n);break}else if(e.tag===1){var i=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof i.componentDidCatch=="function"&&(Kc===null||!Kc.has(i))){t=Ap(n,t),t=iH(e,t,1),e=qc(e,t,1),t=rs(),e!==null&&(Vv(e,1,t),ks(e,t));break}}e=e.return}}function eY(t,e,n){var i=t.pingCache;i!==null&&i.delete(e),e=rs(),t.pingedLanes|=t.suspendedLanes&n,hr===t&&(Mr&n)===n&&(Qi===4||Qi===3&&(Mr&130023424)===Mr&&500>Ai()-cP?Id(t,0):lP|=n),ks(t,e)}function wH(t,e){e===0&&(t.mode&1?(e=Cx,Cx<<=1,!(Cx&130023424)&&(Cx=4194304)):e=1);var n=rs();t=Bl(t,e),t!==null&&(Vv(t,e,n),ks(t,n))}function tY(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),wH(t,n)}function nY(t,e){var n=0;switch(t.tag){case 13:var i=t.stateNode,r=t.memoizedState;r!==null&&(n=r.retryLane);break;case 19:i=t.stateNode;break;default:throw Error(Ue(314))}i!==null&&i.delete(e),wH(t,n)}var MH;MH=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||As.current)Rs=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return Rs=!1,jX(t,e,n);Rs=!!(t.flags&131072)}else Rs=!1,ei&&e.flags&1048576&&C5(e,h1,e.index);switch(e.lanes=0,e.tag){case 2:var i=e.type;wb(t,e),t=e.pendingProps;var r=Ep(e,Xr.current);Zh(e,n),r=nP(null,e,i,t,r,n);var s=iP();return e.flags|=1,typeof r=="object"&&r!==null&&typeof r.render=="function"&&r.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Ps(i)?(s=!0,d1(e)):s=!1,e.memoizedState=r.state!==null&&r.state!==void 0?r.state:null,QA(e),r.updater=yS,e.stateNode=r,r._reactInternals=e,f2(e,i,t,n),e=m2(null,e,i,!0,s,n)):(e.tag=0,ei&&s&&WA(e),ts(null,e,r,n),e=e.child),e;case 16:i=e.elementType;e:{switch(wb(t,e),t=e.pendingProps,r=i._init,i=r(i._payload),e.type=i,r=e.tag=rY(i),t=Yo(i,t),r){case 0:e=p2(null,e,i,t,n);break e;case 1:e=OO(null,e,i,t,n);break e;case 11:e=LO(null,e,i,t,n);break e;case 14:e=DO(null,e,i,Yo(i.type,t),n);break e}throw Error(Ue(306,i,""))}return e;case 0:return i=e.type,r=e.pendingProps,r=e.elementType===i?r:Yo(i,r),p2(t,e,i,r,n);case 1:return i=e.type,r=e.pendingProps,r=e.elementType===i?r:Yo(i,r),OO(t,e,i,r,n);case 3:e:{if(aH(e),t===null)throw Error(Ue(387));i=e.pendingProps,s=e.memoizedState,r=s.element,k5(t,e),g1(e,i,null,n);var o=e.memoizedState;if(i=o.element,s.isDehydrated)if(s={element:i,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){r=Ap(Error(Ue(423)),e),e=NO(t,e,i,n,r);break e}else if(i!==r){r=Ap(Error(Ue(424)),e),e=NO(t,e,i,n,r);break e}else for(Js=Yc(e.stateNode.containerInfo.firstChild),to=e,ei=!0,Jo=null,n=O5(e,null,i,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Tp(),i===r){e=Hl(t,e,n);break e}ts(t,e,i,n)}e=e.child}return e;case 5:return N5(e),t===null&&c2(e),i=e.type,r=e.pendingProps,s=t!==null?t.memoizedProps:null,o=r.children,r2(i,r)?o=null:s!==null&&r2(i,s)&&(e.flags|=32),oH(t,e),ts(t,e,o,n),e.child;case 6:return t===null&&c2(e),null;case 13:return lH(t,e,n);case 4:return ZA(e,e.stateNode.containerInfo),i=e.pendingProps,t===null?e.child=Cp(e,null,i,n):ts(t,e,i,n),e.child;case 11:return i=e.type,r=e.pendingProps,r=e.elementType===i?r:Yo(i,r),LO(t,e,i,r,n);case 7:return ts(t,e,e.pendingProps,n),e.child;case 8:return ts(t,e,e.pendingProps.children,n),e.child;case 12:return ts(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(i=e.type._context,r=e.pendingProps,s=e.memoizedProps,o=r.value,Wn(p1,i._currentValue),i._currentValue=o,s!==null)if(aa(s.value,o)){if(s.children===r.children&&!As.current){e=Hl(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var l=a.firstContext;l!==null;){if(l.context===i){if(s.tag===1){l=Il(-1,n&-n),l.tag=2;var c=s.updateQueue;if(c!==null){c=c.shared;var u=c.pending;u===null?l.next=l:(l.next=u.next,u.next=l),c.pending=l}}s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),u2(s.return,n,e),a.lanes|=n;break}l=l.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(Ue(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),u2(o,n,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}ts(t,e,r.children,n),e=e.child}return e;case 9:return r=e.type,i=e.pendingProps.children,Zh(e,n),r=Fo(r),i=i(r),e.flags|=1,ts(t,e,i,n),e.child;case 14:return i=e.type,r=Yo(i,e.pendingProps),r=Yo(i.type,r),DO(t,e,i,r,n);case 15:return rH(t,e,e.type,e.pendingProps,n);case 17:return i=e.type,r=e.pendingProps,r=e.elementType===i?r:Yo(i,r),wb(t,e),e.tag=1,Ps(i)?(t=!0,d1(e)):t=!1,Zh(e,n),L5(e,i,r),f2(e,i,r,n),m2(null,e,i,!0,t,n);case 19:return cH(t,e,n);case 22:return sH(t,e,n)}throw Error(Ue(156,e.tag))};function EH(t,e){return Q4(t,e)}function iY(t,e,n,i){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=i,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Do(t,e,n,i){return new iY(t,e,n,i)}function hP(t){return t=t.prototype,!(!t||!t.isReactComponent)}function rY(t){if(typeof t=="function")return hP(t)?1:0;if(t!=null){if(t=t.$$typeof,t===IA)return 11;if(t===LA)return 14}return 2}function Zc(t,e){var n=t.alternate;return n===null?(n=Do(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Tb(t,e,n,i,r,s){var o=2;if(i=t,typeof t=="function")hP(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case Ah:return Ld(n.children,r,s,e);case kA:o=8,r|=8;break;case NC:return t=Do(12,n,e,r|2),t.elementType=NC,t.lanes=s,t;case FC:return t=Do(13,n,e,r),t.elementType=FC,t.lanes=s,t;case zC:return t=Do(19,n,e,r),t.elementType=zC,t.lanes=s,t;case D4:return SS(n,r,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case I4:o=10;break e;case L4:o=9;break e;case IA:o=11;break e;case LA:o=14;break e;case Sc:o=16,i=null;break e}throw Error(Ue(130,t==null?t:typeof t,""))}return e=Do(o,n,e,r),e.elementType=t,e.type=i,e.lanes=s,e}function Ld(t,e,n,i){return t=Do(7,t,i,e),t.lanes=n,t}function SS(t,e,n,i){return t=Do(22,t,i,e),t.elementType=D4,t.lanes=n,t.stateNode={isHidden:!1},t}function qE(t,e,n){return t=Do(6,t,null,e),t.lanes=n,t}function KE(t,e,n){return e=Do(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function sY(t,e,n,i,r){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=PE(0),this.expirationTimes=PE(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=PE(0),this.identifierPrefix=i,this.onRecoverableError=r,this.mutableSourceEagerHydrationData=null}function pP(t,e,n,i,r,s,o,a,l){return t=new sY(t,e,n,a,l),e===1?(e=1,s===!0&&(e|=8)):e=0,s=Do(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:i,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},QA(s),t}function oY(t,e,n){var i=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Rh,key:i==null?null:""+i,children:t,containerInfo:e,implementation:n}}function TH(t){if(!t)return su;t=t._reactInternals;e:{if(lf(t)!==t||t.tag!==1)throw Error(Ue(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Ps(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(Ue(171))}if(t.tag===1){var n=t.type;if(Ps(n))return E5(t,n,e)}return e}function CH(t,e,n,i,r,s,o,a,l){return t=pP(n,i,!0,t,r,s,o,a,l),t.context=TH(null),n=t.current,i=rs(),r=Qc(n),s=Il(i,r),s.callback=e??null,qc(n,s,r),t.current.lanes=r,Vv(t,r,i),ks(t,i),t}function wS(t,e,n,i){var r=e.current,s=rs(),o=Qc(r);return n=TH(n),e.context===null?e.context=n:e.pendingContext=n,e=Il(s,o),e.payload={element:t},i=i===void 0?null:i,i!==null&&(e.callback=i),t=qc(r,e,o),t!==null&&(ra(t,r,o,s),_b(t,r,o)),o}function M1(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function $O(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function mP(t,e){$O(t,e),(t=t.alternate)&&$O(t,e)}function aY(){return null}var RH=typeof reportError=="function"?reportError:function(t){console.error(t)};function gP(t){this._internalRoot=t}MS.prototype.render=gP.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(Ue(409));wS(t,e,null,null)};MS.prototype.unmount=gP.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;$d(function(){wS(null,t,null,null)}),e[Ul]=null}};function MS(t){this._internalRoot=t}MS.prototype.unstable_scheduleHydration=function(t){if(t){var e=r5();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Ec.length&&e!==0&&e<Ec[n].priority;n++);Ec.splice(n,0,t),n===0&&o5(t)}};function vP(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function ES(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function XO(){}function lY(t,e,n,i,r){if(r){if(typeof i=="function"){var s=i;i=function(){var c=M1(o);s.call(c)}}var o=CH(e,i,t,0,null,!1,!1,"",XO);return t._reactRootContainer=o,t[Ul]=o.current,N0(t.nodeType===8?t.parentNode:t),$d(),o}for(;r=t.lastChild;)t.removeChild(r);if(typeof i=="function"){var a=i;i=function(){var c=M1(l);a.call(c)}}var l=pP(t,0,!1,null,null,!1,!1,"",XO);return t._reactRootContainer=l,t[Ul]=l.current,N0(t.nodeType===8?t.parentNode:t),$d(function(){wS(e,l,n,i)}),l}function TS(t,e,n,i,r){var s=n._reactRootContainer;if(s){var o=s;if(typeof r=="function"){var a=r;r=function(){var l=M1(o);a.call(l)}}wS(e,o,t,r)}else o=lY(n,e,t,r,i);return M1(o)}n5=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Ig(e.pendingLanes);n!==0&&(NA(e,n|1),ks(e,Ai()),!(dn&6)&&(Pp=Ai()+500,_u()))}break;case 13:$d(function(){var i=Bl(t,1);if(i!==null){var r=rs();ra(i,t,1,r)}}),mP(t,1)}};FA=function(t){if(t.tag===13){var e=Bl(t,134217728);if(e!==null){var n=rs();ra(e,t,134217728,n)}mP(t,134217728)}};i5=function(t){if(t.tag===13){var e=Qc(t),n=Bl(t,e);if(n!==null){var i=rs();ra(n,t,e,i)}mP(t,e)}};r5=function(){return In};s5=function(t,e){var n=In;try{return In=t,e()}finally{In=n}};YC=function(t,e,n){switch(e){case"input":if(HC(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var i=n[e];if(i!==t&&i.form===t.form){var r=gS(i);if(!r)throw Error(Ue(90));N4(i),HC(i,r)}}}break;case"textarea":z4(t,n);break;case"select":e=n.value,e!=null&&Yh(t,!!n.multiple,e,!1)}};G4=uP;$4=$d;var cY={usingClientEntryPoint:!1,Events:[Wv,Lh,gS,j4,W4,uP]},Vm={findFiberByHostInstance:dd,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},uY={bundleType:Vm.bundleType,version:Vm.version,rendererPackageName:Vm.rendererPackageName,rendererConfig:Vm.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:$l.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=q4(t),t===null?null:t.stateNode},findFiberByHostInstance:Vm.findFiberByHostInstance||aY,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var zx=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!zx.isDisabled&&zx.supportsFiber)try{fS=zx.inject(uY),Fa=zx}catch{}}so.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=cY;so.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!vP(e))throw Error(Ue(200));return oY(t,e,null,n)};so.createRoot=function(t,e){if(!vP(t))throw Error(Ue(299));var n=!1,i="",r=RH;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(i=e.identifierPrefix),e.onRecoverableError!==void 0&&(r=e.onRecoverableError)),e=pP(t,1,!1,null,null,n,!1,i,r),t[Ul]=e.current,N0(t.nodeType===8?t.parentNode:t),new gP(e)};so.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(Ue(188)):(t=Object.keys(t).join(","),Error(Ue(268,t)));return t=q4(e),t=t===null?null:t.stateNode,t};so.flushSync=function(t){return $d(t)};so.hydrate=function(t,e,n){if(!ES(e))throw Error(Ue(200));return TS(null,t,e,!0,n)};so.hydrateRoot=function(t,e,n){if(!vP(t))throw Error(Ue(405));var i=n!=null&&n.hydratedSources||null,r=!1,s="",o=RH;if(n!=null&&(n.unstable_strictMode===!0&&(r=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=CH(e,null,t,1,n??null,r,!1,s,o),t[Ul]=e.current,N0(t),i)for(t=0;t<i.length;t++)n=i[t],r=n._getVersion,r=r(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,r]:e.mutableSourceEagerHydrationData.push(n,r);return new MS(e)};so.render=function(t,e,n){if(!ES(e))throw Error(Ue(200));return TS(null,t,e,!1,n)};so.unmountComponentAtNode=function(t){if(!ES(t))throw Error(Ue(40));return t._reactRootContainer?($d(function(){TS(null,null,t,!1,function(){t._reactRootContainer=null,t[Ul]=null})}),!0):!1};so.unstable_batchedUpdates=uP;so.unstable_renderSubtreeIntoContainer=function(t,e,n,i){if(!ES(n))throw Error(Ue(200));if(t==null||t._reactInternals===void 0)throw Error(Ue(38));return TS(t,e,n,!1,i)};so.version="18.2.0-next-9e3b772b8-20220608";function AH(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(AH)}catch(t){console.error(t)}}AH(),C4.exports=so;var em=C4.exports;const Dg=Bv(em),dY=g4({__proto__:null,default:Dg},[em]);var YO=em;DC.createRoot=YO.createRoot,DC.hydrateRoot=YO.hydrateRoot;var tm=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},kp=typeof window>"u"||"Deno"in window;function Co(){}function fY(t,e){return typeof t=="function"?t(e):t}function C2(t){return typeof t=="number"&&t>=0&&t!==1/0}function PH(t,e){return Math.max(t+(e||0)-Date.now(),0)}function qO(t,e){const{type:n="all",exact:i,fetchStatus:r,predicate:s,queryKey:o,stale:a}=t;if(o){if(i){if(e.queryHash!==yP(o,e.options))return!1}else if(!G0(e.queryKey,o))return!1}if(n!=="all"){const l=e.isActive();if(n==="active"&&!l||n==="inactive"&&l)return!1}return!(typeof a=="boolean"&&e.isStale()!==a||typeof r<"u"&&r!==e.state.fetchStatus||s&&!s(e))}function KO(t,e){const{exact:n,status:i,predicate:r,mutationKey:s}=t;if(s){if(!e.options.mutationKey)return!1;if(n){if(Xd(e.options.mutationKey)!==Xd(s))return!1}else if(!G0(e.options.mutationKey,s))return!1}return!(i&&e.state.status!==i||r&&!r(e))}function yP(t,e){return((e==null?void 0:e.queryKeyHashFn)||Xd)(t)}function Xd(t){return JSON.stringify(t,(e,n)=>R2(n)?Object.keys(n).sort().reduce((i,r)=>(i[r]=n[r],i),{}):n)}function G0(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?!Object.keys(e).some(n=>!G0(t[n],e[n])):!1}function kH(t,e){if(t===e)return t;const n=QO(t)&&QO(e);if(n||R2(t)&&R2(e)){const i=n?t.length:Object.keys(t).length,r=n?e:Object.keys(e),s=r.length,o=n?[]:{};let a=0;for(let l=0;l<s;l++){const c=n?l:r[l];o[c]=kH(t[c],e[c]),o[c]===t[c]&&a++}return i===s&&a===i?t:o}return e}function E1(t,e){if(t&&!e||e&&!t)return!1;for(const n in t)if(t[n]!==e[n])return!1;return!0}function QO(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function R2(t){if(!ZO(t))return!1;const e=t.constructor;if(typeof e>"u")return!0;const n=e.prototype;return!(!ZO(n)||!n.hasOwnProperty("isPrototypeOf"))}function ZO(t){return Object.prototype.toString.call(t)==="[object Object]"}function IH(t){return new Promise(e=>{setTimeout(e,t)})}function JO(t){IH(0).then(t)}function A2(t,e,n){return typeof n.structuralSharing=="function"?n.structuralSharing(t,e):n.structuralSharing!==!1?kH(t,e):e}function hY(t,e,n=0){const i=[...t,e];return n&&i.length>n?i.slice(1):i}function pY(t,e,n=0){const i=[e,...t];return n&&i.length>n?i.slice(0,-1):i}var wd,kc,lp,o4,mY=(o4=class extends tm{constructor(){super();_t(this,wd,void 0);_t(this,kc,void 0);_t(this,lp,void 0);Je(this,lp,e=>{if(!kp&&window.addEventListener){const n=()=>e();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){ie(this,kc)||this.setEventListener(ie(this,lp))}onUnsubscribe(){var e;this.hasListeners()||((e=ie(this,kc))==null||e.call(this),Je(this,kc,void 0))}setEventListener(e){var n;Je(this,lp,e),(n=ie(this,kc))==null||n.call(this),Je(this,kc,e(i=>{typeof i=="boolean"?this.setFocused(i):this.onFocus()}))}setFocused(e){ie(this,wd)!==e&&(Je(this,wd,e),this.onFocus())}onFocus(){this.listeners.forEach(e=>{e()})}isFocused(){var e;return typeof ie(this,wd)=="boolean"?ie(this,wd):((e=globalThis.document)==null?void 0:e.visibilityState)!=="hidden"}},wd=new WeakMap,kc=new WeakMap,lp=new WeakMap,o4),T1=new mY,cp,Ic,up,a4,gY=(a4=class extends tm{constructor(){super();_t(this,cp,!0);_t(this,Ic,void 0);_t(this,up,void 0);Je(this,up,e=>{if(!kp&&window.addEventListener){const n=()=>e(!0),i=()=>e(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",i,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",i)}}})}onSubscribe(){ie(this,Ic)||this.setEventListener(ie(this,up))}onUnsubscribe(){var e;this.hasListeners()||((e=ie(this,Ic))==null||e.call(this),Je(this,Ic,void 0))}setEventListener(e){var n;Je(this,up,e),(n=ie(this,Ic))==null||n.call(this),Je(this,Ic,e(this.setOnline.bind(this)))}setOnline(e){ie(this,cp)!==e&&(Je(this,cp,e),this.listeners.forEach(i=>{i(e)}))}isOnline(){return ie(this,cp)}},cp=new WeakMap,Ic=new WeakMap,up=new WeakMap,a4),C1=new gY;function vY(t){return Math.min(1e3*2**t,3e4)}function CS(t){return(t??"online")==="online"?C1.isOnline():!0}var LH=class{constructor(t){this.revert=t==null?void 0:t.revert,this.silent=t==null?void 0:t.silent}};function QE(t){return t instanceof LH}function DH(t){let e=!1,n=0,i=!1,r,s,o;const a=new Promise((x,v)=>{s=x,o=v}),l=x=>{var v;i||(m(new LH(x)),(v=t.abort)==null||v.call(t))},c=()=>{e=!0},u=()=>{e=!1},d=()=>!T1.isFocused()||t.networkMode!=="always"&&!C1.isOnline(),f=x=>{var v;i||(i=!0,(v=t.onSuccess)==null||v.call(t,x),r==null||r(),s(x))},m=x=>{var v;i||(i=!0,(v=t.onError)==null||v.call(t,x),r==null||r(),o(x))},g=()=>new Promise(x=>{var v;r=_=>{const b=i||!d();return b&&x(_),b},(v=t.onPause)==null||v.call(t)}).then(()=>{var x;r=void 0,i||(x=t.onContinue)==null||x.call(t)}),y=()=>{if(i)return;let x;try{x=t.fn()}catch(v){x=Promise.reject(v)}Promise.resolve(x).then(f).catch(v=>{var T;if(i)return;const _=t.retry??(kp?0:3),b=t.retryDelay??vY,w=typeof b=="function"?b(n,v):b,C=_===!0||typeof _=="number"&&n<_||typeof _=="function"&&_(n,v);if(e||!C){m(v);return}n++,(T=t.onFail)==null||T.call(t,n,v),IH(w).then(()=>{if(d())return g()}).then(()=>{e?m(v):y()})})};return CS(t.networkMode)?y():g().then(y),{promise:a,cancel:l,continue:()=>(r==null?void 0:r())?a:Promise.resolve(),cancelRetry:c,continueRetry:u}}function yY(){let t=[],e=0,n=u=>{u()},i=u=>{u()};const r=u=>{let d;e++;try{d=u()}finally{e--,e||a()}return d},s=u=>{e?t.push(u):JO(()=>{n(u)})},o=u=>(...d)=>{s(()=>{u(...d)})},a=()=>{const u=t;t=[],u.length&&JO(()=>{i(()=>{u.forEach(d=>{n(d)})})})};return{batch:r,batchCalls:o,schedule:s,setNotifyFunction:u=>{n=u},setBatchNotifyFunction:u=>{i=u}}}var Ki=yY(),Md,l4,OH=(l4=class{constructor(){_t(this,Md,void 0)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),C2(this.gcTime)&&Je(this,Md,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(kp?1/0:5*60*1e3))}clearGcTimeout(){ie(this,Md)&&(clearTimeout(ie(this,Md)),Je(this,Md,void 0))}},Md=new WeakMap,l4),dp,fp,Mo,Lc,Eo,ur,Rv,Ed,hp,Cb,Ko,pl,c4,xY=(c4=class extends OH{constructor(e){super();_t(this,hp);_t(this,Ko);_t(this,dp,void 0);_t(this,fp,void 0);_t(this,Mo,void 0);_t(this,Lc,void 0);_t(this,Eo,void 0);_t(this,ur,void 0);_t(this,Rv,void 0);_t(this,Ed,void 0);Je(this,Ed,!1),Je(this,Rv,e.defaultOptions),Gt(this,hp,Cb).call(this,e.options),Je(this,ur,[]),Je(this,Mo,e.cache),this.queryKey=e.queryKey,this.queryHash=e.queryHash,Je(this,dp,e.state||_Y(this.options)),this.state=ie(this,dp),this.scheduleGc()}get meta(){return this.options.meta}optionalRemove(){!ie(this,ur).length&&this.state.fetchStatus==="idle"&&ie(this,Mo).remove(this)}setData(e,n){const i=A2(this.state.data,e,this.options);return Gt(this,Ko,pl).call(this,{data:i,type:"success",dataUpdatedAt:n==null?void 0:n.updatedAt,manual:n==null?void 0:n.manual}),i}setState(e,n){Gt(this,Ko,pl).call(this,{type:"setState",state:e,setStateOptions:n})}cancel(e){var i;const n=ie(this,Lc);return(i=ie(this,Eo))==null||i.cancel(e),n?n.then(Co).catch(Co):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(ie(this,dp))}isActive(){return ie(this,ur).some(e=>e.options.enabled!==!1)}isDisabled(){return this.getObserversCount()>0&&!this.isActive()}isStale(){return this.state.isInvalidated||!this.state.dataUpdatedAt||ie(this,ur).some(e=>e.getCurrentResult().isStale)}isStaleByTime(e=0){return this.state.isInvalidated||!this.state.dataUpdatedAt||!PH(this.state.dataUpdatedAt,e)}onFocus(){var n;const e=ie(this,ur).find(i=>i.shouldFetchOnWindowFocus());e==null||e.refetch({cancelRefetch:!1}),(n=ie(this,Eo))==null||n.continue()}onOnline(){var n;const e=ie(this,ur).find(i=>i.shouldFetchOnReconnect());e==null||e.refetch({cancelRefetch:!1}),(n=ie(this,Eo))==null||n.continue()}addObserver(e){ie(this,ur).includes(e)||(ie(this,ur).push(e),this.clearGcTimeout(),ie(this,Mo).notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){ie(this,ur).includes(e)&&(Je(this,ur,ie(this,ur).filter(n=>n!==e)),ie(this,ur).length||(ie(this,Eo)&&(ie(this,Ed)?ie(this,Eo).cancel({revert:!0}):ie(this,Eo).cancelRetry()),this.scheduleGc()),ie(this,Mo).notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return ie(this,ur).length}invalidate(){this.state.isInvalidated||Gt(this,Ko,pl).call(this,{type:"invalidate"})}fetch(e,n){var c,u,d,f;if(this.state.fetchStatus!=="idle"){if(this.state.dataUpdatedAt&&(n!=null&&n.cancelRefetch))this.cancel({silent:!0});else if(ie(this,Lc))return(c=ie(this,Eo))==null||c.continueRetry(),ie(this,Lc)}if(e&&Gt(this,hp,Cb).call(this,e),!this.options.queryFn){const m=ie(this,ur).find(g=>g.options.queryFn);m&&Gt(this,hp,Cb).call(this,m.options)}const i=new AbortController,r={queryKey:this.queryKey,meta:this.meta},s=m=>{Object.defineProperty(m,"signal",{enumerable:!0,get:()=>(Je(this,Ed,!0),i.signal)})};s(r);const o=()=>this.options.queryFn?(Je(this,Ed,!1),this.options.persister?this.options.persister(this.options.queryFn,r,this):this.options.queryFn(r)):Promise.reject(new Error(`Missing queryFn: '${this.options.queryHash}'`)),a={fetchOptions:n,options:this.options,queryKey:this.queryKey,state:this.state,fetchFn:o};s(a),(u=this.options.behavior)==null||u.onFetch(a,this),Je(this,fp,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((d=a.fetchOptions)==null?void 0:d.meta))&&Gt(this,Ko,pl).call(this,{type:"fetch",meta:(f=a.fetchOptions)==null?void 0:f.meta});const l=m=>{var g,y,x,v;QE(m)&&m.silent||Gt(this,Ko,pl).call(this,{type:"error",error:m}),QE(m)||((y=(g=ie(this,Mo).config).onError)==null||y.call(g,m,this),(v=(x=ie(this,Mo).config).onSettled)==null||v.call(x,this.state.data,m,this)),this.isFetchingOptimistic||this.scheduleGc(),this.isFetchingOptimistic=!1};return Je(this,Eo,DH({fn:a.fetchFn,abort:i.abort.bind(i),onSuccess:m=>{var g,y,x,v;if(typeof m>"u"){l(new Error(`${this.queryHash} data is undefined`));return}this.setData(m),(y=(g=ie(this,Mo).config).onSuccess)==null||y.call(g,m,this),(v=(x=ie(this,Mo).config).onSettled)==null||v.call(x,m,this.state.error,this),this.isFetchingOptimistic||this.scheduleGc(),this.isFetchingOptimistic=!1},onError:l,onFail:(m,g)=>{Gt(this,Ko,pl).call(this,{type:"failed",failureCount:m,error:g})},onPause:()=>{Gt(this,Ko,pl).call(this,{type:"pause"})},onContinue:()=>{Gt(this,Ko,pl).call(this,{type:"continue"})},retry:a.options.retry,retryDelay:a.options.retryDelay,networkMode:a.options.networkMode})),Je(this,Lc,ie(this,Eo).promise),ie(this,Lc)}},dp=new WeakMap,fp=new WeakMap,Mo=new WeakMap,Lc=new WeakMap,Eo=new WeakMap,ur=new WeakMap,Rv=new WeakMap,Ed=new WeakMap,hp=new WeakSet,Cb=function(e){this.options={...ie(this,Rv),...e},this.updateGcTime(this.options.gcTime)},Ko=new WeakSet,pl=function(e){const n=i=>{switch(e.type){case"failed":return{...i,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...i,fetchStatus:"paused"};case"continue":return{...i,fetchStatus:"fetching"};case"fetch":return{...i,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:e.meta??null,fetchStatus:CS(this.options.networkMode)?"fetching":"paused",...!i.dataUpdatedAt&&{error:null,status:"pending"}};case"success":return{...i,data:e.data,dataUpdateCount:i.dataUpdateCount+1,dataUpdatedAt:e.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const r=e.error;return QE(r)&&r.revert&&ie(this,fp)?{...ie(this,fp),fetchStatus:"idle"}:{...i,error:r,errorUpdateCount:i.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:i.fetchFailureCount+1,fetchFailureReason:r,fetchStatus:"idle",status:"error"};case"invalidate":return{...i,isInvalidated:!0};case"setState":return{...i,...e.state}}};this.state=n(this.state),Ki.batch(()=>{ie(this,ur).forEach(i=>{i.onQueryUpdate()}),ie(this,Mo).notify({query:this,type:"updated",action:e})})},c4);function _Y(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,n=typeof e<"u",i=n?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:n?i??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var Ea,u4,bY=(u4=class extends tm{constructor(e={}){super();_t(this,Ea,void 0);this.config=e,Je(this,Ea,new Map)}build(e,n,i){const r=n.queryKey,s=n.queryHash??yP(r,n);let o=this.get(s);return o||(o=new xY({cache:this,queryKey:r,queryHash:s,options:e.defaultQueryOptions(n),state:i,defaultOptions:e.getQueryDefaults(r)}),this.add(o)),o}add(e){ie(this,Ea).has(e.queryHash)||(ie(this,Ea).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const n=ie(this,Ea).get(e.queryHash);n&&(e.destroy(),n===e&&ie(this,Ea).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){Ki.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return ie(this,Ea).get(e)}getAll(){return[...ie(this,Ea).values()]}find(e){const n={exact:!0,...e};return this.getAll().find(i=>qO(n,i))}findAll(e={}){const n=this.getAll();return Object.keys(e).length>0?n.filter(i=>qO(e,i)):n}notify(e){Ki.batch(()=>{this.listeners.forEach(n=>{n(e)})})}onFocus(){Ki.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){Ki.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},Ea=new WeakMap,u4),Ta,Av,$s,pp,Ca,xc,d4,SY=(d4=class extends OH{constructor(e){super();_t(this,Ca);_t(this,Ta,void 0);_t(this,Av,void 0);_t(this,$s,void 0);_t(this,pp,void 0);this.mutationId=e.mutationId,Je(this,Av,e.defaultOptions),Je(this,$s,e.mutationCache),Je(this,Ta,[]),this.state=e.state||NH(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options={...ie(this,Av),...e},this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){ie(this,Ta).includes(e)||(ie(this,Ta).push(e),this.clearGcTimeout(),ie(this,$s).notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){Je(this,Ta,ie(this,Ta).filter(n=>n!==e)),this.scheduleGc(),ie(this,$s).notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){ie(this,Ta).length||(this.state.status==="pending"?this.scheduleGc():ie(this,$s).remove(this))}continue(){var e;return((e=ie(this,pp))==null?void 0:e.continue())??this.execute(this.state.variables)}async execute(e){var r,s,o,a,l,c,u,d,f,m,g,y,x,v,_,b,w,C,T,R;const n=()=>(Je(this,pp,DH({fn:()=>this.options.mutationFn?this.options.mutationFn(e):Promise.reject(new Error("No mutationFn found")),onFail:(I,A)=>{Gt(this,Ca,xc).call(this,{type:"failed",failureCount:I,error:A})},onPause:()=>{Gt(this,Ca,xc).call(this,{type:"pause"})},onContinue:()=>{Gt(this,Ca,xc).call(this,{type:"continue"})},retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode})),ie(this,pp).promise),i=this.state.status==="pending";try{if(!i){Gt(this,Ca,xc).call(this,{type:"pending",variables:e}),await((s=(r=ie(this,$s).config).onMutate)==null?void 0:s.call(r,e,this));const A=await((a=(o=this.options).onMutate)==null?void 0:a.call(o,e));A!==this.state.context&&Gt(this,Ca,xc).call(this,{type:"pending",context:A,variables:e})}const I=await n();return await((c=(l=ie(this,$s).config).onSuccess)==null?void 0:c.call(l,I,e,this.state.context,this)),await((d=(u=this.options).onSuccess)==null?void 0:d.call(u,I,e,this.state.context)),await((m=(f=ie(this,$s).config).onSettled)==null?void 0:m.call(f,I,null,this.state.variables,this.state.context,this)),await((y=(g=this.options).onSettled)==null?void 0:y.call(g,I,null,e,this.state.context)),Gt(this,Ca,xc).call(this,{type:"success",data:I}),I}catch(I){try{throw await((v=(x=ie(this,$s).config).onError)==null?void 0:v.call(x,I,e,this.state.context,this)),await((b=(_=this.options).onError)==null?void 0:b.call(_,I,e,this.state.context)),await((C=(w=ie(this,$s).config).onSettled)==null?void 0:C.call(w,void 0,I,this.state.variables,this.state.context,this)),await((R=(T=this.options).onSettled)==null?void 0:R.call(T,void 0,I,e,this.state.context)),I}finally{Gt(this,Ca,xc).call(this,{type:"error",error:I})}}}},Ta=new WeakMap,Av=new WeakMap,$s=new WeakMap,pp=new WeakMap,Ca=new WeakSet,xc=function(e){const n=i=>{switch(e.type){case"failed":return{...i,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...i,isPaused:!0};case"continue":return{...i,isPaused:!1};case"pending":return{...i,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:!CS(this.options.networkMode),status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...i,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...i,data:void 0,error:e.error,failureCount:i.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}};this.state=n(this.state),Ki.batch(()=>{ie(this,Ta).forEach(i=>{i.onMutationUpdate(e)}),ie(this,$s).notify({mutation:this,type:"updated",action:e})})},d4);function NH(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var To,Pv,Td,f4,wY=(f4=class extends tm{constructor(e={}){super();_t(this,To,void 0);_t(this,Pv,void 0);_t(this,Td,void 0);this.config=e,Je(this,To,[]),Je(this,Pv,0)}build(e,n,i){const r=new SY({mutationCache:this,mutationId:++bx(this,Pv)._,options:e.defaultMutationOptions(n),state:i});return this.add(r),r}add(e){ie(this,To).push(e),this.notify({type:"added",mutation:e})}remove(e){Je(this,To,ie(this,To).filter(n=>n!==e)),this.notify({type:"removed",mutation:e})}clear(){Ki.batch(()=>{ie(this,To).forEach(e=>{this.remove(e)})})}getAll(){return ie(this,To)}find(e){const n={exact:!0,...e};return ie(this,To).find(i=>KO(n,i))}findAll(e={}){return ie(this,To).filter(n=>KO(e,n))}notify(e){Ki.batch(()=>{this.listeners.forEach(n=>{n(e)})})}resumePausedMutations(){return Je(this,Td,(ie(this,Td)??Promise.resolve()).then(()=>{const e=ie(this,To).filter(n=>n.state.isPaused);return Ki.batch(()=>e.reduce((n,i)=>n.then(()=>i.continue().catch(Co)),Promise.resolve()))}).then(()=>{Je(this,Td,void 0)})),ie(this,Td)}},To=new WeakMap,Pv=new WeakMap,Td=new WeakMap,f4);function MY(t){return{onFetch:(e,n)=>{const i=async()=>{var g,y,x,v,_;const r=e.options,s=(x=(y=(g=e.fetchOptions)==null?void 0:g.meta)==null?void 0:y.fetchMore)==null?void 0:x.direction,o=((v=e.state.data)==null?void 0:v.pages)||[],a=((_=e.state.data)==null?void 0:_.pageParams)||[],l={pages:[],pageParams:[]};let c=!1;const u=b=>{Object.defineProperty(b,"signal",{enumerable:!0,get:()=>(e.signal.aborted?c=!0:e.signal.addEventListener("abort",()=>{c=!0}),e.signal)})},d=e.options.queryFn||(()=>Promise.reject(new Error(`Missing queryFn: '${e.options.queryHash}'`))),f=async(b,w,C)=>{if(c)return Promise.reject();if(w==null&&b.pages.length)return Promise.resolve(b);const T={queryKey:e.queryKey,pageParam:w,direction:C?"backward":"forward",meta:e.options.meta};u(T);const R=await d(T),{maxPages:I}=e.options,A=C?pY:hY;return{pages:A(b.pages,R,I),pageParams:A(b.pageParams,w,I)}};let m;if(s&&o.length){const b=s==="backward",w=b?EY:eN,C={pages:o,pageParams:a},T=w(r,C);m=await f(C,T,b)}else{m=await f(l,a[0]??r.initialPageParam);const b=t??o.length;for(let w=1;w<b;w++){const C=eN(r,m);m=await f(m,C)}}return m};e.options.persister?e.fetchFn=()=>{var r,s;return(s=(r=e.options).persister)==null?void 0:s.call(r,i,{queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},n)}:e.fetchFn=i}}}function eN(t,{pages:e,pageParams:n}){const i=e.length-1;return t.getNextPageParam(e[i],e,n[i],n)}function EY(t,{pages:e,pageParams:n}){var i;return(i=t.getPreviousPageParam)==null?void 0:i.call(t,e[0],e,n[0],n)}var Xi,Dc,Oc,mp,gp,Nc,vp,yp,h4,TY=(h4=class{constructor(t={}){_t(this,Xi,void 0);_t(this,Dc,void 0);_t(this,Oc,void 0);_t(this,mp,void 0);_t(this,gp,void 0);_t(this,Nc,void 0);_t(this,vp,void 0);_t(this,yp,void 0);Je(this,Xi,t.queryCache||new bY),Je(this,Dc,t.mutationCache||new wY),Je(this,Oc,t.defaultOptions||{}),Je(this,mp,new Map),Je(this,gp,new Map),Je(this,Nc,0)}mount(){bx(this,Nc)._++,ie(this,Nc)===1&&(Je(this,vp,T1.subscribe(()=>{T1.isFocused()&&(this.resumePausedMutations(),ie(this,Xi).onFocus())})),Je(this,yp,C1.subscribe(()=>{C1.isOnline()&&(this.resumePausedMutations(),ie(this,Xi).onOnline())})))}unmount(){var t,e;bx(this,Nc)._--,ie(this,Nc)===0&&((t=ie(this,vp))==null||t.call(this),Je(this,vp,void 0),(e=ie(this,yp))==null||e.call(this),Je(this,yp,void 0))}isFetching(t){return ie(this,Xi).findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return ie(this,Dc).findAll({...t,status:"pending"}).length}getQueryData(t){var e;return(e=ie(this,Xi).find({queryKey:t}))==null?void 0:e.state.data}ensureQueryData(t){const e=this.getQueryData(t.queryKey);return e!==void 0?Promise.resolve(e):this.fetchQuery(t)}getQueriesData(t){return this.getQueryCache().findAll(t).map(({queryKey:e,state:n})=>{const i=n.data;return[e,i]})}setQueryData(t,e,n){const i=ie(this,Xi).find({queryKey:t}),r=i==null?void 0:i.state.data,s=fY(e,r);if(typeof s>"u")return;const o=this.defaultQueryOptions({queryKey:t});return ie(this,Xi).build(this,o).setData(s,{...n,manual:!0})}setQueriesData(t,e,n){return Ki.batch(()=>this.getQueryCache().findAll(t).map(({queryKey:i})=>[i,this.setQueryData(i,e,n)]))}getQueryState(t){var e;return(e=ie(this,Xi).find({queryKey:t}))==null?void 0:e.state}removeQueries(t){const e=ie(this,Xi);Ki.batch(()=>{e.findAll(t).forEach(n=>{e.remove(n)})})}resetQueries(t,e){const n=ie(this,Xi),i={type:"active",...t};return Ki.batch(()=>(n.findAll(t).forEach(r=>{r.reset()}),this.refetchQueries(i,e)))}cancelQueries(t={},e={}){const n={revert:!0,...e},i=Ki.batch(()=>ie(this,Xi).findAll(t).map(r=>r.cancel(n)));return Promise.all(i).then(Co).catch(Co)}invalidateQueries(t={},e={}){return Ki.batch(()=>{if(ie(this,Xi).findAll(t).forEach(i=>{i.invalidate()}),t.refetchType==="none")return Promise.resolve();const n={...t,type:t.refetchType??t.type??"active"};return this.refetchQueries(n,e)})}refetchQueries(t={},e){const n={...e,cancelRefetch:(e==null?void 0:e.cancelRefetch)??!0},i=Ki.batch(()=>ie(this,Xi).findAll(t).filter(r=>!r.isDisabled()).map(r=>{let s=r.fetch(void 0,n);return n.throwOnError||(s=s.catch(Co)),r.state.fetchStatus==="paused"?Promise.resolve():s}));return Promise.all(i).then(Co)}fetchQuery(t){const e=this.defaultQueryOptions(t);typeof e.retry>"u"&&(e.retry=!1);const n=ie(this,Xi).build(this,e);return n.isStaleByTime(e.staleTime)?n.fetch(e):Promise.resolve(n.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(Co).catch(Co)}fetchInfiniteQuery(t){return t.behavior=MY(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(Co).catch(Co)}resumePausedMutations(){return ie(this,Dc).resumePausedMutations()}getQueryCache(){return ie(this,Xi)}getMutationCache(){return ie(this,Dc)}getDefaultOptions(){return ie(this,Oc)}setDefaultOptions(t){Je(this,Oc,t)}setQueryDefaults(t,e){ie(this,mp).set(Xd(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...ie(this,mp).values()];let n={};return e.forEach(i=>{G0(t,i.queryKey)&&(n={...n,...i.defaultOptions})}),n}setMutationDefaults(t,e){ie(this,gp).set(Xd(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...ie(this,gp).values()];let n={};return e.forEach(i=>{G0(t,i.mutationKey)&&(n={...n,...i.defaultOptions})}),n}defaultQueryOptions(t){if(t!=null&&t._defaulted)return t;const e={...ie(this,Oc).queries,...(t==null?void 0:t.queryKey)&&this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=yP(e.queryKey,e)),typeof e.refetchOnReconnect>"u"&&(e.refetchOnReconnect=e.networkMode!=="always"),typeof e.throwOnError>"u"&&(e.throwOnError=!!e.suspense),typeof e.networkMode>"u"&&e.persister&&(e.networkMode="offlineFirst"),e}defaultMutationOptions(t){return t!=null&&t._defaulted?t:{...ie(this,Oc).mutations,...(t==null?void 0:t.mutationKey)&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){ie(this,Xi).clear(),ie(this,Dc).clear()}},Xi=new WeakMap,Dc=new WeakMap,Oc=new WeakMap,mp=new WeakMap,gp=new WeakMap,Nc=new WeakMap,vp=new WeakMap,yp=new WeakMap,h4),_s,Vn,xp,Ur,Cd,_p,Ra,kv,bp,Sp,Rd,Ad,Fc,Pd,kd,Og,Iv,P2,Lv,k2,Dv,I2,Ov,L2,Nv,D2,Fv,O2,zv,N2,uS,FH,p4,CY=(p4=class extends tm{constructor(e,n){super();_t(this,kd);_t(this,Iv);_t(this,Lv);_t(this,Dv);_t(this,Ov);_t(this,Nv);_t(this,Fv);_t(this,zv);_t(this,uS);_t(this,_s,void 0);_t(this,Vn,void 0);_t(this,xp,void 0);_t(this,Ur,void 0);_t(this,Cd,void 0);_t(this,_p,void 0);_t(this,Ra,void 0);_t(this,kv,void 0);_t(this,bp,void 0);_t(this,Sp,void 0);_t(this,Rd,void 0);_t(this,Ad,void 0);_t(this,Fc,void 0);_t(this,Pd,void 0);Je(this,Vn,void 0),Je(this,xp,void 0),Je(this,Ur,void 0),Je(this,Pd,new Set),Je(this,_s,e),this.options=n,Je(this,Ra,null),this.bindMethods(),this.setOptions(n)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(ie(this,Vn).addObserver(this),tN(ie(this,Vn),this.options)?Gt(this,kd,Og).call(this):this.updateResult(),Gt(this,Ov,L2).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return F2(ie(this,Vn),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return F2(ie(this,Vn),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,Gt(this,Nv,D2).call(this),Gt(this,Fv,O2).call(this),ie(this,Vn).removeObserver(this)}setOptions(e,n){const i=this.options,r=ie(this,Vn);if(this.options=ie(this,_s).defaultQueryOptions(e),E1(i,this.options)||ie(this,_s).getQueryCache().notify({type:"observerOptionsUpdated",query:ie(this,Vn),observer:this}),typeof this.options.enabled<"u"&&typeof this.options.enabled!="boolean")throw new Error("Expected enabled to be a boolean");this.options.queryKey||(this.options.queryKey=i.queryKey),Gt(this,zv,N2).call(this);const s=this.hasListeners();s&&nN(ie(this,Vn),r,this.options,i)&&Gt(this,kd,Og).call(this),this.updateResult(n),s&&(ie(this,Vn)!==r||this.options.enabled!==i.enabled||this.options.staleTime!==i.staleTime)&&Gt(this,Iv,P2).call(this);const o=Gt(this,Lv,k2).call(this);s&&(ie(this,Vn)!==r||this.options.enabled!==i.enabled||o!==ie(this,Fc))&&Gt(this,Dv,I2).call(this,o)}getOptimisticResult(e){const n=ie(this,_s).getQueryCache().build(ie(this,_s),e),i=this.createResult(n,e);return AY(this,i)&&(Je(this,Ur,i),Je(this,_p,this.options),Je(this,Cd,ie(this,Vn).state)),i}getCurrentResult(){return ie(this,Ur)}trackResult(e){const n={};return Object.keys(e).forEach(i=>{Object.defineProperty(n,i,{configurable:!1,enumerable:!0,get:()=>(ie(this,Pd).add(i),e[i])})}),n}getCurrentQuery(){return ie(this,Vn)}refetch({...e}={}){return this.fetch({...e})}fetchOptimistic(e){const n=ie(this,_s).defaultQueryOptions(e),i=ie(this,_s).getQueryCache().build(ie(this,_s),n);return i.isFetchingOptimistic=!0,i.fetch().then(()=>this.createResult(i,n))}fetch(e){return Gt(this,kd,Og).call(this,{...e,cancelRefetch:e.cancelRefetch??!0}).then(()=>(this.updateResult(),ie(this,Ur)))}createResult(e,n){var T;const i=ie(this,Vn),r=this.options,s=ie(this,Ur),o=ie(this,Cd),a=ie(this,_p),c=e!==i?e.state:ie(this,xp),{state:u}=e;let{error:d,errorUpdatedAt:f,fetchStatus:m,status:g}=u,y=!1,x;if(n._optimisticResults){const R=this.hasListeners(),I=!R&&tN(e,n),A=R&&nN(e,i,n,r);(I||A)&&(m=CS(e.options.networkMode)?"fetching":"paused",u.dataUpdatedAt||(g="pending")),n._optimisticResults==="isRestoring"&&(m="idle")}if(n.select&&typeof u.data<"u")if(s&&u.data===(o==null?void 0:o.data)&&n.select===ie(this,kv))x=ie(this,bp);else try{Je(this,kv,n.select),x=n.select(u.data),x=A2(s==null?void 0:s.data,x,n),Je(this,bp,x),Je(this,Ra,null)}catch(R){Je(this,Ra,R)}else x=u.data;if(typeof n.placeholderData<"u"&&typeof x>"u"&&g==="pending"){let R;if(s!=null&&s.isPlaceholderData&&n.placeholderData===(a==null?void 0:a.placeholderData))R=s.data;else if(R=typeof n.placeholderData=="function"?n.placeholderData((T=ie(this,Sp))==null?void 0:T.state.data,ie(this,Sp)):n.placeholderData,n.select&&typeof R<"u")try{R=n.select(R),Je(this,Ra,null)}catch(I){Je(this,Ra,I)}typeof R<"u"&&(g="success",x=A2(s==null?void 0:s.data,R,n),y=!0)}ie(this,Ra)&&(d=ie(this,Ra),x=ie(this,bp),f=Date.now(),g="error");const v=m==="fetching",_=g==="pending",b=g==="error",w=_&&v;return{status:g,fetchStatus:m,isPending:_,isSuccess:g==="success",isError:b,isInitialLoading:w,isLoading:w,data:x,dataUpdatedAt:u.dataUpdatedAt,error:d,errorUpdatedAt:f,failureCount:u.fetchFailureCount,failureReason:u.fetchFailureReason,errorUpdateCount:u.errorUpdateCount,isFetched:u.dataUpdateCount>0||u.errorUpdateCount>0,isFetchedAfterMount:u.dataUpdateCount>c.dataUpdateCount||u.errorUpdateCount>c.errorUpdateCount,isFetching:v,isRefetching:v&&!_,isLoadingError:b&&u.dataUpdatedAt===0,isPaused:m==="paused",isPlaceholderData:y,isRefetchError:b&&u.dataUpdatedAt!==0,isStale:xP(e,n),refetch:this.refetch}}updateResult(e){const n=ie(this,Ur),i=this.createResult(ie(this,Vn),this.options);if(Je(this,Cd,ie(this,Vn).state),Je(this,_p,this.options),ie(this,Cd).data!==void 0&&Je(this,Sp,ie(this,Vn)),E1(i,n))return;Je(this,Ur,i);const r={},s=()=>{if(!n)return!0;const{notifyOnChangeProps:o}=this.options,a=typeof o=="function"?o():o;if(a==="all"||!a&&!ie(this,Pd).size)return!0;const l=new Set(a??ie(this,Pd));return this.options.throwOnError&&l.add("error"),Object.keys(ie(this,Ur)).some(c=>{const u=c;return ie(this,Ur)[u]!==n[u]&&l.has(u)})};(e==null?void 0:e.listeners)!==!1&&s()&&(r.listeners=!0),Gt(this,uS,FH).call(this,{...r,...e})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&Gt(this,Ov,L2).call(this)}},_s=new WeakMap,Vn=new WeakMap,xp=new WeakMap,Ur=new WeakMap,Cd=new WeakMap,_p=new WeakMap,Ra=new WeakMap,kv=new WeakMap,bp=new WeakMap,Sp=new WeakMap,Rd=new WeakMap,Ad=new WeakMap,Fc=new WeakMap,Pd=new WeakMap,kd=new WeakSet,Og=function(e){Gt(this,zv,N2).call(this);let n=ie(this,Vn).fetch(this.options,e);return e!=null&&e.throwOnError||(n=n.catch(Co)),n},Iv=new WeakSet,P2=function(){if(Gt(this,Nv,D2).call(this),kp||ie(this,Ur).isStale||!C2(this.options.staleTime))return;const n=PH(ie(this,Ur).dataUpdatedAt,this.options.staleTime)+1;Je(this,Rd,setTimeout(()=>{ie(this,Ur).isStale||this.updateResult()},n))},Lv=new WeakSet,k2=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(ie(this,Vn)):this.options.refetchInterval)??!1},Dv=new WeakSet,I2=function(e){Gt(this,Fv,O2).call(this),Je(this,Fc,e),!(kp||this.options.enabled===!1||!C2(ie(this,Fc))||ie(this,Fc)===0)&&Je(this,Ad,setInterval(()=>{(this.options.refetchIntervalInBackground||T1.isFocused())&&Gt(this,kd,Og).call(this)},ie(this,Fc)))},Ov=new WeakSet,L2=function(){Gt(this,Iv,P2).call(this),Gt(this,Dv,I2).call(this,Gt(this,Lv,k2).call(this))},Nv=new WeakSet,D2=function(){ie(this,Rd)&&(clearTimeout(ie(this,Rd)),Je(this,Rd,void 0))},Fv=new WeakSet,O2=function(){ie(this,Ad)&&(clearInterval(ie(this,Ad)),Je(this,Ad,void 0))},zv=new WeakSet,N2=function(){const e=ie(this,_s).getQueryCache().build(ie(this,_s),this.options);if(e===ie(this,Vn))return;const n=ie(this,Vn);Je(this,Vn,e),Je(this,xp,e.state),this.hasListeners()&&(n==null||n.removeObserver(this),e.addObserver(this))},uS=new WeakSet,FH=function(e){Ki.batch(()=>{e.listeners&&this.listeners.forEach(n=>{n(ie(this,Ur))}),ie(this,_s).getQueryCache().notify({query:ie(this,Vn),type:"observerResultsUpdated"})})},p4);function RY(t,e){return e.enabled!==!1&&!t.state.dataUpdatedAt&&!(t.state.status==="error"&&e.retryOnMount===!1)}function tN(t,e){return RY(t,e)||t.state.dataUpdatedAt>0&&F2(t,e,e.refetchOnMount)}function F2(t,e,n){if(e.enabled!==!1){const i=typeof n=="function"?n(t):n;return i==="always"||i!==!1&&xP(t,e)}return!1}function nN(t,e,n,i){return n.enabled!==!1&&(t!==e||i.enabled===!1)&&(!n.suspense||t.state.status!=="error")&&xP(t,n)}function xP(t,e){return t.isStaleByTime(e.staleTime)}function AY(t,e){return!E1(t.getCurrentResult(),e)}var zc,es,Xs,Sl,wp,Rb,Uv,z2,m4,PY=(m4=class extends tm{constructor(n,i){super();_t(this,wp);_t(this,Uv);_t(this,zc,void 0);_t(this,es,void 0);_t(this,Xs,void 0);_t(this,Sl,void 0);Je(this,es,void 0),Je(this,zc,n),this.setOptions(i),this.bindMethods(),Gt(this,wp,Rb).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(n){var r;const i=this.options;this.options=ie(this,zc).defaultMutationOptions(n),E1(i,this.options)||ie(this,zc).getMutationCache().notify({type:"observerOptionsUpdated",mutation:ie(this,Xs),observer:this}),(r=ie(this,Xs))==null||r.setOptions(this.options),i!=null&&i.mutationKey&&this.options.mutationKey&&Xd(i.mutationKey)!==Xd(this.options.mutationKey)&&this.reset()}onUnsubscribe(){var n;this.hasListeners()||(n=ie(this,Xs))==null||n.removeObserver(this)}onMutationUpdate(n){Gt(this,wp,Rb).call(this),Gt(this,Uv,z2).call(this,n)}getCurrentResult(){return ie(this,es)}reset(){var n;(n=ie(this,Xs))==null||n.removeObserver(this),Je(this,Xs,void 0),Gt(this,wp,Rb).call(this),Gt(this,Uv,z2).call(this)}mutate(n,i){var r;return Je(this,Sl,i),(r=ie(this,Xs))==null||r.removeObserver(this),Je(this,Xs,ie(this,zc).getMutationCache().build(ie(this,zc),this.options)),ie(this,Xs).addObserver(this),ie(this,Xs).execute(n)}},zc=new WeakMap,es=new WeakMap,Xs=new WeakMap,Sl=new WeakMap,wp=new WeakSet,Rb=function(){var i;const n=((i=ie(this,Xs))==null?void 0:i.state)??NH();Je(this,es,{...n,isPending:n.status==="pending",isSuccess:n.status==="success",isError:n.status==="error",isIdle:n.status==="idle",mutate:this.mutate,reset:this.reset})},Uv=new WeakSet,z2=function(n){Ki.batch(()=>{var i,r,s,o,a,l,c,u;ie(this,Sl)&&this.hasListeners()&&((n==null?void 0:n.type)==="success"?((r=(i=ie(this,Sl)).onSuccess)==null||r.call(i,n.data,ie(this,es).variables,ie(this,es).context),(o=(s=ie(this,Sl)).onSettled)==null||o.call(s,n.data,null,ie(this,es).variables,ie(this,es).context)):(n==null?void 0:n.type)==="error"&&((l=(a=ie(this,Sl)).onError)==null||l.call(a,n.error,ie(this,es).variables,ie(this,es).context),(u=(c=ie(this,Sl)).onSettled)==null||u.call(c,void 0,n.error,ie(this,es).variables,ie(this,es).context))),this.listeners.forEach(d=>{d(ie(this,es))})})},m4),zH=k.createContext(void 0),UH=t=>{const e=k.useContext(zH);if(t)return t;if(!e)throw new Error("No QueryClient set, use QueryClientProvider to set one");return e},kY=({client:t,children:e})=>(k.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),k.createElement(zH.Provider,{value:t},e)),BH=k.createContext(!1),IY=()=>k.useContext(BH);BH.Provider;function LY(){let t=!1;return{clearReset:()=>{t=!1},reset:()=>{t=!0},isReset:()=>t}}var DY=k.createContext(LY()),OY=()=>k.useContext(DY);function HH(t,e){return typeof t=="function"?t(...e):!!t}var NY=(t,e)=>{(t.suspense||t.throwOnError)&&(e.isReset()||(t.retryOnMount=!1))},FY=t=>{k.useEffect(()=>{t.clearReset()},[t])},zY=({result:t,errorResetBoundary:e,throwOnError:n,query:i})=>t.isError&&!e.isReset()&&!t.isFetching&&HH(n,[t.error,i]),UY=t=>{t.suspense&&typeof t.staleTime!="number"&&(t.staleTime=1e3)},BY=(t,e)=>(t==null?void 0:t.suspense)&&e.isPending,HY=(t,e,n)=>e.fetchOptimistic(t).catch(()=>{n.clearReset()});function VY(t,e,n){const i=UH(n),r=IY(),s=OY(),o=i.defaultQueryOptions(t);o._optimisticResults=r?"isRestoring":"optimistic",UY(o),NY(o,s),FY(s);const[a]=k.useState(()=>new e(i,o)),l=a.getOptimisticResult(o);if(k.useSyncExternalStore(k.useCallback(c=>{const u=r?()=>{}:a.subscribe(Ki.batchCalls(c));return a.updateResult(),u},[a,r]),()=>a.getCurrentResult(),()=>a.getCurrentResult()),k.useEffect(()=>{a.setOptions(o,{listeners:!1})},[o,a]),BY(o,l))throw a.setOptions(o,{listeners:!1}),HY(o,a,s);if(zY({result:l,errorResetBoundary:s,throwOnError:o.throwOnError,query:a.getCurrentQuery()}))throw l.error;return o.notifyOnChangeProps?l:a.trackResult(l)}function _P(t,e){return VY(t,CY,e)}function VH(t,e){const n=UH(e),[i]=k.useState(()=>new PY(n,t));k.useEffect(()=>{i.setOptions(t)},[i,t]);const r=k.useSyncExternalStore(k.useCallback(o=>i.subscribe(Ki.batchCalls(o)),[i]),()=>i.getCurrentResult(),()=>i.getCurrentResult()),s=k.useCallback((o,a)=>{i.mutate(o,a).catch(jY)},[i]);if(r.error&&HH(i.options.throwOnError,[r.error]))throw r.error;return{...r,mutate:s,mutateAsync:r.mutate}}function jY(){}const ou=new TY,WY={black:"#000",white:"#fff"},$0=WY,GY={50:"#ffebee",100:"#ffcdd2",200:"#ef9a9a",300:"#e57373",400:"#ef5350",500:"#f44336",600:"#e53935",700:"#d32f2f",800:"#c62828",900:"#b71c1c",A100:"#ff8a80",A200:"#ff5252",A400:"#ff1744",A700:"#d50000"},Uf=GY,$Y={50:"#f3e5f5",100:"#e1bee7",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",600:"#8e24aa",700:"#7b1fa2",800:"#6a1b9a",900:"#4a148c",A100:"#ea80fc",A200:"#e040fb",A400:"#d500f9",A700:"#aa00ff"},Bf=$Y,XY={50:"#e3f2fd",100:"#bbdefb",200:"#90caf9",300:"#64b5f6",400:"#42a5f5",500:"#2196f3",600:"#1e88e5",700:"#1976d2",800:"#1565c0",900:"#0d47a1",A100:"#82b1ff",A200:"#448aff",A400:"#2979ff",A700:"#2962ff"},Hf=XY,YY={50:"#e1f5fe",100:"#b3e5fc",200:"#81d4fa",300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",600:"#039be5",700:"#0288d1",800:"#0277bd",900:"#01579b",A100:"#80d8ff",A200:"#40c4ff",A400:"#00b0ff",A700:"#0091ea"},Vf=YY,qY={50:"#e8f5e9",100:"#c8e6c9",200:"#a5d6a7",300:"#81c784",400:"#66bb6a",500:"#4caf50",600:"#43a047",700:"#388e3c",800:"#2e7d32",900:"#1b5e20",A100:"#b9f6ca",A200:"#69f0ae",A400:"#00e676",A700:"#00c853"},jf=qY,KY={50:"#fff3e0",100:"#ffe0b2",200:"#ffcc80",300:"#ffb74d",400:"#ffa726",500:"#ff9800",600:"#fb8c00",700:"#f57c00",800:"#ef6c00",900:"#e65100",A100:"#ffd180",A200:"#ffab40",A400:"#ff9100",A700:"#ff6d00"},jm=KY,QY={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#f5f5f5",A200:"#eeeeee",A400:"#bdbdbd",A700:"#616161"},ZY=QY;function z(){return z=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},z.apply(this,arguments)}function wl(t){return t!==null&&typeof t=="object"&&t.constructor===Object}function jH(t){if(!wl(t))return t;const e={};return Object.keys(t).forEach(n=>{e[n]=jH(t[n])}),e}function Gr(t,e,n={clone:!0}){const i=n.clone?z({},t):t;return wl(t)&&wl(e)&&Object.keys(e).forEach(r=>{r!=="__proto__"&&(wl(e[r])&&r in t&&wl(t[r])?i[r]=Gr(t[r],e[r],n):n.clone?i[r]=wl(e[r])?jH(e[r]):e[r]:i[r]=e[r])}),i}function au(t){let e="https://mui.com/production-error/?code="+t;for(let n=1;n<arguments.length;n+=1)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified MUI error #"+t+"; visit "+e+" for the full message."}var Nn={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var bP=Symbol.for("react.element"),SP=Symbol.for("react.portal"),RS=Symbol.for("react.fragment"),AS=Symbol.for("react.strict_mode"),PS=Symbol.for("react.profiler"),kS=Symbol.for("react.provider"),IS=Symbol.for("react.context"),JY=Symbol.for("react.server_context"),LS=Symbol.for("react.forward_ref"),DS=Symbol.for("react.suspense"),OS=Symbol.for("react.suspense_list"),NS=Symbol.for("react.memo"),FS=Symbol.for("react.lazy"),eq=Symbol.for("react.offscreen"),WH;WH=Symbol.for("react.module.reference");function Bo(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case bP:switch(t=t.type,t){case RS:case PS:case AS:case DS:case OS:return t;default:switch(t=t&&t.$$typeof,t){case JY:case IS:case LS:case FS:case NS:case kS:return t;default:return e}}case SP:return e}}}Nn.ContextConsumer=IS;Nn.ContextProvider=kS;Nn.Element=bP;Nn.ForwardRef=LS;Nn.Fragment=RS;Nn.Lazy=FS;Nn.Memo=NS;Nn.Portal=SP;Nn.Profiler=PS;Nn.StrictMode=AS;Nn.Suspense=DS;Nn.SuspenseList=OS;Nn.isAsyncMode=function(){return!1};Nn.isConcurrentMode=function(){return!1};Nn.isContextConsumer=function(t){return Bo(t)===IS};Nn.isContextProvider=function(t){return Bo(t)===kS};Nn.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===bP};Nn.isForwardRef=function(t){return Bo(t)===LS};Nn.isFragment=function(t){return Bo(t)===RS};Nn.isLazy=function(t){return Bo(t)===FS};Nn.isMemo=function(t){return Bo(t)===NS};Nn.isPortal=function(t){return Bo(t)===SP};Nn.isProfiler=function(t){return Bo(t)===PS};Nn.isStrictMode=function(t){return Bo(t)===AS};Nn.isSuspense=function(t){return Bo(t)===DS};Nn.isSuspenseList=function(t){return Bo(t)===OS};Nn.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===RS||t===PS||t===AS||t===DS||t===OS||t===eq||typeof t=="object"&&t!==null&&(t.$$typeof===FS||t.$$typeof===NS||t.$$typeof===kS||t.$$typeof===IS||t.$$typeof===LS||t.$$typeof===WH||t.getModuleId!==void 0)};Nn.typeOf=Bo;function rt(t){if(typeof t!="string")throw new Error(au(7));return t.charAt(0).toUpperCase()+t.slice(1)}function U2(...t){return t.reduce((e,n)=>n==null?e:function(...r){e.apply(this,r),n.apply(this,r)},()=>{})}function wP(t,e=166){let n;function i(...r){const s=()=>{t.apply(this,r)};clearTimeout(n),n=setTimeout(s,e)}return i.clear=()=>{clearTimeout(n)},i}function tq(t,e){return()=>null}function n0(t,e){var n,i;return k.isValidElement(t)&&e.indexOf((n=t.type.muiName)!=null?n:(i=t.type)==null||(i=i._payload)==null||(i=i.value)==null?void 0:i.muiName)!==-1}function pr(t){return t&&t.ownerDocument||document}function lu(t){return pr(t).defaultView||window}function nq(t,e){return()=>null}function R1(t,e){typeof t=="function"?t(e):t&&(t.current=e)}const iq=typeof window<"u"?k.useLayoutEffect:k.useEffect,Uo=iq;let iN=0;function rq(t){const[e,n]=k.useState(t),i=t||e;return k.useEffect(()=>{e==null&&(iN+=1,n(`mui-${iN}`))},[e]),i}const rN=e1.useId;function MP(t){if(rN!==void 0){const e=rN();return t??e}return rq(t)}function sq(t,e,n,i,r){return null}function X0({controlled:t,default:e,name:n,state:i="value"}){const{current:r}=k.useRef(t!==void 0),[s,o]=k.useState(e),a=r?t:s,l=k.useCallback(c=>{r||o(c)},[]);return[a,l]}function Da(t){const e=k.useRef(t);return Uo(()=>{e.current=t}),k.useRef((...n)=>(0,e.current)(...n)).current}function Ii(...t){return k.useMemo(()=>t.every(e=>e==null)?null:e=>{t.forEach(n=>{R1(n,e)})},t)}let zS=!0,B2=!1,sN;const oq={text:!0,search:!0,url:!0,tel:!0,email:!0,password:!0,number:!0,date:!0,month:!0,week:!0,time:!0,datetime:!0,"datetime-local":!0};function aq(t){const{type:e,tagName:n}=t;return!!(n==="INPUT"&&oq[e]&&!t.readOnly||n==="TEXTAREA"&&!t.readOnly||t.isContentEditable)}function lq(t){t.metaKey||t.altKey||t.ctrlKey||(zS=!0)}function ZE(){zS=!1}function cq(){this.visibilityState==="hidden"&&B2&&(zS=!0)}function uq(t){t.addEventListener("keydown",lq,!0),t.addEventListener("mousedown",ZE,!0),t.addEventListener("pointerdown",ZE,!0),t.addEventListener("touchstart",ZE,!0),t.addEventListener("visibilitychange",cq,!0)}function dq(t){const{target:e}=t;try{return e.matches(":focus-visible")}catch{}return zS||aq(e)}function US(){const t=k.useCallback(r=>{r!=null&&uq(r.ownerDocument)},[]),e=k.useRef(!1);function n(){return e.current?(B2=!0,window.clearTimeout(sN),sN=window.setTimeout(()=>{B2=!1},100),e.current=!1,!0):!1}function i(r){return dq(r)?(e.current=!0,!0):!1}return{isFocusVisibleRef:e,onFocus:i,onBlur:n,ref:t}}function GH(t){const e=t.documentElement.clientWidth;return Math.abs(window.innerWidth-e)}const fq={border:0,clip:"rect(0 0 0 0)",height:"1px",margin:-1,overflow:"hidden",padding:0,position:"absolute",whiteSpace:"nowrap",width:"1px"},hq=fq;function EP(t,e){const n=z({},e);return Object.keys(t).forEach(i=>{if(i.toString().match(/^(components|slots)$/))n[i]=z({},t[i],n[i]);else if(i.toString().match(/^(componentsProps|slotProps)$/)){const r=t[i]||{},s=e[i];n[i]={},!s||!Object.keys(s)?n[i]=r:!r||!Object.keys(r)?n[i]=s:(n[i]=z({},s),Object.keys(r).forEach(o=>{n[i][o]=EP(r[o],s[o])}))}else n[i]===void 0&&(n[i]=t[i])}),n}function Lt(t,e,n=void 0){const i={};return Object.keys(t).forEach(r=>{i[r]=t[r].reduce((s,o)=>{if(o){const a=e(o);a!==""&&s.push(a),n&&n[o]&&s.push(n[o])}return s},[]).join(" ")}),i}const oN=t=>t,pq=()=>{let t=oN;return{configure(e){t=e},generate(e){return t(e)},reset(){t=oN}}},mq=pq(),TP=mq,gq={active:"active",checked:"checked",completed:"completed",disabled:"disabled",error:"error",expanded:"expanded",focused:"focused",focusVisible:"focusVisible",open:"open",readOnly:"readOnly",required:"required",selected:"selected"};function At(t,e,n="Mui"){const i=gq[e];return i?`${n}-${i}`:`${TP.generate(t)}-${e}`}function Dt(t,e,n="Mui"){const i={};return e.forEach(r=>{i[r]=At(t,r,n)}),i}const Yd="$$material";function tt(t,e){if(t==null)return{};var n={},i=Object.keys(t),r,s;for(s=0;s<i.length;s++)r=i[s],!(e.indexOf(r)>=0)&&(n[r]=t[r]);return n}function $H(t){var e=Object.create(null);return function(n){return e[n]===void 0&&(e[n]=t(n)),e[n]}}var vq=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|download|draggable|encType|enterKeyHint|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,yq=$H(function(t){return vq.test(t)||t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&t.charCodeAt(2)<91});function xq(t){if(t.sheet)return t.sheet;for(var e=0;e<document.styleSheets.length;e++)if(document.styleSheets[e].ownerNode===t)return document.styleSheets[e]}function _q(t){var e=document.createElement("style");return e.setAttribute("data-emotion",t.key),t.nonce!==void 0&&e.setAttribute("nonce",t.nonce),e.appendChild(document.createTextNode("")),e.setAttribute("data-s",""),e}var bq=function(){function t(n){var i=this;this._insertTag=function(r){var s;i.tags.length===0?i.insertionPoint?s=i.insertionPoint.nextSibling:i.prepend?s=i.container.firstChild:s=i.before:s=i.tags[i.tags.length-1].nextSibling,i.container.insertBefore(r,s),i.tags.push(r)},this.isSpeedy=n.speedy===void 0?!0:n.speedy,this.tags=[],this.ctr=0,this.nonce=n.nonce,this.key=n.key,this.container=n.container,this.prepend=n.prepend,this.insertionPoint=n.insertionPoint,this.before=null}var e=t.prototype;return e.hydrate=function(i){i.forEach(this._insertTag)},e.insert=function(i){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(_q(this));var r=this.tags[this.tags.length-1];if(this.isSpeedy){var s=xq(r);try{s.insertRule(i,s.cssRules.length)}catch{}}else r.appendChild(document.createTextNode(i));this.ctr++},e.flush=function(){this.tags.forEach(function(i){return i.parentNode&&i.parentNode.removeChild(i)}),this.tags=[],this.ctr=0},t}(),Fr="-ms-",A1="-moz-",bn="-webkit-",XH="comm",CP="rule",RP="decl",Sq="@import",YH="@keyframes",wq="@layer",Mq=Math.abs,BS=String.fromCharCode,Eq=Object.assign;function Tq(t,e){return Sr(t,0)^45?(((e<<2^Sr(t,0))<<2^Sr(t,1))<<2^Sr(t,2))<<2^Sr(t,3):0}function qH(t){return t.trim()}function Cq(t,e){return(t=e.exec(t))?t[0]:t}function Sn(t,e,n){return t.replace(e,n)}function H2(t,e){return t.indexOf(e)}function Sr(t,e){return t.charCodeAt(e)|0}function Y0(t,e,n){return t.slice(e,n)}function Aa(t){return t.length}function AP(t){return t.length}function Ux(t,e){return e.push(t),t}function Rq(t,e){return t.map(e).join("")}var HS=1,Ip=1,KH=0,Ds=0,Fi=0,nm="";function VS(t,e,n,i,r,s,o){return{value:t,root:e,parent:n,type:i,props:r,children:s,line:HS,column:Ip,length:o,return:""}}function Wm(t,e){return Eq(VS("",null,null,"",null,null,0),t,{length:-t.length},e)}function Aq(){return Fi}function Pq(){return Fi=Ds>0?Sr(nm,--Ds):0,Ip--,Fi===10&&(Ip=1,HS--),Fi}function no(){return Fi=Ds<KH?Sr(nm,Ds++):0,Ip++,Fi===10&&(Ip=1,HS++),Fi}function Ua(){return Sr(nm,Ds)}function Ab(){return Ds}function $v(t,e){return Y0(nm,t,e)}function q0(t){switch(t){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function QH(t){return HS=Ip=1,KH=Aa(nm=t),Ds=0,[]}function ZH(t){return nm="",t}function Pb(t){return qH($v(Ds-1,V2(t===91?t+2:t===40?t+1:t)))}function kq(t){for(;(Fi=Ua())&&Fi<33;)no();return q0(t)>2||q0(Fi)>3?"":" "}function Iq(t,e){for(;--e&&no()&&!(Fi<48||Fi>102||Fi>57&&Fi<65||Fi>70&&Fi<97););return $v(t,Ab()+(e<6&&Ua()==32&&no()==32))}function V2(t){for(;no();)switch(Fi){case t:return Ds;case 34:case 39:t!==34&&t!==39&&V2(Fi);break;case 40:t===41&&V2(t);break;case 92:no();break}return Ds}function Lq(t,e){for(;no()&&t+Fi!==57;)if(t+Fi===84&&Ua()===47)break;return"/*"+$v(e,Ds-1)+"*"+BS(t===47?t:no())}function Dq(t){for(;!q0(Ua());)no();return $v(t,Ds)}function Oq(t){return ZH(kb("",null,null,null,[""],t=QH(t),0,[0],t))}function kb(t,e,n,i,r,s,o,a,l){for(var c=0,u=0,d=o,f=0,m=0,g=0,y=1,x=1,v=1,_=0,b="",w=r,C=s,T=i,R=b;x;)switch(g=_,_=no()){case 40:if(g!=108&&Sr(R,d-1)==58){H2(R+=Sn(Pb(_),"&","&\f"),"&\f")!=-1&&(v=-1);break}case 34:case 39:case 91:R+=Pb(_);break;case 9:case 10:case 13:case 32:R+=kq(g);break;case 92:R+=Iq(Ab()-1,7);continue;case 47:switch(Ua()){case 42:case 47:Ux(Nq(Lq(no(),Ab()),e,n),l);break;default:R+="/"}break;case 123*y:a[c++]=Aa(R)*v;case 125*y:case 59:case 0:switch(_){case 0:case 125:x=0;case 59+u:v==-1&&(R=Sn(R,/\f/g,"")),m>0&&Aa(R)-d&&Ux(m>32?lN(R+";",i,n,d-1):lN(Sn(R," ","")+";",i,n,d-2),l);break;case 59:R+=";";default:if(Ux(T=aN(R,e,n,c,u,r,a,b,w=[],C=[],d),s),_===123)if(u===0)kb(R,e,T,T,w,s,d,a,C);else switch(f===99&&Sr(R,3)===110?100:f){case 100:case 108:case 109:case 115:kb(t,T,T,i&&Ux(aN(t,T,T,0,0,r,a,b,r,w=[],d),C),r,C,d,a,i?w:C);break;default:kb(R,T,T,T,[""],C,0,a,C)}}c=u=m=0,y=v=1,b=R="",d=o;break;case 58:d=1+Aa(R),m=g;default:if(y<1){if(_==123)--y;else if(_==125&&y++==0&&Pq()==125)continue}switch(R+=BS(_),_*y){case 38:v=u>0?1:(R+="\f",-1);break;case 44:a[c++]=(Aa(R)-1)*v,v=1;break;case 64:Ua()===45&&(R+=Pb(no())),f=Ua(),u=d=Aa(b=R+=Dq(Ab())),_++;break;case 45:g===45&&Aa(R)==2&&(y=0)}}return s}function aN(t,e,n,i,r,s,o,a,l,c,u){for(var d=r-1,f=r===0?s:[""],m=AP(f),g=0,y=0,x=0;g<i;++g)for(var v=0,_=Y0(t,d+1,d=Mq(y=o[g])),b=t;v<m;++v)(b=qH(y>0?f[v]+" "+_:Sn(_,/&\f/g,f[v])))&&(l[x++]=b);return VS(t,e,n,r===0?CP:a,l,c,u)}function Nq(t,e,n){return VS(t,e,n,XH,BS(Aq()),Y0(t,2,-2),0)}function lN(t,e,n,i){return VS(t,e,n,RP,Y0(t,0,i),Y0(t,i+1,-1),i)}function ep(t,e){for(var n="",i=AP(t),r=0;r<i;r++)n+=e(t[r],r,t,e)||"";return n}function Fq(t,e,n,i){switch(t.type){case wq:if(t.children.length)break;case Sq:case RP:return t.return=t.return||t.value;case XH:return"";case YH:return t.return=t.value+"{"+ep(t.children,i)+"}";case CP:t.value=t.props.join(",")}return Aa(n=ep(t.children,i))?t.return=t.value+"{"+n+"}":""}function zq(t){var e=AP(t);return function(n,i,r,s){for(var o="",a=0;a<e;a++)o+=t[a](n,i,r,s)||"";return o}}function Uq(t){return function(e){e.root||(e=e.return)&&t(e)}}var Bq=function(e,n,i){for(var r=0,s=0;r=s,s=Ua(),r===38&&s===12&&(n[i]=1),!q0(s);)no();return $v(e,Ds)},Hq=function(e,n){var i=-1,r=44;do switch(q0(r)){case 0:r===38&&Ua()===12&&(n[i]=1),e[i]+=Bq(Ds-1,n,i);break;case 2:e[i]+=Pb(r);break;case 4:if(r===44){e[++i]=Ua()===58?"&\f":"",n[i]=e[i].length;break}default:e[i]+=BS(r)}while(r=no());return e},Vq=function(e,n){return ZH(Hq(QH(e),n))},cN=new WeakMap,jq=function(e){if(!(e.type!=="rule"||!e.parent||e.length<1)){for(var n=e.value,i=e.parent,r=e.column===i.column&&e.line===i.line;i.type!=="rule";)if(i=i.parent,!i)return;if(!(e.props.length===1&&n.charCodeAt(0)!==58&&!cN.get(i))&&!r){cN.set(e,!0);for(var s=[],o=Vq(n,s),a=i.props,l=0,c=0;l<o.length;l++)for(var u=0;u<a.length;u++,c++)e.props[c]=s[l]?o[l].replace(/&\f/g,a[u]):a[u]+" "+o[l]}}},Wq=function(e){if(e.type==="decl"){var n=e.value;n.charCodeAt(0)===108&&n.charCodeAt(2)===98&&(e.return="",e.value="")}};function JH(t,e){switch(Tq(t,e)){case 5103:return bn+"print-"+t+t;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return bn+t+t;case 5349:case 4246:case 4810:case 6968:case 2756:return bn+t+A1+t+Fr+t+t;case 6828:case 4268:return bn+t+Fr+t+t;case 6165:return bn+t+Fr+"flex-"+t+t;case 5187:return bn+t+Sn(t,/(\w+).+(:[^]+)/,bn+"box-$1$2"+Fr+"flex-$1$2")+t;case 5443:return bn+t+Fr+"flex-item-"+Sn(t,/flex-|-self/,"")+t;case 4675:return bn+t+Fr+"flex-line-pack"+Sn(t,/align-content|flex-|-self/,"")+t;case 5548:return bn+t+Fr+Sn(t,"shrink","negative")+t;case 5292:return bn+t+Fr+Sn(t,"basis","preferred-size")+t;case 6060:return bn+"box-"+Sn(t,"-grow","")+bn+t+Fr+Sn(t,"grow","positive")+t;case 4554:return bn+Sn(t,/([^-])(transform)/g,"$1"+bn+"$2")+t;case 6187:return Sn(Sn(Sn(t,/(zoom-|grab)/,bn+"$1"),/(image-set)/,bn+"$1"),t,"")+t;case 5495:case 3959:return Sn(t,/(image-set\([^]*)/,bn+"$1$`$1");case 4968:return Sn(Sn(t,/(.+:)(flex-)?(.*)/,bn+"box-pack:$3"+Fr+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+bn+t+t;case 4095:case 3583:case 4068:case 2532:return Sn(t,/(.+)-inline(.+)/,bn+"$1$2")+t;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(Aa(t)-1-e>6)switch(Sr(t,e+1)){case 109:if(Sr(t,e+4)!==45)break;case 102:return Sn(t,/(.+:)(.+)-([^]+)/,"$1"+bn+"$2-$3$1"+A1+(Sr(t,e+3)==108?"$3":"$2-$3"))+t;case 115:return~H2(t,"stretch")?JH(Sn(t,"stretch","fill-available"),e)+t:t}break;case 4949:if(Sr(t,e+1)!==115)break;case 6444:switch(Sr(t,Aa(t)-3-(~H2(t,"!important")&&10))){case 107:return Sn(t,":",":"+bn)+t;case 101:return Sn(t,/(.+:)([^;!]+)(;|!.+)?/,"$1"+bn+(Sr(t,14)===45?"inline-":"")+"box$3$1"+bn+"$2$3$1"+Fr+"$2box$3")+t}break;case 5936:switch(Sr(t,e+11)){case 114:return bn+t+Fr+Sn(t,/[svh]\w+-[tblr]{2}/,"tb")+t;case 108:return bn+t+Fr+Sn(t,/[svh]\w+-[tblr]{2}/,"tb-rl")+t;case 45:return bn+t+Fr+Sn(t,/[svh]\w+-[tblr]{2}/,"lr")+t}return bn+t+Fr+t+t}return t}var Gq=function(e,n,i,r){if(e.length>-1&&!e.return)switch(e.type){case RP:e.return=JH(e.value,e.length);break;case YH:return ep([Wm(e,{value:Sn(e.value,"@","@"+bn)})],r);case CP:if(e.length)return Rq(e.props,function(s){switch(Cq(s,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return ep([Wm(e,{props:[Sn(s,/:(read-\w+)/,":"+A1+"$1")]})],r);case"::placeholder":return ep([Wm(e,{props:[Sn(s,/:(plac\w+)/,":"+bn+"input-$1")]}),Wm(e,{props:[Sn(s,/:(plac\w+)/,":"+A1+"$1")]}),Wm(e,{props:[Sn(s,/:(plac\w+)/,Fr+"input-$1")]})],r)}return""})}},$q=[Gq],Xq=function(e){var n=e.key;if(n==="css"){var i=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(i,function(y){var x=y.getAttribute("data-emotion");x.indexOf(" ")!==-1&&(document.head.appendChild(y),y.setAttribute("data-s",""))})}var r=e.stylisPlugins||$q,s={},o,a=[];o=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+n+' "]'),function(y){for(var x=y.getAttribute("data-emotion").split(" "),v=1;v<x.length;v++)s[x[v]]=!0;a.push(y)});var l,c=[jq,Wq];{var u,d=[Fq,Uq(function(y){u.insert(y)})],f=zq(c.concat(r,d)),m=function(x){return ep(Oq(x),f)};l=function(x,v,_,b){u=_,m(x?x+"{"+v.styles+"}":v.styles),b&&(g.inserted[v.name]=!0)}}var g={key:n,sheet:new bq({key:n,container:o,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:s,registered:{},insert:l};return g.sheet.hydrate(a),g},eV={exports:{}},Ln={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gr=typeof Symbol=="function"&&Symbol.for,PP=gr?Symbol.for("react.element"):60103,kP=gr?Symbol.for("react.portal"):60106,jS=gr?Symbol.for("react.fragment"):60107,WS=gr?Symbol.for("react.strict_mode"):60108,GS=gr?Symbol.for("react.profiler"):60114,$S=gr?Symbol.for("react.provider"):60109,XS=gr?Symbol.for("react.context"):60110,IP=gr?Symbol.for("react.async_mode"):60111,YS=gr?Symbol.for("react.concurrent_mode"):60111,qS=gr?Symbol.for("react.forward_ref"):60112,KS=gr?Symbol.for("react.suspense"):60113,Yq=gr?Symbol.for("react.suspense_list"):60120,QS=gr?Symbol.for("react.memo"):60115,ZS=gr?Symbol.for("react.lazy"):60116,qq=gr?Symbol.for("react.block"):60121,Kq=gr?Symbol.for("react.fundamental"):60117,Qq=gr?Symbol.for("react.responder"):60118,Zq=gr?Symbol.for("react.scope"):60119;function ao(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case PP:switch(t=t.type,t){case IP:case YS:case jS:case GS:case WS:case KS:return t;default:switch(t=t&&t.$$typeof,t){case XS:case qS:case ZS:case QS:case $S:return t;default:return e}}case kP:return e}}}function tV(t){return ao(t)===YS}Ln.AsyncMode=IP;Ln.ConcurrentMode=YS;Ln.ContextConsumer=XS;Ln.ContextProvider=$S;Ln.Element=PP;Ln.ForwardRef=qS;Ln.Fragment=jS;Ln.Lazy=ZS;Ln.Memo=QS;Ln.Portal=kP;Ln.Profiler=GS;Ln.StrictMode=WS;Ln.Suspense=KS;Ln.isAsyncMode=function(t){return tV(t)||ao(t)===IP};Ln.isConcurrentMode=tV;Ln.isContextConsumer=function(t){return ao(t)===XS};Ln.isContextProvider=function(t){return ao(t)===$S};Ln.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===PP};Ln.isForwardRef=function(t){return ao(t)===qS};Ln.isFragment=function(t){return ao(t)===jS};Ln.isLazy=function(t){return ao(t)===ZS};Ln.isMemo=function(t){return ao(t)===QS};Ln.isPortal=function(t){return ao(t)===kP};Ln.isProfiler=function(t){return ao(t)===GS};Ln.isStrictMode=function(t){return ao(t)===WS};Ln.isSuspense=function(t){return ao(t)===KS};Ln.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===jS||t===YS||t===GS||t===WS||t===KS||t===Yq||typeof t=="object"&&t!==null&&(t.$$typeof===ZS||t.$$typeof===QS||t.$$typeof===$S||t.$$typeof===XS||t.$$typeof===qS||t.$$typeof===Kq||t.$$typeof===Qq||t.$$typeof===Zq||t.$$typeof===qq)};Ln.typeOf=ao;eV.exports=Ln;var Jq=eV.exports,nV=Jq,eK={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},tK={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},iV={};iV[nV.ForwardRef]=eK;iV[nV.Memo]=tK;var nK=!0;function iK(t,e,n){var i="";return n.split(" ").forEach(function(r){t[r]!==void 0?e.push(t[r]+";"):i+=r+" "}),i}var rV=function(e,n,i){var r=e.key+"-"+n.name;(i===!1||nK===!1)&&e.registered[r]===void 0&&(e.registered[r]=n.styles)},sV=function(e,n,i){rV(e,n,i);var r=e.key+"-"+n.name;if(e.inserted[n.name]===void 0){var s=n;do e.insert(n===s?"."+r:"",s,e.sheet,!0),s=s.next;while(s!==void 0)}};function rK(t){for(var e=0,n,i=0,r=t.length;r>=4;++i,r-=4)n=t.charCodeAt(i)&255|(t.charCodeAt(++i)&255)<<8|(t.charCodeAt(++i)&255)<<16|(t.charCodeAt(++i)&255)<<24,n=(n&65535)*1540483477+((n>>>16)*59797<<16),n^=n>>>24,e=(n&65535)*1540483477+((n>>>16)*59797<<16)^(e&65535)*1540483477+((e>>>16)*59797<<16);switch(r){case 3:e^=(t.charCodeAt(i+2)&255)<<16;case 2:e^=(t.charCodeAt(i+1)&255)<<8;case 1:e^=t.charCodeAt(i)&255,e=(e&65535)*1540483477+((e>>>16)*59797<<16)}return e^=e>>>13,e=(e&65535)*1540483477+((e>>>16)*59797<<16),((e^e>>>15)>>>0).toString(36)}var sK={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},oK=/[A-Z]|^ms/g,aK=/_EMO_([^_]+?)_([^]*?)_EMO_/g,oV=function(e){return e.charCodeAt(1)===45},uN=function(e){return e!=null&&typeof e!="boolean"},JE=$H(function(t){return oV(t)?t:t.replace(oK,"-$&").toLowerCase()}),dN=function(e,n){switch(e){case"animation":case"animationName":if(typeof n=="string")return n.replace(aK,function(i,r,s){return Pa={name:r,styles:s,next:Pa},r})}return sK[e]!==1&&!oV(e)&&typeof n=="number"&&n!==0?n+"px":n};function K0(t,e,n){if(n==null)return"";if(n.__emotion_styles!==void 0)return n;switch(typeof n){case"boolean":return"";case"object":{if(n.anim===1)return Pa={name:n.name,styles:n.styles,next:Pa},n.name;if(n.styles!==void 0){var i=n.next;if(i!==void 0)for(;i!==void 0;)Pa={name:i.name,styles:i.styles,next:Pa},i=i.next;var r=n.styles+";";return r}return lK(t,e,n)}case"function":{if(t!==void 0){var s=Pa,o=n(t);return Pa=s,K0(t,e,o)}break}}if(e==null)return n;var a=e[n];return a!==void 0?a:n}function lK(t,e,n){var i="";if(Array.isArray(n))for(var r=0;r<n.length;r++)i+=K0(t,e,n[r])+";";else for(var s in n){var o=n[s];if(typeof o!="object")e!=null&&e[o]!==void 0?i+=s+"{"+e[o]+"}":uN(o)&&(i+=JE(s)+":"+dN(s,o)+";");else if(Array.isArray(o)&&typeof o[0]=="string"&&(e==null||e[o[0]]===void 0))for(var a=0;a<o.length;a++)uN(o[a])&&(i+=JE(s)+":"+dN(s,o[a])+";");else{var l=K0(t,e,o);switch(s){case"animation":case"animationName":{i+=JE(s)+":"+l+";";break}default:i+=s+"{"+l+"}"}}}return i}var fN=/label:\s*([^\s;\n{]+)\s*(;|$)/g,Pa,LP=function(e,n,i){if(e.length===1&&typeof e[0]=="object"&&e[0]!==null&&e[0].styles!==void 0)return e[0];var r=!0,s="";Pa=void 0;var o=e[0];o==null||o.raw===void 0?(r=!1,s+=K0(i,n,o)):s+=o[0];for(var a=1;a<e.length;a++)s+=K0(i,n,e[a]),r&&(s+=o[a]);fN.lastIndex=0;for(var l="",c;(c=fN.exec(s))!==null;)l+="-"+c[1];var u=rK(s)+l;return{name:u,styles:s,next:Pa}},cK=function(e){return e()},aV=e1.useInsertionEffect?e1.useInsertionEffect:!1,uK=aV||cK,hN=aV||k.useLayoutEffect,lV=k.createContext(typeof HTMLElement<"u"?Xq({key:"css"}):null);lV.Provider;var cV=function(e){return k.forwardRef(function(n,i){var r=k.useContext(lV);return e(n,r,i)})},JS=k.createContext({}),dK=cV(function(t,e){var n=t.styles,i=LP([n],void 0,k.useContext(JS)),r=k.useRef();return hN(function(){var s=e.key+"-global",o=new e.sheet.constructor({key:s,nonce:e.sheet.nonce,container:e.sheet.container,speedy:e.sheet.isSpeedy}),a=!1,l=document.querySelector('style[data-emotion="'+s+" "+i.name+'"]');return e.sheet.tags.length&&(o.before=e.sheet.tags[0]),l!==null&&(a=!0,l.setAttribute("data-emotion",s),o.hydrate([l])),r.current=[o,a],function(){o.flush()}},[e]),hN(function(){var s=r.current,o=s[0],a=s[1];if(a){s[1]=!1;return}if(i.next!==void 0&&sV(e,i.next,!0),o.tags.length){var l=o.tags[o.tags.length-1].nextElementSibling;o.before=l,o.flush()}e.insert("",i,o,!1)},[e,i.name]),null});function DP(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return LP(e)}var Xv=function(){var e=DP.apply(void 0,arguments),n="animation-"+e.name;return{name:n,styles:"@keyframes "+n+"{"+e.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}},fK=yq,hK=function(e){return e!=="theme"},pN=function(e){return typeof e=="string"&&e.charCodeAt(0)>96?fK:hK},mN=function(e,n,i){var r;if(n){var s=n.shouldForwardProp;r=e.__emotion_forwardProp&&s?function(o){return e.__emotion_forwardProp(o)&&s(o)}:s}return typeof r!="function"&&i&&(r=e.__emotion_forwardProp),r},pK=function(e){var n=e.cache,i=e.serialized,r=e.isStringTag;return rV(n,i,r),uK(function(){return sV(n,i,r)}),null},mK=function t(e,n){var i=e.__emotion_real===e,r=i&&e.__emotion_base||e,s,o;n!==void 0&&(s=n.label,o=n.target);var a=mN(e,n,i),l=a||pN(r),c=!l("as");return function(){var u=arguments,d=i&&e.__emotion_styles!==void 0?e.__emotion_styles.slice(0):[];if(s!==void 0&&d.push("label:"+s+";"),u[0]==null||u[0].raw===void 0)d.push.apply(d,u);else{d.push(u[0][0]);for(var f=u.length,m=1;m<f;m++)d.push(u[m],u[0][m])}var g=cV(function(y,x,v){var _=c&&y.as||r,b="",w=[],C=y;if(y.theme==null){C={};for(var T in y)C[T]=y[T];C.theme=k.useContext(JS)}typeof y.className=="string"?b=iK(x.registered,w,y.className):y.className!=null&&(b=y.className+" ");var R=LP(d.concat(w),x.registered,C);b+=x.key+"-"+R.name,o!==void 0&&(b+=" "+o);var I=c&&a===void 0?pN(_):l,A={};for(var L in y)c&&L==="as"||I(L)&&(A[L]=y[L]);return A.className=b,A.ref=v,k.createElement(k.Fragment,null,k.createElement(pK,{cache:x,serialized:R,isStringTag:typeof _=="string"}),k.createElement(_,A))});return g.displayName=s!==void 0?s:"Styled("+(typeof r=="string"?r:r.displayName||r.name||"Component")+")",g.defaultProps=e.defaultProps,g.__emotion_real=g,g.__emotion_base=r,g.__emotion_styles=d,g.__emotion_forwardProp=a,Object.defineProperty(g,"toString",{value:function(){return"."+o}}),g.withComponent=function(y,x){return t(y,z({},n,x,{shouldForwardProp:mN(g,x,!0)})).apply(void 0,d)},g}},gK=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"],j2=mK.bind();gK.forEach(function(t){j2[t]=j2(t)});function vK(t){return t==null||Object.keys(t).length===0}function yK(t){const{styles:e,defaultTheme:n={}}=t,i=typeof e=="function"?r=>e(vK(r)?n:r):e;return M.jsx(dK,{styles:i})}function uV(t,e){return j2(t,e)}const xK=(t,e)=>{Array.isArray(t.__emotion_styles)&&(t.__emotion_styles=e(t.__emotion_styles))},_K=["values","unit","step"],bK=t=>{const e=Object.keys(t).map(n=>({key:n,val:t[n]}))||[];return e.sort((n,i)=>n.val-i.val),e.reduce((n,i)=>z({},n,{[i.key]:i.val}),{})};function SK(t){const{values:e={xs:0,sm:600,md:900,lg:1200,xl:1536},unit:n="px",step:i=5}=t,r=tt(t,_K),s=bK(e),o=Object.keys(s);function a(f){return`@media (min-width:${typeof e[f]=="number"?e[f]:f}${n})`}function l(f){return`@media (max-width:${(typeof e[f]=="number"?e[f]:f)-i/100}${n})`}function c(f,m){const g=o.indexOf(m);return`@media (min-width:${typeof e[f]=="number"?e[f]:f}${n}) and (max-width:${(g!==-1&&typeof e[o[g]]=="number"?e[o[g]]:m)-i/100}${n})`}function u(f){return o.indexOf(f)+1<o.length?c(f,o[o.indexOf(f)+1]):a(f)}function d(f){const m=o.indexOf(f);return m===0?a(o[1]):m===o.length-1?l(o[m]):c(f,o[o.indexOf(f)+1]).replace("@media","@media not all and")}return z({keys:o,values:s,up:a,down:l,between:c,only:u,not:d,unit:n},r)}const wK={borderRadius:4},MK=wK;function i0(t,e){return e?Gr(t,e,{clone:!1}):t}const OP={xs:0,sm:600,md:900,lg:1200,xl:1536},gN={keys:["xs","sm","md","lg","xl"],up:t=>`@media (min-width:${OP[t]}px)`};function Os(t,e,n){const i=t.theme||{};if(Array.isArray(e)){const s=i.breakpoints||gN;return e.reduce((o,a,l)=>(o[s.up(s.keys[l])]=n(e[l]),o),{})}if(typeof e=="object"){const s=i.breakpoints||gN;return Object.keys(e).reduce((o,a)=>{if(Object.keys(s.values||OP).indexOf(a)!==-1){const l=s.up(a);o[l]=n(e[a],a)}else{const l=a;o[l]=e[l]}return o},{})}return n(e)}function dV(t={}){var e;return((e=t.keys)==null?void 0:e.reduce((i,r)=>{const s=t.up(r);return i[s]={},i},{}))||{}}function fV(t,e){return t.reduce((n,i)=>{const r=n[i];return(!r||Object.keys(r).length===0)&&delete n[i],n},e)}function EK(t,...e){const n=dV(t),i=[n,...e].reduce((r,s)=>Gr(r,s),{});return fV(Object.keys(n),i)}function TK(t,e){if(typeof t!="object")return{};const n={},i=Object.keys(e);return Array.isArray(t)?i.forEach((r,s)=>{s<t.length&&(n[r]=!0)}):i.forEach(r=>{t[r]!=null&&(n[r]=!0)}),n}function Dd({values:t,breakpoints:e,base:n}){const i=n||TK(t,e),r=Object.keys(i);if(r.length===0)return t;let s;return r.reduce((o,a,l)=>(Array.isArray(t)?(o[a]=t[l]!=null?t[l]:t[s],s=l):typeof t=="object"?(o[a]=t[a]!=null?t[a]:t[s],s=a):o[a]=t,o),{})}function Lp(t,e,n=!0){if(!e||typeof e!="string")return null;if(t&&t.vars&&n){const i=`vars.${e}`.split(".").reduce((r,s)=>r&&r[s]?r[s]:null,t);if(i!=null)return i}return e.split(".").reduce((i,r)=>i&&i[r]!=null?i[r]:null,t)}function P1(t,e,n,i=n){let r;return typeof t=="function"?r=t(n):Array.isArray(t)?r=t[n]||i:r=Lp(t,n)||i,e&&(r=e(r,i,t)),r}function Li(t){const{prop:e,cssProperty:n=t.prop,themeKey:i,transform:r}=t,s=o=>{if(o[e]==null)return null;const a=o[e],l=o.theme,c=Lp(l,i)||{};return Os(o,a,d=>{let f=P1(c,r,d);return d===f&&typeof d=="string"&&(f=P1(c,r,`${e}${d==="default"?"":rt(d)}`,d)),n===!1?f:{[n]:f}})};return s.propTypes={},s.filterProps=[e],s}function CK(t){const e={};return n=>(e[n]===void 0&&(e[n]=t(n)),e[n])}const RK={m:"margin",p:"padding"},AK={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},vN={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},PK=CK(t=>{if(t.length>2)if(vN[t])t=vN[t];else return[t];const[e,n]=t.split(""),i=RK[e],r=AK[n]||"";return Array.isArray(r)?r.map(s=>i+s):[i+r]}),NP=["m","mt","mr","mb","ml","mx","my","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","marginInline","marginInlineStart","marginInlineEnd","marginBlock","marginBlockStart","marginBlockEnd"],FP=["p","pt","pr","pb","pl","px","py","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY","paddingInline","paddingInlineStart","paddingInlineEnd","paddingBlock","paddingBlockStart","paddingBlockEnd"];[...NP,...FP];function Yv(t,e,n,i){var r;const s=(r=Lp(t,e,!1))!=null?r:n;return typeof s=="number"?o=>typeof o=="string"?o:s*o:Array.isArray(s)?o=>typeof o=="string"?o:s[o]:typeof s=="function"?s:()=>{}}function zP(t){return Yv(t,"spacing",8)}function qd(t,e){if(typeof e=="string"||e==null)return e;const n=Math.abs(e),i=t(n);return e>=0?i:typeof i=="number"?-i:`-${i}`}function kK(t,e){return n=>t.reduce((i,r)=>(i[r]=qd(e,n),i),{})}function IK(t,e,n,i){if(e.indexOf(n)===-1)return null;const r=PK(n),s=kK(r,i),o=t[n];return Os(t,o,s)}function hV(t,e){const n=zP(t.theme);return Object.keys(t).map(i=>IK(t,e,i,n)).reduce(i0,{})}function vi(t){return hV(t,NP)}vi.propTypes={};vi.filterProps=NP;function yi(t){return hV(t,FP)}yi.propTypes={};yi.filterProps=FP;function LK(t=8){if(t.mui)return t;const e=zP({spacing:t}),n=(...i)=>(i.length===0?[1]:i).map(s=>{const o=e(s);return typeof o=="number"?`${o}px`:o}).join(" ");return n.mui=!0,n}function ew(...t){const e=t.reduce((i,r)=>(r.filterProps.forEach(s=>{i[s]=r}),i),{}),n=i=>Object.keys(i).reduce((r,s)=>e[s]?i0(r,e[s](i)):r,{});return n.propTypes={},n.filterProps=t.reduce((i,r)=>i.concat(r.filterProps),[]),n}function Lo(t){return typeof t!="number"?t:`${t}px solid`}function Ho(t,e){return Li({prop:t,themeKey:"borders",transform:e})}const DK=Ho("border",Lo),OK=Ho("borderTop",Lo),NK=Ho("borderRight",Lo),FK=Ho("borderBottom",Lo),zK=Ho("borderLeft",Lo),UK=Ho("borderColor"),BK=Ho("borderTopColor"),HK=Ho("borderRightColor"),VK=Ho("borderBottomColor"),jK=Ho("borderLeftColor"),WK=Ho("outline",Lo),GK=Ho("outlineColor"),tw=t=>{if(t.borderRadius!==void 0&&t.borderRadius!==null){const e=Yv(t.theme,"shape.borderRadius",4),n=i=>({borderRadius:qd(e,i)});return Os(t,t.borderRadius,n)}return null};tw.propTypes={};tw.filterProps=["borderRadius"];ew(DK,OK,NK,FK,zK,UK,BK,HK,VK,jK,tw,WK,GK);const nw=t=>{if(t.gap!==void 0&&t.gap!==null){const e=Yv(t.theme,"spacing",8),n=i=>({gap:qd(e,i)});return Os(t,t.gap,n)}return null};nw.propTypes={};nw.filterProps=["gap"];const iw=t=>{if(t.columnGap!==void 0&&t.columnGap!==null){const e=Yv(t.theme,"spacing",8),n=i=>({columnGap:qd(e,i)});return Os(t,t.columnGap,n)}return null};iw.propTypes={};iw.filterProps=["columnGap"];const rw=t=>{if(t.rowGap!==void 0&&t.rowGap!==null){const e=Yv(t.theme,"spacing",8),n=i=>({rowGap:qd(e,i)});return Os(t,t.rowGap,n)}return null};rw.propTypes={};rw.filterProps=["rowGap"];const $K=Li({prop:"gridColumn"}),XK=Li({prop:"gridRow"}),YK=Li({prop:"gridAutoFlow"}),qK=Li({prop:"gridAutoColumns"}),KK=Li({prop:"gridAutoRows"}),QK=Li({prop:"gridTemplateColumns"}),ZK=Li({prop:"gridTemplateRows"}),JK=Li({prop:"gridTemplateAreas"}),eQ=Li({prop:"gridArea"});ew(nw,iw,rw,$K,XK,YK,qK,KK,QK,ZK,JK,eQ);function tp(t,e){return e==="grey"?e:t}const tQ=Li({prop:"color",themeKey:"palette",transform:tp}),nQ=Li({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette",transform:tp}),iQ=Li({prop:"backgroundColor",themeKey:"palette",transform:tp});ew(tQ,nQ,iQ);function Ks(t){return t<=1&&t!==0?`${t*100}%`:t}const rQ=Li({prop:"width",transform:Ks}),UP=t=>{if(t.maxWidth!==void 0&&t.maxWidth!==null){const e=n=>{var i,r;const s=((i=t.theme)==null||(i=i.breakpoints)==null||(i=i.values)==null?void 0:i[n])||OP[n];return s?((r=t.theme)==null||(r=r.breakpoints)==null?void 0:r.unit)!=="px"?{maxWidth:`${s}${t.theme.breakpoints.unit}`}:{maxWidth:s}:{maxWidth:Ks(n)}};return Os(t,t.maxWidth,e)}return null};UP.filterProps=["maxWidth"];const sQ=Li({prop:"minWidth",transform:Ks}),oQ=Li({prop:"height",transform:Ks}),aQ=Li({prop:"maxHeight",transform:Ks}),lQ=Li({prop:"minHeight",transform:Ks});Li({prop:"size",cssProperty:"width",transform:Ks});Li({prop:"size",cssProperty:"height",transform:Ks});const cQ=Li({prop:"boxSizing"});ew(rQ,UP,sQ,oQ,aQ,lQ,cQ);const uQ={border:{themeKey:"borders",transform:Lo},borderTop:{themeKey:"borders",transform:Lo},borderRight:{themeKey:"borders",transform:Lo},borderBottom:{themeKey:"borders",transform:Lo},borderLeft:{themeKey:"borders",transform:Lo},borderColor:{themeKey:"palette"},borderTopColor:{themeKey:"palette"},borderRightColor:{themeKey:"palette"},borderBottomColor:{themeKey:"palette"},borderLeftColor:{themeKey:"palette"},outline:{themeKey:"borders",transform:Lo},outlineColor:{themeKey:"palette"},borderRadius:{themeKey:"shape.borderRadius",style:tw},color:{themeKey:"palette",transform:tp},bgcolor:{themeKey:"palette",cssProperty:"backgroundColor",transform:tp},backgroundColor:{themeKey:"palette",transform:tp},p:{style:yi},pt:{style:yi},pr:{style:yi},pb:{style:yi},pl:{style:yi},px:{style:yi},py:{style:yi},padding:{style:yi},paddingTop:{style:yi},paddingRight:{style:yi},paddingBottom:{style:yi},paddingLeft:{style:yi},paddingX:{style:yi},paddingY:{style:yi},paddingInline:{style:yi},paddingInlineStart:{style:yi},paddingInlineEnd:{style:yi},paddingBlock:{style:yi},paddingBlockStart:{style:yi},paddingBlockEnd:{style:yi},m:{style:vi},mt:{style:vi},mr:{style:vi},mb:{style:vi},ml:{style:vi},mx:{style:vi},my:{style:vi},margin:{style:vi},marginTop:{style:vi},marginRight:{style:vi},marginBottom:{style:vi},marginLeft:{style:vi},marginX:{style:vi},marginY:{style:vi},marginInline:{style:vi},marginInlineStart:{style:vi},marginInlineEnd:{style:vi},marginBlock:{style:vi},marginBlockStart:{style:vi},marginBlockEnd:{style:vi},displayPrint:{cssProperty:!1,transform:t=>({"@media print":{display:t}})},display:{},overflow:{},textOverflow:{},visibility:{},whiteSpace:{},flexBasis:{},flexDirection:{},flexWrap:{},justifyContent:{},alignItems:{},alignContent:{},order:{},flex:{},flexGrow:{},flexShrink:{},alignSelf:{},justifyItems:{},justifySelf:{},gap:{style:nw},rowGap:{style:rw},columnGap:{style:iw},gridColumn:{},gridRow:{},gridAutoFlow:{},gridAutoColumns:{},gridAutoRows:{},gridTemplateColumns:{},gridTemplateRows:{},gridTemplateAreas:{},gridArea:{},position:{},zIndex:{themeKey:"zIndex"},top:{},right:{},bottom:{},left:{},boxShadow:{themeKey:"shadows"},width:{transform:Ks},maxWidth:{style:UP},minWidth:{transform:Ks},height:{transform:Ks},maxHeight:{transform:Ks},minHeight:{transform:Ks},boxSizing:{},fontFamily:{themeKey:"typography"},fontSize:{themeKey:"typography"},fontStyle:{themeKey:"typography"},fontWeight:{themeKey:"typography"},letterSpacing:{},textTransform:{},lineHeight:{},textAlign:{},typography:{cssProperty:!1,themeKey:"typography"}},sw=uQ;function dQ(...t){const e=t.reduce((i,r)=>i.concat(Object.keys(r)),[]),n=new Set(e);return t.every(i=>n.size===Object.keys(i).length)}function fQ(t,e){return typeof t=="function"?t(e):t}function hQ(){function t(n,i,r,s){const o={[n]:i,theme:r},a=s[n];if(!a)return{[n]:i};const{cssProperty:l=n,themeKey:c,transform:u,style:d}=a;if(i==null)return null;if(c==="typography"&&i==="inherit")return{[n]:i};const f=Lp(r,c)||{};return d?d(o):Os(o,i,g=>{let y=P1(f,u,g);return g===y&&typeof g=="string"&&(y=P1(f,u,`${n}${g==="default"?"":rt(g)}`,g)),l===!1?y:{[l]:y}})}function e(n){var i;const{sx:r,theme:s={}}=n||{};if(!r)return null;const o=(i=s.unstable_sxConfig)!=null?i:sw;function a(l){let c=l;if(typeof l=="function")c=l(s);else if(typeof l!="object")return l;if(!c)return null;const u=dV(s.breakpoints),d=Object.keys(u);let f=u;return Object.keys(c).forEach(m=>{const g=fQ(c[m],s);if(g!=null)if(typeof g=="object")if(o[m])f=i0(f,t(m,g,s,o));else{const y=Os({theme:s},g,x=>({[m]:x}));dQ(y,g)?f[m]=e({sx:g,theme:s}):f=i0(f,y)}else f=i0(f,t(m,g,s,o))}),fV(d,f)}return Array.isArray(r)?r.map(a):a(r)}return e}const pV=hQ();pV.filterProps=["sx"];const ow=pV,pQ=["breakpoints","palette","spacing","shape"];function qv(t={},...e){const{breakpoints:n={},palette:i={},spacing:r,shape:s={}}=t,o=tt(t,pQ),a=SK(n),l=LK(r);let c=Gr({breakpoints:a,direction:"ltr",components:{},palette:z({mode:"light"},i),spacing:l,shape:z({},MK,s)},o);return c=e.reduce((u,d)=>Gr(u,d),c),c.unstable_sxConfig=z({},sw,o==null?void 0:o.unstable_sxConfig),c.unstable_sx=function(d){return ow({sx:d,theme:this})},c}function mQ(t){return Object.keys(t).length===0}function mV(t=null){const e=k.useContext(JS);return!e||mQ(e)?t:e}const gQ=qv();function aw(t=gQ){return mV(t)}function vQ({styles:t,themeId:e,defaultTheme:n={}}){const i=aw(n),r=typeof t=="function"?t(e&&i[e]||i):t;return M.jsx(yK,{styles:r})}const yQ=["sx"],xQ=t=>{var e,n;const i={systemProps:{},otherProps:{}},r=(e=t==null||(n=t.theme)==null?void 0:n.unstable_sxConfig)!=null?e:sw;return Object.keys(t).forEach(s=>{r[s]?i.systemProps[s]=t[s]:i.otherProps[s]=t[s]}),i};function lw(t){const{sx:e}=t,n=tt(t,yQ),{systemProps:i,otherProps:r}=xQ(n);let s;return Array.isArray(e)?s=[i,...e]:typeof e=="function"?s=(...o)=>{const a=e(...o);return wl(a)?z({},i,a):i}:s=z({},i,e),z({},r,{sx:s})}function gV(t){var e,n,i="";if(typeof t=="string"||typeof t=="number")i+=t;else if(typeof t=="object")if(Array.isArray(t))for(e=0;e<t.length;e++)t[e]&&(n=gV(t[e]))&&(i&&(i+=" "),i+=n);else for(e in t)t[e]&&(i&&(i+=" "),i+=e);return i}function lt(){for(var t,e,n=0,i="";n<arguments.length;)(t=arguments[n++])&&(e=gV(t))&&(i&&(i+=" "),i+=e);return i}const _Q=["className","component"];function bQ(t={}){const{themeId:e,defaultTheme:n,defaultClassName:i="MuiBox-root",generateClassName:r}=t,s=uV("div",{shouldForwardProp:a=>a!=="theme"&&a!=="sx"&&a!=="as"})(ow);return k.forwardRef(function(l,c){const u=aw(n),d=lw(l),{className:f,component:m="div"}=d,g=tt(d,_Q);return M.jsx(s,z({as:m,ref:c,className:lt(f,r?r(i):i),theme:e&&u[e]||u},g))})}const SQ=["variant"];function yN(t){return t.length===0}function vV(t){const{variant:e}=t,n=tt(t,SQ);let i=e||"";return Object.keys(n).sort().forEach(r=>{r==="color"?i+=yN(i)?t[r]:rt(t[r]):i+=`${yN(i)?r:rt(r)}${rt(t[r].toString())}`}),i}const wQ=["name","slot","skipVariantsResolver","skipSx","overridesResolver"];function MQ(t){return Object.keys(t).length===0}function EQ(t){return typeof t=="string"&&t.charCodeAt(0)>96}const TQ=(t,e)=>e.components&&e.components[t]&&e.components[t].styleOverrides?e.components[t].styleOverrides:null,k1=t=>{const e={};return t&&t.forEach(n=>{const i=vV(n.props);e[i]=n.style}),e},CQ=(t,e)=>{let n=[];return e&&e.components&&e.components[t]&&e.components[t].variants&&(n=e.components[t].variants),k1(n)},I1=(t,e,n)=>{const{ownerState:i={}}=t,r=[];return n&&n.forEach(s=>{let o=!0;Object.keys(s.props).forEach(a=>{i[a]!==s.props[a]&&t[a]!==s.props[a]&&(o=!1)}),o&&r.push(e[vV(s.props)])}),r},RQ=(t,e,n,i)=>{var r;const s=n==null||(r=n.components)==null||(r=r[i])==null?void 0:r.variants;return I1(t,e,s)};function r0(t){return t!=="ownerState"&&t!=="theme"&&t!=="sx"&&t!=="as"}const AQ=qv(),PQ=t=>t&&t.charAt(0).toLowerCase()+t.slice(1);function Ib({defaultTheme:t,theme:e,themeId:n}){return MQ(e)?t:e[n]||e}function kQ(t){return t?(e,n)=>n[t]:null}const xN=({styledArg:t,props:e,defaultTheme:n,themeId:i})=>{const r=t(z({},e,{theme:Ib(z({},e,{defaultTheme:n,themeId:i}))}));let s;if(r&&r.variants&&(s=r.variants,delete r.variants),s){const o=I1(e,k1(s),s);return[r,...o]}return r};function yV(t={}){const{themeId:e,defaultTheme:n=AQ,rootShouldForwardProp:i=r0,slotShouldForwardProp:r=r0}=t,s=o=>ow(z({},o,{theme:Ib(z({},o,{defaultTheme:n,themeId:e}))}));return s.__mui_systemSx=!0,(o,a={})=>{xK(o,w=>w.filter(C=>!(C!=null&&C.__mui_systemSx)));const{name:l,slot:c,skipVariantsResolver:u,skipSx:d,overridesResolver:f=kQ(PQ(c))}=a,m=tt(a,wQ),g=u!==void 0?u:c&&c!=="Root"&&c!=="root"||!1,y=d||!1;let x,v=r0;c==="Root"||c==="root"?v=i:c?v=r:EQ(o)&&(v=void 0);const _=uV(o,z({shouldForwardProp:v,label:x},m)),b=(w,...C)=>{const T=C?C.map(L=>{if(typeof L=="function"&&L.__emotion_real!==L)return O=>xN({styledArg:L,props:O,defaultTheme:n,themeId:e});if(wl(L)){let O=L,H;return L&&L.variants&&(H=L.variants,delete O.variants,O=q=>{let U=L;return I1(q,k1(H),H).forEach(Q=>{U=Gr(U,Q)}),U}),O}return L}):[];let R=w;if(wl(w)){let L;w&&w.variants&&(L=w.variants,delete R.variants,R=O=>{let H=w;return I1(O,k1(L),L).forEach(U=>{H=Gr(H,U)}),H})}else typeof w=="function"&&w.__emotion_real!==w&&(R=L=>xN({styledArg:w,props:L,defaultTheme:n,themeId:e}));l&&f&&T.push(L=>{const O=Ib(z({},L,{defaultTheme:n,themeId:e})),H=TQ(l,O);if(H){const q={};return Object.entries(H).forEach(([U,G])=>{q[U]=typeof G=="function"?G(z({},L,{theme:O})):G}),f(L,q)}return null}),l&&!g&&T.push(L=>{const O=Ib(z({},L,{defaultTheme:n,themeId:e}));return RQ(L,CQ(l,O),O,l)}),y||T.push(s);const I=T.length-C.length;if(Array.isArray(w)&&I>0){const L=new Array(I).fill("");R=[...w,...L],R.raw=[...w.raw,...L]}const A=_(R,...T);return o.muiName&&(A.muiName=o.muiName),A};return _.withConfig&&(b.withConfig=_.withConfig),b}}const IQ=yV(),xV=IQ;function LQ(t){const{theme:e,name:n,props:i}=t;return!e||!e.components||!e.components[n]||!e.components[n].defaultProps?i:EP(e.components[n].defaultProps,i)}function BP({props:t,name:e,defaultTheme:n,themeId:i}){let r=aw(n);return i&&(r=r[i]||r),LQ({theme:r,name:e,props:t})}function HP(t,e=0,n=1){return Math.min(Math.max(e,t),n)}function DQ(t){t=t.slice(1);const e=new RegExp(`.{1,${t.length>=6?2:1}}`,"g");let n=t.match(e);return n&&n[0].length===1&&(n=n.map(i=>i+i)),n?`rgb${n.length===4?"a":""}(${n.map((i,r)=>r<3?parseInt(i,16):Math.round(parseInt(i,16)/255*1e3)/1e3).join(", ")})`:""}function Kd(t){if(t.type)return t;if(t.charAt(0)==="#")return Kd(DQ(t));const e=t.indexOf("("),n=t.substring(0,e);if(["rgb","rgba","hsl","hsla","color"].indexOf(n)===-1)throw new Error(au(9,t));let i=t.substring(e+1,t.length-1),r;if(n==="color"){if(i=i.split(" "),r=i.shift(),i.length===4&&i[3].charAt(0)==="/"&&(i[3]=i[3].slice(1)),["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].indexOf(r)===-1)throw new Error(au(10,r))}else i=i.split(",");return i=i.map(s=>parseFloat(s)),{type:n,values:i,colorSpace:r}}function cw(t){const{type:e,colorSpace:n}=t;let{values:i}=t;return e.indexOf("rgb")!==-1?i=i.map((r,s)=>s<3?parseInt(r,10):r):e.indexOf("hsl")!==-1&&(i[1]=`${i[1]}%`,i[2]=`${i[2]}%`),e.indexOf("color")!==-1?i=`${n} ${i.join(" ")}`:i=`${i.join(", ")}`,`${e}(${i})`}function OQ(t){t=Kd(t);const{values:e}=t,n=e[0],i=e[1]/100,r=e[2]/100,s=i*Math.min(r,1-r),o=(c,u=(c+n/30)%12)=>r-s*Math.max(Math.min(u-3,9-u,1),-1);let a="rgb";const l=[Math.round(o(0)*255),Math.round(o(8)*255),Math.round(o(4)*255)];return t.type==="hsla"&&(a+="a",l.push(e[3])),cw({type:a,values:l})}function _N(t){t=Kd(t);let e=t.type==="hsl"||t.type==="hsla"?Kd(OQ(t)).values:t.values;return e=e.map(n=>(t.type!=="color"&&(n/=255),n<=.03928?n/12.92:((n+.055)/1.055)**2.4)),Number((.2126*e[0]+.7152*e[1]+.0722*e[2]).toFixed(3))}function NQ(t,e){const n=_N(t),i=_N(e);return(Math.max(n,i)+.05)/(Math.min(n,i)+.05)}function kn(t,e){return t=Kd(t),e=HP(e),(t.type==="rgb"||t.type==="hsl")&&(t.type+="a"),t.type==="color"?t.values[3]=`/${e}`:t.values[3]=e,cw(t)}function VP(t,e){if(t=Kd(t),e=HP(e),t.type.indexOf("hsl")!==-1)t.values[2]*=1-e;else if(t.type.indexOf("rgb")!==-1||t.type.indexOf("color")!==-1)for(let n=0;n<3;n+=1)t.values[n]*=1-e;return cw(t)}function jP(t,e){if(t=Kd(t),e=HP(e),t.type.indexOf("hsl")!==-1)t.values[2]+=(100-t.values[2])*e;else if(t.type.indexOf("rgb")!==-1)for(let n=0;n<3;n+=1)t.values[n]+=(255-t.values[n])*e;else if(t.type.indexOf("color")!==-1)for(let n=0;n<3;n+=1)t.values[n]+=(1-t.values[n])*e;return cw(t)}const FQ=k.createContext(null),_V=FQ;function bV(){return k.useContext(_V)}const zQ=typeof Symbol=="function"&&Symbol.for,UQ=zQ?Symbol.for("mui.nested"):"__THEME_NESTED__";function BQ(t,e){return typeof e=="function"?e(t):z({},t,e)}function HQ(t){const{children:e,theme:n}=t,i=bV(),r=k.useMemo(()=>{const s=i===null?n:BQ(i,n);return s!=null&&(s[UQ]=i!==null),s},[n,i]);return M.jsx(_V.Provider,{value:r,children:e})}const bN={};function SN(t,e,n,i=!1){return k.useMemo(()=>{const r=t&&e[t]||e;if(typeof n=="function"){const s=n(r),o=t?z({},e,{[t]:s}):s;return i?()=>o:o}return t?z({},e,{[t]:n}):z({},e,n)},[t,e,n,i])}function VQ(t){const{children:e,theme:n,themeId:i}=t,r=mV(bN),s=bV()||bN,o=SN(i,r,n),a=SN(i,s,n,!0);return M.jsx(HQ,{theme:a,children:M.jsx(JS.Provider,{value:o,children:e})})}const jQ=["className","component","disableGutters","fixed","maxWidth","classes"],WQ=qv(),GQ=xV("div",{name:"MuiContainer",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[`maxWidth${rt(String(n.maxWidth))}`],n.fixed&&e.fixed,n.disableGutters&&e.disableGutters]}}),$Q=t=>BP({props:t,name:"MuiContainer",defaultTheme:WQ}),XQ=(t,e)=>{const n=l=>At(e,l),{classes:i,fixed:r,disableGutters:s,maxWidth:o}=t,a={root:["root",o&&`maxWidth${rt(String(o))}`,r&&"fixed",s&&"disableGutters"]};return Lt(a,n,i)};function YQ(t={}){const{createStyledComponent:e=GQ,useThemeProps:n=$Q,componentName:i="MuiContainer"}=t,r=e(({theme:o,ownerState:a})=>z({width:"100%",marginLeft:"auto",boxSizing:"border-box",marginRight:"auto",display:"block"},!a.disableGutters&&{paddingLeft:o.spacing(2),paddingRight:o.spacing(2),[o.breakpoints.up("sm")]:{paddingLeft:o.spacing(3),paddingRight:o.spacing(3)}}),({theme:o,ownerState:a})=>a.fixed&&Object.keys(o.breakpoints.values).reduce((l,c)=>{const u=c,d=o.breakpoints.values[u];return d!==0&&(l[o.breakpoints.up(u)]={maxWidth:`${d}${o.breakpoints.unit}`}),l},{}),({theme:o,ownerState:a})=>z({},a.maxWidth==="xs"&&{[o.breakpoints.up("xs")]:{maxWidth:Math.max(o.breakpoints.values.xs,444)}},a.maxWidth&&a.maxWidth!=="xs"&&{[o.breakpoints.up(a.maxWidth)]:{maxWidth:`${o.breakpoints.values[a.maxWidth]}${o.breakpoints.unit}`}}));return k.forwardRef(function(a,l){const c=n(a),{className:u,component:d="div",disableGutters:f=!1,fixed:m=!1,maxWidth:g="lg"}=c,y=tt(c,jQ),x=z({},c,{component:d,disableGutters:f,fixed:m,maxWidth:g}),v=XQ(x,i);return M.jsx(r,z({as:d,ownerState:x,className:lt(v.root,u),ref:l},y))})}const qQ=["component","direction","spacing","divider","children","className","useFlexGap"],KQ=qv(),QQ=xV("div",{name:"MuiStack",slot:"Root",overridesResolver:(t,e)=>e.root});function ZQ(t){return BP({props:t,name:"MuiStack",defaultTheme:KQ})}function JQ(t,e){const n=k.Children.toArray(t).filter(Boolean);return n.reduce((i,r,s)=>(i.push(r),s<n.length-1&&i.push(k.cloneElement(e,{key:`separator-${s}`})),i),[])}const eZ=t=>({row:"Left","row-reverse":"Right",column:"Top","column-reverse":"Bottom"})[t],tZ=({ownerState:t,theme:e})=>{let n=z({display:"flex",flexDirection:"column"},Os({theme:e},Dd({values:t.direction,breakpoints:e.breakpoints.values}),i=>({flexDirection:i})));if(t.spacing){const i=zP(e),r=Object.keys(e.breakpoints.values).reduce((l,c)=>((typeof t.spacing=="object"&&t.spacing[c]!=null||typeof t.direction=="object"&&t.direction[c]!=null)&&(l[c]=!0),l),{}),s=Dd({values:t.direction,base:r}),o=Dd({values:t.spacing,base:r});typeof s=="object"&&Object.keys(s).forEach((l,c,u)=>{if(!s[l]){const f=c>0?s[u[c-1]]:"column";s[l]=f}}),n=Gr(n,Os({theme:e},o,(l,c)=>t.useFlexGap?{gap:qd(i,l)}:{"& > :not(style):not(style)":{margin:0},"& > :not(style) ~ :not(style)":{[`margin${eZ(c?s[c]:t.direction)}`]:qd(i,l)}}))}return n=EK(e.breakpoints,n),n};function nZ(t={}){const{createStyledComponent:e=QQ,useThemeProps:n=ZQ,componentName:i="MuiStack"}=t,r=()=>Lt({root:["root"]},l=>At(i,l),{}),s=e(tZ);return k.forwardRef(function(l,c){const u=n(l),d=lw(u),{component:f="div",direction:m="column",spacing:g=0,divider:y,children:x,className:v,useFlexGap:_=!1}=d,b=tt(d,qQ),w={direction:m,spacing:g,useFlexGap:_},C=r();return M.jsx(s,z({as:f,ownerState:w,ref:c,className:lt(C.root,v)},b,{children:y?JQ(x,y):x}))})}function iZ(t,e){return z({toolbar:{minHeight:56,[t.up("xs")]:{"@media (orientation: landscape)":{minHeight:48}},[t.up("sm")]:{minHeight:64}}},e)}const rZ=["mode","contrastThreshold","tonalOffset"],wN={text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.6)",disabled:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:$0.white,default:$0.white},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}},eT={text:{primary:$0.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:"#121212",default:"#121212"},action:{active:$0.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}};function MN(t,e,n,i){const r=i.light||i,s=i.dark||i*1.5;t[e]||(t.hasOwnProperty(n)?t[e]=t[n]:e==="light"?t.light=jP(t.main,r):e==="dark"&&(t.dark=VP(t.main,s)))}function sZ(t="light"){return t==="dark"?{main:Hf[200],light:Hf[50],dark:Hf[400]}:{main:Hf[700],light:Hf[400],dark:Hf[800]}}function oZ(t="light"){return t==="dark"?{main:Bf[200],light:Bf[50],dark:Bf[400]}:{main:Bf[500],light:Bf[300],dark:Bf[700]}}function aZ(t="light"){return t==="dark"?{main:Uf[500],light:Uf[300],dark:Uf[700]}:{main:Uf[700],light:Uf[400],dark:Uf[800]}}function lZ(t="light"){return t==="dark"?{main:Vf[400],light:Vf[300],dark:Vf[700]}:{main:Vf[700],light:Vf[500],dark:Vf[900]}}function cZ(t="light"){return t==="dark"?{main:jf[400],light:jf[300],dark:jf[700]}:{main:jf[800],light:jf[500],dark:jf[900]}}function uZ(t="light"){return t==="dark"?{main:jm[400],light:jm[300],dark:jm[700]}:{main:"#ed6c02",light:jm[500],dark:jm[900]}}function dZ(t){const{mode:e="light",contrastThreshold:n=3,tonalOffset:i=.2}=t,r=tt(t,rZ),s=t.primary||sZ(e),o=t.secondary||oZ(e),a=t.error||aZ(e),l=t.info||lZ(e),c=t.success||cZ(e),u=t.warning||uZ(e);function d(y){return NQ(y,eT.text.primary)>=n?eT.text.primary:wN.text.primary}const f=({color:y,name:x,mainShade:v=500,lightShade:_=300,darkShade:b=700})=>{if(y=z({},y),!y.main&&y[v]&&(y.main=y[v]),!y.hasOwnProperty("main"))throw new Error(au(11,x?` (${x})`:"",v));if(typeof y.main!="string")throw new Error(au(12,x?` (${x})`:"",JSON.stringify(y.main)));return MN(y,"light",_,i),MN(y,"dark",b,i),y.contrastText||(y.contrastText=d(y.main)),y},m={dark:eT,light:wN};return Gr(z({common:z({},$0),mode:e,primary:f({color:s,name:"primary"}),secondary:f({color:o,name:"secondary",mainShade:"A400",lightShade:"A200",darkShade:"A700"}),error:f({color:a,name:"error"}),warning:f({color:u,name:"warning"}),info:f({color:l,name:"info"}),success:f({color:c,name:"success"}),grey:ZY,contrastThreshold:n,getContrastText:d,augmentColor:f,tonalOffset:i},m[e]),r)}const fZ=["fontFamily","fontSize","fontWeightLight","fontWeightRegular","fontWeightMedium","fontWeightBold","htmlFontSize","allVariants","pxToRem"];function hZ(t){return Math.round(t*1e5)/1e5}const EN={textTransform:"uppercase"},TN='"Roboto", "Helvetica", "Arial", sans-serif';function pZ(t,e){const n=typeof e=="function"?e(t):e,{fontFamily:i=TN,fontSize:r=14,fontWeightLight:s=300,fontWeightRegular:o=400,fontWeightMedium:a=500,fontWeightBold:l=700,htmlFontSize:c=16,allVariants:u,pxToRem:d}=n,f=tt(n,fZ),m=r/14,g=d||(v=>`${v/c*m}rem`),y=(v,_,b,w,C)=>z({fontFamily:i,fontWeight:v,fontSize:g(_),lineHeight:b},i===TN?{letterSpacing:`${hZ(w/_)}em`}:{},C,u),x={h1:y(s,96,1.167,-1.5),h2:y(s,60,1.2,-.5),h3:y(o,48,1.167,0),h4:y(o,34,1.235,.25),h5:y(o,24,1.334,0),h6:y(a,20,1.6,.15),subtitle1:y(o,16,1.75,.15),subtitle2:y(a,14,1.57,.1),body1:y(o,16,1.5,.15),body2:y(o,14,1.43,.15),button:y(a,14,1.75,.4,EN),caption:y(o,12,1.66,.4),overline:y(o,12,2.66,1,EN),inherit:{fontFamily:"inherit",fontWeight:"inherit",fontSize:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}};return Gr(z({htmlFontSize:c,pxToRem:g,fontFamily:i,fontSize:r,fontWeightLight:s,fontWeightRegular:o,fontWeightMedium:a,fontWeightBold:l},x),f,{clone:!1})}const mZ=.2,gZ=.14,vZ=.12;function Jn(...t){return[`${t[0]}px ${t[1]}px ${t[2]}px ${t[3]}px rgba(0,0,0,${mZ})`,`${t[4]}px ${t[5]}px ${t[6]}px ${t[7]}px rgba(0,0,0,${gZ})`,`${t[8]}px ${t[9]}px ${t[10]}px ${t[11]}px rgba(0,0,0,${vZ})`].join(",")}const yZ=["none",Jn(0,2,1,-1,0,1,1,0,0,1,3,0),Jn(0,3,1,-2,0,2,2,0,0,1,5,0),Jn(0,3,3,-2,0,3,4,0,0,1,8,0),Jn(0,2,4,-1,0,4,5,0,0,1,10,0),Jn(0,3,5,-1,0,5,8,0,0,1,14,0),Jn(0,3,5,-1,0,6,10,0,0,1,18,0),Jn(0,4,5,-2,0,7,10,1,0,2,16,1),Jn(0,5,5,-3,0,8,10,1,0,3,14,2),Jn(0,5,6,-3,0,9,12,1,0,3,16,2),Jn(0,6,6,-3,0,10,14,1,0,4,18,3),Jn(0,6,7,-4,0,11,15,1,0,4,20,3),Jn(0,7,8,-4,0,12,17,2,0,5,22,4),Jn(0,7,8,-4,0,13,19,2,0,5,24,4),Jn(0,7,9,-4,0,14,21,2,0,5,26,4),Jn(0,8,9,-5,0,15,22,2,0,6,28,5),Jn(0,8,10,-5,0,16,24,2,0,6,30,5),Jn(0,8,11,-5,0,17,26,2,0,6,32,5),Jn(0,9,11,-5,0,18,28,2,0,7,34,6),Jn(0,9,12,-6,0,19,29,2,0,7,36,6),Jn(0,10,13,-6,0,20,31,3,0,8,38,7),Jn(0,10,13,-6,0,21,33,3,0,8,40,7),Jn(0,10,14,-6,0,22,35,3,0,8,42,7),Jn(0,11,14,-7,0,23,36,3,0,9,44,8),Jn(0,11,15,-7,0,24,38,3,0,9,46,8)],xZ=yZ,_Z=["duration","easing","delay"],bZ={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},SZ={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function CN(t){return`${Math.round(t)}ms`}function wZ(t){if(!t)return 0;const e=t/36;return Math.round((4+15*e**.25+e/5)*10)}function MZ(t){const e=z({},bZ,t.easing),n=z({},SZ,t.duration);return z({getAutoHeightDuration:wZ,create:(r=["all"],s={})=>{const{duration:o=n.standard,easing:a=e.easeInOut,delay:l=0}=s;return tt(s,_Z),(Array.isArray(r)?r:[r]).map(c=>`${c} ${typeof o=="string"?o:CN(o)} ${a} ${typeof l=="string"?l:CN(l)}`).join(",")}},t,{easing:e,duration:n})}const EZ={mobileStepper:1e3,fab:1050,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500},TZ=EZ,CZ=["breakpoints","mixins","spacing","palette","transitions","typography","shape"];function uw(t={},...e){const{mixins:n={},palette:i={},transitions:r={},typography:s={}}=t,o=tt(t,CZ);if(t.vars)throw new Error(au(18));const a=dZ(i),l=qv(t);let c=Gr(l,{mixins:iZ(l.breakpoints,n),palette:a,shadows:xZ.slice(),typography:pZ(a,s),transitions:MZ(r),zIndex:z({},TZ)});return c=Gr(c,o),c=e.reduce((u,d)=>Gr(u,d),c),c.unstable_sxConfig=z({},sw,o==null?void 0:o.unstable_sxConfig),c.unstable_sx=function(d){return ow({sx:d,theme:this})},c}const RZ=uw(),dw=RZ;function vr(){const t=aw(dw);return t[Yd]||t}function Ot({props:t,name:e}){return BP({props:t,name:e,defaultTheme:dw,themeId:Yd})}const ls=t=>r0(t)&&t!=="classes",WP=r0,AZ=yV({themeId:Yd,defaultTheme:dw,rootShouldForwardProp:ls}),je=AZ,PZ=["theme"];function kZ(t){let{theme:e}=t,n=tt(t,PZ);const i=e[Yd];return M.jsx(VQ,z({},n,{themeId:i?Yd:void 0,theme:i||e}))}const IZ=t=>{let e;return t<1?e=5.11916*t**2:e=4.5*Math.log(t+1)+2,(e/100).toFixed(2)},RN=IZ;function LZ(t){return At("MuiSvgIcon",t)}Dt("MuiSvgIcon",["root","colorPrimary","colorSecondary","colorAction","colorError","colorDisabled","fontSizeInherit","fontSizeSmall","fontSizeMedium","fontSizeLarge"]);const DZ=["children","className","color","component","fontSize","htmlColor","inheritViewBox","titleAccess","viewBox"],OZ=t=>{const{color:e,fontSize:n,classes:i}=t,r={root:["root",e!=="inherit"&&`color${rt(e)}`,`fontSize${rt(n)}`]};return Lt(r,LZ,i)},NZ=je("svg",{name:"MuiSvgIcon",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.color!=="inherit"&&e[`color${rt(n.color)}`],e[`fontSize${rt(n.fontSize)}`]]}})(({theme:t,ownerState:e})=>{var n,i,r,s,o,a,l,c,u,d,f,m,g;return{userSelect:"none",width:"1em",height:"1em",display:"inline-block",fill:e.hasSvgAsChild?void 0:"currentColor",flexShrink:0,transition:(n=t.transitions)==null||(i=n.create)==null?void 0:i.call(n,"fill",{duration:(r=t.transitions)==null||(r=r.duration)==null?void 0:r.shorter}),fontSize:{inherit:"inherit",small:((s=t.typography)==null||(o=s.pxToRem)==null?void 0:o.call(s,20))||"1.25rem",medium:((a=t.typography)==null||(l=a.pxToRem)==null?void 0:l.call(a,24))||"1.5rem",large:((c=t.typography)==null||(u=c.pxToRem)==null?void 0:u.call(c,35))||"2.1875rem"}[e.fontSize],color:(d=(f=(t.vars||t).palette)==null||(f=f[e.color])==null?void 0:f.main)!=null?d:{action:(m=(t.vars||t).palette)==null||(m=m.action)==null?void 0:m.active,disabled:(g=(t.vars||t).palette)==null||(g=g.action)==null?void 0:g.disabled,inherit:void 0}[e.color]}}),SV=k.forwardRef(function(e,n){const i=Ot({props:e,name:"MuiSvgIcon"}),{children:r,className:s,color:o="inherit",component:a="svg",fontSize:l="medium",htmlColor:c,inheritViewBox:u=!1,titleAccess:d,viewBox:f="0 0 24 24"}=i,m=tt(i,DZ),g=k.isValidElement(r)&&r.type==="svg",y=z({},i,{color:o,component:a,fontSize:l,instanceFontSize:e.fontSize,inheritViewBox:u,viewBox:f,hasSvgAsChild:g}),x={};u||(x.viewBox=f);const v=OZ(y);return M.jsxs(NZ,z({as:a,className:lt(v.root,s),focusable:"false",color:c,"aria-hidden":d?void 0:!0,role:d?"img":void 0,ref:n},x,m,g&&r.props,{ownerState:y,children:[g?r.props.children:r,d?M.jsx("title",{children:d}):null]}))});SV.muiName="SvgIcon";const AN=SV;function im(t,e){function n(i,r){return M.jsx(AN,z({"data-testid":`${e}Icon`,ref:r},i,{children:t}))}return n.muiName=AN.muiName,k.memo(k.forwardRef(n))}const FZ={configure:t=>{TP.configure(t)}},zZ=Object.freeze(Object.defineProperty({__proto__:null,capitalize:rt,createChainedFunction:U2,createSvgIcon:im,debounce:wP,deprecatedPropType:tq,isMuiElement:n0,ownerDocument:pr,ownerWindow:lu,requirePropFactory:nq,setRef:R1,unstable_ClassNameGenerator:FZ,unstable_useEnhancedEffect:Uo,unstable_useId:MP,unsupportedProp:sq,useControlled:X0,useEventCallback:Da,useForkRef:Ii,useIsFocusVisible:US},Symbol.toStringTag,{value:"Module"}));function W2(t,e){return W2=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(i,r){return i.__proto__=r,i},W2(t,e)}function wV(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,W2(t,e)}const PN={disabled:!1},L1=Qt.createContext(null);var UZ=function(e){return e.scrollTop},Ng="unmounted",ed="exited",td="entering",wh="entered",G2="exiting",Xl=function(t){wV(e,t);function e(i,r){var s;s=t.call(this,i,r)||this;var o=r,a=o&&!o.isMounting?i.enter:i.appear,l;return s.appearStatus=null,i.in?a?(l=ed,s.appearStatus=td):l=wh:i.unmountOnExit||i.mountOnEnter?l=Ng:l=ed,s.state={status:l},s.nextCallback=null,s}e.getDerivedStateFromProps=function(r,s){var o=r.in;return o&&s.status===Ng?{status:ed}:null};var n=e.prototype;return n.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},n.componentDidUpdate=function(r){var s=null;if(r!==this.props){var o=this.state.status;this.props.in?o!==td&&o!==wh&&(s=td):(o===td||o===wh)&&(s=G2)}this.updateStatus(!1,s)},n.componentWillUnmount=function(){this.cancelNextCallback()},n.getTimeouts=function(){var r=this.props.timeout,s,o,a;return s=o=a=r,r!=null&&typeof r!="number"&&(s=r.exit,o=r.enter,a=r.appear!==void 0?r.appear:o),{exit:s,enter:o,appear:a}},n.updateStatus=function(r,s){if(r===void 0&&(r=!1),s!==null)if(this.cancelNextCallback(),s===td){if(this.props.unmountOnExit||this.props.mountOnEnter){var o=this.props.nodeRef?this.props.nodeRef.current:Dg.findDOMNode(this);o&&UZ(o)}this.performEnter(r)}else this.performExit();else this.props.unmountOnExit&&this.state.status===ed&&this.setState({status:Ng})},n.performEnter=function(r){var s=this,o=this.props.enter,a=this.context?this.context.isMounting:r,l=this.props.nodeRef?[a]:[Dg.findDOMNode(this),a],c=l[0],u=l[1],d=this.getTimeouts(),f=a?d.appear:d.enter;if(!r&&!o||PN.disabled){this.safeSetState({status:wh},function(){s.props.onEntered(c)});return}this.props.onEnter(c,u),this.safeSetState({status:td},function(){s.props.onEntering(c,u),s.onTransitionEnd(f,function(){s.safeSetState({status:wh},function(){s.props.onEntered(c,u)})})})},n.performExit=function(){var r=this,s=this.props.exit,o=this.getTimeouts(),a=this.props.nodeRef?void 0:Dg.findDOMNode(this);if(!s||PN.disabled){this.safeSetState({status:ed},function(){r.props.onExited(a)});return}this.props.onExit(a),this.safeSetState({status:G2},function(){r.props.onExiting(a),r.onTransitionEnd(o.exit,function(){r.safeSetState({status:ed},function(){r.props.onExited(a)})})})},n.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},n.safeSetState=function(r,s){s=this.setNextCallback(s),this.setState(r,s)},n.setNextCallback=function(r){var s=this,o=!0;return this.nextCallback=function(a){o&&(o=!1,s.nextCallback=null,r(a))},this.nextCallback.cancel=function(){o=!1},this.nextCallback},n.onTransitionEnd=function(r,s){this.setNextCallback(s);var o=this.props.nodeRef?this.props.nodeRef.current:Dg.findDOMNode(this),a=r==null&&!this.props.addEndListener;if(!o||a){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var l=this.props.nodeRef?[this.nextCallback]:[o,this.nextCallback],c=l[0],u=l[1];this.props.addEndListener(c,u)}r!=null&&setTimeout(this.nextCallback,r)},n.render=function(){var r=this.state.status;if(r===Ng)return null;var s=this.props,o=s.children;s.in,s.mountOnEnter,s.unmountOnExit,s.appear,s.enter,s.exit,s.timeout,s.addEndListener,s.onEnter,s.onEntering,s.onEntered,s.onExit,s.onExiting,s.onExited,s.nodeRef;var a=tt(s,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return Qt.createElement(L1.Provider,{value:null},typeof o=="function"?o(r,a):Qt.cloneElement(Qt.Children.only(o),a))},e}(Qt.Component);Xl.contextType=L1;Xl.propTypes={};function Wf(){}Xl.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:Wf,onEntering:Wf,onEntered:Wf,onExit:Wf,onExiting:Wf,onExited:Wf};Xl.UNMOUNTED=Ng;Xl.EXITED=ed;Xl.ENTERING=td;Xl.ENTERED=wh;Xl.EXITING=G2;const MV=Xl;function BZ(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function GP(t,e){var n=function(s){return e&&k.isValidElement(s)?e(s):s},i=Object.create(null);return t&&k.Children.map(t,function(r){return r}).forEach(function(r){i[r.key]=n(r)}),i}function HZ(t,e){t=t||{},e=e||{};function n(u){return u in e?e[u]:t[u]}var i=Object.create(null),r=[];for(var s in t)s in e?r.length&&(i[s]=r,r=[]):r.push(s);var o,a={};for(var l in e){if(i[l])for(o=0;o<i[l].length;o++){var c=i[l][o];a[i[l][o]]=n(c)}a[l]=n(l)}for(o=0;o<r.length;o++)a[r[o]]=n(r[o]);return a}function pd(t,e,n){return n[e]!=null?n[e]:t.props[e]}function VZ(t,e){return GP(t.children,function(n){return k.cloneElement(n,{onExited:e.bind(null,n),in:!0,appear:pd(n,"appear",t),enter:pd(n,"enter",t),exit:pd(n,"exit",t)})})}function jZ(t,e,n){var i=GP(t.children),r=HZ(e,i);return Object.keys(r).forEach(function(s){var o=r[s];if(k.isValidElement(o)){var a=s in e,l=s in i,c=e[s],u=k.isValidElement(c)&&!c.props.in;l&&(!a||u)?r[s]=k.cloneElement(o,{onExited:n.bind(null,o),in:!0,exit:pd(o,"exit",t),enter:pd(o,"enter",t)}):!l&&a&&!u?r[s]=k.cloneElement(o,{in:!1}):l&&a&&k.isValidElement(c)&&(r[s]=k.cloneElement(o,{onExited:n.bind(null,o),in:c.props.in,exit:pd(o,"exit",t),enter:pd(o,"enter",t)}))}}),r}var WZ=Object.values||function(t){return Object.keys(t).map(function(e){return t[e]})},GZ={component:"div",childFactory:function(e){return e}},$P=function(t){wV(e,t);function e(i,r){var s;s=t.call(this,i,r)||this;var o=s.handleExited.bind(BZ(s));return s.state={contextValue:{isMounting:!0},handleExited:o,firstRender:!0},s}var n=e.prototype;return n.componentDidMount=function(){this.mounted=!0,this.setState({contextValue:{isMounting:!1}})},n.componentWillUnmount=function(){this.mounted=!1},e.getDerivedStateFromProps=function(r,s){var o=s.children,a=s.handleExited,l=s.firstRender;return{children:l?VZ(r,a):jZ(r,o,a),firstRender:!1}},n.handleExited=function(r,s){var o=GP(this.props.children);r.key in o||(r.props.onExited&&r.props.onExited(s),this.mounted&&this.setState(function(a){var l=z({},a.children);return delete l[r.key],{children:l}}))},n.render=function(){var r=this.props,s=r.component,o=r.childFactory,a=tt(r,["component","childFactory"]),l=this.state.contextValue,c=WZ(this.state.children).map(o);return delete a.appear,delete a.enter,delete a.exit,s===null?Qt.createElement(L1.Provider,{value:l},c):Qt.createElement(L1.Provider,{value:l},Qt.createElement(s,a,c))},e}(Qt.Component);$P.propTypes={};$P.defaultProps=GZ;const $Z=$P,EV=t=>t.scrollTop;function D1(t,e){var n,i;const{timeout:r,easing:s,style:o={}}=t;return{duration:(n=o.transitionDuration)!=null?n:typeof r=="number"?r:r[e.mode]||0,easing:(i=o.transitionTimingFunction)!=null?i:typeof s=="object"?s[e.mode]:s,delay:o.transitionDelay}}function XZ(t){return At("MuiPaper",t)}Dt("MuiPaper",["root","rounded","outlined","elevation","elevation0","elevation1","elevation2","elevation3","elevation4","elevation5","elevation6","elevation7","elevation8","elevation9","elevation10","elevation11","elevation12","elevation13","elevation14","elevation15","elevation16","elevation17","elevation18","elevation19","elevation20","elevation21","elevation22","elevation23","elevation24"]);const YZ=["className","component","elevation","square","variant"],qZ=t=>{const{square:e,elevation:n,variant:i,classes:r}=t,s={root:["root",i,!e&&"rounded",i==="elevation"&&`elevation${n}`]};return Lt(s,XZ,r)},KZ=je("div",{name:"MuiPaper",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[n.variant],!n.square&&e.rounded,n.variant==="elevation"&&e[`elevation${n.elevation}`]]}})(({theme:t,ownerState:e})=>{var n;return z({backgroundColor:(t.vars||t).palette.background.paper,color:(t.vars||t).palette.text.primary,transition:t.transitions.create("box-shadow")},!e.square&&{borderRadius:t.shape.borderRadius},e.variant==="outlined"&&{border:`1px solid ${(t.vars||t).palette.divider}`},e.variant==="elevation"&&z({boxShadow:(t.vars||t).shadows[e.elevation]},!t.vars&&t.palette.mode==="dark"&&{backgroundImage:`linear-gradient(${kn("#fff",RN(e.elevation))}, ${kn("#fff",RN(e.elevation))})`},t.vars&&{backgroundImage:(n=t.vars.overlays)==null?void 0:n[e.elevation]}))}),QZ=k.forwardRef(function(e,n){const i=Ot({props:e,name:"MuiPaper"}),{className:r,component:s="div",elevation:o=1,square:a=!1,variant:l="elevation"}=i,c=tt(i,YZ),u=z({},i,{component:s,elevation:o,square:a,variant:l}),d=qZ(u);return M.jsx(KZ,z({as:s,ownerState:u,className:lt(d.root,r),ref:n},c))}),fw=QZ;function ZZ(t){const{className:e,classes:n,pulsate:i=!1,rippleX:r,rippleY:s,rippleSize:o,in:a,onExited:l,timeout:c}=t,[u,d]=k.useState(!1),f=lt(e,n.ripple,n.rippleVisible,i&&n.ripplePulsate),m={width:o,height:o,top:-(o/2)+s,left:-(o/2)+r},g=lt(n.child,u&&n.childLeaving,i&&n.childPulsate);return!a&&!u&&d(!0),k.useEffect(()=>{if(!a&&l!=null){const y=setTimeout(l,c);return()=>{clearTimeout(y)}}},[l,a,c]),M.jsx("span",{className:f,style:m,children:M.jsx("span",{className:g})})}const JZ=Dt("MuiTouchRipple",["root","ripple","rippleVisible","ripplePulsate","child","childLeaving","childPulsate"]),Ao=JZ,eJ=["center","classes","className"];let hw=t=>t,kN,IN,LN,DN;const $2=550,tJ=80,nJ=Xv(kN||(kN=hw`
  0% {
    transform: scale(0);
    opacity: 0.1;
  }

  100% {
    transform: scale(1);
    opacity: 0.3;
  }
`)),iJ=Xv(IN||(IN=hw`
  0% {
    opacity: 1;
  }

  100% {
    opacity: 0;
  }
`)),rJ=Xv(LN||(LN=hw`
  0% {
    transform: scale(1);
  }

  50% {
    transform: scale(0.92);
  }

  100% {
    transform: scale(1);
  }
`)),sJ=je("span",{name:"MuiTouchRipple",slot:"Root"})({overflow:"hidden",pointerEvents:"none",position:"absolute",zIndex:0,top:0,right:0,bottom:0,left:0,borderRadius:"inherit"}),oJ=je(ZZ,{name:"MuiTouchRipple",slot:"Ripple"})(DN||(DN=hw`
  opacity: 0;
  position: absolute;

  &.${0} {
    opacity: 0.3;
    transform: scale(1);
    animation-name: ${0};
    animation-duration: ${0}ms;
    animation-timing-function: ${0};
  }

  &.${0} {
    animation-duration: ${0}ms;
  }

  & .${0} {
    opacity: 1;
    display: block;
    width: 100%;
    height: 100%;
    border-radius: 50%;
    background-color: currentColor;
  }

  & .${0} {
    opacity: 0;
    animation-name: ${0};
    animation-duration: ${0}ms;
    animation-timing-function: ${0};
  }

  & .${0} {
    position: absolute;
    /* @noflip */
    left: 0px;
    top: 0;
    animation-name: ${0};
    animation-duration: 2500ms;
    animation-timing-function: ${0};
    animation-iteration-count: infinite;
    animation-delay: 200ms;
  }
`),Ao.rippleVisible,nJ,$2,({theme:t})=>t.transitions.easing.easeInOut,Ao.ripplePulsate,({theme:t})=>t.transitions.duration.shorter,Ao.child,Ao.childLeaving,iJ,$2,({theme:t})=>t.transitions.easing.easeInOut,Ao.childPulsate,rJ,({theme:t})=>t.transitions.easing.easeInOut),aJ=k.forwardRef(function(e,n){const i=Ot({props:e,name:"MuiTouchRipple"}),{center:r=!1,classes:s={},className:o}=i,a=tt(i,eJ),[l,c]=k.useState([]),u=k.useRef(0),d=k.useRef(null);k.useEffect(()=>{d.current&&(d.current(),d.current=null)},[l]);const f=k.useRef(!1),m=k.useRef(0),g=k.useRef(null),y=k.useRef(null);k.useEffect(()=>()=>{m.current&&clearTimeout(m.current)},[]);const x=k.useCallback(w=>{const{pulsate:C,rippleX:T,rippleY:R,rippleSize:I,cb:A}=w;c(L=>[...L,M.jsx(oJ,{classes:{ripple:lt(s.ripple,Ao.ripple),rippleVisible:lt(s.rippleVisible,Ao.rippleVisible),ripplePulsate:lt(s.ripplePulsate,Ao.ripplePulsate),child:lt(s.child,Ao.child),childLeaving:lt(s.childLeaving,Ao.childLeaving),childPulsate:lt(s.childPulsate,Ao.childPulsate)},timeout:$2,pulsate:C,rippleX:T,rippleY:R,rippleSize:I},u.current)]),u.current+=1,d.current=A},[s]),v=k.useCallback((w={},C={},T=()=>{})=>{const{pulsate:R=!1,center:I=r||C.pulsate,fakeElement:A=!1}=C;if((w==null?void 0:w.type)==="mousedown"&&f.current){f.current=!1;return}(w==null?void 0:w.type)==="touchstart"&&(f.current=!0);const L=A?null:y.current,O=L?L.getBoundingClientRect():{width:0,height:0,left:0,top:0};let H,q,U;if(I||w===void 0||w.clientX===0&&w.clientY===0||!w.clientX&&!w.touches)H=Math.round(O.width/2),q=Math.round(O.height/2);else{const{clientX:G,clientY:Q}=w.touches&&w.touches.length>0?w.touches[0]:w;H=Math.round(G-O.left),q=Math.round(Q-O.top)}if(I)U=Math.sqrt((2*O.width**2+O.height**2)/3),U%2===0&&(U+=1);else{const G=Math.max(Math.abs((L?L.clientWidth:0)-H),H)*2+2,Q=Math.max(Math.abs((L?L.clientHeight:0)-q),q)*2+2;U=Math.sqrt(G**2+Q**2)}w!=null&&w.touches?g.current===null&&(g.current=()=>{x({pulsate:R,rippleX:H,rippleY:q,rippleSize:U,cb:T})},m.current=setTimeout(()=>{g.current&&(g.current(),g.current=null)},tJ)):x({pulsate:R,rippleX:H,rippleY:q,rippleSize:U,cb:T})},[r,x]),_=k.useCallback(()=>{v({},{pulsate:!0})},[v]),b=k.useCallback((w,C)=>{if(clearTimeout(m.current),(w==null?void 0:w.type)==="touchend"&&g.current){g.current(),g.current=null,m.current=setTimeout(()=>{b(w,C)});return}g.current=null,c(T=>T.length>0?T.slice(1):T),d.current=C},[]);return k.useImperativeHandle(n,()=>({pulsate:_,start:v,stop:b}),[_,v,b]),M.jsx(sJ,z({className:lt(Ao.root,s.root,o),ref:y},a,{children:M.jsx($Z,{component:null,exit:!0,children:l})}))}),lJ=aJ;function cJ(t){return At("MuiButtonBase",t)}const uJ=Dt("MuiButtonBase",["root","disabled","focusVisible"]),dJ=uJ,fJ=["action","centerRipple","children","className","component","disabled","disableRipple","disableTouchRipple","focusRipple","focusVisibleClassName","LinkComponent","onBlur","onClick","onContextMenu","onDragLeave","onFocus","onFocusVisible","onKeyDown","onKeyUp","onMouseDown","onMouseLeave","onMouseUp","onTouchEnd","onTouchMove","onTouchStart","tabIndex","TouchRippleProps","touchRippleRef","type"],hJ=t=>{const{disabled:e,focusVisible:n,focusVisibleClassName:i,classes:r}=t,o=Lt({root:["root",e&&"disabled",n&&"focusVisible"]},cJ,r);return n&&i&&(o.root+=` ${i}`),o},pJ=je("button",{name:"MuiButtonBase",slot:"Root",overridesResolver:(t,e)=>e.root})({display:"inline-flex",alignItems:"center",justifyContent:"center",position:"relative",boxSizing:"border-box",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle",MozAppearance:"none",WebkitAppearance:"none",textDecoration:"none",color:"inherit","&::-moz-focus-inner":{borderStyle:"none"},[`&.${dJ.disabled}`]:{pointerEvents:"none",cursor:"default"},"@media print":{colorAdjust:"exact"}}),mJ=k.forwardRef(function(e,n){const i=Ot({props:e,name:"MuiButtonBase"}),{action:r,centerRipple:s=!1,children:o,className:a,component:l="button",disabled:c=!1,disableRipple:u=!1,disableTouchRipple:d=!1,focusRipple:f=!1,LinkComponent:m="a",onBlur:g,onClick:y,onContextMenu:x,onDragLeave:v,onFocus:_,onFocusVisible:b,onKeyDown:w,onKeyUp:C,onMouseDown:T,onMouseLeave:R,onMouseUp:I,onTouchEnd:A,onTouchMove:L,onTouchStart:O,tabIndex:H=0,TouchRippleProps:q,touchRippleRef:U,type:G}=i,Q=tt(i,fJ),J=k.useRef(null),N=k.useRef(null),B=Ii(N,U),{isFocusVisibleRef:j,onFocus:te,onBlur:se,ref:ne}=US(),[ae,xe]=k.useState(!1);c&&ae&&xe(!1),k.useImperativeHandle(r,()=>({focusVisible:()=>{xe(!0),J.current.focus()}}),[]);const[Ee,Oe]=k.useState(!1);k.useEffect(()=>{Oe(!0)},[]);const ut=Ee&&!u&&!c;k.useEffect(()=>{ae&&f&&!u&&Ee&&N.current.pulsate()},[u,f,ae,Ee]);function qe(we,Le,De=d){return Da(Qe=>(Le&&Le(Qe),!De&&N.current&&N.current[we](Qe),!0))}const Xe=qe("start",T),Ie=qe("stop",x),Z=qe("stop",v),_e=qe("stop",I),de=qe("stop",we=>{ae&&we.preventDefault(),R&&R(we)}),be=qe("start",O),Pe=qe("stop",A),Ke=qe("stop",L),ze=qe("stop",we=>{se(we),j.current===!1&&xe(!1),g&&g(we)},!1),Ge=Da(we=>{J.current||(J.current=we.currentTarget),te(we),j.current===!0&&(xe(!0),b&&b(we)),_&&_(we)}),Ye=()=>{const we=J.current;return l&&l!=="button"&&!(we.tagName==="A"&&we.href)},st=k.useRef(!1),Xt=Da(we=>{f&&!st.current&&ae&&N.current&&we.key===" "&&(st.current=!0,N.current.stop(we,()=>{N.current.start(we)})),we.target===we.currentTarget&&Ye()&&we.key===" "&&we.preventDefault(),w&&w(we),we.target===we.currentTarget&&Ye()&&we.key==="Enter"&&!c&&(we.preventDefault(),y&&y(we))}),$=Da(we=>{f&&we.key===" "&&N.current&&ae&&!we.defaultPrevented&&(st.current=!1,N.current.stop(we,()=>{N.current.pulsate(we)})),C&&C(we),y&&we.target===we.currentTarget&&Ye()&&we.key===" "&&!we.defaultPrevented&&y(we)});let F=l;F==="button"&&(Q.href||Q.to)&&(F=m);const ee={};F==="button"?(ee.type=G===void 0?"button":G,ee.disabled=c):(!Q.href&&!Q.to&&(ee.role="button"),c&&(ee["aria-disabled"]=c));const fe=Ii(n,ne,J),he=z({},i,{centerRipple:s,component:l,disabled:c,disableRipple:u,disableTouchRipple:d,focusRipple:f,tabIndex:H,focusVisible:ae}),me=hJ(he);return M.jsxs(pJ,z({as:F,className:lt(me.root,a),ownerState:he,onBlur:ze,onClick:y,onContextMenu:Ie,onFocus:Ge,onKeyDown:Xt,onKeyUp:$,onMouseDown:Xe,onMouseLeave:de,onMouseUp:_e,onDragLeave:Z,onTouchEnd:Pe,onTouchMove:Ke,onTouchStart:be,ref:fe,tabIndex:c?-1:H,type:G},ee,Q,{children:[o,ut?M.jsx(lJ,z({ref:B,center:s},q)):null]}))}),bu=mJ;function gJ(t){return At("MuiIconButton",t)}const vJ=Dt("MuiIconButton",["root","disabled","colorInherit","colorPrimary","colorSecondary","colorError","colorInfo","colorSuccess","colorWarning","edgeStart","edgeEnd","sizeSmall","sizeMedium","sizeLarge"]),yJ=vJ,xJ=["edge","children","className","color","disabled","disableFocusRipple","size"],_J=t=>{const{classes:e,disabled:n,color:i,edge:r,size:s}=t,o={root:["root",n&&"disabled",i!=="default"&&`color${rt(i)}`,r&&`edge${rt(r)}`,`size${rt(s)}`]};return Lt(o,gJ,e)},bJ=je(bu,{name:"MuiIconButton",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.color!=="default"&&e[`color${rt(n.color)}`],n.edge&&e[`edge${rt(n.edge)}`],e[`size${rt(n.size)}`]]}})(({theme:t,ownerState:e})=>z({textAlign:"center",flex:"0 0 auto",fontSize:t.typography.pxToRem(24),padding:8,borderRadius:"50%",overflow:"visible",color:(t.vars||t).palette.action.active,transition:t.transitions.create("background-color",{duration:t.transitions.duration.shortest})},!e.disableRipple&&{"&:hover":{backgroundColor:t.vars?`rgba(${t.vars.palette.action.activeChannel} / ${t.vars.palette.action.hoverOpacity})`:kn(t.palette.action.active,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},e.edge==="start"&&{marginLeft:e.size==="small"?-3:-12},e.edge==="end"&&{marginRight:e.size==="small"?-3:-12}),({theme:t,ownerState:e})=>{var n;const i=(n=(t.vars||t).palette)==null?void 0:n[e.color];return z({},e.color==="inherit"&&{color:"inherit"},e.color!=="inherit"&&e.color!=="default"&&z({color:i==null?void 0:i.main},!e.disableRipple&&{"&:hover":z({},i&&{backgroundColor:t.vars?`rgba(${i.mainChannel} / ${t.vars.palette.action.hoverOpacity})`:kn(i.main,t.palette.action.hoverOpacity)},{"@media (hover: none)":{backgroundColor:"transparent"}})}),e.size==="small"&&{padding:5,fontSize:t.typography.pxToRem(18)},e.size==="large"&&{padding:12,fontSize:t.typography.pxToRem(28)},{[`&.${yJ.disabled}`]:{backgroundColor:"transparent",color:(t.vars||t).palette.action.disabled}})}),SJ=k.forwardRef(function(e,n){const i=Ot({props:e,name:"MuiIconButton"}),{edge:r=!1,children:s,className:o,color:a="default",disabled:l=!1,disableFocusRipple:c=!1,size:u="medium"}=i,d=tt(i,xJ),f=z({},i,{edge:r,color:a,disabled:l,disableFocusRipple:c,size:u}),m=_J(f);return M.jsx(bJ,z({className:lt(m.root,o),centerRipple:!0,focusRipple:!c,disabled:l,ref:n,ownerState:f},d,{children:s}))}),XP=SJ;function wJ(t){return At("MuiTypography",t)}Dt("MuiTypography",["root","h1","h2","h3","h4","h5","h6","subtitle1","subtitle2","body1","body2","inherit","button","caption","overline","alignLeft","alignRight","alignCenter","alignJustify","noWrap","gutterBottom","paragraph"]);const MJ=["align","className","component","gutterBottom","noWrap","paragraph","variant","variantMapping"],EJ=t=>{const{align:e,gutterBottom:n,noWrap:i,paragraph:r,variant:s,classes:o}=t,a={root:["root",s,t.align!=="inherit"&&`align${rt(e)}`,n&&"gutterBottom",i&&"noWrap",r&&"paragraph"]};return Lt(a,wJ,o)},TJ=je("span",{name:"MuiTypography",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.variant&&e[n.variant],n.align!=="inherit"&&e[`align${rt(n.align)}`],n.noWrap&&e.noWrap,n.gutterBottom&&e.gutterBottom,n.paragraph&&e.paragraph]}})(({theme:t,ownerState:e})=>z({margin:0},e.variant==="inherit"&&{font:"inherit"},e.variant!=="inherit"&&t.typography[e.variant],e.align!=="inherit"&&{textAlign:e.align},e.noWrap&&{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},e.gutterBottom&&{marginBottom:"0.35em"},e.paragraph&&{marginBottom:16})),ON={h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",h6:"h6",subtitle1:"h6",subtitle2:"h6",body1:"p",body2:"p",inherit:"p"},CJ={primary:"primary.main",textPrimary:"text.primary",secondary:"secondary.main",textSecondary:"text.secondary",error:"error.main"},RJ=t=>CJ[t]||t,AJ=k.forwardRef(function(e,n){const i=Ot({props:e,name:"MuiTypography"}),r=RJ(i.color),s=lw(z({},i,{color:r})),{align:o="inherit",className:a,component:l,gutterBottom:c=!1,noWrap:u=!1,paragraph:d=!1,variant:f="body1",variantMapping:m=ON}=s,g=tt(s,MJ),y=z({},s,{align:o,color:r,className:a,component:l,gutterBottom:c,noWrap:u,paragraph:d,variant:f,variantMapping:m}),x=l||(d?"p":m[f]||ON[f])||"span",v=EJ(y);return M.jsx(TJ,z({as:x,ref:n,ownerState:y,className:lt(v.root,a)},g))}),$e=AJ;function Ba(t){return typeof t=="string"}function PJ(t,e,n){return t===void 0||Ba(t)?e:z({},e,{ownerState:z({},e.ownerState,n)})}function kJ(t,e,n=(i,r)=>i===r){return t.length===e.length&&t.every((i,r)=>n(i,e[r]))}function s0(t,e=[]){if(t===void 0)return{};const n={};return Object.keys(t).filter(i=>i.match(/^on[A-Z]/)&&typeof t[i]=="function"&&!e.includes(i)).forEach(i=>{n[i]=t[i]}),n}function IJ(t,e,n){return typeof t=="function"?t(e,n):t}function NN(t){if(t===void 0)return{};const e={};return Object.keys(t).filter(n=>!(n.match(/^on[A-Z]/)&&typeof t[n]=="function")).forEach(n=>{e[n]=t[n]}),e}function LJ(t){const{getSlotProps:e,additionalProps:n,externalSlotProps:i,externalForwardedProps:r,className:s}=t;if(!e){const m=lt(n==null?void 0:n.className,s,r==null?void 0:r.className,i==null?void 0:i.className),g=z({},n==null?void 0:n.style,r==null?void 0:r.style,i==null?void 0:i.style),y=z({},n,r,i);return m.length>0&&(y.className=m),Object.keys(g).length>0&&(y.style=g),{props:y,internalRef:void 0}}const o=s0(z({},r,i)),a=NN(i),l=NN(r),c=e(o),u=lt(c==null?void 0:c.className,n==null?void 0:n.className,s,r==null?void 0:r.className,i==null?void 0:i.className),d=z({},c==null?void 0:c.style,n==null?void 0:n.style,r==null?void 0:r.style,i==null?void 0:i.style),f=z({},c,n,l,a);return u.length>0&&(f.className=u),Object.keys(d).length>0&&(f.style=d),{props:f,internalRef:c.ref}}const DJ=["elementType","externalSlotProps","ownerState","skipResolvingSlotProps"];function bs(t){var e;const{elementType:n,externalSlotProps:i,ownerState:r,skipResolvingSlotProps:s=!1}=t,o=tt(t,DJ),a=s?{}:IJ(i,r),{props:l,internalRef:c}=LJ(z({},o,{externalSlotProps:a})),u=Ii(c,a==null?void 0:a.ref,(e=t.additionalProps)==null?void 0:e.ref);return PJ(n,z({},l,{ref:u}),r)}const OJ=["input","select","textarea","a[href]","button","[tabindex]","audio[controls]","video[controls]",'[contenteditable]:not([contenteditable="false"])'].join(",");function NJ(t){const e=parseInt(t.getAttribute("tabindex")||"",10);return Number.isNaN(e)?t.contentEditable==="true"||(t.nodeName==="AUDIO"||t.nodeName==="VIDEO"||t.nodeName==="DETAILS")&&t.getAttribute("tabindex")===null?0:t.tabIndex:e}function FJ(t){if(t.tagName!=="INPUT"||t.type!=="radio"||!t.name)return!1;const e=i=>t.ownerDocument.querySelector(`input[type="radio"]${i}`);let n=e(`[name="${t.name}"]:checked`);return n||(n=e(`[name="${t.name}"]`)),n!==t}function zJ(t){return!(t.disabled||t.tagName==="INPUT"&&t.type==="hidden"||FJ(t))}function UJ(t){const e=[],n=[];return Array.from(t.querySelectorAll(OJ)).forEach((i,r)=>{const s=NJ(i);s===-1||!zJ(i)||(s===0?e.push(i):n.push({documentOrder:r,tabIndex:s,node:i}))}),n.sort((i,r)=>i.tabIndex===r.tabIndex?i.documentOrder-r.documentOrder:i.tabIndex-r.tabIndex).map(i=>i.node).concat(e)}function BJ(){return!0}function HJ(t){const{children:e,disableAutoFocus:n=!1,disableEnforceFocus:i=!1,disableRestoreFocus:r=!1,getTabbable:s=UJ,isEnabled:o=BJ,open:a}=t,l=k.useRef(!1),c=k.useRef(null),u=k.useRef(null),d=k.useRef(null),f=k.useRef(null),m=k.useRef(!1),g=k.useRef(null),y=Ii(e.ref,g),x=k.useRef(null);k.useEffect(()=>{!a||!g.current||(m.current=!n)},[n,a]),k.useEffect(()=>{if(!a||!g.current)return;const b=pr(g.current);return g.current.contains(b.activeElement)||(g.current.hasAttribute("tabIndex")||g.current.setAttribute("tabIndex","-1"),m.current&&g.current.focus()),()=>{r||(d.current&&d.current.focus&&(l.current=!0,d.current.focus()),d.current=null)}},[a]),k.useEffect(()=>{if(!a||!g.current)return;const b=pr(g.current),w=R=>{x.current=R,!(i||!o()||R.key!=="Tab")&&b.activeElement===g.current&&R.shiftKey&&(l.current=!0,u.current&&u.current.focus())},C=()=>{const R=g.current;if(R===null)return;if(!b.hasFocus()||!o()||l.current){l.current=!1;return}if(R.contains(b.activeElement)||i&&b.activeElement!==c.current&&b.activeElement!==u.current)return;if(b.activeElement!==f.current)f.current=null;else if(f.current!==null)return;if(!m.current)return;let I=[];if((b.activeElement===c.current||b.activeElement===u.current)&&(I=s(g.current)),I.length>0){var A,L;const O=!!((A=x.current)!=null&&A.shiftKey&&((L=x.current)==null?void 0:L.key)==="Tab"),H=I[0],q=I[I.length-1];typeof H!="string"&&typeof q!="string"&&(O?q.focus():H.focus())}else R.focus()};b.addEventListener("focusin",C),b.addEventListener("keydown",w,!0);const T=setInterval(()=>{b.activeElement&&b.activeElement.tagName==="BODY"&&C()},50);return()=>{clearInterval(T),b.removeEventListener("focusin",C),b.removeEventListener("keydown",w,!0)}},[n,i,r,o,a,s]);const v=b=>{d.current===null&&(d.current=b.relatedTarget),m.current=!0,f.current=b.target;const w=e.props.onFocus;w&&w(b)},_=b=>{d.current===null&&(d.current=b.relatedTarget),m.current=!0};return M.jsxs(k.Fragment,{children:[M.jsx("div",{tabIndex:a?0:-1,onFocus:_,ref:c,"data-testid":"sentinelStart"}),k.cloneElement(e,{ref:y,onFocus:v}),M.jsx("div",{tabIndex:a?0:-1,onFocus:_,ref:u,"data-testid":"sentinelEnd"})]})}function VJ(t){return typeof t=="function"?t():t}const jJ=k.forwardRef(function(e,n){const{children:i,container:r,disablePortal:s=!1}=e,[o,a]=k.useState(null),l=Ii(k.isValidElement(i)?i.ref:null,n);if(Uo(()=>{s||a(VJ(r)||document.body)},[r,s]),Uo(()=>{if(o&&!s)return R1(n,o),()=>{R1(n,null)}},[n,o,s]),s){if(k.isValidElement(i)){const c={ref:l};return k.cloneElement(i,c)}return M.jsx(k.Fragment,{children:i})}return M.jsx(k.Fragment,{children:o&&em.createPortal(i,o)})});function WJ(t){const e=pr(t);return e.body===t?lu(t).innerWidth>e.documentElement.clientWidth:t.scrollHeight>t.clientHeight}function o0(t,e){e?t.setAttribute("aria-hidden","true"):t.removeAttribute("aria-hidden")}function FN(t){return parseInt(lu(t).getComputedStyle(t).paddingRight,10)||0}function GJ(t){const n=["TEMPLATE","SCRIPT","STYLE","LINK","MAP","META","NOSCRIPT","PICTURE","COL","COLGROUP","PARAM","SLOT","SOURCE","TRACK"].indexOf(t.tagName)!==-1,i=t.tagName==="INPUT"&&t.getAttribute("type")==="hidden";return n||i}function zN(t,e,n,i,r){const s=[e,n,...i];[].forEach.call(t.children,o=>{const a=s.indexOf(o)===-1,l=!GJ(o);a&&l&&o0(o,r)})}function tT(t,e){let n=-1;return t.some((i,r)=>e(i)?(n=r,!0):!1),n}function $J(t,e){const n=[],i=t.container;if(!e.disableScrollLock){if(WJ(i)){const o=GH(pr(i));n.push({value:i.style.paddingRight,property:"padding-right",el:i}),i.style.paddingRight=`${FN(i)+o}px`;const a=pr(i).querySelectorAll(".mui-fixed");[].forEach.call(a,l=>{n.push({value:l.style.paddingRight,property:"padding-right",el:l}),l.style.paddingRight=`${FN(l)+o}px`})}let s;if(i.parentNode instanceof DocumentFragment)s=pr(i).body;else{const o=i.parentElement,a=lu(i);s=(o==null?void 0:o.nodeName)==="HTML"&&a.getComputedStyle(o).overflowY==="scroll"?o:i}n.push({value:s.style.overflow,property:"overflow",el:s},{value:s.style.overflowX,property:"overflow-x",el:s},{value:s.style.overflowY,property:"overflow-y",el:s}),s.style.overflow="hidden"}return()=>{n.forEach(({value:s,el:o,property:a})=>{s?o.style.setProperty(a,s):o.style.removeProperty(a)})}}function XJ(t){const e=[];return[].forEach.call(t.children,n=>{n.getAttribute("aria-hidden")==="true"&&e.push(n)}),e}class YJ{constructor(){this.containers=void 0,this.modals=void 0,this.modals=[],this.containers=[]}add(e,n){let i=this.modals.indexOf(e);if(i!==-1)return i;i=this.modals.length,this.modals.push(e),e.modalRef&&o0(e.modalRef,!1);const r=XJ(n);zN(n,e.mount,e.modalRef,r,!0);const s=tT(this.containers,o=>o.container===n);return s!==-1?(this.containers[s].modals.push(e),i):(this.containers.push({modals:[e],container:n,restore:null,hiddenSiblings:r}),i)}mount(e,n){const i=tT(this.containers,s=>s.modals.indexOf(e)!==-1),r=this.containers[i];r.restore||(r.restore=$J(r,n))}remove(e,n=!0){const i=this.modals.indexOf(e);if(i===-1)return i;const r=tT(this.containers,o=>o.modals.indexOf(e)!==-1),s=this.containers[r];if(s.modals.splice(s.modals.indexOf(e),1),this.modals.splice(i,1),s.modals.length===0)s.restore&&s.restore(),e.modalRef&&o0(e.modalRef,n),zN(s.container,e.mount,e.modalRef,s.hiddenSiblings,!1),this.containers.splice(r,1);else{const o=s.modals[s.modals.length-1];o.modalRef&&o0(o.modalRef,!1)}return i}isTopModal(e){return this.modals.length>0&&this.modals[this.modals.length-1]===e}}function qJ(t){return typeof t=="function"?t():t}function KJ(t){return t?t.props.hasOwnProperty("in"):!1}const QJ=new YJ;function ZJ(t){const{container:e,disableEscapeKeyDown:n=!1,disableScrollLock:i=!1,manager:r=QJ,closeAfterTransition:s=!1,onTransitionEnter:o,onTransitionExited:a,children:l,onClose:c,open:u,rootRef:d}=t,f=k.useRef({}),m=k.useRef(null),g=k.useRef(null),y=Ii(g,d),[x,v]=k.useState(!u),_=KJ(l);let b=!0;(t["aria-hidden"]==="false"||t["aria-hidden"]===!1)&&(b=!1);const w=()=>pr(m.current),C=()=>(f.current.modalRef=g.current,f.current.mount=m.current,f.current),T=()=>{r.mount(C(),{disableScrollLock:i}),g.current&&(g.current.scrollTop=0)},R=Da(()=>{const Q=qJ(e)||w().body;r.add(C(),Q),g.current&&T()}),I=k.useCallback(()=>r.isTopModal(C()),[r]),A=Da(Q=>{m.current=Q,Q&&(u&&I()?T():g.current&&o0(g.current,b))}),L=k.useCallback(()=>{r.remove(C(),b)},[b,r]);k.useEffect(()=>()=>{L()},[L]),k.useEffect(()=>{u?R():(!_||!s)&&L()},[u,L,_,s,R]);const O=Q=>J=>{var N;(N=Q.onKeyDown)==null||N.call(Q,J),!(J.key!=="Escape"||J.which===229||!I())&&(n||(J.stopPropagation(),c&&c(J,"escapeKeyDown")))},H=Q=>J=>{var N;(N=Q.onClick)==null||N.call(Q,J),J.target===J.currentTarget&&c&&c(J,"backdropClick")};return{getRootProps:(Q={})=>{const J=s0(t);delete J.onTransitionEnter,delete J.onTransitionExited;const N=z({},J,Q);return z({role:"presentation"},N,{onKeyDown:O(N),ref:y})},getBackdropProps:(Q={})=>{const J=Q;return z({"aria-hidden":!0},J,{onClick:H(J),open:u})},getTransitionProps:()=>{const Q=()=>{v(!1),o&&o()},J=()=>{v(!0),a&&a(),s&&L()};return{onEnter:U2(Q,l==null?void 0:l.props.onEnter),onExited:U2(J,l==null?void 0:l.props.onExited)}},rootRef:y,portalRef:A,isTopModal:I,exited:x,hasTransition:_}}const JJ=2;function TV(t,e){return t-e}function Gm(t,e,n){return t==null?e:Math.min(Math.max(e,t),n)}function UN(t,e){var n;const{index:i}=(n=t.reduce((r,s,o)=>{const a=Math.abs(e-s);return r===null||a<r.distance||a===r.distance?{distance:a,index:o}:r},null))!=null?n:{};return i}function Bx(t,e){if(e.current!==void 0&&t.changedTouches){const n=t;for(let i=0;i<n.changedTouches.length;i+=1){const r=n.changedTouches[i];if(r.identifier===e.current)return{x:r.clientX,y:r.clientY}}return!1}return{x:t.clientX,y:t.clientY}}function O1(t,e,n){return(t-e)*100/(n-e)}function eee(t,e,n){return(n-e)*t+e}function tee(t){if(Math.abs(t)<1){const n=t.toExponential().split("e-"),i=n[0].split(".")[1];return(i?i.length:0)+parseInt(n[1],10)}const e=t.toString().split(".")[1];return e?e.length:0}function nee(t,e,n){const i=Math.round((t-n)/e)*e+n;return Number(i.toFixed(tee(e)))}function BN({values:t,newValue:e,index:n}){const i=t.slice();return i[n]=e,i.sort(TV)}function Hx({sliderRef:t,activeIndex:e,setActive:n}){var i,r;const s=pr(t.current);if(!((i=t.current)!=null&&i.contains(s.activeElement))||Number(s==null||(r=s.activeElement)==null?void 0:r.getAttribute("data-index"))!==e){var o;(o=t.current)==null||o.querySelector(`[type="range"][data-index="${e}"]`).focus()}n&&n(e)}function Vx(t,e){return typeof t=="number"&&typeof e=="number"?t===e:typeof t=="object"&&typeof e=="object"?kJ(t,e):!1}const iee={horizontal:{offset:t=>({left:`${t}%`}),leap:t=>({width:`${t}%`})},"horizontal-reverse":{offset:t=>({right:`${t}%`}),leap:t=>({width:`${t}%`})},vertical:{offset:t=>({bottom:`${t}%`}),leap:t=>({height:`${t}%`})}},ree=t=>t;let jx;function nT(){return jx===void 0&&(typeof CSS<"u"&&typeof CSS.supports=="function"?jx=CSS.supports("touch-action","none"):jx=!0),jx}function see(t){const{"aria-labelledby":e,defaultValue:n,disabled:i=!1,disableSwap:r=!1,isRtl:s=!1,marks:o=!1,max:a=100,min:l=0,name:c,onChange:u,onChangeCommitted:d,orientation:f="horizontal",rootRef:m,scale:g=ree,step:y=1,tabIndex:x,value:v}=t,_=k.useRef(),[b,w]=k.useState(-1),[C,T]=k.useState(-1),[R,I]=k.useState(!1),A=k.useRef(0),[L,O]=X0({controlled:v,default:n??l,name:"Slider"}),H=u&&((ee,fe,he)=>{const me=ee.nativeEvent||ee,we=new me.constructor(me.type,me);Object.defineProperty(we,"target",{writable:!0,value:{value:fe,name:c}}),u(we,fe,he)}),q=Array.isArray(L);let U=q?L.slice().sort(TV):[L];U=U.map(ee=>Gm(ee,l,a));const G=o===!0&&y!==null?[...Array(Math.floor((a-l)/y)+1)].map((ee,fe)=>({value:l+y*fe})):o||[],Q=G.map(ee=>ee.value),{isFocusVisibleRef:J,onBlur:N,onFocus:B,ref:j}=US(),[te,se]=k.useState(-1),ne=k.useRef(),ae=Ii(j,ne),xe=Ii(m,ae),Ee=ee=>fe=>{var he;const me=Number(fe.currentTarget.getAttribute("data-index"));B(fe),J.current===!0&&se(me),T(me),ee==null||(he=ee.onFocus)==null||he.call(ee,fe)},Oe=ee=>fe=>{var he;N(fe),J.current===!1&&se(-1),T(-1),ee==null||(he=ee.onBlur)==null||he.call(ee,fe)};Uo(()=>{if(i&&ne.current.contains(document.activeElement)){var ee;(ee=document.activeElement)==null||ee.blur()}},[i]),i&&b!==-1&&w(-1),i&&te!==-1&&se(-1);const ut=ee=>fe=>{var he;(he=ee.onChange)==null||he.call(ee,fe);const me=Number(fe.currentTarget.getAttribute("data-index")),we=U[me],Le=Q.indexOf(we);let De=fe.target.valueAsNumber;if(G&&y==null){const Qe=Q[Q.length-1];De>Qe?De=Qe:De<Q[0]?De=Q[0]:De=De<we?Q[Le-1]:Q[Le+1]}if(De=Gm(De,l,a),q){r&&(De=Gm(De,U[me-1]||-1/0,U[me+1]||1/0));const Qe=De;De=BN({values:U,newValue:De,index:me});let Ne=me;r||(Ne=De.indexOf(Qe)),Hx({sliderRef:ne,activeIndex:Ne})}O(De),se(me),H&&!Vx(De,L)&&H(fe,De,me),d&&d(fe,De)},qe=k.useRef();let Xe=f;s&&f==="horizontal"&&(Xe+="-reverse");const Ie=({finger:ee,move:fe=!1})=>{const{current:he}=ne,{width:me,height:we,bottom:Le,left:De}=he.getBoundingClientRect();let Qe;Xe.indexOf("vertical")===0?Qe=(Le-ee.y)/we:Qe=(ee.x-De)/me,Xe.indexOf("-reverse")!==-1&&(Qe=1-Qe);let Ne;if(Ne=eee(Qe,l,a),y)Ne=nee(Ne,y,l);else{const wt=UN(Q,Ne);Ne=Q[wt]}Ne=Gm(Ne,l,a);let Ce=0;if(q){fe?Ce=qe.current:Ce=UN(U,Ne),r&&(Ne=Gm(Ne,U[Ce-1]||-1/0,U[Ce+1]||1/0));const wt=Ne;Ne=BN({values:U,newValue:Ne,index:Ce}),r&&fe||(Ce=Ne.indexOf(wt),qe.current=Ce)}return{newValue:Ne,activeIndex:Ce}},Z=Da(ee=>{const fe=Bx(ee,_);if(!fe)return;if(A.current+=1,ee.type==="mousemove"&&ee.buttons===0){_e(ee);return}const{newValue:he,activeIndex:me}=Ie({finger:fe,move:!0});Hx({sliderRef:ne,activeIndex:me,setActive:w}),O(he),!R&&A.current>JJ&&I(!0),H&&!Vx(he,L)&&H(ee,he,me)}),_e=Da(ee=>{const fe=Bx(ee,_);if(I(!1),!fe)return;const{newValue:he}=Ie({finger:fe,move:!0});w(-1),ee.type==="touchend"&&T(-1),d&&d(ee,he),_.current=void 0,be()}),de=Da(ee=>{if(i)return;nT()||ee.preventDefault();const fe=ee.changedTouches[0];fe!=null&&(_.current=fe.identifier);const he=Bx(ee,_);if(he!==!1){const{newValue:we,activeIndex:Le}=Ie({finger:he});Hx({sliderRef:ne,activeIndex:Le,setActive:w}),O(we),H&&!Vx(we,L)&&H(ee,we,Le)}A.current=0;const me=pr(ne.current);me.addEventListener("touchmove",Z),me.addEventListener("touchend",_e)}),be=k.useCallback(()=>{const ee=pr(ne.current);ee.removeEventListener("mousemove",Z),ee.removeEventListener("mouseup",_e),ee.removeEventListener("touchmove",Z),ee.removeEventListener("touchend",_e)},[_e,Z]);k.useEffect(()=>{const{current:ee}=ne;return ee.addEventListener("touchstart",de,{passive:nT()}),()=>{ee.removeEventListener("touchstart",de,{passive:nT()}),be()}},[be,de]),k.useEffect(()=>{i&&be()},[i,be]);const Pe=ee=>fe=>{var he;if((he=ee.onMouseDown)==null||he.call(ee,fe),i||fe.defaultPrevented||fe.button!==0)return;fe.preventDefault();const me=Bx(fe,_);if(me!==!1){const{newValue:Le,activeIndex:De}=Ie({finger:me});Hx({sliderRef:ne,activeIndex:De,setActive:w}),O(Le),H&&!Vx(Le,L)&&H(fe,Le,De)}A.current=0;const we=pr(ne.current);we.addEventListener("mousemove",Z),we.addEventListener("mouseup",_e)},Ke=O1(q?U[0]:l,l,a),ze=O1(U[U.length-1],l,a)-Ke,Ge=(ee={})=>{const fe=s0(ee),he={onMouseDown:Pe(fe||{})},me=z({},fe,he);return z({},ee,{ref:xe},me)},Ye=ee=>fe=>{var he;(he=ee.onMouseOver)==null||he.call(ee,fe);const me=Number(fe.currentTarget.getAttribute("data-index"));T(me)},st=ee=>fe=>{var he;(he=ee.onMouseLeave)==null||he.call(ee,fe),T(-1)};return{active:b,axis:Xe,axisProps:iee,dragging:R,focusedThumbIndex:te,getHiddenInputProps:(ee={})=>{var fe;const he=s0(ee),me={onChange:ut(he||{}),onFocus:Ee(he||{}),onBlur:Oe(he||{})},we=z({},he,me);return z({tabIndex:x,"aria-labelledby":e,"aria-orientation":f,"aria-valuemax":g(a),"aria-valuemin":g(l),name:c,type:"range",min:t.min,max:t.max,step:t.step===null&&t.marks?"any":(fe=t.step)!=null?fe:void 0,disabled:i},ee,we,{style:z({},hq,{direction:s?"rtl":"ltr",width:"100%",height:"100%"})})},getRootProps:Ge,getThumbProps:(ee={})=>{const fe=s0(ee),he={onMouseOver:Ye(fe||{}),onMouseLeave:st(fe||{})};return z({},ee,fe,he)},marks:G,open:C,range:q,rootRef:xe,trackLeap:ze,trackOffset:Ke,values:U,getThumbStyle:ee=>({pointerEvents:b!==-1&&b!==ee?"none":void 0})}}const oee=["onChange","maxRows","minRows","style","value"];function Wx(t){return parseInt(t,10)||0}const aee={shadow:{visibility:"hidden",position:"absolute",overflow:"hidden",height:0,top:0,left:0,transform:"translateZ(0)"}};function HN(t){return t==null||Object.keys(t).length===0||t.outerHeightStyle===0&&!t.overflow}const lee=k.forwardRef(function(e,n){const{onChange:i,maxRows:r,minRows:s=1,style:o,value:a}=e,l=tt(e,oee),{current:c}=k.useRef(a!=null),u=k.useRef(null),d=Ii(n,u),f=k.useRef(null),m=k.useRef(0),[g,y]=k.useState({outerHeightStyle:0}),x=k.useCallback(()=>{const w=u.current,T=lu(w).getComputedStyle(w);if(T.width==="0px")return{outerHeightStyle:0};const R=f.current;R.style.width=T.width,R.value=w.value||e.placeholder||"x",R.value.slice(-1)===`
`&&(R.value+=" ");const I=T.boxSizing,A=Wx(T.paddingBottom)+Wx(T.paddingTop),L=Wx(T.borderBottomWidth)+Wx(T.borderTopWidth),O=R.scrollHeight;R.value="x";const H=R.scrollHeight;let q=O;s&&(q=Math.max(Number(s)*H,q)),r&&(q=Math.min(Number(r)*H,q)),q=Math.max(q,H);const U=q+(I==="border-box"?A+L:0),G=Math.abs(q-O)<=1;return{outerHeightStyle:U,overflow:G}},[r,s,e.placeholder]),v=(w,C)=>{const{outerHeightStyle:T,overflow:R}=C;return m.current<20&&(T>0&&Math.abs((w.outerHeightStyle||0)-T)>1||w.overflow!==R)?(m.current+=1,{overflow:R,outerHeightStyle:T}):w},_=k.useCallback(()=>{const w=x();HN(w)||y(C=>v(C,w))},[x]);Uo(()=>{const w=()=>{const O=x();HN(O)||em.flushSync(()=>{y(H=>v(H,O))})},C=()=>{m.current=0,w()};let T;const R=wP(C),I=u.current,A=lu(I);A.addEventListener("resize",R);let L;return typeof ResizeObserver<"u"&&(L=new ResizeObserver(C),L.observe(I)),()=>{R.clear(),cancelAnimationFrame(T),A.removeEventListener("resize",R),L&&L.disconnect()}},[x]),Uo(()=>{_()}),k.useEffect(()=>{m.current=0},[a]);const b=w=>{m.current=0,c||_(),i&&i(w)};return M.jsxs(k.Fragment,{children:[M.jsx("textarea",z({value:a,onChange:b,ref:d,rows:s,style:z({height:g.outerHeightStyle,overflow:g.overflow?"hidden":void 0},o)},l)),M.jsx("textarea",{"aria-hidden":!0,className:e.className,readOnly:!0,ref:f,tabIndex:-1,style:z({},aee.shadow,o,{paddingTop:0,paddingBottom:0})})]})});function cf({props:t,states:e,muiFormControl:n}){return e.reduce((i,r)=>(i[r]=t[r],n&&typeof t[r]>"u"&&(i[r]=n[r]),i),{})}const cee=k.createContext(void 0),YP=cee;function Su(){return k.useContext(YP)}function pw(t){return M.jsx(vQ,z({},t,{defaultTheme:dw,themeId:Yd}))}function VN(t){return t!=null&&!(Array.isArray(t)&&t.length===0)}function N1(t,e=!1){return t&&(VN(t.value)&&t.value!==""||e&&VN(t.defaultValue)&&t.defaultValue!=="")}function uee(t){return t.startAdornment}function dee(t){return At("MuiInputBase",t)}const fee=Dt("MuiInputBase",["root","formControl","focused","disabled","adornedStart","adornedEnd","error","sizeSmall","multiline","colorSecondary","fullWidth","hiddenLabel","readOnly","input","inputSizeSmall","inputMultiline","inputTypeSearch","inputAdornedStart","inputAdornedEnd","inputHiddenLabel"]),Dp=fee,hee=["aria-describedby","autoComplete","autoFocus","className","color","components","componentsProps","defaultValue","disabled","disableInjectingGlobalStyles","endAdornment","error","fullWidth","id","inputComponent","inputProps","inputRef","margin","maxRows","minRows","multiline","name","onBlur","onChange","onClick","onFocus","onKeyDown","onKeyUp","placeholder","readOnly","renderSuffix","rows","size","slotProps","slots","startAdornment","type","value"],mw=(t,e)=>{const{ownerState:n}=t;return[e.root,n.formControl&&e.formControl,n.startAdornment&&e.adornedStart,n.endAdornment&&e.adornedEnd,n.error&&e.error,n.size==="small"&&e.sizeSmall,n.multiline&&e.multiline,n.color&&e[`color${rt(n.color)}`],n.fullWidth&&e.fullWidth,n.hiddenLabel&&e.hiddenLabel]},gw=(t,e)=>{const{ownerState:n}=t;return[e.input,n.size==="small"&&e.inputSizeSmall,n.multiline&&e.inputMultiline,n.type==="search"&&e.inputTypeSearch,n.startAdornment&&e.inputAdornedStart,n.endAdornment&&e.inputAdornedEnd,n.hiddenLabel&&e.inputHiddenLabel]},pee=t=>{const{classes:e,color:n,disabled:i,error:r,endAdornment:s,focused:o,formControl:a,fullWidth:l,hiddenLabel:c,multiline:u,readOnly:d,size:f,startAdornment:m,type:g}=t,y={root:["root",`color${rt(n)}`,i&&"disabled",r&&"error",l&&"fullWidth",o&&"focused",a&&"formControl",f&&f!=="medium"&&`size${rt(f)}`,u&&"multiline",m&&"adornedStart",s&&"adornedEnd",c&&"hiddenLabel",d&&"readOnly"],input:["input",i&&"disabled",g==="search"&&"inputTypeSearch",u&&"inputMultiline",f==="small"&&"inputSizeSmall",c&&"inputHiddenLabel",m&&"inputAdornedStart",s&&"inputAdornedEnd",d&&"readOnly"]};return Lt(y,dee,e)},vw=je("div",{name:"MuiInputBase",slot:"Root",overridesResolver:mw})(({theme:t,ownerState:e})=>z({},t.typography.body1,{color:(t.vars||t).palette.text.primary,lineHeight:"1.4375em",boxSizing:"border-box",position:"relative",cursor:"text",display:"inline-flex",alignItems:"center",[`&.${Dp.disabled}`]:{color:(t.vars||t).palette.text.disabled,cursor:"default"}},e.multiline&&z({padding:"4px 0 5px"},e.size==="small"&&{paddingTop:1}),e.fullWidth&&{width:"100%"})),yw=je("input",{name:"MuiInputBase",slot:"Input",overridesResolver:gw})(({theme:t,ownerState:e})=>{const n=t.palette.mode==="light",i=z({color:"currentColor"},t.vars?{opacity:t.vars.opacity.inputPlaceholder}:{opacity:n?.42:.5},{transition:t.transitions.create("opacity",{duration:t.transitions.duration.shorter})}),r={opacity:"0 !important"},s=t.vars?{opacity:t.vars.opacity.inputPlaceholder}:{opacity:n?.42:.5};return z({font:"inherit",letterSpacing:"inherit",color:"currentColor",padding:"4px 0 5px",border:0,boxSizing:"content-box",background:"none",height:"1.4375em",margin:0,WebkitTapHighlightColor:"transparent",display:"block",minWidth:0,width:"100%",animationName:"mui-auto-fill-cancel",animationDuration:"10ms","&::-webkit-input-placeholder":i,"&::-moz-placeholder":i,"&:-ms-input-placeholder":i,"&::-ms-input-placeholder":i,"&:focus":{outline:0},"&:invalid":{boxShadow:"none"},"&::-webkit-search-decoration":{WebkitAppearance:"none"},[`label[data-shrink=false] + .${Dp.formControl} &`]:{"&::-webkit-input-placeholder":r,"&::-moz-placeholder":r,"&:-ms-input-placeholder":r,"&::-ms-input-placeholder":r,"&:focus::-webkit-input-placeholder":s,"&:focus::-moz-placeholder":s,"&:focus:-ms-input-placeholder":s,"&:focus::-ms-input-placeholder":s},[`&.${Dp.disabled}`]:{opacity:1,WebkitTextFillColor:(t.vars||t).palette.text.disabled},"&:-webkit-autofill":{animationDuration:"5000s",animationName:"mui-auto-fill"}},e.size==="small"&&{paddingTop:1},e.multiline&&{height:"auto",resize:"none",padding:0,paddingTop:0},e.type==="search"&&{MozAppearance:"textfield"})}),mee=M.jsx(pw,{styles:{"@keyframes mui-auto-fill":{from:{display:"block"}},"@keyframes mui-auto-fill-cancel":{from:{display:"block"}}}}),gee=k.forwardRef(function(e,n){var i;const r=Ot({props:e,name:"MuiInputBase"}),{"aria-describedby":s,autoComplete:o,autoFocus:a,className:l,components:c={},componentsProps:u={},defaultValue:d,disabled:f,disableInjectingGlobalStyles:m,endAdornment:g,fullWidth:y=!1,id:x,inputComponent:v="input",inputProps:_={},inputRef:b,maxRows:w,minRows:C,multiline:T=!1,name:R,onBlur:I,onChange:A,onClick:L,onFocus:O,onKeyDown:H,onKeyUp:q,placeholder:U,readOnly:G,renderSuffix:Q,rows:J,slotProps:N={},slots:B={},startAdornment:j,type:te="text",value:se}=r,ne=tt(r,hee),ae=_.value!=null?_.value:se,{current:xe}=k.useRef(ae!=null),Ee=k.useRef(),Oe=k.useCallback(me=>{},[]),ut=Ii(Ee,b,_.ref,Oe),[qe,Xe]=k.useState(!1),Ie=Su(),Z=cf({props:r,muiFormControl:Ie,states:["color","disabled","error","hiddenLabel","size","required","filled"]});Z.focused=Ie?Ie.focused:qe,k.useEffect(()=>{!Ie&&f&&qe&&(Xe(!1),I&&I())},[Ie,f,qe,I]);const _e=Ie&&Ie.onFilled,de=Ie&&Ie.onEmpty,be=k.useCallback(me=>{N1(me)?_e&&_e():de&&de()},[_e,de]);Uo(()=>{xe&&be({value:ae})},[ae,be,xe]);const Pe=me=>{if(Z.disabled){me.stopPropagation();return}O&&O(me),_.onFocus&&_.onFocus(me),Ie&&Ie.onFocus?Ie.onFocus(me):Xe(!0)},Ke=me=>{I&&I(me),_.onBlur&&_.onBlur(me),Ie&&Ie.onBlur?Ie.onBlur(me):Xe(!1)},ze=(me,...we)=>{if(!xe){const Le=me.target||Ee.current;if(Le==null)throw new Error(au(1));be({value:Le.value})}_.onChange&&_.onChange(me,...we),A&&A(me,...we)};k.useEffect(()=>{be(Ee.current)},[]);const Ge=me=>{Ee.current&&me.currentTarget===me.target&&Ee.current.focus(),L&&L(me)};let Ye=v,st=_;T&&Ye==="input"&&(J?st=z({type:void 0,minRows:J,maxRows:J},st):st=z({type:void 0,maxRows:w,minRows:C},st),Ye=lee);const Xt=me=>{be(me.animationName==="mui-auto-fill-cancel"?Ee.current:{value:"x"})};k.useEffect(()=>{Ie&&Ie.setAdornedStart(!!j)},[Ie,j]);const $=z({},r,{color:Z.color||"primary",disabled:Z.disabled,endAdornment:g,error:Z.error,focused:Z.focused,formControl:Ie,fullWidth:y,hiddenLabel:Z.hiddenLabel,multiline:T,size:Z.size,startAdornment:j,type:te}),F=pee($),ee=B.root||c.Root||vw,fe=N.root||u.root||{},he=B.input||c.Input||yw;return st=z({},st,(i=N.input)!=null?i:u.input),M.jsxs(k.Fragment,{children:[!m&&mee,M.jsxs(ee,z({},fe,!Ba(ee)&&{ownerState:z({},$,fe.ownerState)},{ref:n,onClick:Ge},ne,{className:lt(F.root,fe.className,l,G&&"MuiInputBase-readOnly"),children:[j,M.jsx(YP.Provider,{value:null,children:M.jsx(he,z({ownerState:$,"aria-invalid":Z.error,"aria-describedby":s,autoComplete:o,autoFocus:a,defaultValue:d,disabled:Z.disabled,id:x,onAnimationStart:Xt,name:R,placeholder:U,readOnly:G,required:Z.required,rows:J,value:ae,onKeyDown:H,onKeyUp:q,type:te},st,!Ba(he)&&{as:Ye,ownerState:z({},$,st.ownerState)},{ref:ut,className:lt(F.input,st.className,G&&"MuiInputBase-readOnly"),onBlur:Ke,onChange:ze,onFocus:Pe}))}),g,Q?Q(z({},Z,{startAdornment:j})):null]}))]})}),xw=gee;function vee(t){return At("MuiInput",t)}const yee=z({},Dp,Dt("MuiInput",["root","underline","input"])),$m=yee;function xee(t){return At("MuiOutlinedInput",t)}const _ee=z({},Dp,Dt("MuiOutlinedInput",["root","notchedOutline","input"])),sc=_ee;function bee(t){return At("MuiFilledInput",t)}const See=z({},Dp,Dt("MuiFilledInput",["root","underline","input"])),zu=See,wee=im(M.jsx("path",{d:"M7 10l5 5 5-5z"}),"ArrowDropDown"),Mee=im(M.jsx("path",{d:"M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"}),"Person");function Eee(t){return At("MuiAvatar",t)}Dt("MuiAvatar",["root","colorDefault","circular","rounded","square","img","fallback"]);const Tee=["alt","children","className","component","imgProps","sizes","src","srcSet","variant"],Cee=t=>{const{classes:e,variant:n,colorDefault:i}=t;return Lt({root:["root",n,i&&"colorDefault"],img:["img"],fallback:["fallback"]},Eee,e)},Ree=je("div",{name:"MuiAvatar",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[n.variant],n.colorDefault&&e.colorDefault]}})(({theme:t,ownerState:e})=>z({position:"relative",display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0,width:40,height:40,fontFamily:t.typography.fontFamily,fontSize:t.typography.pxToRem(20),lineHeight:1,borderRadius:"50%",overflow:"hidden",userSelect:"none"},e.variant==="rounded"&&{borderRadius:(t.vars||t).shape.borderRadius},e.variant==="square"&&{borderRadius:0},e.colorDefault&&z({color:(t.vars||t).palette.background.default},t.vars?{backgroundColor:t.vars.palette.Avatar.defaultBg}:{backgroundColor:t.palette.mode==="light"?t.palette.grey[400]:t.palette.grey[600]}))),Aee=je("img",{name:"MuiAvatar",slot:"Img",overridesResolver:(t,e)=>e.img})({width:"100%",height:"100%",textAlign:"center",objectFit:"cover",color:"transparent",textIndent:1e4}),Pee=je(Mee,{name:"MuiAvatar",slot:"Fallback",overridesResolver:(t,e)=>e.fallback})({width:"75%",height:"75%"});function kee({crossOrigin:t,referrerPolicy:e,src:n,srcSet:i}){const[r,s]=k.useState(!1);return k.useEffect(()=>{if(!n&&!i)return;s(!1);let o=!0;const a=new Image;return a.onload=()=>{o&&s("loaded")},a.onerror=()=>{o&&s("error")},a.crossOrigin=t,a.referrerPolicy=e,a.src=n,i&&(a.srcset=i),()=>{o=!1}},[t,e,n,i]),r}const Iee=k.forwardRef(function(e,n){const i=Ot({props:e,name:"MuiAvatar"}),{alt:r,children:s,className:o,component:a="div",imgProps:l,sizes:c,src:u,srcSet:d,variant:f="circular"}=i,m=tt(i,Tee);let g=null;const y=kee(z({},l,{src:u,srcSet:d})),x=u||d,v=x&&y!=="error",_=z({},i,{colorDefault:!v,component:a,variant:f}),b=Cee(_);return v?g=M.jsx(Aee,z({alt:r,srcSet:d,src:u,sizes:c,ownerState:_,className:b.img},l)):s!=null?g=s:x&&r?g=r[0]:g=M.jsx(Pee,{ownerState:_,className:b.fallback}),M.jsx(Ree,z({as:a,ownerState:_,className:lt(b.root,o),ref:n},m,{children:g}))}),Jc=Iee,Lee=["addEndListener","appear","children","easing","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"],Dee={entering:{opacity:1},entered:{opacity:1}},Oee=k.forwardRef(function(e,n){const i=vr(),r={enter:i.transitions.duration.enteringScreen,exit:i.transitions.duration.leavingScreen},{addEndListener:s,appear:o=!0,children:a,easing:l,in:c,onEnter:u,onEntered:d,onEntering:f,onExit:m,onExited:g,onExiting:y,style:x,timeout:v=r,TransitionComponent:_=MV}=e,b=tt(e,Lee),w=k.useRef(null),C=Ii(w,a.ref,n),T=U=>G=>{if(U){const Q=w.current;G===void 0?U(Q):U(Q,G)}},R=T(f),I=T((U,G)=>{EV(U);const Q=D1({style:x,timeout:v,easing:l},{mode:"enter"});U.style.webkitTransition=i.transitions.create("opacity",Q),U.style.transition=i.transitions.create("opacity",Q),u&&u(U,G)}),A=T(d),L=T(y),O=T(U=>{const G=D1({style:x,timeout:v,easing:l},{mode:"exit"});U.style.webkitTransition=i.transitions.create("opacity",G),U.style.transition=i.transitions.create("opacity",G),m&&m(U)}),H=T(g),q=U=>{s&&s(w.current,U)};return M.jsx(_,z({appear:o,in:c,nodeRef:w,onEnter:I,onEntered:A,onEntering:R,onExit:O,onExited:H,onExiting:L,addEndListener:q,timeout:v},b,{children:(U,G)=>k.cloneElement(a,z({style:z({opacity:0,visibility:U==="exited"&&!c?"hidden":void 0},Dee[U],x,a.props.style),ref:C},G))}))}),Nee=Oee;function Fee(t){return At("MuiBackdrop",t)}Dt("MuiBackdrop",["root","invisible"]);const zee=["children","className","component","components","componentsProps","invisible","open","slotProps","slots","TransitionComponent","transitionDuration"],Uee=t=>{const{classes:e,invisible:n}=t;return Lt({root:["root",n&&"invisible"]},Fee,e)},Bee=je("div",{name:"MuiBackdrop",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.invisible&&e.invisible]}})(({ownerState:t})=>z({position:"fixed",display:"flex",alignItems:"center",justifyContent:"center",right:0,bottom:0,top:0,left:0,backgroundColor:"rgba(0, 0, 0, 0.5)",WebkitTapHighlightColor:"transparent"},t.invisible&&{backgroundColor:"transparent"})),Hee=k.forwardRef(function(e,n){var i,r,s;const o=Ot({props:e,name:"MuiBackdrop"}),{children:a,className:l,component:c="div",components:u={},componentsProps:d={},invisible:f=!1,open:m,slotProps:g={},slots:y={},TransitionComponent:x=Nee,transitionDuration:v}=o,_=tt(o,zee),b=z({},o,{component:c,invisible:f}),w=Uee(b),C=(i=g.root)!=null?i:d.root;return M.jsx(x,z({in:m,timeout:v},_,{children:M.jsx(Bee,z({"aria-hidden":!0},C,{as:(r=(s=y.root)!=null?s:u.Root)!=null?r:c,className:lt(w.root,l,C==null?void 0:C.className),ownerState:z({},b,C==null?void 0:C.ownerState),classes:w,ref:n,children:a}))}))}),Vee=Hee,jee=Dt("MuiBox",["root"]),Wee=jee,Gee=uw(),$ee=bQ({themeId:Yd,defaultTheme:Gee,defaultClassName:Wee.root,generateClassName:TP.generate}),Vl=$ee;function Xee(t){return At("MuiButton",t)}const Yee=Dt("MuiButton",["root","text","textInherit","textPrimary","textSecondary","textSuccess","textError","textInfo","textWarning","outlined","outlinedInherit","outlinedPrimary","outlinedSecondary","outlinedSuccess","outlinedError","outlinedInfo","outlinedWarning","contained","containedInherit","containedPrimary","containedSecondary","containedSuccess","containedError","containedInfo","containedWarning","disableElevation","focusVisible","disabled","colorInherit","textSizeSmall","textSizeMedium","textSizeLarge","outlinedSizeSmall","outlinedSizeMedium","outlinedSizeLarge","containedSizeSmall","containedSizeMedium","containedSizeLarge","sizeMedium","sizeSmall","sizeLarge","fullWidth","startIcon","endIcon","iconSizeSmall","iconSizeMedium","iconSizeLarge"]),Gx=Yee,qee=k.createContext({}),Kee=qee,Qee=k.createContext(void 0),Zee=Qee,Jee=["children","color","component","className","disabled","disableElevation","disableFocusRipple","endIcon","focusVisibleClassName","fullWidth","size","startIcon","type","variant"],ete=t=>{const{color:e,disableElevation:n,fullWidth:i,size:r,variant:s,classes:o}=t,a={root:["root",s,`${s}${rt(e)}`,`size${rt(r)}`,`${s}Size${rt(r)}`,e==="inherit"&&"colorInherit",n&&"disableElevation",i&&"fullWidth"],label:["label"],startIcon:["startIcon",`iconSize${rt(r)}`],endIcon:["endIcon",`iconSize${rt(r)}`]},l=Lt(a,Xee,o);return z({},o,l)},CV=t=>z({},t.size==="small"&&{"& > *:nth-of-type(1)":{fontSize:18}},t.size==="medium"&&{"& > *:nth-of-type(1)":{fontSize:20}},t.size==="large"&&{"& > *:nth-of-type(1)":{fontSize:22}}),tte=je(bu,{shouldForwardProp:t=>ls(t)||t==="classes",name:"MuiButton",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[n.variant],e[`${n.variant}${rt(n.color)}`],e[`size${rt(n.size)}`],e[`${n.variant}Size${rt(n.size)}`],n.color==="inherit"&&e.colorInherit,n.disableElevation&&e.disableElevation,n.fullWidth&&e.fullWidth]}})(({theme:t,ownerState:e})=>{var n,i;const r=t.palette.mode==="light"?t.palette.grey[300]:t.palette.grey[800],s=t.palette.mode==="light"?t.palette.grey.A100:t.palette.grey[700];return z({},t.typography.button,{minWidth:64,padding:"6px 16px",borderRadius:(t.vars||t).shape.borderRadius,transition:t.transitions.create(["background-color","box-shadow","border-color","color"],{duration:t.transitions.duration.short}),"&:hover":z({textDecoration:"none",backgroundColor:t.vars?`rgba(${t.vars.palette.text.primaryChannel} / ${t.vars.palette.action.hoverOpacity})`:kn(t.palette.text.primary,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},e.variant==="text"&&e.color!=="inherit"&&{backgroundColor:t.vars?`rgba(${t.vars.palette[e.color].mainChannel} / ${t.vars.palette.action.hoverOpacity})`:kn(t.palette[e.color].main,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},e.variant==="outlined"&&e.color!=="inherit"&&{border:`1px solid ${(t.vars||t).palette[e.color].main}`,backgroundColor:t.vars?`rgba(${t.vars.palette[e.color].mainChannel} / ${t.vars.palette.action.hoverOpacity})`:kn(t.palette[e.color].main,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},e.variant==="contained"&&{backgroundColor:t.vars?t.vars.palette.Button.inheritContainedHoverBg:s,boxShadow:(t.vars||t).shadows[4],"@media (hover: none)":{boxShadow:(t.vars||t).shadows[2],backgroundColor:(t.vars||t).palette.grey[300]}},e.variant==="contained"&&e.color!=="inherit"&&{backgroundColor:(t.vars||t).palette[e.color].dark,"@media (hover: none)":{backgroundColor:(t.vars||t).palette[e.color].main}}),"&:active":z({},e.variant==="contained"&&{boxShadow:(t.vars||t).shadows[8]}),[`&.${Gx.focusVisible}`]:z({},e.variant==="contained"&&{boxShadow:(t.vars||t).shadows[6]}),[`&.${Gx.disabled}`]:z({color:(t.vars||t).palette.action.disabled},e.variant==="outlined"&&{border:`1px solid ${(t.vars||t).palette.action.disabledBackground}`},e.variant==="contained"&&{color:(t.vars||t).palette.action.disabled,boxShadow:(t.vars||t).shadows[0],backgroundColor:(t.vars||t).palette.action.disabledBackground})},e.variant==="text"&&{padding:"6px 8px"},e.variant==="text"&&e.color!=="inherit"&&{color:(t.vars||t).palette[e.color].main},e.variant==="outlined"&&{padding:"5px 15px",border:"1px solid currentColor"},e.variant==="outlined"&&e.color!=="inherit"&&{color:(t.vars||t).palette[e.color].main,border:t.vars?`1px solid rgba(${t.vars.palette[e.color].mainChannel} / 0.5)`:`1px solid ${kn(t.palette[e.color].main,.5)}`},e.variant==="contained"&&{color:t.vars?t.vars.palette.text.primary:(n=(i=t.palette).getContrastText)==null?void 0:n.call(i,t.palette.grey[300]),backgroundColor:t.vars?t.vars.palette.Button.inheritContainedBg:r,boxShadow:(t.vars||t).shadows[2]},e.variant==="contained"&&e.color!=="inherit"&&{color:(t.vars||t).palette[e.color].contrastText,backgroundColor:(t.vars||t).palette[e.color].main},e.color==="inherit"&&{color:"inherit",borderColor:"currentColor"},e.size==="small"&&e.variant==="text"&&{padding:"4px 5px",fontSize:t.typography.pxToRem(13)},e.size==="large"&&e.variant==="text"&&{padding:"8px 11px",fontSize:t.typography.pxToRem(15)},e.size==="small"&&e.variant==="outlined"&&{padding:"3px 9px",fontSize:t.typography.pxToRem(13)},e.size==="large"&&e.variant==="outlined"&&{padding:"7px 21px",fontSize:t.typography.pxToRem(15)},e.size==="small"&&e.variant==="contained"&&{padding:"4px 10px",fontSize:t.typography.pxToRem(13)},e.size==="large"&&e.variant==="contained"&&{padding:"8px 22px",fontSize:t.typography.pxToRem(15)},e.fullWidth&&{width:"100%"})},({ownerState:t})=>t.disableElevation&&{boxShadow:"none","&:hover":{boxShadow:"none"},[`&.${Gx.focusVisible}`]:{boxShadow:"none"},"&:active":{boxShadow:"none"},[`&.${Gx.disabled}`]:{boxShadow:"none"}}),nte=je("span",{name:"MuiButton",slot:"StartIcon",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.startIcon,e[`iconSize${rt(n.size)}`]]}})(({ownerState:t})=>z({display:"inherit",marginRight:8,marginLeft:-4},t.size==="small"&&{marginLeft:-2},CV(t))),ite=je("span",{name:"MuiButton",slot:"EndIcon",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.endIcon,e[`iconSize${rt(n.size)}`]]}})(({ownerState:t})=>z({display:"inherit",marginRight:-4,marginLeft:8},t.size==="small"&&{marginRight:-2},CV(t))),rte=k.forwardRef(function(e,n){const i=k.useContext(Kee),r=k.useContext(Zee),s=EP(i,e),o=Ot({props:s,name:"MuiButton"}),{children:a,color:l="primary",component:c="button",className:u,disabled:d=!1,disableElevation:f=!1,disableFocusRipple:m=!1,endIcon:g,focusVisibleClassName:y,fullWidth:x=!1,size:v="medium",startIcon:_,type:b,variant:w="text"}=o,C=tt(o,Jee),T=z({},o,{color:l,component:c,disabled:d,disableElevation:f,disableFocusRipple:m,fullWidth:x,size:v,type:b,variant:w}),R=ete(T),I=_&&M.jsx(nte,{className:R.startIcon,ownerState:T,children:_}),A=g&&M.jsx(ite,{className:R.endIcon,ownerState:T,children:g}),L=r||"";return M.jsxs(tte,z({ownerState:T,className:lt(i.className,R.root,u,L),component:c,disabled:d,focusRipple:!m,focusVisibleClassName:lt(R.focusVisible,y),ref:n,type:b},C,{classes:R,children:[I,a,A]}))}),bi=rte;function ste(t){return At("MuiCard",t)}Dt("MuiCard",["root"]);const ote=["className","raised"],ate=t=>{const{classes:e}=t;return Lt({root:["root"]},ste,e)},lte=je(fw,{name:"MuiCard",slot:"Root",overridesResolver:(t,e)=>e.root})(()=>({overflow:"hidden"})),cte=k.forwardRef(function(e,n){const i=Ot({props:e,name:"MuiCard"}),{className:r,raised:s=!1}=i,o=tt(i,ote),a=z({},i,{raised:s}),l=ate(a);return M.jsx(lte,z({className:lt(l.root,r),elevation:s?8:void 0,ref:n,ownerState:a},o))}),np=cte;function ute(t){return At("MuiCardActions",t)}Dt("MuiCardActions",["root","spacing"]);const dte=["disableSpacing","className"],fte=t=>{const{classes:e,disableSpacing:n}=t;return Lt({root:["root",!n&&"spacing"]},ute,e)},hte=je("div",{name:"MuiCardActions",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,!n.disableSpacing&&e.spacing]}})(({ownerState:t})=>z({display:"flex",alignItems:"center",padding:8},!t.disableSpacing&&{"& > :not(:first-of-type)":{marginLeft:8}})),pte=k.forwardRef(function(e,n){const i=Ot({props:e,name:"MuiCardActions"}),{disableSpacing:r=!1,className:s}=i,o=tt(i,dte),a=z({},i,{disableSpacing:r}),l=fte(a);return M.jsx(hte,z({className:lt(l.root,s),ownerState:a,ref:n},o))}),a0=pte;function mte(t){return At("MuiCardContent",t)}Dt("MuiCardContent",["root"]);const gte=["className","component"],vte=t=>{const{classes:e}=t;return Lt({root:["root"]},mte,e)},yte=je("div",{name:"MuiCardContent",slot:"Root",overridesResolver:(t,e)=>e.root})(()=>({padding:16,"&:last-child":{paddingBottom:24}})),xte=k.forwardRef(function(e,n){const i=Ot({props:e,name:"MuiCardContent"}),{className:r,component:s="div"}=i,o=tt(i,gte),a=z({},i,{component:s}),l=vte(a);return M.jsx(yte,z({as:s,className:lt(l.root,r),ownerState:a,ref:n},o))}),ip=xte;function _te(t){return At("MuiCardMedia",t)}Dt("MuiCardMedia",["root","media","img"]);const bte=["children","className","component","image","src","style"],Ste=t=>{const{classes:e,isMediaComponent:n,isImageComponent:i}=t;return Lt({root:["root",n&&"media",i&&"img"]},_te,e)},wte=je("div",{name:"MuiCardMedia",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t,{isMediaComponent:i,isImageComponent:r}=n;return[e.root,i&&e.media,r&&e.img]}})(({ownerState:t})=>z({display:"block",backgroundSize:"cover",backgroundRepeat:"no-repeat",backgroundPosition:"center"},t.isMediaComponent&&{width:"100%"},t.isImageComponent&&{objectFit:"cover"})),Mte=["video","audio","picture","iframe","img"],Ete=["picture","img"],Tte=k.forwardRef(function(e,n){const i=Ot({props:e,name:"MuiCardMedia"}),{children:r,className:s,component:o="div",image:a,src:l,style:c}=i,u=tt(i,bte),d=Mte.indexOf(o)!==-1,f=!d&&a?z({backgroundImage:`url("${a}")`},c):c,m=z({},i,{component:o,isMediaComponent:d,isImageComponent:Ete.indexOf(o)!==-1}),g=Ste(m);return M.jsx(wte,z({className:lt(g.root,s),as:o,role:!d&&a?"img":void 0,ref:n,style:f,ownerState:m,src:d?a||l:void 0},u,{children:r}))}),l0=Tte;function Cte(t){return At("PrivateSwitchBase",t)}Dt("PrivateSwitchBase",["root","checked","disabled","input","edgeStart","edgeEnd"]);const Rte=["autoFocus","checked","checkedIcon","className","defaultChecked","disabled","disableFocusRipple","edge","icon","id","inputProps","inputRef","name","onBlur","onChange","onFocus","readOnly","required","tabIndex","type","value"],Ate=t=>{const{classes:e,checked:n,disabled:i,edge:r}=t,s={root:["root",n&&"checked",i&&"disabled",r&&`edge${rt(r)}`],input:["input"]};return Lt(s,Cte,e)},Pte=je(bu)(({ownerState:t})=>z({padding:9,borderRadius:"50%"},t.edge==="start"&&{marginLeft:t.size==="small"?-3:-12},t.edge==="end"&&{marginRight:t.size==="small"?-3:-12})),kte=je("input",{shouldForwardProp:ls})({cursor:"inherit",position:"absolute",opacity:0,width:"100%",height:"100%",top:0,left:0,margin:0,padding:0,zIndex:1}),Ite=k.forwardRef(function(e,n){const{autoFocus:i,checked:r,checkedIcon:s,className:o,defaultChecked:a,disabled:l,disableFocusRipple:c=!1,edge:u=!1,icon:d,id:f,inputProps:m,inputRef:g,name:y,onBlur:x,onChange:v,onFocus:_,readOnly:b,required:w=!1,tabIndex:C,type:T,value:R}=e,I=tt(e,Rte),[A,L]=X0({controlled:r,default:!!a,name:"SwitchBase",state:"checked"}),O=Su(),H=B=>{_&&_(B),O&&O.onFocus&&O.onFocus(B)},q=B=>{x&&x(B),O&&O.onBlur&&O.onBlur(B)},U=B=>{if(B.nativeEvent.defaultPrevented)return;const j=B.target.checked;L(j),v&&v(B,j)};let G=l;O&&typeof G>"u"&&(G=O.disabled);const Q=T==="checkbox"||T==="radio",J=z({},e,{checked:A,disabled:G,disableFocusRipple:c,edge:u}),N=Ate(J);return M.jsxs(Pte,z({component:"span",className:lt(N.root,o),centerRipple:!0,focusRipple:!c,disabled:G,tabIndex:null,role:void 0,onFocus:H,onBlur:q,ownerState:J,ref:n},I,{children:[M.jsx(kte,z({autoFocus:i,checked:r,defaultChecked:a,className:N.input,disabled:G,id:Q?f:void 0,name:y,onChange:U,readOnly:b,ref:g,required:w,ownerState:J,tabIndex:C,type:T},T==="checkbox"&&R===void 0?{}:{value:R},m)),A?s:d]}))}),Lte=Ite,Dte=im(M.jsx("path",{d:"M19 5v14H5V5h14m0-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2z"}),"CheckBoxOutlineBlank"),Ote=im(M.jsx("path",{d:"M19 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.11 0 2-.9 2-2V5c0-1.1-.89-2-2-2zm-9 14l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"}),"CheckBox"),Nte=im(M.jsx("path",{d:"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-2 10H7v-2h10v2z"}),"IndeterminateCheckBox");function Fte(t){return At("MuiCheckbox",t)}const zte=Dt("MuiCheckbox",["root","checked","disabled","indeterminate","colorPrimary","colorSecondary","sizeSmall","sizeMedium"]),iT=zte,Ute=["checkedIcon","color","icon","indeterminate","indeterminateIcon","inputProps","size","className"],Bte=t=>{const{classes:e,indeterminate:n,color:i,size:r}=t,s={root:["root",n&&"indeterminate",`color${rt(i)}`,`size${rt(r)}`]},o=Lt(s,Fte,e);return z({},e,o)},Hte=je(Lte,{shouldForwardProp:t=>ls(t)||t==="classes",name:"MuiCheckbox",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.indeterminate&&e.indeterminate,e[`size${rt(n.size)}`],n.color!=="default"&&e[`color${rt(n.color)}`]]}})(({theme:t,ownerState:e})=>z({color:(t.vars||t).palette.text.secondary},!e.disableRipple&&{"&:hover":{backgroundColor:t.vars?`rgba(${e.color==="default"?t.vars.palette.action.activeChannel:t.vars.palette[e.color].mainChannel} / ${t.vars.palette.action.hoverOpacity})`:kn(e.color==="default"?t.palette.action.active:t.palette[e.color].main,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},e.color!=="default"&&{[`&.${iT.checked}, &.${iT.indeterminate}`]:{color:(t.vars||t).palette[e.color].main},[`&.${iT.disabled}`]:{color:(t.vars||t).palette.action.disabled}})),Vte=M.jsx(Ote,{}),jte=M.jsx(Dte,{}),Wte=M.jsx(Nte,{}),Gte=k.forwardRef(function(e,n){var i,r;const s=Ot({props:e,name:"MuiCheckbox"}),{checkedIcon:o=Vte,color:a="primary",icon:l=jte,indeterminate:c=!1,indeterminateIcon:u=Wte,inputProps:d,size:f="medium",className:m}=s,g=tt(s,Ute),y=c?u:l,x=c?u:o,v=z({},s,{color:a,indeterminate:c,size:f}),_=Bte(v);return M.jsx(Hte,z({type:"checkbox",inputProps:z({"data-indeterminate":c},d),icon:k.cloneElement(y,{fontSize:(i=y.props.fontSize)!=null?i:f}),checkedIcon:k.cloneElement(x,{fontSize:(r=x.props.fontSize)!=null?r:f}),ownerState:v,ref:n,className:lt(_.root,m)},g,{classes:_}))}),RV=Gte;function $te(t){return At("MuiCircularProgress",t)}Dt("MuiCircularProgress",["root","determinate","indeterminate","colorPrimary","colorSecondary","svg","circle","circleDeterminate","circleIndeterminate","circleDisableShrink"]);const Xte=["className","color","disableShrink","size","style","thickness","value","variant"];let _w=t=>t,jN,WN,GN,$N;const oc=44,Yte=Xv(jN||(jN=_w`
  0% {
    transform: rotate(0deg);
  }

  100% {
    transform: rotate(360deg);
  }
`)),qte=Xv(WN||(WN=_w`
  0% {
    stroke-dasharray: 1px, 200px;
    stroke-dashoffset: 0;
  }

  50% {
    stroke-dasharray: 100px, 200px;
    stroke-dashoffset: -15px;
  }

  100% {
    stroke-dasharray: 100px, 200px;
    stroke-dashoffset: -125px;
  }
`)),Kte=t=>{const{classes:e,variant:n,color:i,disableShrink:r}=t,s={root:["root",n,`color${rt(i)}`],svg:["svg"],circle:["circle",`circle${rt(n)}`,r&&"circleDisableShrink"]};return Lt(s,$te,e)},Qte=je("span",{name:"MuiCircularProgress",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[n.variant],e[`color${rt(n.color)}`]]}})(({ownerState:t,theme:e})=>z({display:"inline-block"},t.variant==="determinate"&&{transition:e.transitions.create("transform")},t.color!=="inherit"&&{color:(e.vars||e).palette[t.color].main}),({ownerState:t})=>t.variant==="indeterminate"&&DP(GN||(GN=_w`
      animation: ${0} 1.4s linear infinite;
    `),Yte)),Zte=je("svg",{name:"MuiCircularProgress",slot:"Svg",overridesResolver:(t,e)=>e.svg})({display:"block"}),Jte=je("circle",{name:"MuiCircularProgress",slot:"Circle",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.circle,e[`circle${rt(n.variant)}`],n.disableShrink&&e.circleDisableShrink]}})(({ownerState:t,theme:e})=>z({stroke:"currentColor"},t.variant==="determinate"&&{transition:e.transitions.create("stroke-dashoffset")},t.variant==="indeterminate"&&{strokeDasharray:"80px, 200px",strokeDashoffset:0}),({ownerState:t})=>t.variant==="indeterminate"&&!t.disableShrink&&DP($N||($N=_w`
      animation: ${0} 1.4s ease-in-out infinite;
    `),qte)),ene=k.forwardRef(function(e,n){const i=Ot({props:e,name:"MuiCircularProgress"}),{className:r,color:s="primary",disableShrink:o=!1,size:a=40,style:l,thickness:c=3.6,value:u=0,variant:d="indeterminate"}=i,f=tt(i,Xte),m=z({},i,{color:s,disableShrink:o,size:a,thickness:c,value:u,variant:d}),g=Kte(m),y={},x={},v={};if(d==="determinate"){const _=2*Math.PI*((oc-c)/2);y.strokeDasharray=_.toFixed(3),v["aria-valuenow"]=Math.round(u),y.strokeDashoffset=`${((100-u)/100*_).toFixed(3)}px`,x.transform="rotate(-90deg)"}return M.jsx(Qte,z({className:lt(g.root,r),style:z({width:a,height:a},x,l),ownerState:m,ref:n,role:"progressbar"},v,f,{children:M.jsx(Zte,{className:g.svg,ownerState:m,viewBox:`${oc/2} ${oc/2} ${oc} ${oc}`,children:M.jsx(Jte,{className:g.circle,style:y,ownerState:m,cx:oc,cy:oc,r:(oc-c)/2,fill:"none",strokeWidth:c})})}))}),Lb=ene,tne=YQ({createStyledComponent:je("div",{name:"MuiContainer",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[`maxWidth${rt(String(n.maxWidth))}`],n.fixed&&e.fixed,n.disableGutters&&e.disableGutters]}}),useThemeProps:t=>Ot({props:t,name:"MuiContainer"})}),AV=tne,nne=(t,e)=>z({WebkitFontSmoothing:"antialiased",MozOsxFontSmoothing:"grayscale",boxSizing:"border-box",WebkitTextSizeAdjust:"100%"},e&&!t.vars&&{colorScheme:t.palette.mode}),ine=t=>z({color:(t.vars||t).palette.text.primary},t.typography.body1,{backgroundColor:(t.vars||t).palette.background.default,"@media print":{backgroundColor:(t.vars||t).palette.common.white}}),rne=(t,e=!1)=>{var n;const i={};e&&t.colorSchemes&&Object.entries(t.colorSchemes).forEach(([o,a])=>{var l;i[t.getColorSchemeSelector(o).replace(/\s*&/,"")]={colorScheme:(l=a.palette)==null?void 0:l.mode}});let r=z({html:nne(t,e),"*, *::before, *::after":{boxSizing:"inherit"},"strong, b":{fontWeight:t.typography.fontWeightBold},body:z({margin:0},ine(t),{"&::backdrop":{backgroundColor:(t.vars||t).palette.background.default}})},i);const s=(n=t.components)==null||(n=n.MuiCssBaseline)==null?void 0:n.styleOverrides;return s&&(r=[r,s]),r};function sne(t){const e=Ot({props:t,name:"MuiCssBaseline"}),{children:n,enableColorScheme:i=!1}=e;return M.jsxs(k.Fragment,{children:[M.jsx(pw,{styles:r=>rne(r,i)}),n]})}function one(t){return At("MuiModal",t)}Dt("MuiModal",["root","hidden","backdrop"]);const ane=["BackdropComponent","BackdropProps","classes","className","closeAfterTransition","children","container","component","components","componentsProps","disableAutoFocus","disableEnforceFocus","disableEscapeKeyDown","disablePortal","disableRestoreFocus","disableScrollLock","hideBackdrop","keepMounted","onBackdropClick","onClose","onTransitionEnter","onTransitionExited","open","slotProps","slots","theme"],lne=t=>{const{open:e,exited:n,classes:i}=t;return Lt({root:["root",!e&&n&&"hidden"],backdrop:["backdrop"]},one,i)},cne=je("div",{name:"MuiModal",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,!n.open&&n.exited&&e.hidden]}})(({theme:t,ownerState:e})=>z({position:"fixed",zIndex:(t.vars||t).zIndex.modal,right:0,bottom:0,top:0,left:0},!e.open&&e.exited&&{visibility:"hidden"})),une=je(Vee,{name:"MuiModal",slot:"Backdrop",overridesResolver:(t,e)=>e.backdrop})({zIndex:-1}),dne=k.forwardRef(function(e,n){var i,r,s,o,a,l;const c=Ot({name:"MuiModal",props:e}),{BackdropComponent:u=une,BackdropProps:d,className:f,closeAfterTransition:m=!1,children:g,container:y,component:x,components:v={},componentsProps:_={},disableAutoFocus:b=!1,disableEnforceFocus:w=!1,disableEscapeKeyDown:C=!1,disablePortal:T=!1,disableRestoreFocus:R=!1,disableScrollLock:I=!1,hideBackdrop:A=!1,keepMounted:L=!1,onBackdropClick:O,open:H,slotProps:q,slots:U}=c,G=tt(c,ane),Q=z({},c,{closeAfterTransition:m,disableAutoFocus:b,disableEnforceFocus:w,disableEscapeKeyDown:C,disablePortal:T,disableRestoreFocus:R,disableScrollLock:I,hideBackdrop:A,keepMounted:L}),{getRootProps:J,getBackdropProps:N,getTransitionProps:B,portalRef:j,isTopModal:te,exited:se,hasTransition:ne}=ZJ(z({},Q,{rootRef:n})),ae=z({},Q,{exited:se}),xe=lne(ae),Ee={};if(g.props.tabIndex===void 0&&(Ee.tabIndex="-1"),ne){const{onEnter:_e,onExited:de}=B();Ee.onEnter=_e,Ee.onExited=de}const Oe=(i=(r=U==null?void 0:U.root)!=null?r:v.Root)!=null?i:cne,ut=(s=(o=U==null?void 0:U.backdrop)!=null?o:v.Backdrop)!=null?s:u,qe=(a=q==null?void 0:q.root)!=null?a:_.root,Xe=(l=q==null?void 0:q.backdrop)!=null?l:_.backdrop,Ie=bs({elementType:Oe,externalSlotProps:qe,externalForwardedProps:G,getSlotProps:J,additionalProps:{ref:n,as:x},ownerState:ae,className:lt(f,qe==null?void 0:qe.className,xe==null?void 0:xe.root,!ae.open&&ae.exited&&(xe==null?void 0:xe.hidden))}),Z=bs({elementType:ut,externalSlotProps:Xe,additionalProps:d,getSlotProps:_e=>N(z({},_e,{onClick:de=>{O&&O(de),_e!=null&&_e.onClick&&_e.onClick(de)}})),className:lt(Xe==null?void 0:Xe.className,d==null?void 0:d.className,xe==null?void 0:xe.backdrop),ownerState:ae});return!L&&!H&&(!ne||se)?null:M.jsx(jJ,{ref:j,container:y,disablePortal:T,children:M.jsxs(Oe,z({},Ie,{children:[!A&&u?M.jsx(ut,z({},Z)):null,M.jsx(HJ,{disableEnforceFocus:w,disableAutoFocus:b,disableRestoreFocus:R,isEnabled:te,open:H,children:k.cloneElement(g,Ee)})]}))})}),fne=dne;function hne(t){return At("MuiDivider",t)}const XN=Dt("MuiDivider",["root","absolute","fullWidth","inset","middle","flexItem","light","vertical","withChildren","withChildrenVertical","textAlignRight","textAlignLeft","wrapper","wrapperVertical"]),pne=["absolute","children","className","component","flexItem","light","orientation","role","textAlign","variant"],mne=t=>{const{absolute:e,children:n,classes:i,flexItem:r,light:s,orientation:o,textAlign:a,variant:l}=t;return Lt({root:["root",e&&"absolute",l,s&&"light",o==="vertical"&&"vertical",r&&"flexItem",n&&"withChildren",n&&o==="vertical"&&"withChildrenVertical",a==="right"&&o!=="vertical"&&"textAlignRight",a==="left"&&o!=="vertical"&&"textAlignLeft"],wrapper:["wrapper",o==="vertical"&&"wrapperVertical"]},hne,i)},gne=je("div",{name:"MuiDivider",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.absolute&&e.absolute,e[n.variant],n.light&&e.light,n.orientation==="vertical"&&e.vertical,n.flexItem&&e.flexItem,n.children&&e.withChildren,n.children&&n.orientation==="vertical"&&e.withChildrenVertical,n.textAlign==="right"&&n.orientation!=="vertical"&&e.textAlignRight,n.textAlign==="left"&&n.orientation!=="vertical"&&e.textAlignLeft]}})(({theme:t,ownerState:e})=>z({margin:0,flexShrink:0,borderWidth:0,borderStyle:"solid",borderColor:(t.vars||t).palette.divider,borderBottomWidth:"thin"},e.absolute&&{position:"absolute",bottom:0,left:0,width:"100%"},e.light&&{borderColor:t.vars?`rgba(${t.vars.palette.dividerChannel} / 0.08)`:kn(t.palette.divider,.08)},e.variant==="inset"&&{marginLeft:72},e.variant==="middle"&&e.orientation==="horizontal"&&{marginLeft:t.spacing(2),marginRight:t.spacing(2)},e.variant==="middle"&&e.orientation==="vertical"&&{marginTop:t.spacing(1),marginBottom:t.spacing(1)},e.orientation==="vertical"&&{height:"100%",borderBottomWidth:0,borderRightWidth:"thin"},e.flexItem&&{alignSelf:"stretch",height:"auto"}),({ownerState:t})=>z({},t.children&&{display:"flex",whiteSpace:"nowrap",textAlign:"center",border:0,"&::before, &::after":{content:'""',alignSelf:"center"}}),({theme:t,ownerState:e})=>z({},e.children&&e.orientation!=="vertical"&&{"&::before, &::after":{width:"100%",borderTop:`thin solid ${(t.vars||t).palette.divider}`}}),({theme:t,ownerState:e})=>z({},e.children&&e.orientation==="vertical"&&{flexDirection:"column","&::before, &::after":{height:"100%",borderLeft:`thin solid ${(t.vars||t).palette.divider}`}}),({ownerState:t})=>z({},t.textAlign==="right"&&t.orientation!=="vertical"&&{"&::before":{width:"90%"},"&::after":{width:"10%"}},t.textAlign==="left"&&t.orientation!=="vertical"&&{"&::before":{width:"10%"},"&::after":{width:"90%"}})),vne=je("span",{name:"MuiDivider",slot:"Wrapper",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.wrapper,n.orientation==="vertical"&&e.wrapperVertical]}})(({theme:t,ownerState:e})=>z({display:"inline-block",paddingLeft:`calc(${t.spacing(1)} * 1.2)`,paddingRight:`calc(${t.spacing(1)} * 1.2)`},e.orientation==="vertical"&&{paddingTop:`calc(${t.spacing(1)} * 1.2)`,paddingBottom:`calc(${t.spacing(1)} * 1.2)`})),PV=k.forwardRef(function(e,n){const i=Ot({props:e,name:"MuiDivider"}),{absolute:r=!1,children:s,className:o,component:a=s?"div":"hr",flexItem:l=!1,light:c=!1,orientation:u="horizontal",role:d=a!=="hr"?"separator":void 0,textAlign:f="center",variant:m="fullWidth"}=i,g=tt(i,pne),y=z({},i,{absolute:r,component:a,flexItem:l,light:c,orientation:u,role:d,textAlign:f,variant:m}),x=mne(y);return M.jsx(gne,z({as:a,className:lt(x.root,o),role:d,ref:n,ownerState:y},g,{children:s?M.jsx(vne,{className:x.wrapper,ownerState:y,children:s}):null}))});PV.muiSkipListHighlight=!0;const jl=PV,yne=["disableUnderline","components","componentsProps","fullWidth","hiddenLabel","inputComponent","multiline","slotProps","slots","type"],xne=t=>{const{classes:e,disableUnderline:n}=t,r=Lt({root:["root",!n&&"underline"],input:["input"]},bee,e);return z({},e,r)},_ne=je(vw,{shouldForwardProp:t=>ls(t)||t==="classes",name:"MuiFilledInput",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[...mw(t,e),!n.disableUnderline&&e.underline]}})(({theme:t,ownerState:e})=>{var n;const i=t.palette.mode==="light",r=i?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)",s=i?"rgba(0, 0, 0, 0.06)":"rgba(255, 255, 255, 0.09)",o=i?"rgba(0, 0, 0, 0.09)":"rgba(255, 255, 255, 0.13)",a=i?"rgba(0, 0, 0, 0.12)":"rgba(255, 255, 255, 0.12)";return z({position:"relative",backgroundColor:t.vars?t.vars.palette.FilledInput.bg:s,borderTopLeftRadius:(t.vars||t).shape.borderRadius,borderTopRightRadius:(t.vars||t).shape.borderRadius,transition:t.transitions.create("background-color",{duration:t.transitions.duration.shorter,easing:t.transitions.easing.easeOut}),"&:hover":{backgroundColor:t.vars?t.vars.palette.FilledInput.hoverBg:o,"@media (hover: none)":{backgroundColor:t.vars?t.vars.palette.FilledInput.bg:s}},[`&.${zu.focused}`]:{backgroundColor:t.vars?t.vars.palette.FilledInput.bg:s},[`&.${zu.disabled}`]:{backgroundColor:t.vars?t.vars.palette.FilledInput.disabledBg:a}},!e.disableUnderline&&{"&:after":{borderBottom:`2px solid ${(n=(t.vars||t).palette[e.color||"primary"])==null?void 0:n.main}`,left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:t.transitions.create("transform",{duration:t.transitions.duration.shorter,easing:t.transitions.easing.easeOut}),pointerEvents:"none"},[`&.${zu.focused}:after`]:{transform:"scaleX(1) translateX(0)"},[`&.${zu.error}`]:{"&:before, &:after":{borderBottomColor:(t.vars||t).palette.error.main}},"&:before":{borderBottom:`1px solid ${t.vars?`rgba(${t.vars.palette.common.onBackgroundChannel} / ${t.vars.opacity.inputUnderline})`:r}`,left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:t.transitions.create("border-bottom-color",{duration:t.transitions.duration.shorter}),pointerEvents:"none"},[`&:hover:not(.${zu.disabled}, .${zu.error}):before`]:{borderBottom:`1px solid ${(t.vars||t).palette.text.primary}`},[`&.${zu.disabled}:before`]:{borderBottomStyle:"dotted"}},e.startAdornment&&{paddingLeft:12},e.endAdornment&&{paddingRight:12},e.multiline&&z({padding:"25px 12px 8px"},e.size==="small"&&{paddingTop:21,paddingBottom:4},e.hiddenLabel&&{paddingTop:16,paddingBottom:17},e.hiddenLabel&&e.size==="small"&&{paddingTop:8,paddingBottom:9}))}),bne=je(yw,{name:"MuiFilledInput",slot:"Input",overridesResolver:gw})(({theme:t,ownerState:e})=>z({paddingTop:25,paddingRight:12,paddingBottom:8,paddingLeft:12},!t.vars&&{"&:-webkit-autofill":{WebkitBoxShadow:t.palette.mode==="light"?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:t.palette.mode==="light"?null:"#fff",caretColor:t.palette.mode==="light"?null:"#fff",borderTopLeftRadius:"inherit",borderTopRightRadius:"inherit"}},t.vars&&{"&:-webkit-autofill":{borderTopLeftRadius:"inherit",borderTopRightRadius:"inherit"},[t.getColorSchemeSelector("dark")]:{"&:-webkit-autofill":{WebkitBoxShadow:"0 0 0 100px #266798 inset",WebkitTextFillColor:"#fff",caretColor:"#fff"}}},e.size==="small"&&{paddingTop:21,paddingBottom:4},e.hiddenLabel&&{paddingTop:16,paddingBottom:17},e.startAdornment&&{paddingLeft:0},e.endAdornment&&{paddingRight:0},e.hiddenLabel&&e.size==="small"&&{paddingTop:8,paddingBottom:9},e.multiline&&{paddingTop:0,paddingBottom:0,paddingLeft:0,paddingRight:0})),kV=k.forwardRef(function(e,n){var i,r,s,o;const a=Ot({props:e,name:"MuiFilledInput"}),{components:l={},componentsProps:c,fullWidth:u=!1,inputComponent:d="input",multiline:f=!1,slotProps:m,slots:g={},type:y="text"}=a,x=tt(a,yne),v=z({},a,{fullWidth:u,inputComponent:d,multiline:f,type:y}),_=xne(a),b={root:{ownerState:v},input:{ownerState:v}},w=m??c?Gr(b,m??c):b,C=(i=(r=g.root)!=null?r:l.Root)!=null?i:_ne,T=(s=(o=g.input)!=null?o:l.Input)!=null?s:bne;return M.jsx(xw,z({slots:{root:C,input:T},componentsProps:w,fullWidth:u,inputComponent:d,multiline:f,ref:n,type:y},x,{classes:_}))});kV.muiName="Input";const IV=kV;function Sne(t){return At("MuiFormControl",t)}Dt("MuiFormControl",["root","marginNone","marginNormal","marginDense","fullWidth","disabled"]);const wne=["children","className","color","component","disabled","error","focused","fullWidth","hiddenLabel","margin","required","size","variant"],Mne=t=>{const{classes:e,margin:n,fullWidth:i}=t,r={root:["root",n!=="none"&&`margin${rt(n)}`,i&&"fullWidth"]};return Lt(r,Sne,e)},Ene=je("div",{name:"MuiFormControl",slot:"Root",overridesResolver:({ownerState:t},e)=>z({},e.root,e[`margin${rt(t.margin)}`],t.fullWidth&&e.fullWidth)})(({ownerState:t})=>z({display:"inline-flex",flexDirection:"column",position:"relative",minWidth:0,padding:0,margin:0,border:0,verticalAlign:"top"},t.margin==="normal"&&{marginTop:16,marginBottom:8},t.margin==="dense"&&{marginTop:8,marginBottom:4},t.fullWidth&&{width:"100%"})),Tne=k.forwardRef(function(e,n){const i=Ot({props:e,name:"MuiFormControl"}),{children:r,className:s,color:o="primary",component:a="div",disabled:l=!1,error:c=!1,focused:u,fullWidth:d=!1,hiddenLabel:f=!1,margin:m="none",required:g=!1,size:y="medium",variant:x="outlined"}=i,v=tt(i,wne),_=z({},i,{color:o,component:a,disabled:l,error:c,fullWidth:d,hiddenLabel:f,margin:m,required:g,size:y,variant:x}),b=Mne(_),[w,C]=k.useState(()=>{let q=!1;return r&&k.Children.forEach(r,U=>{if(!n0(U,["Input","Select"]))return;const G=n0(U,["Select"])?U.props.input:U;G&&uee(G.props)&&(q=!0)}),q}),[T,R]=k.useState(()=>{let q=!1;return r&&k.Children.forEach(r,U=>{n0(U,["Input","Select"])&&(N1(U.props,!0)||N1(U.props.inputProps,!0))&&(q=!0)}),q}),[I,A]=k.useState(!1);l&&I&&A(!1);const L=u!==void 0&&!l?u:I;let O;const H=k.useMemo(()=>({adornedStart:w,setAdornedStart:C,color:o,disabled:l,error:c,filled:T,focused:L,fullWidth:d,hiddenLabel:f,size:y,onBlur:()=>{A(!1)},onEmpty:()=>{R(!1)},onFilled:()=>{R(!0)},onFocus:()=>{A(!0)},registerEffect:O,required:g,variant:x}),[w,o,l,c,T,L,d,f,O,g,y,x]);return M.jsx(YP.Provider,{value:H,children:M.jsx(Ene,z({as:a,ownerState:_,className:lt(b.root,s),ref:n},v,{children:r}))})}),LV=Tne,Cne=nZ({createStyledComponent:je("div",{name:"MuiStack",slot:"Root",overridesResolver:(t,e)=>e.root}),useThemeProps:t=>Ot({props:t,name:"MuiStack"})}),gt=Cne;function Rne(t){return At("MuiFormControlLabel",t)}const Ane=Dt("MuiFormControlLabel",["root","labelPlacementStart","labelPlacementTop","labelPlacementBottom","disabled","label","error","required","asterisk"]),Fg=Ane,Pne=["checked","className","componentsProps","control","disabled","disableTypography","inputRef","label","labelPlacement","name","onChange","required","slotProps","value"],kne=t=>{const{classes:e,disabled:n,labelPlacement:i,error:r,required:s}=t,o={root:["root",n&&"disabled",`labelPlacement${rt(i)}`,r&&"error",s&&"required"],label:["label",n&&"disabled"],asterisk:["asterisk",r&&"error"]};return Lt(o,Rne,e)},Ine=je("label",{name:"MuiFormControlLabel",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[{[`& .${Fg.label}`]:e.label},e.root,e[`labelPlacement${rt(n.labelPlacement)}`]]}})(({theme:t,ownerState:e})=>z({display:"inline-flex",alignItems:"center",cursor:"pointer",verticalAlign:"middle",WebkitTapHighlightColor:"transparent",marginLeft:-11,marginRight:16,[`&.${Fg.disabled}`]:{cursor:"default"}},e.labelPlacement==="start"&&{flexDirection:"row-reverse",marginLeft:16,marginRight:-11},e.labelPlacement==="top"&&{flexDirection:"column-reverse",marginLeft:16},e.labelPlacement==="bottom"&&{flexDirection:"column",marginLeft:16},{[`& .${Fg.label}`]:{[`&.${Fg.disabled}`]:{color:(t.vars||t).palette.text.disabled}}})),Lne=je("span",{name:"MuiFormControlLabel",slot:"Asterisk",overridesResolver:(t,e)=>e.asterisk})(({theme:t})=>({[`&.${Fg.error}`]:{color:(t.vars||t).palette.error.main}})),Dne=k.forwardRef(function(e,n){var i,r;const s=Ot({props:e,name:"MuiFormControlLabel"}),{className:o,componentsProps:a={},control:l,disabled:c,disableTypography:u,label:d,labelPlacement:f="end",required:m,slotProps:g={}}=s,y=tt(s,Pne),x=Su(),v=(i=c??l.props.disabled)!=null?i:x==null?void 0:x.disabled,_=m??l.props.required,b={disabled:v,required:_};["checked","name","onChange","value","inputRef"].forEach(A=>{typeof l.props[A]>"u"&&typeof s[A]<"u"&&(b[A]=s[A])});const w=cf({props:s,muiFormControl:x,states:["error"]}),C=z({},s,{disabled:v,labelPlacement:f,required:_,error:w.error}),T=kne(C),R=(r=g.typography)!=null?r:a.typography;let I=d;return I!=null&&I.type!==$e&&!u&&(I=M.jsx($e,z({component:"span"},R,{className:lt(T.label,R==null?void 0:R.className),children:I}))),M.jsxs(Ine,z({className:lt(T.root,o),ownerState:C,ref:n},y,{children:[k.cloneElement(l,b),_?M.jsxs(gt,{display:"block",children:[I,M.jsxs(Lne,{ownerState:C,"aria-hidden":!0,className:T.asterisk,children:[" ","*"]})]}):I]}))}),One=Dne;function Nne(t){return At("MuiFormHelperText",t)}const Fne=Dt("MuiFormHelperText",["root","error","disabled","sizeSmall","sizeMedium","contained","focused","filled","required"]),YN=Fne;var qN;const zne=["children","className","component","disabled","error","filled","focused","margin","required","variant"],Une=t=>{const{classes:e,contained:n,size:i,disabled:r,error:s,filled:o,focused:a,required:l}=t,c={root:["root",r&&"disabled",s&&"error",i&&`size${rt(i)}`,n&&"contained",a&&"focused",o&&"filled",l&&"required"]};return Lt(c,Nne,e)},Bne=je("p",{name:"MuiFormHelperText",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.size&&e[`size${rt(n.size)}`],n.contained&&e.contained,n.filled&&e.filled]}})(({theme:t,ownerState:e})=>z({color:(t.vars||t).palette.text.secondary},t.typography.caption,{textAlign:"left",marginTop:3,marginRight:0,marginBottom:0,marginLeft:0,[`&.${YN.disabled}`]:{color:(t.vars||t).palette.text.disabled},[`&.${YN.error}`]:{color:(t.vars||t).palette.error.main}},e.size==="small"&&{marginTop:4},e.contained&&{marginLeft:14,marginRight:14})),Hne=k.forwardRef(function(e,n){const i=Ot({props:e,name:"MuiFormHelperText"}),{children:r,className:s,component:o="p"}=i,a=tt(i,zne),l=Su(),c=cf({props:i,muiFormControl:l,states:["variant","size","disabled","error","filled","focused","required"]}),u=z({},i,{component:o,contained:c.variant==="filled"||c.variant==="outlined",variant:c.variant,size:c.size,disabled:c.disabled,error:c.error,filled:c.filled,focused:c.focused,required:c.required}),d=Une(u);return M.jsx(Bne,z({as:o,ownerState:u,className:lt(d.root,s),ref:n},a,{children:r===" "?qN||(qN=M.jsx("span",{className:"notranslate",children:"​"})):r}))}),Vne=Hne;function jne(t){return At("MuiFormLabel",t)}const Wne=Dt("MuiFormLabel",["root","colorSecondary","focused","disabled","error","filled","required","asterisk"]),c0=Wne,Gne=["children","className","color","component","disabled","error","filled","focused","required"],$ne=t=>{const{classes:e,color:n,focused:i,disabled:r,error:s,filled:o,required:a}=t,l={root:["root",`color${rt(n)}`,r&&"disabled",s&&"error",o&&"filled",i&&"focused",a&&"required"],asterisk:["asterisk",s&&"error"]};return Lt(l,jne,e)},Xne=je("label",{name:"MuiFormLabel",slot:"Root",overridesResolver:({ownerState:t},e)=>z({},e.root,t.color==="secondary"&&e.colorSecondary,t.filled&&e.filled)})(({theme:t,ownerState:e})=>z({color:(t.vars||t).palette.text.secondary},t.typography.body1,{lineHeight:"1.4375em",padding:0,position:"relative",[`&.${c0.focused}`]:{color:(t.vars||t).palette[e.color].main},[`&.${c0.disabled}`]:{color:(t.vars||t).palette.text.disabled},[`&.${c0.error}`]:{color:(t.vars||t).palette.error.main}})),Yne=je("span",{name:"MuiFormLabel",slot:"Asterisk",overridesResolver:(t,e)=>e.asterisk})(({theme:t})=>({[`&.${c0.error}`]:{color:(t.vars||t).palette.error.main}})),qne=k.forwardRef(function(e,n){const i=Ot({props:e,name:"MuiFormLabel"}),{children:r,className:s,component:o="label"}=i,a=tt(i,Gne),l=Su(),c=cf({props:i,muiFormControl:l,states:["color","required","focused","disabled","error","filled"]}),u=z({},i,{color:c.color||"primary",component:o,disabled:c.disabled,error:c.error,filled:c.filled,focused:c.focused,required:c.required}),d=$ne(u);return M.jsxs(Xne,z({as:o,ownerState:u,className:lt(d.root,s),ref:n},a,{children:[r,c.required&&M.jsxs(Yne,{ownerState:u,"aria-hidden":!0,className:d.asterisk,children:[" ","*"]})]}))}),Kne=qne,Qne=k.createContext(),KN=Qne;function Zne(t){return At("MuiGrid",t)}const Jne=[0,1,2,3,4,5,6,7,8,9,10],eie=["column-reverse","column","row-reverse","row"],tie=["nowrap","wrap-reverse","wrap"],Xm=["auto",!0,1,2,3,4,5,6,7,8,9,10,11,12],nie=Dt("MuiGrid",["root","container","item","zeroMinWidth",...Jne.map(t=>`spacing-xs-${t}`),...eie.map(t=>`direction-xs-${t}`),...tie.map(t=>`wrap-xs-${t}`),...Xm.map(t=>`grid-xs-${t}`),...Xm.map(t=>`grid-sm-${t}`),...Xm.map(t=>`grid-md-${t}`),...Xm.map(t=>`grid-lg-${t}`),...Xm.map(t=>`grid-xl-${t}`)]),Q0=nie,iie=["className","columns","columnSpacing","component","container","direction","item","rowSpacing","spacing","wrap","zeroMinWidth"];function rp(t){const e=parseFloat(t);return`${e}${String(t).replace(String(e),"")||"px"}`}function rie({theme:t,ownerState:e}){let n;return t.breakpoints.keys.reduce((i,r)=>{let s={};if(e[r]&&(n=e[r]),!n)return i;if(n===!0)s={flexBasis:0,flexGrow:1,maxWidth:"100%"};else if(n==="auto")s={flexBasis:"auto",flexGrow:0,flexShrink:0,maxWidth:"none",width:"auto"};else{const o=Dd({values:e.columns,breakpoints:t.breakpoints.values}),a=typeof o=="object"?o[r]:o;if(a==null)return i;const l=`${Math.round(n/a*1e8)/1e6}%`;let c={};if(e.container&&e.item&&e.columnSpacing!==0){const u=t.spacing(e.columnSpacing);if(u!=="0px"){const d=`calc(${l} + ${rp(u)})`;c={flexBasis:d,maxWidth:d}}}s=z({flexBasis:l,flexGrow:0,maxWidth:l},c)}return t.breakpoints.values[r]===0?Object.assign(i,s):i[t.breakpoints.up(r)]=s,i},{})}function sie({theme:t,ownerState:e}){const n=Dd({values:e.direction,breakpoints:t.breakpoints.values});return Os({theme:t},n,i=>{const r={flexDirection:i};return i.indexOf("column")===0&&(r[`& > .${Q0.item}`]={maxWidth:"none"}),r})}function DV({breakpoints:t,values:e}){let n="";Object.keys(e).forEach(r=>{n===""&&e[r]!==0&&(n=r)});const i=Object.keys(t).sort((r,s)=>t[r]-t[s]);return i.slice(0,i.indexOf(n))}function oie({theme:t,ownerState:e}){const{container:n,rowSpacing:i}=e;let r={};if(n&&i!==0){const s=Dd({values:i,breakpoints:t.breakpoints.values});let o;typeof s=="object"&&(o=DV({breakpoints:t.breakpoints.values,values:s})),r=Os({theme:t},s,(a,l)=>{var c;const u=t.spacing(a);return u!=="0px"?{marginTop:`-${rp(u)}`,[`& > .${Q0.item}`]:{paddingTop:rp(u)}}:(c=o)!=null&&c.includes(l)?{}:{marginTop:0,[`& > .${Q0.item}`]:{paddingTop:0}}})}return r}function aie({theme:t,ownerState:e}){const{container:n,columnSpacing:i}=e;let r={};if(n&&i!==0){const s=Dd({values:i,breakpoints:t.breakpoints.values});let o;typeof s=="object"&&(o=DV({breakpoints:t.breakpoints.values,values:s})),r=Os({theme:t},s,(a,l)=>{var c;const u=t.spacing(a);return u!=="0px"?{width:`calc(100% + ${rp(u)})`,marginLeft:`-${rp(u)}`,[`& > .${Q0.item}`]:{paddingLeft:rp(u)}}:(c=o)!=null&&c.includes(l)?{}:{width:"100%",marginLeft:0,[`& > .${Q0.item}`]:{paddingLeft:0}}})}return r}function lie(t,e,n={}){if(!t||t<=0)return[];if(typeof t=="string"&&!Number.isNaN(Number(t))||typeof t=="number")return[n[`spacing-xs-${String(t)}`]];const i=[];return e.forEach(r=>{const s=t[r];Number(s)>0&&i.push(n[`spacing-${r}-${String(s)}`])}),i}const cie=je("div",{name:"MuiGrid",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t,{container:i,direction:r,item:s,spacing:o,wrap:a,zeroMinWidth:l,breakpoints:c}=n;let u=[];i&&(u=lie(o,c,e));const d=[];return c.forEach(f=>{const m=n[f];m&&d.push(e[`grid-${f}-${String(m)}`])}),[e.root,i&&e.container,s&&e.item,l&&e.zeroMinWidth,...u,r!=="row"&&e[`direction-xs-${String(r)}`],a!=="wrap"&&e[`wrap-xs-${String(a)}`],...d]}})(({ownerState:t})=>z({boxSizing:"border-box"},t.container&&{display:"flex",flexWrap:"wrap",width:"100%"},t.item&&{margin:0},t.zeroMinWidth&&{minWidth:0},t.wrap!=="wrap"&&{flexWrap:t.wrap}),sie,oie,aie,rie);function uie(t,e){if(!t||t<=0)return[];if(typeof t=="string"&&!Number.isNaN(Number(t))||typeof t=="number")return[`spacing-xs-${String(t)}`];const n=[];return e.forEach(i=>{const r=t[i];if(Number(r)>0){const s=`spacing-${i}-${String(r)}`;n.push(s)}}),n}const die=t=>{const{classes:e,container:n,direction:i,item:r,spacing:s,wrap:o,zeroMinWidth:a,breakpoints:l}=t;let c=[];n&&(c=uie(s,l));const u=[];l.forEach(f=>{const m=t[f];m&&u.push(`grid-${f}-${String(m)}`)});const d={root:["root",n&&"container",r&&"item",a&&"zeroMinWidth",...c,i!=="row"&&`direction-xs-${String(i)}`,o!=="wrap"&&`wrap-xs-${String(o)}`,...u]};return Lt(d,Zne,e)},fie=k.forwardRef(function(e,n){const i=Ot({props:e,name:"MuiGrid"}),{breakpoints:r}=vr(),s=lw(i),{className:o,columns:a,columnSpacing:l,component:c="div",container:u=!1,direction:d="row",item:f=!1,rowSpacing:m,spacing:g=0,wrap:y="wrap",zeroMinWidth:x=!1}=s,v=tt(s,iie),_=m||g,b=l||g,w=k.useContext(KN),C=u?a||12:w,T={},R=z({},v);r.keys.forEach(L=>{v[L]!=null&&(T[L]=v[L],delete R[L])});const I=z({},s,{columns:C,container:u,direction:d,item:f,rowSpacing:_,columnSpacing:b,wrap:y,zeroMinWidth:x,spacing:g},T,{breakpoints:r.keys}),A=die(I);return M.jsx(KN.Provider,{value:C,children:M.jsx(cie,z({ownerState:I,className:lt(A.root,o),as:c,ref:n},R))})}),Ve=fie,hie=["addEndListener","appear","children","easing","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"];function X2(t){return`scale(${t}, ${t**2})`}const pie={entering:{opacity:1,transform:X2(1)},entered:{opacity:1,transform:"none"}},rT=typeof navigator<"u"&&/^((?!chrome|android).)*(safari|mobile)/i.test(navigator.userAgent)&&/(os |version\/)15(.|_)4/i.test(navigator.userAgent),OV=k.forwardRef(function(e,n){const{addEndListener:i,appear:r=!0,children:s,easing:o,in:a,onEnter:l,onEntered:c,onEntering:u,onExit:d,onExited:f,onExiting:m,style:g,timeout:y="auto",TransitionComponent:x=MV}=e,v=tt(e,hie),_=k.useRef(),b=k.useRef(),w=vr(),C=k.useRef(null),T=Ii(C,s.ref,n),R=G=>Q=>{if(G){const J=C.current;Q===void 0?G(J):G(J,Q)}},I=R(u),A=R((G,Q)=>{EV(G);const{duration:J,delay:N,easing:B}=D1({style:g,timeout:y,easing:o},{mode:"enter"});let j;y==="auto"?(j=w.transitions.getAutoHeightDuration(G.clientHeight),b.current=j):j=J,G.style.transition=[w.transitions.create("opacity",{duration:j,delay:N}),w.transitions.create("transform",{duration:rT?j:j*.666,delay:N,easing:B})].join(","),l&&l(G,Q)}),L=R(c),O=R(m),H=R(G=>{const{duration:Q,delay:J,easing:N}=D1({style:g,timeout:y,easing:o},{mode:"exit"});let B;y==="auto"?(B=w.transitions.getAutoHeightDuration(G.clientHeight),b.current=B):B=Q,G.style.transition=[w.transitions.create("opacity",{duration:B,delay:J}),w.transitions.create("transform",{duration:rT?B:B*.666,delay:rT?J:J||B*.333,easing:N})].join(","),G.style.opacity=0,G.style.transform=X2(.75),d&&d(G)}),q=R(f),U=G=>{y==="auto"&&(_.current=setTimeout(G,b.current||0)),i&&i(C.current,G)};return k.useEffect(()=>()=>{clearTimeout(_.current)},[]),M.jsx(x,z({appear:r,in:a,nodeRef:C,onEnter:A,onEntered:L,onEntering:I,onExit:H,onExited:q,onExiting:O,addEndListener:U,timeout:y==="auto"?null:y},v,{children:(G,Q)=>k.cloneElement(s,z({style:z({opacity:0,transform:X2(.75),visibility:G==="exited"&&!a?"hidden":void 0},pie[G],g,s.props.style),ref:T},Q))}))});OV.muiSupportAuto=!0;const mie=OV;function gie(t){return At("MuiIcon",t)}Dt("MuiIcon",["root","colorPrimary","colorSecondary","colorAction","colorError","colorDisabled","fontSizeInherit","fontSizeSmall","fontSizeMedium","fontSizeLarge"]);const vie=["baseClassName","className","color","component","fontSize"],yie=t=>{const{color:e,fontSize:n,classes:i}=t,r={root:["root",e!=="inherit"&&`color${rt(e)}`,`fontSize${rt(n)}`]};return Lt(r,gie,i)},xie=je("span",{name:"MuiIcon",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.color!=="inherit"&&e[`color${rt(n.color)}`],e[`fontSize${rt(n.fontSize)}`]]}})(({theme:t,ownerState:e})=>({userSelect:"none",width:"1em",height:"1em",overflow:"hidden",display:"inline-block",textAlign:"center",flexShrink:0,fontSize:{inherit:"inherit",small:t.typography.pxToRem(20),medium:t.typography.pxToRem(24),large:t.typography.pxToRem(36)}[e.fontSize],color:{primary:(t.vars||t).palette.primary.main,secondary:(t.vars||t).palette.secondary.main,info:(t.vars||t).palette.info.main,success:(t.vars||t).palette.success.main,warning:(t.vars||t).palette.warning.main,action:(t.vars||t).palette.action.active,error:(t.vars||t).palette.error.main,disabled:(t.vars||t).palette.action.disabled,inherit:void 0}[e.color]})),NV=k.forwardRef(function(e,n){const i=Ot({props:e,name:"MuiIcon"}),{baseClassName:r="material-icons",className:s,color:o="inherit",component:a="span",fontSize:l="medium"}=i,c=tt(i,vie),u=z({},i,{baseClassName:r,color:o,component:a,fontSize:l}),d=yie(u);return M.jsx(xie,z({as:a,className:lt(r,"notranslate",d.root,s),ownerState:u,"aria-hidden":!0,ref:n},c))});NV.muiName="Icon";const FV=NV,_ie=["disableUnderline","components","componentsProps","fullWidth","inputComponent","multiline","slotProps","slots","type"],bie=t=>{const{classes:e,disableUnderline:n}=t,r=Lt({root:["root",!n&&"underline"],input:["input"]},vee,e);return z({},e,r)},Sie=je(vw,{shouldForwardProp:t=>ls(t)||t==="classes",name:"MuiInput",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[...mw(t,e),!n.disableUnderline&&e.underline]}})(({theme:t,ownerState:e})=>{let i=t.palette.mode==="light"?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)";return t.vars&&(i=`rgba(${t.vars.palette.common.onBackgroundChannel} / ${t.vars.opacity.inputUnderline})`),z({position:"relative"},e.formControl&&{"label + &":{marginTop:16}},!e.disableUnderline&&{"&:after":{borderBottom:`2px solid ${(t.vars||t).palette[e.color].main}`,left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:t.transitions.create("transform",{duration:t.transitions.duration.shorter,easing:t.transitions.easing.easeOut}),pointerEvents:"none"},[`&.${$m.focused}:after`]:{transform:"scaleX(1) translateX(0)"},[`&.${$m.error}`]:{"&:before, &:after":{borderBottomColor:(t.vars||t).palette.error.main}},"&:before":{borderBottom:`1px solid ${i}`,left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:t.transitions.create("border-bottom-color",{duration:t.transitions.duration.shorter}),pointerEvents:"none"},[`&:hover:not(.${$m.disabled}, .${$m.error}):before`]:{borderBottom:`2px solid ${(t.vars||t).palette.text.primary}`,"@media (hover: none)":{borderBottom:`1px solid ${i}`}},[`&.${$m.disabled}:before`]:{borderBottomStyle:"dotted"}})}),wie=je(yw,{name:"MuiInput",slot:"Input",overridesResolver:gw})({}),zV=k.forwardRef(function(e,n){var i,r,s,o;const a=Ot({props:e,name:"MuiInput"}),{disableUnderline:l,components:c={},componentsProps:u,fullWidth:d=!1,inputComponent:f="input",multiline:m=!1,slotProps:g,slots:y={},type:x="text"}=a,v=tt(a,_ie),_=bie(a),w={root:{ownerState:{disableUnderline:l}}},C=g??u?Gr(g??u,w):w,T=(i=(r=y.root)!=null?r:c.Root)!=null?i:Sie,R=(s=(o=y.input)!=null?o:c.Input)!=null?s:wie;return M.jsx(xw,z({slots:{root:T,input:R},slotProps:C,fullWidth:d,inputComponent:f,multiline:m,ref:n,type:x},v,{classes:_}))});zV.muiName="Input";const qP=zV;function Mie(t){return At("MuiInputLabel",t)}Dt("MuiInputLabel",["root","focused","disabled","error","required","asterisk","formControl","sizeSmall","shrink","animated","standard","filled","outlined"]);const Eie=["disableAnimation","margin","shrink","variant","className"],Tie=t=>{const{classes:e,formControl:n,size:i,shrink:r,disableAnimation:s,variant:o,required:a}=t,l={root:["root",n&&"formControl",!s&&"animated",r&&"shrink",i&&i!=="normal"&&`size${rt(i)}`,o],asterisk:[a&&"asterisk"]},c=Lt(l,Mie,e);return z({},e,c)},Cie=je(Kne,{shouldForwardProp:t=>ls(t)||t==="classes",name:"MuiInputLabel",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[{[`& .${c0.asterisk}`]:e.asterisk},e.root,n.formControl&&e.formControl,n.size==="small"&&e.sizeSmall,n.shrink&&e.shrink,!n.disableAnimation&&e.animated,n.focused&&e.focused,e[n.variant]]}})(({theme:t,ownerState:e})=>z({display:"block",transformOrigin:"top left",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",maxWidth:"100%"},e.formControl&&{position:"absolute",left:0,top:0,transform:"translate(0, 20px) scale(1)"},e.size==="small"&&{transform:"translate(0, 17px) scale(1)"},e.shrink&&{transform:"translate(0, -1.5px) scale(0.75)",transformOrigin:"top left",maxWidth:"133%"},!e.disableAnimation&&{transition:t.transitions.create(["color","transform","max-width"],{duration:t.transitions.duration.shorter,easing:t.transitions.easing.easeOut})},e.variant==="filled"&&z({zIndex:1,pointerEvents:"none",transform:"translate(12px, 16px) scale(1)",maxWidth:"calc(100% - 24px)"},e.size==="small"&&{transform:"translate(12px, 13px) scale(1)"},e.shrink&&z({userSelect:"none",pointerEvents:"auto",transform:"translate(12px, 7px) scale(0.75)",maxWidth:"calc(133% - 24px)"},e.size==="small"&&{transform:"translate(12px, 4px) scale(0.75)"})),e.variant==="outlined"&&z({zIndex:1,pointerEvents:"none",transform:"translate(14px, 16px) scale(1)",maxWidth:"calc(100% - 24px)"},e.size==="small"&&{transform:"translate(14px, 9px) scale(1)"},e.shrink&&{userSelect:"none",pointerEvents:"auto",maxWidth:"calc(133% - 32px)",transform:"translate(14px, -9px) scale(0.75)"}))),Rie=k.forwardRef(function(e,n){const i=Ot({name:"MuiInputLabel",props:e}),{disableAnimation:r=!1,shrink:s,className:o}=i,a=tt(i,Eie),l=Su();let c=s;typeof c>"u"&&l&&(c=l.filled||l.focused||l.adornedStart);const u=cf({props:i,muiFormControl:l,states:["size","variant","required","focused"]}),d=z({},i,{disableAnimation:r,formControl:l,shrink:c,size:u.size,variant:u.variant,required:u.required,focused:u.focused}),f=Tie(d);return M.jsx(Cie,z({"data-shrink":c,ownerState:d,ref:n,className:lt(f.root,o)},a,{classes:f}))}),UV=Rie;function Aie(t){return At("MuiLink",t)}const Pie=Dt("MuiLink",["root","underlineNone","underlineHover","underlineAlways","button","focusVisible"]),kie=Pie,BV={primary:"primary.main",textPrimary:"text.primary",secondary:"secondary.main",textSecondary:"text.secondary",error:"error.main"},Iie=t=>BV[t]||t,Lie=({theme:t,ownerState:e})=>{const n=Iie(e.color),i=Lp(t,`palette.${n}`,!1)||e.color,r=Lp(t,`palette.${n}Channel`);return"vars"in t&&r?`rgba(${r} / 0.4)`:kn(i,.4)},Die=Lie,Oie=["className","color","component","onBlur","onFocus","TypographyClasses","underline","variant","sx"],Nie=t=>{const{classes:e,component:n,focusVisible:i,underline:r}=t,s={root:["root",`underline${rt(r)}`,n==="button"&&"button",i&&"focusVisible"]};return Lt(s,Aie,e)},Fie=je($e,{name:"MuiLink",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[`underline${rt(n.underline)}`],n.component==="button"&&e.button]}})(({theme:t,ownerState:e})=>z({},e.underline==="none"&&{textDecoration:"none"},e.underline==="hover"&&{textDecoration:"none","&:hover":{textDecoration:"underline"}},e.underline==="always"&&z({textDecoration:"underline"},e.color!=="inherit"&&{textDecorationColor:Die({theme:t,ownerState:e})},{"&:hover":{textDecorationColor:"inherit"}}),e.component==="button"&&{position:"relative",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle",MozAppearance:"none",WebkitAppearance:"none","&::-moz-focus-inner":{borderStyle:"none"},[`&.${kie.focusVisible}`]:{outline:"auto"}})),zie=k.forwardRef(function(e,n){const i=Ot({props:e,name:"MuiLink"}),{className:r,color:s="primary",component:o="a",onBlur:a,onFocus:l,TypographyClasses:c,underline:u="always",variant:d="inherit",sx:f}=i,m=tt(i,Oie),{isFocusVisibleRef:g,onBlur:y,onFocus:x,ref:v}=US(),[_,b]=k.useState(!1),w=Ii(n,v),C=A=>{y(A),g.current===!1&&b(!1),a&&a(A)},T=A=>{x(A),g.current===!0&&b(!0),l&&l(A)},R=z({},i,{color:s,component:o,focusVisible:_,underline:u,variant:d}),I=Nie(R);return M.jsx(Fie,z({color:s,className:lt(I.root,r),classes:c,component:o,onBlur:C,onFocus:T,ref:w,ownerState:R,variant:d,sx:[...Object.keys(BV).includes(s)?[]:[{color:s}],...Array.isArray(f)?f:[f]]},m))}),HV=zie,Uie=k.createContext({}),sa=Uie;function Bie(t){return At("MuiList",t)}Dt("MuiList",["root","padding","dense","subheader"]);const Hie=["children","className","component","dense","disablePadding","subheader"],Vie=t=>{const{classes:e,disablePadding:n,dense:i,subheader:r}=t;return Lt({root:["root",!n&&"padding",i&&"dense",r&&"subheader"]},Bie,e)},jie=je("ul",{name:"MuiList",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,!n.disablePadding&&e.padding,n.dense&&e.dense,n.subheader&&e.subheader]}})(({ownerState:t})=>z({listStyle:"none",margin:0,padding:0,position:"relative"},!t.disablePadding&&{paddingTop:8,paddingBottom:8},t.subheader&&{paddingTop:0})),Wie=k.forwardRef(function(e,n){const i=Ot({props:e,name:"MuiList"}),{children:r,className:s,component:o="ul",dense:a=!1,disablePadding:l=!1,subheader:c}=i,u=tt(i,Hie),d=k.useMemo(()=>({dense:a}),[a]),f=z({},i,{component:o,dense:a,disablePadding:l}),m=Vie(f);return M.jsx(sa.Provider,{value:d,children:M.jsxs(jie,z({as:o,className:lt(m.root,s),ref:n,ownerState:f},u,{children:[c,r]}))})}),u0=Wie;function Gie(t){return At("MuiListItem",t)}const $ie=Dt("MuiListItem",["root","container","focusVisible","dense","alignItemsFlexStart","disabled","divider","gutters","padding","button","secondaryAction","selected"]),Mh=$ie;function Xie(t){return At("MuiListItemButton",t)}const Yie=Dt("MuiListItemButton",["root","focusVisible","dense","alignItemsFlexStart","disabled","divider","gutters","selected"]),Eh=Yie,qie=["alignItems","autoFocus","component","children","dense","disableGutters","divider","focusVisibleClassName","selected","className"],Kie=(t,e)=>{const{ownerState:n}=t;return[e.root,n.dense&&e.dense,n.alignItems==="flex-start"&&e.alignItemsFlexStart,n.divider&&e.divider,!n.disableGutters&&e.gutters]},Qie=t=>{const{alignItems:e,classes:n,dense:i,disabled:r,disableGutters:s,divider:o,selected:a}=t,c=Lt({root:["root",i&&"dense",!s&&"gutters",o&&"divider",r&&"disabled",e==="flex-start"&&"alignItemsFlexStart",a&&"selected"]},Xie,n);return z({},n,c)},Zie=je(bu,{shouldForwardProp:t=>ls(t)||t==="classes",name:"MuiListItemButton",slot:"Root",overridesResolver:Kie})(({theme:t,ownerState:e})=>z({display:"flex",flexGrow:1,justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",minWidth:0,boxSizing:"border-box",textAlign:"left",paddingTop:8,paddingBottom:8,transition:t.transitions.create("background-color",{duration:t.transitions.duration.shortest}),"&:hover":{textDecoration:"none",backgroundColor:(t.vars||t).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${Eh.selected}`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / ${t.vars.palette.action.selectedOpacity})`:kn(t.palette.primary.main,t.palette.action.selectedOpacity),[`&.${Eh.focusVisible}`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / calc(${t.vars.palette.action.selectedOpacity} + ${t.vars.palette.action.focusOpacity}))`:kn(t.palette.primary.main,t.palette.action.selectedOpacity+t.palette.action.focusOpacity)}},[`&.${Eh.selected}:hover`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / calc(${t.vars.palette.action.selectedOpacity} + ${t.vars.palette.action.hoverOpacity}))`:kn(t.palette.primary.main,t.palette.action.selectedOpacity+t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / ${t.vars.palette.action.selectedOpacity})`:kn(t.palette.primary.main,t.palette.action.selectedOpacity)}},[`&.${Eh.focusVisible}`]:{backgroundColor:(t.vars||t).palette.action.focus},[`&.${Eh.disabled}`]:{opacity:(t.vars||t).palette.action.disabledOpacity}},e.divider&&{borderBottom:`1px solid ${(t.vars||t).palette.divider}`,backgroundClip:"padding-box"},e.alignItems==="flex-start"&&{alignItems:"flex-start"},!e.disableGutters&&{paddingLeft:16,paddingRight:16},e.dense&&{paddingTop:4,paddingBottom:4})),Jie=k.forwardRef(function(e,n){const i=Ot({props:e,name:"MuiListItemButton"}),{alignItems:r="center",autoFocus:s=!1,component:o="div",children:a,dense:l=!1,disableGutters:c=!1,divider:u=!1,focusVisibleClassName:d,selected:f=!1,className:m}=i,g=tt(i,qie),y=k.useContext(sa),x=k.useMemo(()=>({dense:l||y.dense||!1,alignItems:r,disableGutters:c}),[r,y.dense,l,c]),v=k.useRef(null);Uo(()=>{s&&v.current&&v.current.focus()},[s]);const _=z({},i,{alignItems:r,dense:x.dense,disableGutters:c,divider:u,selected:f}),b=Qie(_),w=Ii(v,n);return M.jsx(sa.Provider,{value:x,children:M.jsx(Zie,z({ref:w,href:g.href||g.to,component:(g.href||g.to)&&o==="div"?"button":o,focusVisibleClassName:lt(b.focusVisible,d),ownerState:_,className:lt(b.root,m)},g,{classes:b,children:a}))})}),Cc=Jie;function ere(t){return At("MuiListItemSecondaryAction",t)}Dt("MuiListItemSecondaryAction",["root","disableGutters"]);const tre=["className"],nre=t=>{const{disableGutters:e,classes:n}=t;return Lt({root:["root",e&&"disableGutters"]},ere,n)},ire=je("div",{name:"MuiListItemSecondaryAction",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.disableGutters&&e.disableGutters]}})(({ownerState:t})=>z({position:"absolute",right:16,top:"50%",transform:"translateY(-50%)"},t.disableGutters&&{right:0})),VV=k.forwardRef(function(e,n){const i=Ot({props:e,name:"MuiListItemSecondaryAction"}),{className:r}=i,s=tt(i,tre),o=k.useContext(sa),a=z({},i,{disableGutters:o.disableGutters}),l=nre(a);return M.jsx(ire,z({className:lt(l.root,r),ownerState:a,ref:n},s))});VV.muiName="ListItemSecondaryAction";const rre=VV,sre=["className"],ore=["alignItems","autoFocus","button","children","className","component","components","componentsProps","ContainerComponent","ContainerProps","dense","disabled","disableGutters","disablePadding","divider","focusVisibleClassName","secondaryAction","selected","slotProps","slots"],are=(t,e)=>{const{ownerState:n}=t;return[e.root,n.dense&&e.dense,n.alignItems==="flex-start"&&e.alignItemsFlexStart,n.divider&&e.divider,!n.disableGutters&&e.gutters,!n.disablePadding&&e.padding,n.button&&e.button,n.hasSecondaryAction&&e.secondaryAction]},lre=t=>{const{alignItems:e,button:n,classes:i,dense:r,disabled:s,disableGutters:o,disablePadding:a,divider:l,hasSecondaryAction:c,selected:u}=t;return Lt({root:["root",r&&"dense",!o&&"gutters",!a&&"padding",l&&"divider",s&&"disabled",n&&"button",e==="flex-start"&&"alignItemsFlexStart",c&&"secondaryAction",u&&"selected"],container:["container"]},Gie,i)},cre=je("div",{name:"MuiListItem",slot:"Root",overridesResolver:are})(({theme:t,ownerState:e})=>z({display:"flex",justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",width:"100%",boxSizing:"border-box",textAlign:"left"},!e.disablePadding&&z({paddingTop:8,paddingBottom:8},e.dense&&{paddingTop:4,paddingBottom:4},!e.disableGutters&&{paddingLeft:16,paddingRight:16},!!e.secondaryAction&&{paddingRight:48}),!!e.secondaryAction&&{[`& > .${Eh.root}`]:{paddingRight:48}},{[`&.${Mh.focusVisible}`]:{backgroundColor:(t.vars||t).palette.action.focus},[`&.${Mh.selected}`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / ${t.vars.palette.action.selectedOpacity})`:kn(t.palette.primary.main,t.palette.action.selectedOpacity),[`&.${Mh.focusVisible}`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / calc(${t.vars.palette.action.selectedOpacity} + ${t.vars.palette.action.focusOpacity}))`:kn(t.palette.primary.main,t.palette.action.selectedOpacity+t.palette.action.focusOpacity)}},[`&.${Mh.disabled}`]:{opacity:(t.vars||t).palette.action.disabledOpacity}},e.alignItems==="flex-start"&&{alignItems:"flex-start"},e.divider&&{borderBottom:`1px solid ${(t.vars||t).palette.divider}`,backgroundClip:"padding-box"},e.button&&{transition:t.transitions.create("background-color",{duration:t.transitions.duration.shortest}),"&:hover":{textDecoration:"none",backgroundColor:(t.vars||t).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${Mh.selected}:hover`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / calc(${t.vars.palette.action.selectedOpacity} + ${t.vars.palette.action.hoverOpacity}))`:kn(t.palette.primary.main,t.palette.action.selectedOpacity+t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / ${t.vars.palette.action.selectedOpacity})`:kn(t.palette.primary.main,t.palette.action.selectedOpacity)}}},e.hasSecondaryAction&&{paddingRight:48})),ure=je("li",{name:"MuiListItem",slot:"Container",overridesResolver:(t,e)=>e.container})({position:"relative"}),dre=k.forwardRef(function(e,n){const i=Ot({props:e,name:"MuiListItem"}),{alignItems:r="center",autoFocus:s=!1,button:o=!1,children:a,className:l,component:c,components:u={},componentsProps:d={},ContainerComponent:f="li",ContainerProps:{className:m}={},dense:g=!1,disabled:y=!1,disableGutters:x=!1,disablePadding:v=!1,divider:_=!1,focusVisibleClassName:b,secondaryAction:w,selected:C=!1,slotProps:T={},slots:R={}}=i,I=tt(i.ContainerProps,sre),A=tt(i,ore),L=k.useContext(sa),O=k.useMemo(()=>({dense:g||L.dense||!1,alignItems:r,disableGutters:x}),[r,L.dense,g,x]),H=k.useRef(null);Uo(()=>{s&&H.current&&H.current.focus()},[s]);const q=k.Children.toArray(a),U=q.length&&n0(q[q.length-1],["ListItemSecondaryAction"]),G=z({},i,{alignItems:r,autoFocus:s,button:o,dense:O.dense,disabled:y,disableGutters:x,disablePadding:v,divider:_,hasSecondaryAction:U,selected:C}),Q=lre(G),J=Ii(H,n),N=R.root||u.Root||cre,B=T.root||d.root||{},j=z({className:lt(Q.root,B.className,l),disabled:y},A);let te=c||"li";return o&&(j.component=c||"div",j.focusVisibleClassName=lt(Mh.focusVisible,b),te=bu),U?(te=!j.component&&!c?"div":te,f==="li"&&(te==="li"?te="div":j.component==="li"&&(j.component="div")),M.jsx(sa.Provider,{value:O,children:M.jsxs(ure,z({as:f,className:lt(Q.container,m),ref:J,ownerState:G},I,{children:[M.jsx(N,z({},B,!Ba(N)&&{as:te,ownerState:z({},G,B.ownerState)},j,{children:q})),q.pop()]}))})):M.jsx(sa.Provider,{value:O,children:M.jsxs(N,z({},B,{as:te,ref:J},!Ba(N)&&{ownerState:z({},G,B.ownerState)},j,{children:[q,w&&M.jsx(rre,{children:w})]}))})}),fre=dre;function hre(t){return At("MuiListItemIcon",t)}const pre=Dt("MuiListItemIcon",["root","alignItemsFlexStart"]),QN=pre,mre=["className"],gre=t=>{const{alignItems:e,classes:n}=t;return Lt({root:["root",e==="flex-start"&&"alignItemsFlexStart"]},hre,n)},vre=je("div",{name:"MuiListItemIcon",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.alignItems==="flex-start"&&e.alignItemsFlexStart]}})(({theme:t,ownerState:e})=>z({minWidth:56,color:(t.vars||t).palette.action.active,flexShrink:0,display:"inline-flex"},e.alignItems==="flex-start"&&{marginTop:8})),yre=k.forwardRef(function(e,n){const i=Ot({props:e,name:"MuiListItemIcon"}),{className:r}=i,s=tt(i,mre),o=k.useContext(sa),a=z({},i,{alignItems:o.alignItems}),l=gre(a);return M.jsx(vre,z({className:lt(l.root,r),ownerState:a,ref:n},s))}),Ml=yre;function xre(t){return At("MuiListItemText",t)}const _re=Dt("MuiListItemText",["root","multiline","dense","inset","primary","secondary"]),F1=_re,bre=["children","className","disableTypography","inset","primary","primaryTypographyProps","secondary","secondaryTypographyProps"],Sre=t=>{const{classes:e,inset:n,primary:i,secondary:r,dense:s}=t;return Lt({root:["root",n&&"inset",s&&"dense",i&&r&&"multiline"],primary:["primary"],secondary:["secondary"]},xre,e)},wre=je("div",{name:"MuiListItemText",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[{[`& .${F1.primary}`]:e.primary},{[`& .${F1.secondary}`]:e.secondary},e.root,n.inset&&e.inset,n.primary&&n.secondary&&e.multiline,n.dense&&e.dense]}})(({ownerState:t})=>z({flex:"1 1 auto",minWidth:0,marginTop:4,marginBottom:4},t.primary&&t.secondary&&{marginTop:6,marginBottom:6},t.inset&&{paddingLeft:56})),Mre=k.forwardRef(function(e,n){const i=Ot({props:e,name:"MuiListItemText"}),{children:r,className:s,disableTypography:o=!1,inset:a=!1,primary:l,primaryTypographyProps:c,secondary:u,secondaryTypographyProps:d}=i,f=tt(i,bre),{dense:m}=k.useContext(sa);let g=l??r,y=u;const x=z({},i,{disableTypography:o,inset:a,primary:!!g,secondary:!!y,dense:m}),v=Sre(x);return g!=null&&g.type!==$e&&!o&&(g=M.jsx($e,z({variant:m?"body2":"body1",className:v.primary,component:c!=null&&c.variant?void 0:"span",display:"block"},c,{children:g}))),y!=null&&y.type!==$e&&!o&&(y=M.jsx($e,z({variant:"body2",className:v.secondary,color:"text.secondary",display:"block"},d,{children:y}))),M.jsxs(wre,z({className:lt(v.root,s),ownerState:x,ref:n},f,{children:[g,y]}))}),El=Mre,Ere=["actions","autoFocus","autoFocusItem","children","className","disabledItemsFocusable","disableListWrap","onKeyDown","variant"];function sT(t,e,n){return t===e?t.firstChild:e&&e.nextElementSibling?e.nextElementSibling:n?null:t.firstChild}function ZN(t,e,n){return t===e?n?t.firstChild:t.lastChild:e&&e.previousElementSibling?e.previousElementSibling:n?null:t.lastChild}function jV(t,e){if(e===void 0)return!0;let n=t.innerText;return n===void 0&&(n=t.textContent),n=n.trim().toLowerCase(),n.length===0?!1:e.repeating?n[0]===e.keys[0]:n.indexOf(e.keys.join(""))===0}function Ym(t,e,n,i,r,s){let o=!1,a=r(t,e,e?n:!1);for(;a;){if(a===t.firstChild){if(o)return!1;o=!0}const l=i?!1:a.disabled||a.getAttribute("aria-disabled")==="true";if(!a.hasAttribute("tabindex")||!jV(a,s)||l)a=r(t,a,n);else return a.focus(),!0}return!1}const Tre=k.forwardRef(function(e,n){const{actions:i,autoFocus:r=!1,autoFocusItem:s=!1,children:o,className:a,disabledItemsFocusable:l=!1,disableListWrap:c=!1,onKeyDown:u,variant:d="selectedMenu"}=e,f=tt(e,Ere),m=k.useRef(null),g=k.useRef({keys:[],repeating:!0,previousKeyMatched:!0,lastTime:null});Uo(()=>{r&&m.current.focus()},[r]),k.useImperativeHandle(i,()=>({adjustStyleForScrollbar:(b,w)=>{const C=!m.current.style.width;if(b.clientHeight<m.current.clientHeight&&C){const T=`${GH(pr(b))}px`;m.current.style[w.direction==="rtl"?"paddingLeft":"paddingRight"]=T,m.current.style.width=`calc(100% + ${T})`}return m.current}}),[]);const y=b=>{const w=m.current,C=b.key,T=pr(w).activeElement;if(C==="ArrowDown")b.preventDefault(),Ym(w,T,c,l,sT);else if(C==="ArrowUp")b.preventDefault(),Ym(w,T,c,l,ZN);else if(C==="Home")b.preventDefault(),Ym(w,null,c,l,sT);else if(C==="End")b.preventDefault(),Ym(w,null,c,l,ZN);else if(C.length===1){const R=g.current,I=C.toLowerCase(),A=performance.now();R.keys.length>0&&(A-R.lastTime>500?(R.keys=[],R.repeating=!0,R.previousKeyMatched=!0):R.repeating&&I!==R.keys[0]&&(R.repeating=!1)),R.lastTime=A,R.keys.push(I);const L=T&&!R.repeating&&jV(T,R);R.previousKeyMatched&&(L||Ym(w,T,!1,l,sT,R))?b.preventDefault():R.previousKeyMatched=!1}u&&u(b)},x=Ii(m,n);let v=-1;k.Children.forEach(o,(b,w)=>{if(!k.isValidElement(b)){v===w&&(v+=1,v>=o.length&&(v=-1));return}b.props.disabled||(d==="selectedMenu"&&b.props.selected||v===-1)&&(v=w),v===w&&(b.props.disabled||b.props.muiSkipListHighlight||b.type.muiSkipListHighlight)&&(v+=1,v>=o.length&&(v=-1))});const _=k.Children.map(o,(b,w)=>{if(w===v){const C={};return s&&(C.autoFocus=!0),b.props.tabIndex===void 0&&d==="selectedMenu"&&(C.tabIndex=0),k.cloneElement(b,C)}return b});return M.jsx(u0,z({role:"menu",ref:x,className:a,onKeyDown:y,tabIndex:r?0:-1},f,{children:_}))}),Cre=Tre;function Rre(t){return At("MuiPopover",t)}Dt("MuiPopover",["root","paper"]);const Are=["onEntering"],Pre=["action","anchorEl","anchorOrigin","anchorPosition","anchorReference","children","className","container","elevation","marginThreshold","open","PaperProps","slots","slotProps","transformOrigin","TransitionComponent","transitionDuration","TransitionProps","disableScrollLock"],kre=["slotProps"];function JN(t,e){let n=0;return typeof e=="number"?n=e:e==="center"?n=t.height/2:e==="bottom"&&(n=t.height),n}function e3(t,e){let n=0;return typeof e=="number"?n=e:e==="center"?n=t.width/2:e==="right"&&(n=t.width),n}function t3(t){return[t.horizontal,t.vertical].map(e=>typeof e=="number"?`${e}px`:e).join(" ")}function oT(t){return typeof t=="function"?t():t}const Ire=t=>{const{classes:e}=t;return Lt({root:["root"],paper:["paper"]},Rre,e)},Lre=je(fne,{name:"MuiPopover",slot:"Root",overridesResolver:(t,e)=>e.root})({}),WV=je(fw,{name:"MuiPopover",slot:"Paper",overridesResolver:(t,e)=>e.paper})({position:"absolute",overflowY:"auto",overflowX:"hidden",minWidth:16,minHeight:16,maxWidth:"calc(100% - 32px)",maxHeight:"calc(100% - 32px)",outline:0}),Dre=k.forwardRef(function(e,n){var i,r,s;const o=Ot({props:e,name:"MuiPopover"}),{action:a,anchorEl:l,anchorOrigin:c={vertical:"top",horizontal:"left"},anchorPosition:u,anchorReference:d="anchorEl",children:f,className:m,container:g,elevation:y=8,marginThreshold:x=16,open:v,PaperProps:_={},slots:b,slotProps:w,transformOrigin:C={vertical:"top",horizontal:"left"},TransitionComponent:T=mie,transitionDuration:R="auto",TransitionProps:{onEntering:I}={},disableScrollLock:A=!1}=o,L=tt(o.TransitionProps,Are),O=tt(o,Pre),H=(i=w==null?void 0:w.paper)!=null?i:_,q=k.useRef(),U=Ii(q,H.ref),G=z({},o,{anchorOrigin:c,anchorReference:d,elevation:y,marginThreshold:x,externalPaperSlotProps:H,transformOrigin:C,TransitionComponent:T,transitionDuration:R,TransitionProps:L}),Q=Ire(G),J=k.useCallback(()=>{if(d==="anchorPosition")return u;const _e=oT(l),be=(_e&&_e.nodeType===1?_e:pr(q.current).body).getBoundingClientRect();return{top:be.top+JN(be,c.vertical),left:be.left+e3(be,c.horizontal)}},[l,c.horizontal,c.vertical,u,d]),N=k.useCallback(_e=>({vertical:JN(_e,C.vertical),horizontal:e3(_e,C.horizontal)}),[C.horizontal,C.vertical]),B=k.useCallback(_e=>{const de={width:_e.offsetWidth,height:_e.offsetHeight},be=N(de);if(d==="none")return{top:null,left:null,transformOrigin:t3(be)};const Pe=J();let Ke=Pe.top-be.vertical,ze=Pe.left-be.horizontal;const Ge=Ke+de.height,Ye=ze+de.width,st=lu(oT(l)),Xt=st.innerHeight-x,$=st.innerWidth-x;if(x!==null&&Ke<x){const F=Ke-x;Ke-=F,be.vertical+=F}else if(x!==null&&Ge>Xt){const F=Ge-Xt;Ke-=F,be.vertical+=F}if(x!==null&&ze<x){const F=ze-x;ze-=F,be.horizontal+=F}else if(Ye>$){const F=Ye-$;ze-=F,be.horizontal+=F}return{top:`${Math.round(Ke)}px`,left:`${Math.round(ze)}px`,transformOrigin:t3(be)}},[l,d,J,N,x]),[j,te]=k.useState(v),se=k.useCallback(()=>{const _e=q.current;if(!_e)return;const de=B(_e);de.top!==null&&(_e.style.top=de.top),de.left!==null&&(_e.style.left=de.left),_e.style.transformOrigin=de.transformOrigin,te(!0)},[B]);k.useEffect(()=>(A&&window.addEventListener("scroll",se),()=>window.removeEventListener("scroll",se)),[l,A,se]);const ne=(_e,de)=>{I&&I(_e,de),se()},ae=()=>{te(!1)};k.useEffect(()=>{v&&se()}),k.useImperativeHandle(a,()=>v?{updatePosition:()=>{se()}}:null,[v,se]),k.useEffect(()=>{if(!v)return;const _e=wP(()=>{se()}),de=lu(l);return de.addEventListener("resize",_e),()=>{_e.clear(),de.removeEventListener("resize",_e)}},[l,v,se]);let xe=R;R==="auto"&&!T.muiSupportAuto&&(xe=void 0);const Ee=g||(l?pr(oT(l)).body:void 0),Oe=(r=b==null?void 0:b.root)!=null?r:Lre,ut=(s=b==null?void 0:b.paper)!=null?s:WV,qe=bs({elementType:ut,externalSlotProps:z({},H,{style:j?H.style:z({},H.style,{opacity:0})}),additionalProps:{elevation:y,ref:U},ownerState:G,className:lt(Q.paper,H==null?void 0:H.className)}),Xe=bs({elementType:Oe,externalSlotProps:(w==null?void 0:w.root)||{},externalForwardedProps:O,additionalProps:{ref:n,slotProps:{backdrop:{invisible:!0}},container:Ee,open:v},ownerState:G,className:lt(Q.root,m)}),{slotProps:Ie}=Xe,Z=tt(Xe,kre);return M.jsx(Oe,z({},Z,!Ba(Oe)&&{slotProps:Ie,disableScrollLock:A},{children:M.jsx(T,z({appear:!0,in:v,onEntering:ne,onExited:ae,timeout:xe},L,{children:M.jsx(ut,z({},qe,{children:f}))}))}))}),Ore=Dre;function Nre(t){return At("MuiMenu",t)}Dt("MuiMenu",["root","paper","list"]);const Fre=["onEntering"],zre=["autoFocus","children","className","disableAutoFocusItem","MenuListProps","onClose","open","PaperProps","PopoverClasses","transitionDuration","TransitionProps","variant","slots","slotProps"],Ure={vertical:"top",horizontal:"right"},Bre={vertical:"top",horizontal:"left"},Hre=t=>{const{classes:e}=t;return Lt({root:["root"],paper:["paper"],list:["list"]},Nre,e)},Vre=je(Ore,{shouldForwardProp:t=>ls(t)||t==="classes",name:"MuiMenu",slot:"Root",overridesResolver:(t,e)=>e.root})({}),jre=je(WV,{name:"MuiMenu",slot:"Paper",overridesResolver:(t,e)=>e.paper})({maxHeight:"calc(100% - 96px)",WebkitOverflowScrolling:"touch"}),Wre=je(Cre,{name:"MuiMenu",slot:"List",overridesResolver:(t,e)=>e.list})({outline:0}),Gre=k.forwardRef(function(e,n){var i,r;const s=Ot({props:e,name:"MuiMenu"}),{autoFocus:o=!0,children:a,className:l,disableAutoFocusItem:c=!1,MenuListProps:u={},onClose:d,open:f,PaperProps:m={},PopoverClasses:g,transitionDuration:y="auto",TransitionProps:{onEntering:x}={},variant:v="selectedMenu",slots:_={},slotProps:b={}}=s,w=tt(s.TransitionProps,Fre),C=tt(s,zre),T=vr(),R=T.direction==="rtl",I=z({},s,{autoFocus:o,disableAutoFocusItem:c,MenuListProps:u,onEntering:x,PaperProps:m,transitionDuration:y,TransitionProps:w,variant:v}),A=Hre(I),L=o&&!c&&f,O=k.useRef(null),H=(B,j)=>{O.current&&O.current.adjustStyleForScrollbar(B,T),x&&x(B,j)},q=B=>{B.key==="Tab"&&(B.preventDefault(),d&&d(B,"tabKeyDown"))};let U=-1;k.Children.map(a,(B,j)=>{k.isValidElement(B)&&(B.props.disabled||(v==="selectedMenu"&&B.props.selected||U===-1)&&(U=j))});const G=(i=_.paper)!=null?i:jre,Q=(r=b.paper)!=null?r:m,J=bs({elementType:_.root,externalSlotProps:b.root,ownerState:I,className:[A.root,l]}),N=bs({elementType:G,externalSlotProps:Q,ownerState:I,className:A.paper});return M.jsx(Vre,z({onClose:d,anchorOrigin:{vertical:"bottom",horizontal:R?"right":"left"},transformOrigin:R?Ure:Bre,slots:{paper:G,root:_.root},slotProps:{root:J,paper:N},open:f,ref:n,transitionDuration:y,TransitionProps:z({onEntering:H},w),ownerState:I},C,{classes:g,children:M.jsx(Wre,z({onKeyDown:q,actions:O,autoFocus:o&&(U===-1||c),autoFocusItem:L,variant:v},u,{className:lt(A.list,u.className),children:a}))}))}),KP=Gre;function $re(t){return At("MuiMenuItem",t)}const Xre=Dt("MuiMenuItem",["root","focusVisible","dense","disabled","divider","gutters","selected"]),qm=Xre,Yre=["autoFocus","component","dense","divider","disableGutters","focusVisibleClassName","role","tabIndex","className"],qre=(t,e)=>{const{ownerState:n}=t;return[e.root,n.dense&&e.dense,n.divider&&e.divider,!n.disableGutters&&e.gutters]},Kre=t=>{const{disabled:e,dense:n,divider:i,disableGutters:r,selected:s,classes:o}=t,l=Lt({root:["root",n&&"dense",e&&"disabled",!r&&"gutters",i&&"divider",s&&"selected"]},$re,o);return z({},o,l)},Qre=je(bu,{shouldForwardProp:t=>ls(t)||t==="classes",name:"MuiMenuItem",slot:"Root",overridesResolver:qre})(({theme:t,ownerState:e})=>z({},t.typography.body1,{display:"flex",justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",minHeight:48,paddingTop:6,paddingBottom:6,boxSizing:"border-box",whiteSpace:"nowrap"},!e.disableGutters&&{paddingLeft:16,paddingRight:16},e.divider&&{borderBottom:`1px solid ${(t.vars||t).palette.divider}`,backgroundClip:"padding-box"},{"&:hover":{textDecoration:"none",backgroundColor:(t.vars||t).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${qm.selected}`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / ${t.vars.palette.action.selectedOpacity})`:kn(t.palette.primary.main,t.palette.action.selectedOpacity),[`&.${qm.focusVisible}`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / calc(${t.vars.palette.action.selectedOpacity} + ${t.vars.palette.action.focusOpacity}))`:kn(t.palette.primary.main,t.palette.action.selectedOpacity+t.palette.action.focusOpacity)}},[`&.${qm.selected}:hover`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / calc(${t.vars.palette.action.selectedOpacity} + ${t.vars.palette.action.hoverOpacity}))`:kn(t.palette.primary.main,t.palette.action.selectedOpacity+t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / ${t.vars.palette.action.selectedOpacity})`:kn(t.palette.primary.main,t.palette.action.selectedOpacity)}},[`&.${qm.focusVisible}`]:{backgroundColor:(t.vars||t).palette.action.focus},[`&.${qm.disabled}`]:{opacity:(t.vars||t).palette.action.disabledOpacity},[`& + .${XN.root}`]:{marginTop:t.spacing(1),marginBottom:t.spacing(1)},[`& + .${XN.inset}`]:{marginLeft:52},[`& .${F1.root}`]:{marginTop:0,marginBottom:0},[`& .${F1.inset}`]:{paddingLeft:36},[`& .${QN.root}`]:{minWidth:36}},!e.dense&&{[t.breakpoints.up("sm")]:{minHeight:"auto"}},e.dense&&z({minHeight:32,paddingTop:4,paddingBottom:4},t.typography.body2,{[`& .${QN.root} svg`]:{fontSize:"1.25rem"}}))),Zre=k.forwardRef(function(e,n){const i=Ot({props:e,name:"MuiMenuItem"}),{autoFocus:r=!1,component:s="li",dense:o=!1,divider:a=!1,disableGutters:l=!1,focusVisibleClassName:c,role:u="menuitem",tabIndex:d,className:f}=i,m=tt(i,Yre),g=k.useContext(sa),y=k.useMemo(()=>({dense:o||g.dense||!1,disableGutters:l}),[g.dense,o,l]),x=k.useRef(null);Uo(()=>{r&&x.current&&x.current.focus()},[r]);const v=z({},i,{dense:y.dense,divider:a,disableGutters:l}),_=Kre(i),b=Ii(x,n);let w;return i.disabled||(w=d!==void 0?d:-1),M.jsx(sa.Provider,{value:y,children:M.jsx(Qre,z({ref:b,role:u,tabIndex:w,component:s,focusVisibleClassName:lt(_.focusVisible,c),className:lt(_.root,f)},m,{ownerState:v,classes:_}))})}),Y2=Zre;function Jre(t){return At("MuiNativeSelect",t)}const ese=Dt("MuiNativeSelect",["root","select","multiple","filled","outlined","standard","disabled","icon","iconOpen","iconFilled","iconOutlined","iconStandard","nativeInput","error"]),QP=ese,tse=["className","disabled","error","IconComponent","inputRef","variant"],nse=t=>{const{classes:e,variant:n,disabled:i,multiple:r,open:s,error:o}=t,a={select:["select",n,i&&"disabled",r&&"multiple",o&&"error"],icon:["icon",`icon${rt(n)}`,s&&"iconOpen",i&&"disabled"]};return Lt(a,Jre,e)},GV=({ownerState:t,theme:e})=>z({MozAppearance:"none",WebkitAppearance:"none",userSelect:"none",borderRadius:0,cursor:"pointer","&:focus":z({},e.vars?{backgroundColor:`rgba(${e.vars.palette.common.onBackgroundChannel} / 0.05)`}:{backgroundColor:e.palette.mode==="light"?"rgba(0, 0, 0, 0.05)":"rgba(255, 255, 255, 0.05)"},{borderRadius:0}),"&::-ms-expand":{display:"none"},[`&.${QP.disabled}`]:{cursor:"default"},"&[multiple]":{height:"auto"},"&:not([multiple]) option, &:not([multiple]) optgroup":{backgroundColor:(e.vars||e).palette.background.paper},"&&&":{paddingRight:24,minWidth:16}},t.variant==="filled"&&{"&&&":{paddingRight:32}},t.variant==="outlined"&&{borderRadius:(e.vars||e).shape.borderRadius,"&:focus":{borderRadius:(e.vars||e).shape.borderRadius},"&&&":{paddingRight:32}}),ise=je("select",{name:"MuiNativeSelect",slot:"Select",shouldForwardProp:ls,overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.select,e[n.variant],n.error&&e.error,{[`&.${QP.multiple}`]:e.multiple}]}})(GV),$V=({ownerState:t,theme:e})=>z({position:"absolute",right:0,top:"calc(50% - .5em)",pointerEvents:"none",color:(e.vars||e).palette.action.active,[`&.${QP.disabled}`]:{color:(e.vars||e).palette.action.disabled}},t.open&&{transform:"rotate(180deg)"},t.variant==="filled"&&{right:7},t.variant==="outlined"&&{right:7}),rse=je("svg",{name:"MuiNativeSelect",slot:"Icon",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.icon,n.variant&&e[`icon${rt(n.variant)}`],n.open&&e.iconOpen]}})($V),sse=k.forwardRef(function(e,n){const{className:i,disabled:r,error:s,IconComponent:o,inputRef:a,variant:l="standard"}=e,c=tt(e,tse),u=z({},e,{disabled:r,variant:l,error:s}),d=nse(u);return M.jsxs(k.Fragment,{children:[M.jsx(ise,z({ownerState:u,className:lt(d.select,i),disabled:r,ref:a||n},c)),e.multiple?null:M.jsx(rse,{as:o,ownerState:u,className:d.icon})]})}),ose=sse;var n3;const ase=["children","classes","className","label","notched"],lse=je("fieldset",{shouldForwardProp:ls})({textAlign:"left",position:"absolute",bottom:0,right:0,top:-5,left:0,margin:0,padding:"0 8px",pointerEvents:"none",borderRadius:"inherit",borderStyle:"solid",borderWidth:1,overflow:"hidden",minWidth:"0%"}),cse=je("legend",{shouldForwardProp:ls})(({ownerState:t,theme:e})=>z({float:"unset",width:"auto",overflow:"hidden"},!t.withLabel&&{padding:0,lineHeight:"11px",transition:e.transitions.create("width",{duration:150,easing:e.transitions.easing.easeOut})},t.withLabel&&z({display:"block",padding:0,height:11,fontSize:"0.75em",visibility:"hidden",maxWidth:.01,transition:e.transitions.create("max-width",{duration:50,easing:e.transitions.easing.easeOut}),whiteSpace:"nowrap","& > span":{paddingLeft:5,paddingRight:5,display:"inline-block",opacity:0,visibility:"visible"}},t.notched&&{maxWidth:"100%",transition:e.transitions.create("max-width",{duration:100,easing:e.transitions.easing.easeOut,delay:50})})));function use(t){const{className:e,label:n,notched:i}=t,r=tt(t,ase),s=n!=null&&n!=="",o=z({},t,{notched:i,withLabel:s});return M.jsx(lse,z({"aria-hidden":!0,className:e,ownerState:o},r,{children:M.jsx(cse,{ownerState:o,children:s?M.jsx("span",{children:n}):n3||(n3=M.jsx("span",{className:"notranslate",children:"​"}))})}))}const dse=["components","fullWidth","inputComponent","label","multiline","notched","slots","type"],fse=t=>{const{classes:e}=t,i=Lt({root:["root"],notchedOutline:["notchedOutline"],input:["input"]},xee,e);return z({},e,i)},hse=je(vw,{shouldForwardProp:t=>ls(t)||t==="classes",name:"MuiOutlinedInput",slot:"Root",overridesResolver:mw})(({theme:t,ownerState:e})=>{const n=t.palette.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return z({position:"relative",borderRadius:(t.vars||t).shape.borderRadius,[`&:hover .${sc.notchedOutline}`]:{borderColor:(t.vars||t).palette.text.primary},"@media (hover: none)":{[`&:hover .${sc.notchedOutline}`]:{borderColor:t.vars?`rgba(${t.vars.palette.common.onBackgroundChannel} / 0.23)`:n}},[`&.${sc.focused} .${sc.notchedOutline}`]:{borderColor:(t.vars||t).palette[e.color].main,borderWidth:2},[`&.${sc.error} .${sc.notchedOutline}`]:{borderColor:(t.vars||t).palette.error.main},[`&.${sc.disabled} .${sc.notchedOutline}`]:{borderColor:(t.vars||t).palette.action.disabled}},e.startAdornment&&{paddingLeft:14},e.endAdornment&&{paddingRight:14},e.multiline&&z({padding:"16.5px 14px"},e.size==="small"&&{padding:"8.5px 14px"}))}),pse=je(use,{name:"MuiOutlinedInput",slot:"NotchedOutline",overridesResolver:(t,e)=>e.notchedOutline})(({theme:t})=>{const e=t.palette.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return{borderColor:t.vars?`rgba(${t.vars.palette.common.onBackgroundChannel} / 0.23)`:e}}),mse=je(yw,{name:"MuiOutlinedInput",slot:"Input",overridesResolver:gw})(({theme:t,ownerState:e})=>z({padding:"16.5px 14px"},!t.vars&&{"&:-webkit-autofill":{WebkitBoxShadow:t.palette.mode==="light"?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:t.palette.mode==="light"?null:"#fff",caretColor:t.palette.mode==="light"?null:"#fff",borderRadius:"inherit"}},t.vars&&{"&:-webkit-autofill":{borderRadius:"inherit"},[t.getColorSchemeSelector("dark")]:{"&:-webkit-autofill":{WebkitBoxShadow:"0 0 0 100px #266798 inset",WebkitTextFillColor:"#fff",caretColor:"#fff"}}},e.size==="small"&&{padding:"8.5px 14px"},e.multiline&&{padding:0},e.startAdornment&&{paddingLeft:0},e.endAdornment&&{paddingRight:0})),XV=k.forwardRef(function(e,n){var i,r,s,o,a;const l=Ot({props:e,name:"MuiOutlinedInput"}),{components:c={},fullWidth:u=!1,inputComponent:d="input",label:f,multiline:m=!1,notched:g,slots:y={},type:x="text"}=l,v=tt(l,dse),_=fse(l),b=Su(),w=cf({props:l,muiFormControl:b,states:["color","disabled","error","focused","hiddenLabel","size","required"]}),C=z({},l,{color:w.color||"primary",disabled:w.disabled,error:w.error,focused:w.focused,formControl:b,fullWidth:u,hiddenLabel:w.hiddenLabel,multiline:m,size:w.size,type:x}),T=(i=(r=y.root)!=null?r:c.Root)!=null?i:hse,R=(s=(o=y.input)!=null?o:c.Input)!=null?s:mse;return M.jsx(xw,z({slots:{root:T,input:R},renderSuffix:I=>M.jsx(pse,{ownerState:C,className:_.notchedOutline,label:f!=null&&f!==""&&w.required?a||(a=M.jsxs(k.Fragment,{children:[f," ","*"]})):f,notched:typeof g<"u"?g:!!(I.startAdornment||I.filled||I.focused)}),fullWidth:u,inputComponent:d,multiline:m,ref:n,type:x},v,{classes:z({},_,{notchedOutline:null})}))});XV.muiName="Input";const YV=XV;function gse(t){return At("MuiSelect",t)}const vse=Dt("MuiSelect",["root","select","multiple","filled","outlined","standard","disabled","focused","icon","iconOpen","iconFilled","iconOutlined","iconStandard","nativeInput","error"]),Km=vse;var i3;const yse=["aria-describedby","aria-label","autoFocus","autoWidth","children","className","defaultOpen","defaultValue","disabled","displayEmpty","error","IconComponent","inputRef","labelId","MenuProps","multiple","name","onBlur","onChange","onClose","onFocus","onOpen","open","readOnly","renderValue","SelectDisplayProps","tabIndex","type","value","variant"],xse=je("div",{name:"MuiSelect",slot:"Select",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[{[`&.${Km.select}`]:e.select},{[`&.${Km.select}`]:e[n.variant]},{[`&.${Km.error}`]:e.error},{[`&.${Km.multiple}`]:e.multiple}]}})(GV,{[`&.${Km.select}`]:{height:"auto",minHeight:"1.4375em",textOverflow:"ellipsis",whiteSpace:"nowrap",overflow:"hidden"}}),_se=je("svg",{name:"MuiSelect",slot:"Icon",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.icon,n.variant&&e[`icon${rt(n.variant)}`],n.open&&e.iconOpen]}})($V),bse=je("input",{shouldForwardProp:t=>WP(t)&&t!=="classes",name:"MuiSelect",slot:"NativeInput",overridesResolver:(t,e)=>e.nativeInput})({bottom:0,left:0,position:"absolute",opacity:0,pointerEvents:"none",width:"100%",boxSizing:"border-box"});function r3(t,e){return typeof e=="object"&&e!==null?t===e:String(t)===String(e)}function Sse(t){return t==null||typeof t=="string"&&!t.trim()}const wse=t=>{const{classes:e,variant:n,disabled:i,multiple:r,open:s,error:o}=t,a={select:["select",n,i&&"disabled",r&&"multiple",o&&"error"],icon:["icon",`icon${rt(n)}`,s&&"iconOpen",i&&"disabled"],nativeInput:["nativeInput"]};return Lt(a,gse,e)},Mse=k.forwardRef(function(e,n){var i;const{"aria-describedby":r,"aria-label":s,autoFocus:o,autoWidth:a,children:l,className:c,defaultOpen:u,defaultValue:d,disabled:f,displayEmpty:m,error:g=!1,IconComponent:y,inputRef:x,labelId:v,MenuProps:_={},multiple:b,name:w,onBlur:C,onChange:T,onClose:R,onFocus:I,onOpen:A,open:L,readOnly:O,renderValue:H,SelectDisplayProps:q={},tabIndex:U,value:G,variant:Q="standard"}=e,J=tt(e,yse),[N,B]=X0({controlled:G,default:d,name:"Select"}),[j,te]=X0({controlled:L,default:u,name:"Select"}),se=k.useRef(null),ne=k.useRef(null),[ae,xe]=k.useState(null),{current:Ee}=k.useRef(L!=null),[Oe,ut]=k.useState(),qe=Ii(n,x),Xe=k.useCallback(Ne=>{ne.current=Ne,Ne&&xe(Ne)},[]),Ie=ae==null?void 0:ae.parentNode;k.useImperativeHandle(qe,()=>({focus:()=>{ne.current.focus()},node:se.current,value:N}),[N]),k.useEffect(()=>{u&&j&&ae&&!Ee&&(ut(a?null:Ie.clientWidth),ne.current.focus())},[ae,a]),k.useEffect(()=>{o&&ne.current.focus()},[o]),k.useEffect(()=>{if(!v)return;const Ne=pr(ne.current).getElementById(v);if(Ne){const Ce=()=>{getSelection().isCollapsed&&ne.current.focus()};return Ne.addEventListener("click",Ce),()=>{Ne.removeEventListener("click",Ce)}}},[v]);const Z=(Ne,Ce)=>{Ne?A&&A(Ce):R&&R(Ce),Ee||(ut(a?null:Ie.clientWidth),te(Ne))},_e=Ne=>{Ne.button===0&&(Ne.preventDefault(),ne.current.focus(),Z(!0,Ne))},de=Ne=>{Z(!1,Ne)},be=k.Children.toArray(l),Pe=Ne=>{const Ce=be.find(wt=>wt.props.value===Ne.target.value);Ce!==void 0&&(B(Ce.props.value),T&&T(Ne,Ce))},Ke=Ne=>Ce=>{let wt;if(Ce.currentTarget.hasAttribute("tabindex")){if(b){wt=Array.isArray(N)?N.slice():[];const pt=N.indexOf(Ne.props.value);pt===-1?wt.push(Ne.props.value):wt.splice(pt,1)}else wt=Ne.props.value;if(Ne.props.onClick&&Ne.props.onClick(Ce),N!==wt&&(B(wt),T)){const pt=Ce.nativeEvent||Ce,Mt=new pt.constructor(pt.type,pt);Object.defineProperty(Mt,"target",{writable:!0,value:{value:wt,name:w}}),T(Mt,Ne)}b||Z(!1,Ce)}},ze=Ne=>{O||[" ","ArrowUp","ArrowDown","Enter"].indexOf(Ne.key)!==-1&&(Ne.preventDefault(),Z(!0,Ne))},Ge=ae!==null&&j,Ye=Ne=>{!Ge&&C&&(Object.defineProperty(Ne,"target",{writable:!0,value:{value:N,name:w}}),C(Ne))};delete J["aria-invalid"];let st,Xt;const $=[];let F=!1;(N1({value:N})||m)&&(H?st=H(N):F=!0);const ee=be.map(Ne=>{if(!k.isValidElement(Ne))return null;let Ce;if(b){if(!Array.isArray(N))throw new Error(au(2));Ce=N.some(wt=>r3(wt,Ne.props.value)),Ce&&F&&$.push(Ne.props.children)}else Ce=r3(N,Ne.props.value),Ce&&F&&(Xt=Ne.props.children);return k.cloneElement(Ne,{"aria-selected":Ce?"true":"false",onClick:Ke(Ne),onKeyUp:wt=>{wt.key===" "&&wt.preventDefault(),Ne.props.onKeyUp&&Ne.props.onKeyUp(wt)},role:"option",selected:Ce,value:void 0,"data-value":Ne.props.value})});F&&(b?$.length===0?st=null:st=$.reduce((Ne,Ce,wt)=>(Ne.push(Ce),wt<$.length-1&&Ne.push(", "),Ne),[]):st=Xt);let fe=Oe;!a&&Ee&&ae&&(fe=Ie.clientWidth);let he;typeof U<"u"?he=U:he=f?null:0;const me=q.id||(w?`mui-component-select-${w}`:void 0),we=z({},e,{variant:Q,value:N,open:Ge,error:g}),Le=wse(we),De=z({},_.PaperProps,(i=_.slotProps)==null?void 0:i.paper),Qe=MP();return M.jsxs(k.Fragment,{children:[M.jsx(xse,z({ref:Xe,tabIndex:he,role:"combobox","aria-controls":Qe,"aria-disabled":f?"true":void 0,"aria-expanded":Ge?"true":"false","aria-haspopup":"listbox","aria-label":s,"aria-labelledby":[v,me].filter(Boolean).join(" ")||void 0,"aria-describedby":r,onKeyDown:ze,onMouseDown:f||O?null:_e,onBlur:Ye,onFocus:I},q,{ownerState:we,className:lt(q.className,Le.select,c),id:me,children:Sse(st)?i3||(i3=M.jsx("span",{className:"notranslate",children:"​"})):st})),M.jsx(bse,z({"aria-invalid":g,value:Array.isArray(N)?N.join(","):N,name:w,ref:se,"aria-hidden":!0,onChange:Pe,tabIndex:-1,disabled:f,className:Le.nativeInput,autoFocus:o,ownerState:we},J)),M.jsx(_se,{as:y,className:Le.icon,ownerState:we}),M.jsx(KP,z({id:`menu-${w||""}`,anchorEl:Ie,open:Ge,onClose:de,anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"}},_,{MenuListProps:z({"aria-labelledby":v,role:"listbox","aria-multiselectable":b?"true":void 0,disableListWrap:!0,id:Qe},_.MenuListProps),slotProps:z({},_.slotProps,{paper:z({},De,{style:z({minWidth:fe},De!=null?De.style:null)})}),children:ee}))]})}),Ese=Mse,Tse=["autoWidth","children","classes","className","defaultOpen","displayEmpty","IconComponent","id","input","inputProps","label","labelId","MenuProps","multiple","native","onClose","onOpen","open","renderValue","SelectDisplayProps","variant"],Cse=["root"],Rse=t=>{const{classes:e}=t;return e},ZP={name:"MuiSelect",overridesResolver:(t,e)=>e.root,shouldForwardProp:t=>ls(t)&&t!=="variant",slot:"Root"},Ase=je(qP,ZP)(""),Pse=je(YV,ZP)(""),kse=je(IV,ZP)(""),qV=k.forwardRef(function(e,n){const i=Ot({name:"MuiSelect",props:e}),{autoWidth:r=!1,children:s,classes:o={},className:a,defaultOpen:l=!1,displayEmpty:c=!1,IconComponent:u=wee,id:d,input:f,inputProps:m,label:g,labelId:y,MenuProps:x,multiple:v=!1,native:_=!1,onClose:b,onOpen:w,open:C,renderValue:T,SelectDisplayProps:R,variant:I="outlined"}=i,A=tt(i,Tse),L=_?ose:Ese,O=Su(),H=cf({props:i,muiFormControl:O,states:["variant","error"]}),q=H.variant||I,U=z({},i,{variant:q,classes:o}),G=Rse(U),Q=tt(G,Cse),J=f||{standard:M.jsx(Ase,{ownerState:U}),outlined:M.jsx(Pse,{label:g,ownerState:U}),filled:M.jsx(kse,{ownerState:U})}[q],N=Ii(n,J.ref);return M.jsx(k.Fragment,{children:k.cloneElement(J,z({inputComponent:L,inputProps:z({children:s,error:H.error,IconComponent:u,variant:q,type:void 0,multiple:v},_?{id:d}:{autoWidth:r,defaultOpen:l,displayEmpty:c,labelId:y,MenuProps:x,onClose:b,onOpen:w,open:C,renderValue:T,SelectDisplayProps:z({id:d},R)},m,{classes:m?Gr(Q,m.classes):Q},f?f.props.inputProps:{})},v&&_&&q==="outlined"?{notched:!0}:{},{ref:N,className:lt(J.props.className,a,G.root)},!f&&{variant:q},A))})});qV.muiName="Select";const JP=qV,Ise=t=>!t||!Ba(t),Lse=Ise;function Dse(t){return At("MuiSlider",t)}const Ose=Dt("MuiSlider",["root","active","colorPrimary","colorSecondary","colorError","colorInfo","colorSuccess","colorWarning","disabled","dragging","focusVisible","mark","markActive","marked","markLabel","markLabelActive","rail","sizeSmall","thumb","thumbColorPrimary","thumbColorSecondary","thumbColorError","thumbColorSuccess","thumbColorInfo","thumbColorWarning","track","trackInverted","trackFalse","thumbSizeSmall","valueLabel","valueLabelOpen","valueLabelCircle","valueLabelLabel","vertical"]),ta=Ose,Nse=t=>{const{open:e}=t;return{offset:lt(e&&ta.valueLabelOpen),circle:ta.valueLabelCircle,label:ta.valueLabelLabel}};function Fse(t){const{children:e,className:n,value:i}=t,r=Nse(t);return e?k.cloneElement(e,{className:lt(e.props.className)},M.jsxs(k.Fragment,{children:[e.props.children,M.jsx("span",{className:lt(r.offset,n),"aria-hidden":!0,children:M.jsx("span",{className:r.circle,children:M.jsx("span",{className:r.label,children:i})})})]})):null}const zse=["aria-label","aria-valuetext","aria-labelledby","component","components","componentsProps","color","classes","className","disableSwap","disabled","getAriaLabel","getAriaValueText","marks","max","min","name","onChange","onChangeCommitted","orientation","size","step","scale","slotProps","slots","tabIndex","track","value","valueLabelDisplay","valueLabelFormat"];function s3(t){return t}const Use=je("span",{name:"MuiSlider",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[`color${rt(n.color)}`],n.size!=="medium"&&e[`size${rt(n.size)}`],n.marked&&e.marked,n.orientation==="vertical"&&e.vertical,n.track==="inverted"&&e.trackInverted,n.track===!1&&e.trackFalse]}})(({theme:t,ownerState:e})=>z({borderRadius:12,boxSizing:"content-box",display:"inline-block",position:"relative",cursor:"pointer",touchAction:"none",color:(t.vars||t).palette[e.color].main,WebkitTapHighlightColor:"transparent"},e.orientation==="horizontal"&&z({height:4,width:"100%",padding:"13px 0","@media (pointer: coarse)":{padding:"20px 0"}},e.size==="small"&&{height:2},e.marked&&{marginBottom:20}),e.orientation==="vertical"&&z({height:"100%",width:4,padding:"0 13px","@media (pointer: coarse)":{padding:"0 20px"}},e.size==="small"&&{width:2},e.marked&&{marginRight:44}),{"@media print":{colorAdjust:"exact"},[`&.${ta.disabled}`]:{pointerEvents:"none",cursor:"default",color:(t.vars||t).palette.grey[400]},[`&.${ta.dragging}`]:{[`& .${ta.thumb}, & .${ta.track}`]:{transition:"none"}}})),Bse=je("span",{name:"MuiSlider",slot:"Rail",overridesResolver:(t,e)=>e.rail})(({ownerState:t})=>z({display:"block",position:"absolute",borderRadius:"inherit",backgroundColor:"currentColor",opacity:.38},t.orientation==="horizontal"&&{width:"100%",height:"inherit",top:"50%",transform:"translateY(-50%)"},t.orientation==="vertical"&&{height:"100%",width:"inherit",left:"50%",transform:"translateX(-50%)"},t.track==="inverted"&&{opacity:1})),Hse=je("span",{name:"MuiSlider",slot:"Track",overridesResolver:(t,e)=>e.track})(({theme:t,ownerState:e})=>{const n=t.palette.mode==="light"?jP(t.palette[e.color].main,.62):VP(t.palette[e.color].main,.5);return z({display:"block",position:"absolute",borderRadius:"inherit",border:"1px solid currentColor",backgroundColor:"currentColor",transition:t.transitions.create(["left","width","bottom","height"],{duration:t.transitions.duration.shortest})},e.size==="small"&&{border:"none"},e.orientation==="horizontal"&&{height:"inherit",top:"50%",transform:"translateY(-50%)"},e.orientation==="vertical"&&{width:"inherit",left:"50%",transform:"translateX(-50%)"},e.track===!1&&{display:"none"},e.track==="inverted"&&{backgroundColor:t.vars?t.vars.palette.Slider[`${e.color}Track`]:n,borderColor:t.vars?t.vars.palette.Slider[`${e.color}Track`]:n})}),Vse=je("span",{name:"MuiSlider",slot:"Thumb",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.thumb,e[`thumbColor${rt(n.color)}`],n.size!=="medium"&&e[`thumbSize${rt(n.size)}`]]}})(({theme:t,ownerState:e})=>z({position:"absolute",width:20,height:20,boxSizing:"border-box",borderRadius:"50%",outline:0,backgroundColor:"currentColor",display:"flex",alignItems:"center",justifyContent:"center",transition:t.transitions.create(["box-shadow","left","bottom"],{duration:t.transitions.duration.shortest})},e.size==="small"&&{width:12,height:12},e.orientation==="horizontal"&&{top:"50%",transform:"translate(-50%, -50%)"},e.orientation==="vertical"&&{left:"50%",transform:"translate(-50%, 50%)"},{"&:before":z({position:"absolute",content:'""',borderRadius:"inherit",width:"100%",height:"100%",boxShadow:(t.vars||t).shadows[2]},e.size==="small"&&{boxShadow:"none"}),"&::after":{position:"absolute",content:'""',borderRadius:"50%",width:42,height:42,top:"50%",left:"50%",transform:"translate(-50%, -50%)"},[`&:hover, &.${ta.focusVisible}`]:{boxShadow:`0px 0px 0px 8px ${t.vars?`rgba(${t.vars.palette[e.color].mainChannel} / 0.16)`:kn(t.palette[e.color].main,.16)}`,"@media (hover: none)":{boxShadow:"none"}},[`&.${ta.active}`]:{boxShadow:`0px 0px 0px 14px ${t.vars?`rgba(${t.vars.palette[e.color].mainChannel} / 0.16)`:kn(t.palette[e.color].main,.16)}`},[`&.${ta.disabled}`]:{"&:hover":{boxShadow:"none"}}})),jse=je(Fse,{name:"MuiSlider",slot:"ValueLabel",overridesResolver:(t,e)=>e.valueLabel})(({theme:t,ownerState:e})=>z({[`&.${ta.valueLabelOpen}`]:{transform:`${e.orientation==="vertical"?"translateY(-50%)":"translateY(-100%)"} scale(1)`},zIndex:1,whiteSpace:"nowrap"},t.typography.body2,{fontWeight:500,transition:t.transitions.create(["transform"],{duration:t.transitions.duration.shortest}),transform:`${e.orientation==="vertical"?"translateY(-50%)":"translateY(-100%)"} scale(0)`,position:"absolute",backgroundColor:(t.vars||t).palette.grey[600],borderRadius:2,color:(t.vars||t).palette.common.white,display:"flex",alignItems:"center",justifyContent:"center",padding:"0.25rem 0.75rem"},e.orientation==="horizontal"&&{top:"-10px",transformOrigin:"bottom center","&:before":{position:"absolute",content:'""',width:8,height:8,transform:"translate(-50%, 50%) rotate(45deg)",backgroundColor:"inherit",bottom:0,left:"50%"}},e.orientation==="vertical"&&{right:e.size==="small"?"20px":"30px",top:"50%",transformOrigin:"right center","&:before":{position:"absolute",content:'""',width:8,height:8,transform:"translate(-50%, -50%) rotate(45deg)",backgroundColor:"inherit",right:-8,top:"50%"}},e.size==="small"&&{fontSize:t.typography.pxToRem(12),padding:"0.25rem 0.5rem"})),Wse=je("span",{name:"MuiSlider",slot:"Mark",shouldForwardProp:t=>WP(t)&&t!=="markActive",overridesResolver:(t,e)=>{const{markActive:n}=t;return[e.mark,n&&e.markActive]}})(({theme:t,ownerState:e,markActive:n})=>z({position:"absolute",width:2,height:2,borderRadius:1,backgroundColor:"currentColor"},e.orientation==="horizontal"&&{top:"50%",transform:"translate(-1px, -50%)"},e.orientation==="vertical"&&{left:"50%",transform:"translate(-50%, 1px)"},n&&{backgroundColor:(t.vars||t).palette.background.paper,opacity:.8})),Gse=je("span",{name:"MuiSlider",slot:"MarkLabel",shouldForwardProp:t=>WP(t)&&t!=="markLabelActive",overridesResolver:(t,e)=>e.markLabel})(({theme:t,ownerState:e,markLabelActive:n})=>z({},t.typography.body2,{color:(t.vars||t).palette.text.secondary,position:"absolute",whiteSpace:"nowrap"},e.orientation==="horizontal"&&{top:30,transform:"translateX(-50%)","@media (pointer: coarse)":{top:40}},e.orientation==="vertical"&&{left:36,transform:"translateY(50%)","@media (pointer: coarse)":{left:44}},n&&{color:(t.vars||t).palette.text.primary})),$se=t=>{const{disabled:e,dragging:n,marked:i,orientation:r,track:s,classes:o,color:a,size:l}=t,c={root:["root",e&&"disabled",n&&"dragging",i&&"marked",r==="vertical"&&"vertical",s==="inverted"&&"trackInverted",s===!1&&"trackFalse",a&&`color${rt(a)}`,l&&`size${rt(l)}`],rail:["rail"],track:["track"],mark:["mark"],markActive:["markActive"],markLabel:["markLabel"],markLabelActive:["markLabelActive"],valueLabel:["valueLabel"],thumb:["thumb",e&&"disabled",l&&`thumbSize${rt(l)}`,a&&`thumbColor${rt(a)}`],active:["active"],disabled:["disabled"],focusVisible:["focusVisible"]};return Lt(c,Dse,o)},Xse=({children:t})=>t,Yse=k.forwardRef(function(e,n){var i,r,s,o,a,l,c,u,d,f,m,g,y,x,v,_,b,w,C,T,R,I,A,L;const O=Ot({props:e,name:"MuiSlider"}),q=vr().direction==="rtl",{"aria-label":U,"aria-valuetext":G,"aria-labelledby":Q,component:J="span",components:N={},componentsProps:B={},color:j="primary",classes:te,className:se,disableSwap:ne=!1,disabled:ae=!1,getAriaLabel:xe,getAriaValueText:Ee,marks:Oe=!1,max:ut=100,min:qe=0,orientation:Xe="horizontal",size:Ie="medium",step:Z=1,scale:_e=s3,slotProps:de,slots:be,track:Pe="normal",valueLabelDisplay:Ke="off",valueLabelFormat:ze=s3}=O,Ge=tt(O,zse),Ye=z({},O,{isRtl:q,max:ut,min:qe,classes:te,disabled:ae,disableSwap:ne,orientation:Xe,marks:Oe,color:j,size:Ie,step:Z,scale:_e,track:Pe,valueLabelDisplay:Ke,valueLabelFormat:ze}),{axisProps:st,getRootProps:Xt,getHiddenInputProps:$,getThumbProps:F,open:ee,active:fe,axis:he,focusedThumbIndex:me,range:we,dragging:Le,marks:De,values:Qe,trackOffset:Ne,trackLeap:Ce,getThumbStyle:wt}=see(z({},Ye,{rootRef:n}));Ye.marked=De.length>0&&De.some(_n=>_n.label),Ye.dragging=Le,Ye.focusedThumbIndex=me;const pt=$se(Ye),Mt=(i=(r=be==null?void 0:be.root)!=null?r:N.Root)!=null?i:Use,Et=(s=(o=be==null?void 0:be.rail)!=null?o:N.Rail)!=null?s:Bse,ft=(a=(l=be==null?void 0:be.track)!=null?l:N.Track)!=null?a:Hse,Vt=(c=(u=be==null?void 0:be.thumb)!=null?u:N.Thumb)!=null?c:Vse,oe=(d=(f=be==null?void 0:be.valueLabel)!=null?f:N.ValueLabel)!=null?d:jse,nt=(m=(g=be==null?void 0:be.mark)!=null?g:N.Mark)!=null?m:Wse,Y=(y=(x=be==null?void 0:be.markLabel)!=null?x:N.MarkLabel)!=null?y:Gse,X=(v=(_=be==null?void 0:be.input)!=null?_:N.Input)!=null?v:"input",re=(b=de==null?void 0:de.root)!=null?b:B.root,Re=(w=de==null?void 0:de.rail)!=null?w:B.rail,Fe=(C=de==null?void 0:de.track)!=null?C:B.track,xt=(T=de==null?void 0:de.thumb)!=null?T:B.thumb,ht=(R=de==null?void 0:de.valueLabel)!=null?R:B.valueLabel,Ze=(I=de==null?void 0:de.mark)!=null?I:B.mark,ct=(A=de==null?void 0:de.markLabel)!=null?A:B.markLabel,Pt=(L=de==null?void 0:de.input)!=null?L:B.input,Hn=bs({elementType:Mt,getSlotProps:Xt,externalSlotProps:re,externalForwardedProps:Ge,additionalProps:z({},Lse(Mt)&&{as:J}),ownerState:z({},Ye,re==null?void 0:re.ownerState),className:[pt.root,se]}),Bt=bs({elementType:Et,externalSlotProps:Re,ownerState:Ye,className:pt.rail}),ln=bs({elementType:ft,externalSlotProps:Fe,additionalProps:{style:z({},st[he].offset(Ne),st[he].leap(Ce))},ownerState:z({},Ye,Fe==null?void 0:Fe.ownerState),className:pt.track}),En=bs({elementType:Vt,getSlotProps:F,externalSlotProps:xt,ownerState:z({},Ye,xt==null?void 0:xt.ownerState),className:pt.thumb}),Mi=bs({elementType:oe,externalSlotProps:ht,ownerState:z({},Ye,ht==null?void 0:ht.ownerState),className:pt.valueLabel}),Fn=bs({elementType:nt,externalSlotProps:Ze,ownerState:Ye,className:pt.mark}),Yr=bs({elementType:Y,externalSlotProps:ct,ownerState:Ye,className:pt.markLabel}),Za=bs({elementType:X,getSlotProps:$,externalSlotProps:Pt,ownerState:Ye});return M.jsxs(Mt,z({},Hn,{children:[M.jsx(Et,z({},Bt)),M.jsx(ft,z({},ln)),De.filter(_n=>_n.value>=qe&&_n.value<=ut).map((_n,Tn)=>{const V=O1(_n.value,qe,ut),ue=st[he].offset(V);let pe;return Pe===!1?pe=Qe.indexOf(_n.value)!==-1:pe=Pe==="normal"&&(we?_n.value>=Qe[0]&&_n.value<=Qe[Qe.length-1]:_n.value<=Qe[0])||Pe==="inverted"&&(we?_n.value<=Qe[0]||_n.value>=Qe[Qe.length-1]:_n.value>=Qe[0]),M.jsxs(k.Fragment,{children:[M.jsx(nt,z({"data-index":Tn},Fn,!Ba(nt)&&{markActive:pe},{style:z({},ue,Fn.style),className:lt(Fn.className,pe&&pt.markActive)})),_n.label!=null?M.jsx(Y,z({"aria-hidden":!0,"data-index":Tn},Yr,!Ba(Y)&&{markLabelActive:pe},{style:z({},ue,Yr.style),className:lt(pt.markLabel,Yr.className,pe&&pt.markLabelActive),children:_n.label})):null]},Tn)}),Qe.map((_n,Tn)=>{const V=O1(_n,qe,ut),ue=st[he].offset(V),pe=Ke==="off"?Xse:oe;return M.jsx(pe,z({},!Ba(pe)&&{valueLabelFormat:ze,valueLabelDisplay:Ke,value:typeof ze=="function"?ze(_e(_n),Tn):ze,index:Tn,open:ee===Tn||fe===Tn||Ke==="on",disabled:ae},Mi,{children:M.jsx(Vt,z({"data-index":Tn},En,{className:lt(pt.thumb,En.className,fe===Tn&&pt.active,me===Tn&&pt.focusVisible),style:z({},ue,wt(Tn),En.style),children:M.jsx(X,z({"data-index":Tn,"aria-label":xe?xe(Tn):U,"aria-valuenow":_e(_n),"aria-labelledby":Q,"aria-valuetext":Ee?Ee(_e(_n),Tn):G,value:Qe[Tn]},Za))}))}),Tn)})]}))}),wo=Yse,qse=k.createContext(),KV=qse;function Kse(t){return At("MuiTable",t)}Dt("MuiTable",["root","stickyHeader"]);const Qse=["className","component","padding","size","stickyHeader"],Zse=t=>{const{classes:e,stickyHeader:n}=t;return Lt({root:["root",n&&"stickyHeader"]},Kse,e)},Jse=je("table",{name:"MuiTable",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.stickyHeader&&e.stickyHeader]}})(({theme:t,ownerState:e})=>z({display:"table",width:"100%",borderCollapse:"collapse",borderSpacing:0,"& caption":z({},t.typography.body2,{padding:t.spacing(2),color:(t.vars||t).palette.text.secondary,textAlign:"left",captionSide:"bottom"})},e.stickyHeader&&{borderCollapse:"separate"})),o3="table",eoe=k.forwardRef(function(e,n){const i=Ot({props:e,name:"MuiTable"}),{className:r,component:s=o3,padding:o="normal",size:a="medium",stickyHeader:l=!1}=i,c=tt(i,Qse),u=z({},i,{component:s,padding:o,size:a,stickyHeader:l}),d=Zse(u),f=k.useMemo(()=>({padding:o,size:a,stickyHeader:l}),[o,a,l]);return M.jsx(KV.Provider,{value:f,children:M.jsx(Jse,z({as:s,role:s===o3?null:"table",ref:n,className:lt(d.root,r),ownerState:u},c))})}),QV=eoe,toe=k.createContext(),bw=toe;function noe(t){return At("MuiTableBody",t)}Dt("MuiTableBody",["root"]);const ioe=["className","component"],roe=t=>{const{classes:e}=t;return Lt({root:["root"]},noe,e)},soe=je("tbody",{name:"MuiTableBody",slot:"Root",overridesResolver:(t,e)=>e.root})({display:"table-row-group"}),ooe={variant:"body"},a3="tbody",aoe=k.forwardRef(function(e,n){const i=Ot({props:e,name:"MuiTableBody"}),{className:r,component:s=a3}=i,o=tt(i,ioe),a=z({},i,{component:s}),l=roe(a);return M.jsx(bw.Provider,{value:ooe,children:M.jsx(soe,z({className:lt(l.root,r),as:s,ref:n,role:s===a3?null:"rowgroup",ownerState:a},o))})}),ZV=aoe;function loe(t){return At("MuiTableCell",t)}const coe=Dt("MuiTableCell",["root","head","body","footer","sizeSmall","sizeMedium","paddingCheckbox","paddingNone","alignLeft","alignCenter","alignRight","alignJustify","stickyHeader"]),uoe=coe,doe=["align","className","component","padding","scope","size","sortDirection","variant"],foe=t=>{const{classes:e,variant:n,align:i,padding:r,size:s,stickyHeader:o}=t,a={root:["root",n,o&&"stickyHeader",i!=="inherit"&&`align${rt(i)}`,r!=="normal"&&`padding${rt(r)}`,`size${rt(s)}`]};return Lt(a,loe,e)},hoe=je("td",{name:"MuiTableCell",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[n.variant],e[`size${rt(n.size)}`],n.padding!=="normal"&&e[`padding${rt(n.padding)}`],n.align!=="inherit"&&e[`align${rt(n.align)}`],n.stickyHeader&&e.stickyHeader]}})(({theme:t,ownerState:e})=>z({},t.typography.body2,{display:"table-cell",verticalAlign:"inherit",borderBottom:t.vars?`1px solid ${t.vars.palette.TableCell.border}`:`1px solid
    ${t.palette.mode==="light"?jP(kn(t.palette.divider,1),.88):VP(kn(t.palette.divider,1),.68)}`,textAlign:"left",padding:16},e.variant==="head"&&{color:(t.vars||t).palette.text.primary,lineHeight:t.typography.pxToRem(24),fontWeight:t.typography.fontWeightMedium},e.variant==="body"&&{color:(t.vars||t).palette.text.primary},e.variant==="footer"&&{color:(t.vars||t).palette.text.secondary,lineHeight:t.typography.pxToRem(21),fontSize:t.typography.pxToRem(12)},e.size==="small"&&{padding:"6px 16px",[`&.${uoe.paddingCheckbox}`]:{width:24,padding:"0 12px 0 16px","& > *":{padding:0}}},e.padding==="checkbox"&&{width:48,padding:"0 0 0 4px"},e.padding==="none"&&{padding:0},e.align==="left"&&{textAlign:"left"},e.align==="center"&&{textAlign:"center"},e.align==="right"&&{textAlign:"right",flexDirection:"row-reverse"},e.align==="justify"&&{textAlign:"justify"},e.stickyHeader&&{position:"sticky",top:0,zIndex:2,backgroundColor:(t.vars||t).palette.background.default})),poe=k.forwardRef(function(e,n){const i=Ot({props:e,name:"MuiTableCell"}),{align:r="inherit",className:s,component:o,padding:a,scope:l,size:c,sortDirection:u,variant:d}=i,f=tt(i,doe),m=k.useContext(KV),g=k.useContext(bw),y=g&&g.variant==="head";let x;o?x=o:x=y?"th":"td";let v=l;x==="td"?v=void 0:!v&&y&&(v="col");const _=d||g&&g.variant,b=z({},i,{align:r,component:x,padding:a||(m&&m.padding?m.padding:"normal"),size:c||(m&&m.size?m.size:"medium"),sortDirection:u,stickyHeader:_==="head"&&m&&m.stickyHeader,variant:_}),w=foe(b);let C=null;return u&&(C=u==="asc"?"ascending":"descending"),M.jsx(hoe,z({as:x,ref:n,className:lt(w.root,s),"aria-sort":C,scope:v,ownerState:b},f))}),Dn=poe;function moe(t){return At("MuiTableContainer",t)}Dt("MuiTableContainer",["root"]);const goe=["className","component"],voe=t=>{const{classes:e}=t;return Lt({root:["root"]},moe,e)},yoe=je("div",{name:"MuiTableContainer",slot:"Root",overridesResolver:(t,e)=>e.root})({width:"100%",overflowX:"auto"}),xoe=k.forwardRef(function(e,n){const i=Ot({props:e,name:"MuiTableContainer"}),{className:r,component:s="div"}=i,o=tt(i,goe),a=z({},i,{component:s}),l=voe(a);return M.jsx(yoe,z({ref:n,as:s,className:lt(l.root,r),ownerState:a},o))}),JV=xoe;function _oe(t){return At("MuiTableHead",t)}Dt("MuiTableHead",["root"]);const boe=["className","component"],Soe=t=>{const{classes:e}=t;return Lt({root:["root"]},_oe,e)},woe=je("thead",{name:"MuiTableHead",slot:"Root",overridesResolver:(t,e)=>e.root})({display:"table-header-group"}),Moe={variant:"head"},l3="thead",Eoe=k.forwardRef(function(e,n){const i=Ot({props:e,name:"MuiTableHead"}),{className:r,component:s=l3}=i,o=tt(i,boe),a=z({},i,{component:s}),l=Soe(a);return M.jsx(bw.Provider,{value:Moe,children:M.jsx(woe,z({as:s,className:lt(l.root,r),ref:n,role:s===l3?null:"rowgroup",ownerState:a},o))})}),ej=Eoe;function Toe(t){return At("MuiTableRow",t)}const Coe=Dt("MuiTableRow",["root","selected","hover","head","footer"]),c3=Coe,Roe=["className","component","hover","selected"],Aoe=t=>{const{classes:e,selected:n,hover:i,head:r,footer:s}=t;return Lt({root:["root",n&&"selected",i&&"hover",r&&"head",s&&"footer"]},Toe,e)},Poe=je("tr",{name:"MuiTableRow",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.head&&e.head,n.footer&&e.footer]}})(({theme:t})=>({color:"inherit",display:"table-row",verticalAlign:"middle",outline:0,[`&.${c3.hover}:hover`]:{backgroundColor:(t.vars||t).palette.action.hover},[`&.${c3.selected}`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / ${t.vars.palette.action.selectedOpacity})`:kn(t.palette.primary.main,t.palette.action.selectedOpacity),"&:hover":{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / calc(${t.vars.palette.action.selectedOpacity} + ${t.vars.palette.action.hoverOpacity}))`:kn(t.palette.primary.main,t.palette.action.selectedOpacity+t.palette.action.hoverOpacity)}}})),u3="tr",koe=k.forwardRef(function(e,n){const i=Ot({props:e,name:"MuiTableRow"}),{className:r,component:s=u3,hover:o=!1,selected:a=!1}=i,l=tt(i,Roe),c=k.useContext(bw),u=z({},i,{component:s,hover:o,selected:a,head:c&&c.variant==="head",footer:c&&c.variant==="footer"}),d=Aoe(u);return M.jsx(Poe,z({as:s,ref:n,className:lt(d.root,r),role:s===u3?null:"row",ownerState:u},l))}),ld=koe;function Ioe(t){return At("MuiTextField",t)}Dt("MuiTextField",["root"]);const Loe=["autoComplete","autoFocus","children","className","color","defaultValue","disabled","error","FormHelperTextProps","fullWidth","helperText","id","InputLabelProps","inputProps","InputProps","inputRef","label","maxRows","minRows","multiline","name","onBlur","onChange","onFocus","placeholder","required","rows","select","SelectProps","type","value","variant"],Doe={standard:qP,filled:IV,outlined:YV},Ooe=t=>{const{classes:e}=t;return Lt({root:["root"]},Ioe,e)},Noe=je(LV,{name:"MuiTextField",slot:"Root",overridesResolver:(t,e)=>e.root})({}),Foe=k.forwardRef(function(e,n){const i=Ot({props:e,name:"MuiTextField"}),{autoComplete:r,autoFocus:s=!1,children:o,className:a,color:l="primary",defaultValue:c,disabled:u=!1,error:d=!1,FormHelperTextProps:f,fullWidth:m=!1,helperText:g,id:y,InputLabelProps:x,inputProps:v,InputProps:_,inputRef:b,label:w,maxRows:C,minRows:T,multiline:R=!1,name:I,onBlur:A,onChange:L,onFocus:O,placeholder:H,required:q=!1,rows:U,select:G=!1,SelectProps:Q,type:J,value:N,variant:B="outlined"}=i,j=tt(i,Loe),te=z({},i,{autoFocus:s,color:l,disabled:u,error:d,fullWidth:m,multiline:R,required:q,select:G,variant:B}),se=Ooe(te),ne={};B==="outlined"&&(x&&typeof x.shrink<"u"&&(ne.notched=x.shrink),ne.label=w),G&&((!Q||!Q.native)&&(ne.id=void 0),ne["aria-describedby"]=void 0);const ae=MP(y),xe=g&&ae?`${ae}-helper-text`:void 0,Ee=w&&ae?`${ae}-label`:void 0,Oe=Doe[B],ut=M.jsx(Oe,z({"aria-describedby":xe,autoComplete:r,autoFocus:s,defaultValue:c,fullWidth:m,multiline:R,name:I,rows:U,maxRows:C,minRows:T,type:J,value:N,id:ae,inputRef:b,onBlur:A,onChange:L,onFocus:O,placeholder:H,inputProps:v},ne,_));return M.jsxs(Noe,z({className:lt(se.root,a),disabled:u,error:d,fullWidth:m,ref:n,required:q,color:l,variant:B,ownerState:te},j,{children:[w!=null&&w!==""&&M.jsx(UV,z({htmlFor:ae,id:Ee},x,{children:w})),G?M.jsx(JP,z({"aria-describedby":xe,id:ae,labelId:Ee,value:N,input:ut},Q,{children:o})):ut,g&&M.jsx(Vne,z({id:xe},f,{children:g}))]}))}),Br=Foe;function zoe(t){const e=k.useRef(()=>{throw new Error("Cannot call an event handler while rendering.")});return tj(()=>{e.current=t},[t]),k.useCallback((...n)=>e.current(...n),[e])}function d3(t,e,n,i){const r=k.useRef(e);tj(()=>{r.current=e},[e]),k.useEffect(()=>{var s;const o=(s=n==null?void 0:n.current)!==null&&s!==void 0?s:window;if(!(o&&o.addEventListener))return;const a=l=>r.current(l);return o.addEventListener(t,a,i),()=>{o.removeEventListener(t,a,i)}},[t,n,i])}const tj=typeof window<"u"?k.useLayoutEffect:k.useEffect;function ek(t,e){const n=k.useCallback(()=>{if(typeof window>"u")return e;try{const a=window.localStorage.getItem(t);return a?Uoe(a):e}catch(a){return console.warn(`Error reading localStorage key “${t}”:`,a),e}},[e,t]),[i,r]=k.useState(n),s=zoe(a=>{typeof window>"u"&&console.warn(`Tried setting localStorage key “${t}” even though environment is not a client`);try{const l=a instanceof Function?a(i):a;window.localStorage.setItem(t,JSON.stringify(l)),r(l),window.dispatchEvent(new Event("local-storage"))}catch(l){console.warn(`Error setting localStorage key “${t}”:`,l)}});k.useEffect(()=>{r(n())},[]);const o=k.useCallback(a=>{a!=null&&a.key&&a.key!==t||r(n())},[t,n]);return d3("storage",o),d3("local-storage",o),[i,s]}function Uoe(t){try{return t==="undefined"?void 0:JSON.parse(t??"")}catch{console.log("parsing error on",{value:t});return}}const Boe={palette:{mode:"dark",primary:{main:"#3a86ff",dark:"#383fb7",light:"#67b5ff"},secondary:{main:"#8338ec",dark:"#4800d9",light:"#d5bef7"},error:{main:"#ff006f",light:"#ffb7cd",dark:"#d70050"},warning:{main:"#ffbe0b",light:"#ffde82",dark:"#fe8c07"},info:{main:"#3a86ff",light:"#67b5ff",dark:"#383fb7"},success:{main:"#3a86ff",light:"#67b5ff",dark:"#383fb7"}}},Hoe={palette:{mode:"light",primary:{main:"#3a86ff",dark:"#383fb7",light:"#67b5ff"},secondary:{main:"#8338ec",dark:"#4800d9",light:"#d5bef7"},error:{main:"#ff006f",light:"#ffb7cd",dark:"#d70050"},warning:{main:"#ffbe0b",light:"#ffde82",dark:"#fe8c07"},info:{main:"#3a86ff",light:"#67b5ff",dark:"#383fb7"},success:{main:"#3a86ff",light:"#67b5ff",dark:"#383fb7"}}},Voe=uw(Boe),joe=uw(Hoe),Woe=({children:t})=>{const[e]=ek("theme","dark");return M.jsxs(kZ,{theme:e==="dark"?Voe:joe,children:[t,M.jsx(sne,{})]})};function nj(t){var e,n,i="";if(typeof t=="string"||typeof t=="number")i+=t;else if(typeof t=="object")if(Array.isArray(t))for(e=0;e<t.length;e++)t[e]&&(n=nj(t[e]))&&(i&&(i+=" "),i+=n);else for(e in t)t[e]&&(i&&(i+=" "),i+=e);return i}function uf(){for(var t,e,n=0,i="";n<arguments.length;)(t=arguments[n++])&&(e=nj(t))&&(i&&(i+=" "),i+=e);return i}let Goe={data:""},$oe=t=>typeof window=="object"?((t?t.querySelector("#_goober"):window._goober)||Object.assign((t||document.head).appendChild(document.createElement("style")),{innerHTML:" ",id:"_goober"})).firstChild:t||Goe,Xoe=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,Yoe=/\/\*[^]*?\*\/|  +/g,f3=/\n+/g,cd=(t,e)=>{let n="",i="",r="";for(let s in t){let o=t[s];s[0]=="@"?s[1]=="i"?n=s+" "+o+";":i+=s[1]=="f"?cd(o,s):s+"{"+cd(o,s[1]=="k"?"":e)+"}":typeof o=="object"?i+=cd(o,e?e.replace(/([^,])+/g,a=>s.replace(/(^:.*)|([^,])+/g,l=>/&/.test(l)?l.replace(/&/g,a):a?a+" "+l:l)):s):o!=null&&(s=/^--/.test(s)?s:s.replace(/[A-Z]/g,"-$&").toLowerCase(),r+=cd.p?cd.p(s,o):s+":"+o+";")}return n+(e&&r?e+"{"+r+"}":r)+i},sl={},ij=t=>{if(typeof t=="object"){let e="";for(let n in t)e+=n+ij(t[n]);return e}return t},qoe=(t,e,n,i,r)=>{let s=ij(t),o=sl[s]||(sl[s]=(l=>{let c=0,u=11;for(;c<l.length;)u=101*u+l.charCodeAt(c++)>>>0;return"go"+u})(s));if(!sl[o]){let l=s!==t?t:(c=>{let u,d,f=[{}];for(;u=Xoe.exec(c.replace(Yoe,""));)u[4]?f.shift():u[3]?(d=u[3].replace(f3," ").trim(),f.unshift(f[0][d]=f[0][d]||{})):f[0][u[1]]=u[2].replace(f3," ").trim();return f[0]})(t);sl[o]=cd(r?{["@keyframes "+o]:l}:l,n?"":"."+o)}let a=n&&sl.g?sl.g:null;return n&&(sl.g=sl[o]),((l,c,u,d)=>{d?c.data=c.data.replace(d,l):c.data.indexOf(l)===-1&&(c.data=u?l+c.data:c.data+l)})(sl[o],e,i,a),o},Koe=(t,e,n)=>t.reduce((i,r,s)=>{let o=e[s];if(o&&o.call){let a=o(n),l=a&&a.props&&a.props.className||/^go/.test(a)&&a;o=l?"."+l:a&&typeof a=="object"?a.props?"":cd(a,""):a===!1?"":a}return i+r+(o??"")},"");function tk(t){let e=this||{},n=t.call?t(e.p):t;return qoe(n.unshift?n.raw?Koe(n,[].slice.call(arguments,1),e.p):n.reduce((i,r)=>Object.assign(i,r&&r.call?r(e.p):r),{}):n,$oe(e.target),e.g,e.o,e.k)}tk.bind({g:1});tk.bind({k:1});function h3(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function rj(t,e,n){return e&&h3(t.prototype,e),n&&h3(t,n),t}function On(){return On=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},On.apply(this,arguments)}function sj(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}function Kv(t,e){if(t==null)return{};var n={},i=Object.keys(t),r,s;for(s=0;s<i.length;s++)r=i[s],!(e.indexOf(r)>=0)&&(n[r]=t[r]);return n}function p3(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}var m3=function(){return""},Qoe=Qt.createContext({enqueueSnackbar:m3,closeSnackbar:m3}),nd={downXs:"@media (max-width:599.95px)",upSm:"@media (min-width:600px)"},g3=function(e){return e.charAt(0).toUpperCase()+e.slice(1)},nk=function(e){return""+g3(e.vertical)+g3(e.horizontal)},$x=function(e){return!!e||e===0},Xx="unmounted",Gf="exited",$f="entering",Qm="entered",v3="exiting",ik=function(t){sj(e,t);function e(i){var r;r=t.call(this,i)||this;var s=i.appear,o;return r.appearStatus=null,i.in?s?(o=Gf,r.appearStatus=$f):o=Qm:i.unmountOnExit||i.mountOnEnter?o=Xx:o=Gf,r.state={status:o},r.nextCallback=null,r}e.getDerivedStateFromProps=function(r,s){var o=r.in;return o&&s.status===Xx?{status:Gf}:null};var n=e.prototype;return n.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},n.componentDidUpdate=function(r){var s=null;if(r!==this.props){var o=this.state.status;this.props.in?o!==$f&&o!==Qm&&(s=$f):(o===$f||o===Qm)&&(s=v3)}this.updateStatus(!1,s)},n.componentWillUnmount=function(){this.cancelNextCallback()},n.getTimeouts=function(){var r=this.props.timeout,s=r,o=r;return r!=null&&typeof r!="number"&&typeof r!="string"&&(o=r.exit,s=r.enter),{exit:o,enter:s}},n.updateStatus=function(r,s){r===void 0&&(r=!1),s!==null?(this.cancelNextCallback(),s===$f?this.performEnter(r):this.performExit()):this.props.unmountOnExit&&this.state.status===Gf&&this.setState({status:Xx})},n.performEnter=function(r){var s=this,o=this.props.enter,a=r,l=this.getTimeouts();if(!r&&!o){this.safeSetState({status:Qm},function(){s.props.onEntered&&s.props.onEntered(s.node,a)});return}this.props.onEnter&&this.props.onEnter(this.node,a),this.safeSetState({status:$f},function(){s.props.onEntering&&s.props.onEntering(s.node,a),s.onTransitionEnd(l.enter,function(){s.safeSetState({status:Qm},function(){s.props.onEntered&&s.props.onEntered(s.node,a)})})})},n.performExit=function(){var r=this,s=this.props.exit,o=this.getTimeouts();if(!s){this.safeSetState({status:Gf},function(){r.props.onExited&&r.props.onExited(r.node)});return}this.props.onExit&&this.props.onExit(this.node),this.safeSetState({status:v3},function(){r.props.onExiting&&r.props.onExiting(r.node),r.onTransitionEnd(o.exit,function(){r.safeSetState({status:Gf},function(){r.props.onExited&&r.props.onExited(r.node)})})})},n.cancelNextCallback=function(){this.nextCallback!==null&&this.nextCallback.cancel&&(this.nextCallback.cancel(),this.nextCallback=null)},n.safeSetState=function(r,s){s=this.setNextCallback(s),this.setState(r,s)},n.setNextCallback=function(r){var s=this,o=!0;return this.nextCallback=function(){o&&(o=!1,s.nextCallback=null,r())},this.nextCallback.cancel=function(){o=!1},this.nextCallback},n.onTransitionEnd=function(r,s){this.setNextCallback(s);var o=r==null&&!this.props.addEndListener;if(!this.node||o){setTimeout(this.nextCallback,0);return}this.props.addEndListener&&this.props.addEndListener(this.node,this.nextCallback),r!=null&&setTimeout(this.nextCallback,r)},n.render=function(){var r=this.state.status;if(r===Xx)return null;var s=this.props,o=s.children,a=Kv(s,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return o(r,a)},rj(e,[{key:"node",get:function(){var r,s=(r=this.props.nodeRef)===null||r===void 0?void 0:r.current;if(!s)throw new Error("notistack - Custom snackbar is not refForwarding");return s}}]),e}(Qt.Component);function Xf(){}ik.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:Xf,onEntering:Xf,onEntered:Xf,onExit:Xf,onExiting:Xf,onExited:Xf};function y3(t,e){typeof t=="function"?t(e):t&&(t.current=e)}function q2(t,e){return k.useMemo(function(){return t==null&&e==null?null:function(n){y3(t,n),y3(e,n)}},[t,e])}function z1(t){var e=t.timeout,n=t.style,i=n===void 0?{}:n,r=t.mode;return{duration:typeof e=="object"?e[r]||0:e,easing:i.transitionTimingFunction,delay:i.transitionDelay}}var K2={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},oj=function(e){e.scrollTop=e.scrollTop},x3=function(e){return Math.round(e)+"ms"};function Bh(t,e){t===void 0&&(t=["all"]);var n=e||{},i=n.duration,r=i===void 0?300:i,s=n.easing,o=s===void 0?K2.easeInOut:s,a=n.delay,l=a===void 0?0:a,c=Array.isArray(t)?t:[t];return c.map(function(u){var d=typeof r=="string"?r:x3(r),f=typeof l=="string"?l:x3(l);return u+" "+d+" "+o+" "+f}).join(",")}function Zoe(t){return t&&t.ownerDocument||document}function aj(t){var e=Zoe(t);return e.defaultView||window}function Joe(t,e){e===void 0&&(e=166);var n;function i(){for(var r=this,s=arguments.length,o=new Array(s),a=0;a<s;a++)o[a]=arguments[a];var l=function(){t.apply(r,o)};clearTimeout(n),n=setTimeout(l,e)}return i.clear=function(){clearTimeout(n)},i}function eae(t,e){var n=e.getBoundingClientRect(),i=aj(e),r;if(e.fakeTransform)r=e.fakeTransform;else{var s=i.getComputedStyle(e);r=s.getPropertyValue("-webkit-transform")||s.getPropertyValue("transform")}var o=0,a=0;if(r&&r!=="none"&&typeof r=="string"){var l=r.split("(")[1].split(")")[0].split(",");o=parseInt(l[4],10),a=parseInt(l[5],10)}switch(t){case"left":return"translateX("+(i.innerWidth+o-n.left)+"px)";case"right":return"translateX(-"+(n.left+n.width-o)+"px)";case"up":return"translateY("+(i.innerHeight+a-n.top)+"px)";default:return"translateY(-"+(n.top+n.height-a)+"px)"}}function Yx(t,e){if(e){var n=eae(t,e);n&&(e.style.webkitTransform=n,e.style.transform=n)}}var lj=k.forwardRef(function(t,e){var n=t.children,i=t.direction,r=i===void 0?"down":i,s=t.in,o=t.style,a=t.timeout,l=a===void 0?0:a,c=t.onEnter,u=t.onEntered,d=t.onExit,f=t.onExited,m=Kv(t,["children","direction","in","style","timeout","onEnter","onEntered","onExit","onExited"]),g=k.useRef(null),y=q2(n.ref,g),x=q2(y,e),v=function(R,I){Yx(r,R),oj(R),c&&c(R,I)},_=function(R){var I=(o==null?void 0:o.transitionTimingFunction)||K2.easeOut,A=z1({timeout:l,mode:"enter",style:On({},o,{transitionTimingFunction:I})});R.style.webkitTransition=Bh("-webkit-transform",A),R.style.transition=Bh("transform",A),R.style.webkitTransform="none",R.style.transform="none"},b=function(R){var I=(o==null?void 0:o.transitionTimingFunction)||K2.sharp,A=z1({timeout:l,mode:"exit",style:On({},o,{transitionTimingFunction:I})});R.style.webkitTransition=Bh("-webkit-transform",A),R.style.transition=Bh("transform",A),Yx(r,R),d&&d(R)},w=function(R){R.style.webkitTransition="",R.style.transition="",f&&f(R)},C=k.useCallback(function(){g.current&&Yx(r,g.current)},[r]);return k.useEffect(function(){if(!(s||r==="down"||r==="right")){var T=Joe(function(){g.current&&Yx(r,g.current)}),R=aj(g.current);return R.addEventListener("resize",T),function(){T.clear(),R.removeEventListener("resize",T)}}},[r,s]),k.useEffect(function(){s||C()},[s,C]),k.createElement(ik,Object.assign({appear:!0,nodeRef:g,onEnter:v,onEntered:u,onEntering:_,onExit:b,onExited:w,in:s,timeout:l},m),function(T,R){return k.cloneElement(n,On({ref:x,style:On({visibility:T==="exited"&&!s?"hidden":void 0},o,{},n.props.style)},R))})});lj.displayName="Slide";var Sw=function(e){return Qt.createElement("svg",Object.assign({viewBox:"0 0 24 24",focusable:"false",style:{fontSize:20,marginInlineEnd:8,userSelect:"none",width:"1em",height:"1em",display:"inline-block",fill:"currentColor",flexShrink:0}},e))},tae=function(){return Qt.createElement(Sw,null,Qt.createElement("path",{d:`M12 2C6.5 2 2 6.5 2 12S6.5 22 12 22 22 17.5 22 12 17.5 2 12 2M10 17L5 12L6.41
        10.59L10 14.17L17.59 6.58L19 8L10 17Z`}))},nae=function(){return Qt.createElement(Sw,null,Qt.createElement("path",{d:"M13,14H11V10H13M13,18H11V16H13M1,21H23L12,2L1,21Z"}))},iae=function(){return Qt.createElement(Sw,null,Qt.createElement("path",{d:`M12,2C17.53,2 22,6.47 22,12C22,17.53 17.53,22 12,22C6.47,22 2,17.53 2,12C2,
        6.47 6.47,2 12,2M15.59,7L12,10.59L8.41,7L7,8.41L10.59,12L7,15.59L8.41,17L12,
        13.41L15.59,17L17,15.59L13.41,12L17,8.41L15.59,7Z`}))},rae=function(){return Qt.createElement(Sw,null,Qt.createElement("path",{d:`M13,9H11V7H13M13,17H11V11H13M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,
        0 22,12A10,10 0 0,0 12,2Z`}))},sae={default:void 0,success:Qt.createElement(tae,null),warning:Qt.createElement(nae,null),error:Qt.createElement(iae,null),info:Qt.createElement(rae,null)},Od={maxSnack:3,persist:!1,hideIconVariant:!1,disableWindowBlurListener:!1,variant:"default",autoHideDuration:5e3,iconVariant:sae,anchorOrigin:{vertical:"bottom",horizontal:"left"},TransitionComponent:lj,transitionDuration:{enter:225,exit:195}},oae=function(e,n){var i=function(s){return typeof s=="number"||s===null};return i(e)?e:i(n)?n:Od.autoHideDuration},aae=function(e,n){var i=function(s,o){return o.some(function(a){return typeof s===a})};return i(e,["string","number"])?e:i(e,["object"])?On({},Od.transitionDuration,{},i(n,["object"])&&n,{},e):i(n,["string","number"])?n:i(n,["object"])?On({},Od.transitionDuration,{},n):Od.transitionDuration},lae=function(e,n){return function(i,r){return r===void 0&&(r=!1),r?On({},Od[i],{},n[i],{},e[i]):i==="autoHideDuration"?oae(e.autoHideDuration,n.autoHideDuration):i==="transitionDuration"?aae(e.transitionDuration,n.transitionDuration):e[i]||n[i]||Od[i]}};function Qv(t){return Object.entries(t).reduce(function(e,n){var i,r=n[0],s=n[1];return On({},e,(i={},i[r]=tk(s),i))},{})}var Op={SnackbarContainer:"notistack-SnackbarContainer",Snackbar:"notistack-Snackbar",CollapseWrapper:"notistack-CollapseWrapper",MuiContent:"notistack-MuiContent",MuiContentVariant:function(e){return"notistack-MuiContent-"+e}},_3=Qv({root:{height:0},entered:{height:"auto"}}),aT="0px",lT=175,cj=k.forwardRef(function(t,e){var n=t.children,i=t.in,r=t.onExited,s=k.useRef(null),o=k.useRef(null),a=q2(e,o),l=function(){return s.current?s.current.clientHeight:0},c=function(y){y.style.height=aT},u=function(y){var x=l(),v=z1({timeout:lT,mode:"enter"}),_=v.duration,b=v.easing;y.style.transitionDuration=typeof _=="string"?_:_+"ms",y.style.height=x+"px",y.style.transitionTimingFunction=b||""},d=function(y){y.style.height="auto"},f=function(y){y.style.height=l()+"px"},m=function(y){oj(y);var x=z1({timeout:lT,mode:"exit"}),v=x.duration,_=x.easing;y.style.transitionDuration=typeof v=="string"?v:v+"ms",y.style.height=aT,y.style.transitionTimingFunction=_||""};return k.createElement(ik,{in:i,unmountOnExit:!0,onEnter:c,onEntered:d,onEntering:u,onExit:f,onExited:r,onExiting:m,nodeRef:o,timeout:lT},function(g,y){return k.createElement("div",Object.assign({ref:a,className:uf(_3.root,g==="entered"&&_3.entered),style:On({pointerEvents:"all",overflow:"hidden",minHeight:aT,transition:Bh("height")},g==="entered"&&{overflow:"visible"},{},g==="exited"&&!i&&{visibility:"hidden"})},y),k.createElement("div",{ref:s,className:Op.CollapseWrapper,style:{display:"flex",width:"100%"}},n))})});cj.displayName="Collapse";var b3={right:"left",left:"right",bottom:"up",top:"down"},cae=function(e){return e.horizontal!=="center"?b3[e.horizontal]:b3[e.vertical]},uae=function(e){return"anchorOrigin"+nk(e)},dae=function(e){e===void 0&&(e={});var n={containerRoot:!0,containerAnchorOriginTopCenter:!0,containerAnchorOriginBottomCenter:!0,containerAnchorOriginTopRight:!0,containerAnchorOriginBottomRight:!0,containerAnchorOriginTopLeft:!0,containerAnchorOriginBottomLeft:!0};return Object.keys(e).filter(function(i){return!n[i]}).reduce(function(i,r){var s;return On({},i,(s={},s[r]=e[r],s))},{})},fae=function(){};function d0(t,e){return t.reduce(function(n,i){return i==null?n:function(){for(var s=arguments.length,o=new Array(s),a=0;a<s;a++)o[a]=arguments[a];var l=[].concat(o);e&&l.indexOf(e)===-1&&l.push(e),n.apply(this,l),i.apply(this,l)}},fae)}var hae=typeof window<"u"?k.useLayoutEffect:k.useEffect;function S3(t){var e=k.useRef(t);return hae(function(){e.current=t}),k.useCallback(function(){return e.current.apply(void 0,arguments)},[])}var uj=k.forwardRef(function(t,e){var n=t.children,i=t.className,r=t.autoHideDuration,s=t.disableWindowBlurListener,o=s===void 0?!1:s,a=t.onClose,l=t.id,c=t.open,u=t.SnackbarProps,d=u===void 0?{}:u,f=k.useRef(),m=S3(function(){a&&a.apply(void 0,arguments)}),g=S3(function(b){!a||b==null||(f.current&&clearTimeout(f.current),f.current=setTimeout(function(){m(null,"timeout",l)},b))});k.useEffect(function(){return c&&g(r),function(){f.current&&clearTimeout(f.current)}},[c,r,g]);var y=function(){f.current&&clearTimeout(f.current)},x=k.useCallback(function(){r!=null&&g(r*.5)},[r,g]),v=function(w){d.onMouseEnter&&d.onMouseEnter(w),y()},_=function(w){d.onMouseLeave&&d.onMouseLeave(w),x()};return k.useEffect(function(){if(!o&&c)return window.addEventListener("focus",x),window.addEventListener("blur",y),function(){window.removeEventListener("focus",x),window.removeEventListener("blur",y)}},[o,x,c]),k.createElement("div",Object.assign({ref:e},d,{className:uf(Op.Snackbar,i),onMouseEnter:v,onMouseLeave:_}),n)});uj.displayName="Snackbar";var cT,pae=Qv({root:(cT={display:"flex",flexWrap:"wrap",flexGrow:1},cT[nd.upSm]={flexGrow:"initial",minWidth:"288px"},cT)}),dj=k.forwardRef(function(t,e){var n=t.className,i=Kv(t,["className"]);return Qt.createElement("div",Object.assign({ref:e,className:uf(pae.root,n)},i))});dj.displayName="SnackbarContent";var Zm=Qv({root:{backgroundColor:"#313131",fontSize:"0.875rem",lineHeight:1.43,letterSpacing:"0.01071em",color:"#fff",alignItems:"center",padding:"6px 16px",borderRadius:"4px",boxShadow:"0px 3px 5px -1px rgba(0,0,0,0.2),0px 6px 10px 0px rgba(0,0,0,0.14),0px 1px 18px 0px rgba(0,0,0,0.12)"},lessPadding:{paddingLeft:8*2.5+"px"},default:{backgroundColor:"#313131"},success:{backgroundColor:"#43a047"},error:{backgroundColor:"#d32f2f"},warning:{backgroundColor:"#ff9800"},info:{backgroundColor:"#2196f3"},message:{display:"flex",alignItems:"center",padding:"8px 0"},action:{display:"flex",alignItems:"center",marginLeft:"auto",paddingLeft:"16px",marginRight:"-8px"}}),w3="notistack-snackbar",fj=k.forwardRef(function(t,e){var n=t.id,i=t.message,r=t.action,s=t.iconVariant,o=t.variant,a=t.hideIconVariant,l=t.style,c=t.className,u=s[o],d=r;return typeof d=="function"&&(d=d(n)),Qt.createElement(dj,{ref:e,role:"alert","aria-describedby":w3,style:l,className:uf(Op.MuiContent,Op.MuiContentVariant(o),Zm.root,Zm[o],c,!a&&u&&Zm.lessPadding)},Qt.createElement("div",{id:w3,className:Zm.message},a?null:u,i),d&&Qt.createElement("div",{className:Zm.action},d))});fj.displayName="MaterialDesignContent";var mae=k.memo(fj),gae=Qv({wrappedRoot:{width:"100%",position:"relative",transform:"translateX(0)",top:0,right:0,bottom:0,left:0,minWidth:"288px"}}),vae=function(e){var n=k.useRef(),i=k.useState(!0),r=i[0],s=i[1],o=d0([e.snack.onClose,e.onClose]),a=function(){e.snack.requestClose&&o(null,"instructed",e.snack.id)},l=k.useCallback(function(){n.current=setTimeout(function(){s(function(A){return!A})},125)},[]);k.useEffect(function(){return function(){n.current&&clearTimeout(n.current)}},[]);var c=e.snack,u=e.classes,d=e.Component,f=d===void 0?mae:d,m=k.useMemo(function(){return dae(u)},[u]),g=c.open,y=c.SnackbarProps,x=c.TransitionComponent,v=c.TransitionProps,_=c.transitionDuration,b=c.disableWindowBlurListener,w=c.content,C=Kv(c,["open","SnackbarProps","TransitionComponent","TransitionProps","transitionDuration","disableWindowBlurListener","content","entered","requestClose","onEnter","onEntered","onExit","onExited"]),T=On({direction:cae(C.anchorOrigin),timeout:_},v),R=w;typeof R=="function"&&(R=R(C.id,C.message));var I=["onEnter","onEntered","onExit","onExited"].reduce(function(A,L){var O;return On({},A,(O={},O[L]=d0([e.snack[L],e[L]],C.id),O))},{});return Qt.createElement(cj,{in:r,onExited:I.onExited},Qt.createElement(uj,{open:g,id:C.id,disableWindowBlurListener:b,autoHideDuration:C.autoHideDuration,className:uf(gae.wrappedRoot,m.root,m[uae(C.anchorOrigin)]),SnackbarProps:y,onClose:o},Qt.createElement(x,Object.assign({},T,{appear:!0,in:g,onExit:I.onExit,onExited:l,onEnter:I.onEnter,onEntered:d0([I.onEntered,a],C.id)}),R||Qt.createElement(f,Object.assign({},C)))))},Jm,uT,qx,Kx,dT,ol={view:{default:20,dense:4},snackbar:{default:6,dense:2}},M3="."+Op.CollapseWrapper,fT=16,Qx=Qv({root:(Jm={boxSizing:"border-box",display:"flex",maxHeight:"100%",position:"fixed",zIndex:1400,height:"auto",width:"auto",transition:Bh(["top","right","bottom","left","max-width"],{duration:300,easing:"ease"}),pointerEvents:"none"},Jm[M3]={padding:ol.snackbar.default+"px 0px",transition:"padding 300ms ease 0ms"},Jm.maxWidth="calc(100% - "+ol.view.default*2+"px)",Jm[nd.downXs]={width:"100%",maxWidth:"calc(100% - "+fT*2+"px)"},Jm),rootDense:(uT={},uT[M3]={padding:ol.snackbar.dense+"px 0px"},uT),top:{top:ol.view.default-ol.snackbar.default+"px",flexDirection:"column"},bottom:{bottom:ol.view.default-ol.snackbar.default+"px",flexDirection:"column-reverse"},left:(qx={left:ol.view.default+"px"},qx[nd.upSm]={alignItems:"flex-start"},qx[nd.downXs]={left:fT+"px"},qx),right:(Kx={right:ol.view.default+"px"},Kx[nd.upSm]={alignItems:"flex-end"},Kx[nd.downXs]={right:fT+"px"},Kx),center:(dT={left:"50%",transform:"translateX(-50%)"},dT[nd.upSm]={alignItems:"center"},dT)}),yae=function(e){var n=e.classes,i=n===void 0?{}:n,r=e.anchorOrigin,s=e.dense,o=e.children,a=uf(Op.SnackbarContainer,Qx[r.vertical],Qx[r.horizontal],Qx.root,i.containerRoot,i["containerAnchorOrigin"+nk(r)],s&&Qx.rootDense);return Qt.createElement("div",{className:a},o)},xae=k.memo(yae),E3=function(e){var n=typeof e=="string"||k.isValidElement(e);return!n},Qs,hj,_ae=function(t){sj(e,t);function e(i){var r;return r=t.call(this,i)||this,r.enqueueSnackbar=function(s,o){if(o===void 0&&(o={}),s==null)throw new Error("enqueueSnackbar called with invalid argument");var a=E3(s)?s:o,l=E3(s)?s.message:s,c=a.key,u=a.preventDuplicate,d=Kv(a,["key","preventDuplicate"]),f=$x(c),m=f?c:new Date().getTime()+Math.random(),g=lae(d,r.props),y=On({id:m},d,{message:l,open:!0,entered:!1,requestClose:!1,persist:g("persist"),action:g("action"),content:g("content"),variant:g("variant"),anchorOrigin:g("anchorOrigin"),disableWindowBlurListener:g("disableWindowBlurListener"),autoHideDuration:g("autoHideDuration"),hideIconVariant:g("hideIconVariant"),TransitionComponent:g("TransitionComponent"),transitionDuration:g("transitionDuration"),TransitionProps:g("TransitionProps",!0),iconVariant:g("iconVariant",!0),style:g("style",!0),SnackbarProps:g("SnackbarProps",!0),className:uf(r.props.className,d.className)});return y.persist&&(y.autoHideDuration=void 0),r.setState(function(x){if(u===void 0&&r.props.preventDuplicate||u){var v=function(C){return f?C.id===m:C.message===l},_=x.queue.findIndex(v)>-1,b=x.snacks.findIndex(v)>-1;if(_||b)return x}return r.handleDisplaySnack(On({},x,{queue:[].concat(x.queue,[y])}))}),m},r.handleDisplaySnack=function(s){var o=s.snacks;return o.length>=r.maxSnack?r.handleDismissOldest(s):r.processQueue(s)},r.processQueue=function(s){var o=s.queue,a=s.snacks;return o.length>0?On({},s,{snacks:[].concat(a,[o[0]]),queue:o.slice(1,o.length)}):s},r.handleDismissOldest=function(s){if(s.snacks.some(function(u){return!u.open||u.requestClose}))return s;var o=!1,a=!1,l=s.snacks.reduce(function(u,d){return u+(d.open&&d.persist?1:0)},0);l===r.maxSnack&&(a=!0);var c=s.snacks.map(function(u){return!o&&(!u.persist||a)?(o=!0,u.entered?(u.onClose&&u.onClose(null,"maxsnack",u.id),r.props.onClose&&r.props.onClose(null,"maxsnack",u.id),On({},u,{open:!1})):On({},u,{requestClose:!0})):On({},u)});return On({},s,{snacks:c})},r.handleEnteredSnack=function(s,o,a){if(!$x(a))throw new Error("handleEnteredSnack Cannot be called with undefined key");r.setState(function(l){var c=l.snacks;return{snacks:c.map(function(u){return u.id===a?On({},u,{entered:!0}):On({},u)})}})},r.handleCloseSnack=function(s,o,a){r.props.onClose&&r.props.onClose(s,o,a);var l=a===void 0;r.setState(function(c){var u=c.snacks,d=c.queue;return{snacks:u.map(function(f){return!l&&f.id!==a?On({},f):f.entered?On({},f,{open:!1}):On({},f,{requestClose:!0})}),queue:d.filter(function(f){return f.id!==a})}})},r.closeSnackbar=function(s){var o=r.state.snacks.find(function(a){return a.id===s});$x(s)&&o&&o.onClose&&o.onClose(null,"instructed",s),r.handleCloseSnack(null,"instructed",s)},r.handleExitedSnack=function(s,o){if(!$x(o))throw new Error("handleExitedSnack Cannot be called with undefined key");r.setState(function(a){var l=r.processQueue(On({},a,{snacks:a.snacks.filter(function(c){return c.id!==o})}));return l.queue.length===0?l:r.handleDismissOldest(l)})},Qs=r.enqueueSnackbar,hj=r.closeSnackbar,r.state={snacks:[],queue:[],contextValue:{enqueueSnackbar:r.enqueueSnackbar.bind(p3(r)),closeSnackbar:r.closeSnackbar.bind(p3(r))}},r}var n=e.prototype;return n.render=function(){var r=this,s=this.state.contextValue,o=this.props,a=o.domRoot,l=o.children,c=o.dense,u=c===void 0?!1:c,d=o.Components,f=d===void 0?{}:d,m=o.classes,g=this.state.snacks.reduce(function(x,v){var _,b=nk(v.anchorOrigin),w=x[b]||[];return On({},x,(_={},_[b]=[].concat(w,[v]),_))},{}),y=Object.keys(g).map(function(x){var v=g[x],_=v[0];return Qt.createElement(xae,{key:x,dense:u,anchorOrigin:_.anchorOrigin,classes:m},v.map(function(b){return Qt.createElement(vae,{key:b.id,snack:b,classes:m,Component:f[b.variant],onClose:r.handleCloseSnack,onEnter:r.props.onEnter,onExit:r.props.onExit,onExited:d0([r.handleExitedSnack,r.props.onExited],b.id),onEntered:d0([r.handleEnteredSnack,r.props.onEntered],b.id)})}))});return Qt.createElement(Qoe.Provider,{value:s},l,a?em.createPortal(y,a):y)},rj(e,[{key:"maxSnack",get:function(){return this.props.maxSnack||Od.maxSnack}}]),e}(k.Component);const bae=({children:t})=>{const e=vr();return M.jsx(_ae,{maxSnack:3,anchorOrigin:{horizontal:"right",vertical:"bottom"},preventDuplicate:!0,action:n=>M.jsx(bi,{sx:{color:e.palette.text.primary},onClick:()=>hj(n),children:"Dismiss"}),children:t})};var Sae=function(){return null};const wae=({children:t})=>M.jsx(M.Fragment,{children:M.jsxs(kY,{client:ou,children:[M.jsx(Woe,{children:M.jsx(bae,{children:t})}),M.jsx(Sae,{})]})});/**
 * @remix-run/router v1.14.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function oi(){return oi=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},oi.apply(this,arguments)}var Ri;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Ri||(Ri={}));const T3="popstate";function Mae(t){t===void 0&&(t={});function e(i,r){let{pathname:s,search:o,hash:a}=i.location;return Z0("",{pathname:s,search:o,hash:a},r.state&&r.state.usr||null,r.state&&r.state.key||"default")}function n(i,r){return typeof r=="string"?r:Zd(r)}return Tae(e,n,null,t)}function rn(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Qd(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function Eae(){return Math.random().toString(36).substr(2,8)}function C3(t,e){return{usr:t.state,key:t.key,idx:e}}function Z0(t,e,n,i){return n===void 0&&(n=null),oi({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?Yl(e):e,{state:n,key:e&&e.key||i||Eae()})}function Zd(t){let{pathname:e="/",search:n="",hash:i=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),i&&i!=="#"&&(e+=i.charAt(0)==="#"?i:"#"+i),e}function Yl(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let i=t.indexOf("?");i>=0&&(e.search=t.substr(i),t=t.substr(0,i)),t&&(e.pathname=t)}return e}function Tae(t,e,n,i){i===void 0&&(i={});let{window:r=document.defaultView,v5Compat:s=!1}=i,o=r.history,a=Ri.Pop,l=null,c=u();c==null&&(c=0,o.replaceState(oi({},o.state,{idx:c}),""));function u(){return(o.state||{idx:null}).idx}function d(){a=Ri.Pop;let x=u(),v=x==null?null:x-c;c=x,l&&l({action:a,location:y.location,delta:v})}function f(x,v){a=Ri.Push;let _=Z0(y.location,x,v);n&&n(_,x),c=u()+1;let b=C3(_,c),w=y.createHref(_);try{o.pushState(b,"",w)}catch(C){if(C instanceof DOMException&&C.name==="DataCloneError")throw C;r.location.assign(w)}s&&l&&l({action:a,location:y.location,delta:1})}function m(x,v){a=Ri.Replace;let _=Z0(y.location,x,v);n&&n(_,x),c=u();let b=C3(_,c),w=y.createHref(_);o.replaceState(b,"",w),s&&l&&l({action:a,location:y.location,delta:0})}function g(x){let v=r.location.origin!=="null"?r.location.origin:r.location.href,_=typeof x=="string"?x:Zd(x);return rn(v,"No window.location.(origin|href) available to create URL for href: "+_),new URL(_,v)}let y={get action(){return a},get location(){return t(r,o)},listen(x){if(l)throw new Error("A history only accepts one active listener");return r.addEventListener(T3,d),l=x,()=>{r.removeEventListener(T3,d),l=null}},createHref(x){return e(r,x)},createURL:g,encodeLocation(x){let v=g(x);return{pathname:v.pathname,search:v.search,hash:v.hash}},push:f,replace:m,go(x){return o.go(x)}};return y}var xi;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(xi||(xi={}));const Cae=new Set(["lazy","caseSensitive","path","id","index","children"]);function Rae(t){return t.index===!0}function Q2(t,e,n,i){return n===void 0&&(n=[]),i===void 0&&(i={}),t.map((r,s)=>{let o=[...n,s],a=typeof r.id=="string"?r.id:o.join("-");if(rn(r.index!==!0||!r.children,"Cannot specify children on an index route"),rn(!i[a],'Found a route id collision on id "'+a+`".  Route id's must be globally unique within Data Router usages`),Rae(r)){let l=oi({},r,e(r),{id:a});return i[a]=l,l}else{let l=oi({},r,e(r),{id:a,children:void 0});return i[a]=l,r.children&&(l.children=Q2(r.children,e,o,i)),l}})}function Hh(t,e,n){n===void 0&&(n="/");let i=typeof e=="string"?Yl(e):e,r=rm(i.pathname||"/",n);if(r==null)return null;let s=pj(t);Pae(s);let o=null;for(let a=0;o==null&&a<s.length;++a)o=Uae(s[a],Vae(r));return o}function Aae(t,e){let{route:n,pathname:i,params:r}=t;return{id:n.id,pathname:i,params:r,data:e[n.id],handle:n.handle}}function pj(t,e,n,i){e===void 0&&(e=[]),n===void 0&&(n=[]),i===void 0&&(i="");let r=(s,o,a)=>{let l={relativePath:a===void 0?s.path||"":a,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};l.relativePath.startsWith("/")&&(rn(l.relativePath.startsWith(i),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+i+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(i.length));let c=Ll([i,l.relativePath]),u=n.concat(l);s.children&&s.children.length>0&&(rn(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),pj(s.children,e,u,c)),!(s.path==null&&!s.index)&&e.push({path:c,score:Fae(c,s.index),routesMeta:u})};return t.forEach((s,o)=>{var a;if(s.path===""||!((a=s.path)!=null&&a.includes("?")))r(s,o);else for(let l of mj(s.path))r(s,o,l)}),e}function mj(t){let e=t.split("/");if(e.length===0)return[];let[n,...i]=e,r=n.endsWith("?"),s=n.replace(/\?$/,"");if(i.length===0)return r?[s,""]:[s];let o=mj(i.join("/")),a=[];return a.push(...o.map(l=>l===""?s:[s,l].join("/"))),r&&a.push(...o),a.map(l=>t.startsWith("/")&&l===""?"/":l)}function Pae(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:zae(e.routesMeta.map(i=>i.childrenIndex),n.routesMeta.map(i=>i.childrenIndex)))}const kae=/^:\w+$/,Iae=3,Lae=2,Dae=1,Oae=10,Nae=-2,R3=t=>t==="*";function Fae(t,e){let n=t.split("/"),i=n.length;return n.some(R3)&&(i+=Nae),e&&(i+=Lae),n.filter(r=>!R3(r)).reduce((r,s)=>r+(kae.test(s)?Iae:s===""?Dae:Oae),i)}function zae(t,e){return t.length===e.length&&t.slice(0,-1).every((i,r)=>i===e[r])?t[t.length-1]-e[e.length-1]:0}function Uae(t,e){let{routesMeta:n}=t,i={},r="/",s=[];for(let o=0;o<n.length;++o){let a=n[o],l=o===n.length-1,c=r==="/"?e:e.slice(r.length)||"/",u=Bae({path:a.relativePath,caseSensitive:a.caseSensitive,end:l},c);if(!u)return null;Object.assign(i,u.params);let d=a.route;s.push({params:i,pathname:Ll([r,u.pathname]),pathnameBase:$ae(Ll([r,u.pathnameBase])),route:d}),u.pathnameBase!=="/"&&(r=Ll([r,u.pathnameBase]))}return s}function Bae(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,i]=Hae(t.path,t.caseSensitive,t.end),r=e.match(n);if(!r)return null;let s=r[0],o=s.replace(/(.)\/+$/,"$1"),a=r.slice(1);return{params:i.reduce((c,u,d)=>{let{paramName:f,isOptional:m}=u;if(f==="*"){let y=a[d]||"";o=s.slice(0,s.length-y.length).replace(/(.)\/+$/,"$1")}const g=a[d];return m&&!g?c[f]=void 0:c[f]=jae(g||"",f),c},{}),pathname:s,pathnameBase:o,pattern:t}}function Hae(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),Qd(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let i=[],r="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:(\w+)(\?)?/g,(o,a,l)=>(i.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(i.push({paramName:"*"}),r+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?r+="\\/*$":t!==""&&t!=="/"&&(r+="(?:(?=\\/|$))"),[new RegExp(r,e?void 0:"i"),i]}function Vae(t){try{return decodeURI(t)}catch(e){return Qd(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function jae(t,e){try{return decodeURIComponent(t)}catch(n){return Qd(!1,'The value for the URL param "'+e+'" will not be decoded because'+(' the string "'+t+'" is a malformed URL segment. This is probably')+(" due to a bad percent encoding ("+n+").")),t}}function rm(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,i=t.charAt(n);return i&&i!=="/"?null:t.slice(n)||"/"}function Wae(t,e){e===void 0&&(e="/");let{pathname:n,search:i="",hash:r=""}=typeof t=="string"?Yl(t):t;return{pathname:n?n.startsWith("/")?n:Gae(n,e):e,search:Xae(i),hash:Yae(r)}}function Gae(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(r=>{r===".."?n.length>1&&n.pop():r!=="."&&n.push(r)}),n.length>1?n.join("/"):"/"}function hT(t,e,n,i){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(i)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function gj(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function rk(t,e){let n=gj(t);return e?n.map((i,r)=>r===t.length-1?i.pathname:i.pathnameBase):n.map(i=>i.pathnameBase)}function sk(t,e,n,i){i===void 0&&(i=!1);let r;typeof t=="string"?r=Yl(t):(r=oi({},t),rn(!r.pathname||!r.pathname.includes("?"),hT("?","pathname","search",r)),rn(!r.pathname||!r.pathname.includes("#"),hT("#","pathname","hash",r)),rn(!r.search||!r.search.includes("#"),hT("#","search","hash",r)));let s=t===""||r.pathname==="",o=s?"/":r.pathname,a;if(o==null)a=n;else if(i){let d=e.length===0?[]:e[e.length-1].replace(/^\//,"").split("/");if(o.startsWith("..")){let f=o.split("/");for(;f[0]==="..";)f.shift(),d.pop();r.pathname=f.join("/")}a="/"+d.join("/")}else{let d=e.length-1;if(o.startsWith("..")){let f=o.split("/");for(;f[0]==="..";)f.shift(),d-=1;r.pathname=f.join("/")}a=d>=0?e[d]:"/"}let l=Wae(r,a),c=o&&o!=="/"&&o.endsWith("/"),u=(s||o===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(c||u)&&(l.pathname+="/"),l}const Ll=t=>t.join("/").replace(/\/\/+/g,"/"),$ae=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),Xae=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,Yae=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t,Yf=function(e,n){n===void 0&&(n=302);let i=n;typeof i=="number"?i={status:i}:typeof i.status>"u"&&(i.status=302);let r=new Headers(i.headers);return r.set("Location",e),new Response(null,oi({},i,{headers:r}))};class ok{constructor(e,n,i,r){r===void 0&&(r=!1),this.status=e,this.statusText=n||"",this.internal=r,i instanceof Error?(this.data=i.toString(),this.error=i):this.data=i}}function vj(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const yj=["post","put","patch","delete"],qae=new Set(yj),Kae=["get",...yj],Qae=new Set(Kae),Zae=new Set([301,302,303,307,308]),Jae=new Set([307,308]),pT={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},ele={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},eg={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},xj=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,tle=t=>({hasErrorBoundary:!!t.hasErrorBoundary}),_j="remix-router-transitions";function nle(t){const e=t.window?t.window:typeof window<"u"?window:void 0,n=typeof e<"u"&&typeof e.document<"u"&&typeof e.document.createElement<"u",i=!n;rn(t.routes.length>0,"You must provide a non-empty routes array to createRouter");let r;if(t.mapRouteProperties)r=t.mapRouteProperties;else if(t.detectErrorBoundary){let Y=t.detectErrorBoundary;r=X=>({hasErrorBoundary:Y(X)})}else r=tle;let s={},o=Q2(t.routes,r,void 0,s),a,l=t.basename||"/",c=oi({v7_fetcherPersist:!1,v7_normalizeFormMethod:!1,v7_partialHydration:!1,v7_prependBasename:!1,v7_relativeSplatPath:!1},t.future),u=null,d=new Set,f=null,m=null,g=null,y=t.hydrationData!=null,x=Hh(o,t.history.location,l),v=null;if(x==null){let Y=Ro(404,{pathname:t.history.location.pathname}),{matches:X,route:re}=N3(o);x=X,v={[re.id]:Y}}let _,b=x.some(Y=>Y.route.lazy),w=x.some(Y=>Y.route.loader);if(b)_=!1;else if(!w)_=!0;else if(c.v7_partialHydration){let Y=t.hydrationData?t.hydrationData.loaderData:null,X=t.hydrationData?t.hydrationData.errors:null;_=x.every(re=>re.route.loader&&re.route.loader.hydrate!==!0&&(Y&&Y[re.route.id]!==void 0||X&&X[re.route.id]!==void 0))}else _=t.hydrationData!=null;let C,T={historyAction:t.history.action,location:t.history.location,matches:x,initialized:_,navigation:pT,restoreScrollPosition:t.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:t.hydrationData&&t.hydrationData.loaderData||{},actionData:t.hydrationData&&t.hydrationData.actionData||null,errors:t.hydrationData&&t.hydrationData.errors||v,fetchers:new Map,blockers:new Map},R=Ri.Pop,I=!1,A,L=!1,O=new Map,H=null,q=!1,U=!1,G=[],Q=[],J=new Map,N=0,B=-1,j=new Map,te=new Set,se=new Map,ne=new Map,ae=new Set,xe=new Map,Ee=new Map,Oe=!1;function ut(){if(u=t.history.listen(Y=>{let{action:X,location:re,delta:Re}=Y;if(Oe){Oe=!1;return}Qd(Ee.size===0||Re!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let Fe=pt({currentLocation:T.location,nextLocation:re,historyAction:X});if(Fe&&Re!=null){Oe=!0,t.history.go(Re*-1),wt(Fe,{state:"blocked",location:re,proceed(){wt(Fe,{state:"proceeding",proceed:void 0,reset:void 0,location:re}),t.history.go(Re)},reset(){let xt=new Map(T.blockers);xt.set(Fe,eg),Ie({blockers:xt})}});return}return be(X,re)}),n){ple(e,O);let Y=()=>mle(e,O);e.addEventListener("pagehide",Y),H=()=>e.removeEventListener("pagehide",Y)}return T.initialized||be(Ri.Pop,T.location,{initialHydration:!0}),C}function qe(){u&&u(),H&&H(),d.clear(),A&&A.abort(),T.fetchers.forEach((Y,X)=>he(X)),T.blockers.forEach((Y,X)=>Ce(X))}function Xe(Y){return d.add(Y),()=>d.delete(Y)}function Ie(Y,X){X===void 0&&(X={}),T=oi({},T,Y);let re=[],Re=[];c.v7_fetcherPersist&&T.fetchers.forEach((Fe,xt)=>{Fe.state==="idle"&&(ae.has(xt)?Re.push(xt):re.push(xt))}),[...d].forEach(Fe=>Fe(T,{deletedFetchers:Re,unstable_viewTransitionOpts:X.viewTransitionOpts,unstable_flushSync:X.flushSync===!0})),c.v7_fetcherPersist&&(re.forEach(Fe=>T.fetchers.delete(Fe)),Re.forEach(Fe=>he(Fe)))}function Z(Y,X,re){var Re,Fe;let{flushSync:xt}=re===void 0?{}:re,ht=T.actionData!=null&&T.navigation.formMethod!=null&&Zo(T.navigation.formMethod)&&T.navigation.state==="loading"&&((Re=Y.state)==null?void 0:Re._isRedirect)!==!0,Ze;X.actionData?Object.keys(X.actionData).length>0?Ze=X.actionData:Ze=null:ht?Ze=T.actionData:Ze=null;let ct=X.loaderData?O3(T.loaderData,X.loaderData,X.matches||[],X.errors):T.loaderData,Pt=T.blockers;Pt.size>0&&(Pt=new Map(Pt),Pt.forEach((ln,En)=>Pt.set(En,eg)));let Hn=I===!0||T.navigation.formMethod!=null&&Zo(T.navigation.formMethod)&&((Fe=Y.state)==null?void 0:Fe._isRedirect)!==!0;a&&(o=a,a=void 0),q||R===Ri.Pop||(R===Ri.Push?t.history.push(Y,Y.state):R===Ri.Replace&&t.history.replace(Y,Y.state));let Bt;if(R===Ri.Pop){let ln=O.get(T.location.pathname);ln&&ln.has(Y.pathname)?Bt={currentLocation:T.location,nextLocation:Y}:O.has(Y.pathname)&&(Bt={currentLocation:Y,nextLocation:T.location})}else if(L){let ln=O.get(T.location.pathname);ln?ln.add(Y.pathname):(ln=new Set([Y.pathname]),O.set(T.location.pathname,ln)),Bt={currentLocation:T.location,nextLocation:Y}}Ie(oi({},X,{actionData:Ze,loaderData:ct,historyAction:R,location:Y,initialized:!0,navigation:pT,revalidation:"idle",restoreScrollPosition:oe(Y,X.matches||T.matches),preventScrollReset:Hn,blockers:Pt}),{viewTransitionOpts:Bt,flushSync:xt===!0}),R=Ri.Pop,I=!1,L=!1,q=!1,U=!1,G=[],Q=[]}async function _e(Y,X){if(typeof Y=="number"){t.history.go(Y);return}let re=Z2(T.location,T.matches,l,c.v7_prependBasename,Y,c.v7_relativeSplatPath,X==null?void 0:X.fromRouteId,X==null?void 0:X.relative),{path:Re,submission:Fe,error:xt}=A3(c.v7_normalizeFormMethod,!1,re,X),ht=T.location,Ze=Z0(T.location,Re,X&&X.state);Ze=oi({},Ze,t.history.encodeLocation(Ze));let ct=X&&X.replace!=null?X.replace:void 0,Pt=Ri.Push;ct===!0?Pt=Ri.Replace:ct===!1||Fe!=null&&Zo(Fe.formMethod)&&Fe.formAction===T.location.pathname+T.location.search&&(Pt=Ri.Replace);let Hn=X&&"preventScrollReset"in X?X.preventScrollReset===!0:void 0,Bt=(X&&X.unstable_flushSync)===!0,ln=pt({currentLocation:ht,nextLocation:Ze,historyAction:Pt});if(ln){wt(ln,{state:"blocked",location:Ze,proceed(){wt(ln,{state:"proceeding",proceed:void 0,reset:void 0,location:Ze}),_e(Y,X)},reset(){let En=new Map(T.blockers);En.set(ln,eg),Ie({blockers:En})}});return}return await be(Pt,Ze,{submission:Fe,pendingError:xt,preventScrollReset:Hn,replace:X&&X.replace,enableViewTransition:X&&X.unstable_viewTransition,flushSync:Bt})}function de(){if($(),Ie({revalidation:"loading"}),T.navigation.state!=="submitting"){if(T.navigation.state==="idle"){be(T.historyAction,T.location,{startUninterruptedRevalidation:!0});return}be(R||T.historyAction,T.navigation.location,{overrideNavigation:T.navigation})}}async function be(Y,X,re){A&&A.abort(),A=null,R=Y,q=(re&&re.startUninterruptedRevalidation)===!0,Vt(T.location,T.matches),I=(re&&re.preventScrollReset)===!0,L=(re&&re.enableViewTransition)===!0;let Re=a||o,Fe=re&&re.overrideNavigation,xt=Hh(Re,X,l),ht=(re&&re.flushSync)===!0;if(!xt){let En=Ro(404,{pathname:X.pathname}),{matches:Mi,route:Fn}=N3(Re);Mt(),Z(X,{matches:Mi,loaderData:{},errors:{[Fn.id]:En}},{flushSync:ht});return}if(T.initialized&&!U&&lle(T.location,X)&&!(re&&re.submission&&Zo(re.submission.formMethod))){Z(X,{matches:xt},{flushSync:ht});return}A=new AbortController;let Ze=ng(t.history,X,A.signal,re&&re.submission),ct,Pt;if(re&&re.pendingError)Pt={[f0(xt).route.id]:re.pendingError};else if(re&&re.submission&&Zo(re.submission.formMethod)){let En=await Pe(Ze,X,re.submission,xt,{replace:re.replace,flushSync:ht});if(En.shortCircuited)return;ct=En.pendingActionData,Pt=En.pendingActionError,Fe=mT(X,re.submission),ht=!1,Ze=new Request(Ze.url,{signal:Ze.signal})}let{shortCircuited:Hn,loaderData:Bt,errors:ln}=await Ke(Ze,X,xt,Fe,re&&re.submission,re&&re.fetcherSubmission,re&&re.replace,re&&re.initialHydration===!0,ht,ct,Pt);Hn||(A=null,Z(X,oi({matches:xt},ct?{actionData:ct}:{},{loaderData:Bt,errors:ln})))}async function Pe(Y,X,re,Re,Fe){Fe===void 0&&(Fe={}),$();let xt=fle(X,re);Ie({navigation:xt},{flushSync:Fe.flushSync===!0});let ht,Ze=eR(Re,X);if(!Ze.route.action&&!Ze.route.lazy)ht={type:xi.error,error:Ro(405,{method:Y.method,pathname:X.pathname,routeId:Ze.route.id})};else if(ht=await tg("action",Y,Ze,Re,s,r,l,c.v7_relativeSplatPath),Y.signal.aborted)return{shortCircuited:!0};if(sp(ht)){let ct;return Fe&&Fe.replace!=null?ct=Fe.replace:ct=ht.location===T.location.pathname+T.location.search,await st(T,ht,{submission:re,replace:ct}),{shortCircuited:!0}}if(h0(ht)){let ct=f0(Re,Ze.route.id);return(Fe&&Fe.replace)!==!0&&(R=Ri.Push),{pendingActionData:{},pendingActionError:{[ct.route.id]:ht.error}}}if(md(ht))throw Ro(400,{type:"defer-action"});return{pendingActionData:{[Ze.route.id]:ht.data}}}async function Ke(Y,X,re,Re,Fe,xt,ht,Ze,ct,Pt,Hn){let Bt=Re||mT(X,Fe),ln=Fe||xt||U3(Bt),En=a||o,[Mi,Fn]=P3(t.history,T,re,ln,X,c.v7_partialHydration&&Ze===!0,U,G,Q,ae,se,te,En,l,Pt,Hn);if(Mt(We=>!(re&&re.some(it=>it.route.id===We))||Mi&&Mi.some(it=>it.route.id===We)),B=++N,Mi.length===0&&Fn.length===0){let We=De();return Z(X,oi({matches:re,loaderData:{},errors:Hn||null},Pt?{actionData:Pt}:{},We?{fetchers:new Map(T.fetchers)}:{}),{flushSync:ct}),{shortCircuited:!0}}if(!q&&(!c.v7_partialHydration||!Ze)){Fn.forEach(it=>{let St=T.fetchers.get(it.key),kt=ig(void 0,St?St.data:void 0);T.fetchers.set(it.key,kt)});let We=Pt||T.actionData;Ie(oi({navigation:Bt},We?Object.keys(We).length===0?{actionData:null}:{actionData:We}:{},Fn.length>0?{fetchers:new Map(T.fetchers)}:{}),{flushSync:ct})}Fn.forEach(We=>{J.has(We.key)&&we(We.key),We.controller&&J.set(We.key,We.controller)});let Yr=()=>Fn.forEach(We=>we(We.key));A&&A.signal.addEventListener("abort",Yr);let{results:Za,loaderResults:_n,fetcherResults:Tn}=await Xt(T.matches,re,Mi,Fn,Y);if(Y.signal.aborted)return{shortCircuited:!0};A&&A.signal.removeEventListener("abort",Yr),Fn.forEach(We=>J.delete(We.key));let V=F3(Za);if(V){if(V.idx>=Mi.length){let We=Fn[V.idx-Mi.length].key;te.add(We)}return await st(T,V.result,{replace:ht}),{shortCircuited:!0}}let{loaderData:ue,errors:pe}=D3(T,re,Mi,_n,Hn,Fn,Tn,xe);xe.forEach((We,it)=>{We.subscribe(St=>{(St||We.done)&&xe.delete(it)})});let Se=De(),ve=Qe(B),ot=Se||ve||Fn.length>0;return oi({loaderData:ue,errors:pe},ot?{fetchers:new Map(T.fetchers)}:{})}function ze(Y,X,re,Re){if(i)throw new Error("router.fetch() was called during the server render, but it shouldn't be. You are likely calling a useFetcher() method in the body of your component. Try moving it to a useEffect or a callback.");J.has(Y)&&we(Y);let Fe=(Re&&Re.unstable_flushSync)===!0,xt=a||o,ht=Z2(T.location,T.matches,l,c.v7_prependBasename,re,c.v7_relativeSplatPath,X,Re==null?void 0:Re.relative),Ze=Hh(xt,ht,l);if(!Ze){ee(Y,X,Ro(404,{pathname:ht}),{flushSync:Fe});return}let{path:ct,submission:Pt,error:Hn}=A3(c.v7_normalizeFormMethod,!0,ht,Re);if(Hn){ee(Y,X,Hn,{flushSync:Fe});return}let Bt=eR(Ze,ct);if(I=(Re&&Re.preventScrollReset)===!0,Pt&&Zo(Pt.formMethod)){Ge(Y,X,ct,Bt,Ze,Fe,Pt);return}se.set(Y,{routeId:X,path:ct}),Ye(Y,X,ct,Bt,Ze,Fe,Pt)}async function Ge(Y,X,re,Re,Fe,xt,ht){if($(),se.delete(Y),!Re.route.action&&!Re.route.lazy){let it=Ro(405,{method:ht.formMethod,pathname:re,routeId:X});ee(Y,X,it,{flushSync:xt});return}let Ze=T.fetchers.get(Y);F(Y,hle(ht,Ze),{flushSync:xt});let ct=new AbortController,Pt=ng(t.history,re,ct.signal,ht);J.set(Y,ct);let Hn=N,Bt=await tg("action",Pt,Re,Fe,s,r,l,c.v7_relativeSplatPath);if(Pt.signal.aborted){J.get(Y)===ct&&J.delete(Y);return}if(ae.has(Y)){F(Y,_c(void 0));return}if(sp(Bt))if(J.delete(Y),B>Hn){F(Y,_c(void 0));return}else return te.add(Y),F(Y,ig(ht)),st(T,Bt,{fetcherSubmission:ht});if(h0(Bt)){ee(Y,X,Bt.error);return}if(md(Bt))throw Ro(400,{type:"defer-action"});let ln=T.navigation.location||T.location,En=ng(t.history,ln,ct.signal),Mi=a||o,Fn=T.navigation.state!=="idle"?Hh(Mi,T.navigation.location,l):T.matches;rn(Fn,"Didn't find any matches after fetcher action");let Yr=++N;j.set(Y,Yr);let Za=ig(ht,Bt.data);T.fetchers.set(Y,Za);let[_n,Tn]=P3(t.history,T,Fn,ht,ln,!1,U,G,Q,ae,se,te,Mi,l,{[Re.route.id]:Bt.data},void 0);Tn.filter(it=>it.key!==Y).forEach(it=>{let St=it.key,kt=T.fetchers.get(St),Ft=ig(void 0,kt?kt.data:void 0);T.fetchers.set(St,Ft),J.has(St)&&we(St),it.controller&&J.set(St,it.controller)}),Ie({fetchers:new Map(T.fetchers)});let V=()=>Tn.forEach(it=>we(it.key));ct.signal.addEventListener("abort",V);let{results:ue,loaderResults:pe,fetcherResults:Se}=await Xt(T.matches,Fn,_n,Tn,En);if(ct.signal.aborted)return;ct.signal.removeEventListener("abort",V),j.delete(Y),J.delete(Y),Tn.forEach(it=>J.delete(it.key));let ve=F3(ue);if(ve){if(ve.idx>=_n.length){let it=Tn[ve.idx-_n.length].key;te.add(it)}return st(T,ve.result)}let{loaderData:ot,errors:We}=D3(T,T.matches,_n,pe,void 0,Tn,Se,xe);if(T.fetchers.has(Y)){let it=_c(Bt.data);T.fetchers.set(Y,it)}Qe(Yr),T.navigation.state==="loading"&&Yr>B?(rn(R,"Expected pending action"),A&&A.abort(),Z(T.navigation.location,{matches:Fn,loaderData:ot,errors:We,fetchers:new Map(T.fetchers)})):(Ie({errors:We,loaderData:O3(T.loaderData,ot,Fn,We),fetchers:new Map(T.fetchers)}),U=!1)}async function Ye(Y,X,re,Re,Fe,xt,ht){let Ze=T.fetchers.get(Y);F(Y,ig(ht,Ze?Ze.data:void 0),{flushSync:xt});let ct=new AbortController,Pt=ng(t.history,re,ct.signal);J.set(Y,ct);let Hn=N,Bt=await tg("loader",Pt,Re,Fe,s,r,l,c.v7_relativeSplatPath);if(md(Bt)&&(Bt=await wj(Bt,Pt.signal,!0)||Bt),J.get(Y)===ct&&J.delete(Y),!Pt.signal.aborted){if(ae.has(Y)){F(Y,_c(void 0));return}if(sp(Bt))if(B>Hn){F(Y,_c(void 0));return}else{te.add(Y),await st(T,Bt);return}if(h0(Bt)){ee(Y,X,Bt.error);return}rn(!md(Bt),"Unhandled fetcher deferred data"),F(Y,_c(Bt.data))}}async function st(Y,X,re){let{submission:Re,fetcherSubmission:Fe,replace:xt}=re===void 0?{}:re;X.revalidate&&(U=!0);let ht=Z0(Y.location,X.location,{_isRedirect:!0});if(rn(ht,"Expected a location on the redirect navigation"),n){let ln=!1;if(X.reloadDocument)ln=!0;else if(xj.test(X.location)){const En=t.history.createURL(X.location);ln=En.origin!==e.location.origin||rm(En.pathname,l)==null}if(ln){xt?e.location.replace(X.location):e.location.assign(X.location);return}}A=null;let Ze=xt===!0?Ri.Replace:Ri.Push,{formMethod:ct,formAction:Pt,formEncType:Hn}=Y.navigation;!Re&&!Fe&&ct&&Pt&&Hn&&(Re=U3(Y.navigation));let Bt=Re||Fe;if(Jae.has(X.status)&&Bt&&Zo(Bt.formMethod))await be(Ze,ht,{submission:oi({},Bt,{formAction:X.location}),preventScrollReset:I});else{let ln=mT(ht,Re);await be(Ze,ht,{overrideNavigation:ln,fetcherSubmission:Fe,preventScrollReset:I})}}async function Xt(Y,X,re,Re,Fe){let xt=await Promise.all([...re.map(ct=>tg("loader",Fe,ct,X,s,r,l,c.v7_relativeSplatPath)),...Re.map(ct=>ct.matches&&ct.match&&ct.controller?tg("loader",ng(t.history,ct.path,ct.controller.signal),ct.match,ct.matches,s,r,l,c.v7_relativeSplatPath):{type:xi.error,error:Ro(404,{pathname:ct.path})})]),ht=xt.slice(0,re.length),Ze=xt.slice(re.length);return await Promise.all([z3(Y,re,ht,ht.map(()=>Fe.signal),!1,T.loaderData),z3(Y,Re.map(ct=>ct.match),Ze,Re.map(ct=>ct.controller?ct.controller.signal:null),!0)]),{results:xt,loaderResults:ht,fetcherResults:Ze}}function $(){U=!0,G.push(...Mt()),se.forEach((Y,X)=>{J.has(X)&&(Q.push(X),we(X))})}function F(Y,X,re){re===void 0&&(re={}),T.fetchers.set(Y,X),Ie({fetchers:new Map(T.fetchers)},{flushSync:(re&&re.flushSync)===!0})}function ee(Y,X,re,Re){Re===void 0&&(Re={});let Fe=f0(T.matches,X);he(Y),Ie({errors:{[Fe.route.id]:re},fetchers:new Map(T.fetchers)},{flushSync:(Re&&Re.flushSync)===!0})}function fe(Y){return c.v7_fetcherPersist&&(ne.set(Y,(ne.get(Y)||0)+1),ae.has(Y)&&ae.delete(Y)),T.fetchers.get(Y)||ele}function he(Y){let X=T.fetchers.get(Y);J.has(Y)&&!(X&&X.state==="loading"&&j.has(Y))&&we(Y),se.delete(Y),j.delete(Y),te.delete(Y),ae.delete(Y),T.fetchers.delete(Y)}function me(Y){if(c.v7_fetcherPersist){let X=(ne.get(Y)||0)-1;X<=0?(ne.delete(Y),ae.add(Y)):ne.set(Y,X)}else he(Y);Ie({fetchers:new Map(T.fetchers)})}function we(Y){let X=J.get(Y);rn(X,"Expected fetch controller: "+Y),X.abort(),J.delete(Y)}function Le(Y){for(let X of Y){let re=fe(X),Re=_c(re.data);T.fetchers.set(X,Re)}}function De(){let Y=[],X=!1;for(let re of te){let Re=T.fetchers.get(re);rn(Re,"Expected fetcher: "+re),Re.state==="loading"&&(te.delete(re),Y.push(re),X=!0)}return Le(Y),X}function Qe(Y){let X=[];for(let[re,Re]of j)if(Re<Y){let Fe=T.fetchers.get(re);rn(Fe,"Expected fetcher: "+re),Fe.state==="loading"&&(we(re),j.delete(re),X.push(re))}return Le(X),X.length>0}function Ne(Y,X){let re=T.blockers.get(Y)||eg;return Ee.get(Y)!==X&&Ee.set(Y,X),re}function Ce(Y){T.blockers.delete(Y),Ee.delete(Y)}function wt(Y,X){let re=T.blockers.get(Y)||eg;rn(re.state==="unblocked"&&X.state==="blocked"||re.state==="blocked"&&X.state==="blocked"||re.state==="blocked"&&X.state==="proceeding"||re.state==="blocked"&&X.state==="unblocked"||re.state==="proceeding"&&X.state==="unblocked","Invalid blocker state transition: "+re.state+" -> "+X.state);let Re=new Map(T.blockers);Re.set(Y,X),Ie({blockers:Re})}function pt(Y){let{currentLocation:X,nextLocation:re,historyAction:Re}=Y;if(Ee.size===0)return;Ee.size>1&&Qd(!1,"A router only supports one blocker at a time");let Fe=Array.from(Ee.entries()),[xt,ht]=Fe[Fe.length-1],Ze=T.blockers.get(xt);if(!(Ze&&Ze.state==="proceeding")&&ht({currentLocation:X,nextLocation:re,historyAction:Re}))return xt}function Mt(Y){let X=[];return xe.forEach((re,Re)=>{(!Y||Y(Re))&&(re.cancel(),X.push(Re),xe.delete(Re))}),X}function Et(Y,X,re){if(f=Y,g=X,m=re||null,!y&&T.navigation===pT){y=!0;let Re=oe(T.location,T.matches);Re!=null&&Ie({restoreScrollPosition:Re})}return()=>{f=null,g=null,m=null}}function ft(Y,X){return m&&m(Y,X.map(Re=>Aae(Re,T.loaderData)))||Y.key}function Vt(Y,X){if(f&&g){let re=ft(Y,X);f[re]=g()}}function oe(Y,X){if(f){let re=ft(Y,X),Re=f[re];if(typeof Re=="number")return Re}return null}function nt(Y){s={},a=Q2(Y,r,void 0,s)}return C={get basename(){return l},get future(){return c},get state(){return T},get routes(){return o},get window(){return e},initialize:ut,subscribe:Xe,enableScrollRestoration:Et,navigate:_e,fetch:ze,revalidate:de,createHref:Y=>t.history.createHref(Y),encodeLocation:Y=>t.history.encodeLocation(Y),getFetcher:fe,deleteFetcher:me,dispose:qe,getBlocker:Ne,deleteBlocker:Ce,_internalFetchControllers:J,_internalActiveDeferreds:xe,_internalSetRoutes:nt},C}function ile(t){return t!=null&&("formData"in t&&t.formData!=null||"body"in t&&t.body!==void 0)}function Z2(t,e,n,i,r,s,o,a){let l,c;if(o){l=[];for(let d of e)if(l.push(d),d.route.id===o){c=d;break}}else l=e,c=e[e.length-1];let u=sk(r||".",rk(l,s),rm(t.pathname,n)||t.pathname,a==="path");return r==null&&(u.search=t.search,u.hash=t.hash),(r==null||r===""||r===".")&&c&&c.route.index&&!ak(u.search)&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),i&&n!=="/"&&(u.pathname=u.pathname==="/"?n:Ll([n,u.pathname])),Zd(u)}function A3(t,e,n,i){if(!i||!ile(i))return{path:n};if(i.formMethod&&!dle(i.formMethod))return{path:n,error:Ro(405,{method:i.formMethod})};let r=()=>({path:n,error:Ro(400,{type:"invalid-body"})}),s=i.formMethod||"get",o=t?s.toUpperCase():s.toLowerCase(),a=Sj(n);if(i.body!==void 0){if(i.formEncType==="text/plain"){if(!Zo(o))return r();let f=typeof i.body=="string"?i.body:i.body instanceof FormData||i.body instanceof URLSearchParams?Array.from(i.body.entries()).reduce((m,g)=>{let[y,x]=g;return""+m+y+"="+x+`
`},""):String(i.body);return{path:n,submission:{formMethod:o,formAction:a,formEncType:i.formEncType,formData:void 0,json:void 0,text:f}}}else if(i.formEncType==="application/json"){if(!Zo(o))return r();try{let f=typeof i.body=="string"?JSON.parse(i.body):i.body;return{path:n,submission:{formMethod:o,formAction:a,formEncType:i.formEncType,formData:void 0,json:f,text:void 0}}}catch{return r()}}}rn(typeof FormData=="function","FormData is not available in this environment");let l,c;if(i.formData)l=J2(i.formData),c=i.formData;else if(i.body instanceof FormData)l=J2(i.body),c=i.body;else if(i.body instanceof URLSearchParams)l=i.body,c=L3(l);else if(i.body==null)l=new URLSearchParams,c=new FormData;else try{l=new URLSearchParams(i.body),c=L3(l)}catch{return r()}let u={formMethod:o,formAction:a,formEncType:i&&i.formEncType||"application/x-www-form-urlencoded",formData:c,json:void 0,text:void 0};if(Zo(u.formMethod))return{path:n,submission:u};let d=Yl(n);return e&&d.search&&ak(d.search)&&l.append("index",""),d.search="?"+l,{path:Zd(d),submission:u}}function rle(t,e){let n=t;if(e){let i=t.findIndex(r=>r.route.id===e);i>=0&&(n=t.slice(0,i))}return n}function P3(t,e,n,i,r,s,o,a,l,c,u,d,f,m,g,y){let x=y?Object.values(y)[0]:g?Object.values(g)[0]:void 0,v=t.createURL(e.location),_=t.createURL(r),b=y?Object.keys(y)[0]:void 0,C=rle(n,b).filter((R,I)=>{if(s)return sle(e,R.route);if(R.route.lazy)return!0;if(R.route.loader==null)return!1;if(ole(e.loaderData,e.matches[I],R)||a.some(O=>O===R.route.id))return!0;let A=e.matches[I],L=R;return k3(R,oi({currentUrl:v,currentParams:A.params,nextUrl:_,nextParams:L.params},i,{actionResult:x,defaultShouldRevalidate:o||v.pathname+v.search===_.pathname+_.search||v.search!==_.search||bj(A,L)}))}),T=[];return u.forEach((R,I)=>{if(s||!n.some(q=>q.route.id===R.routeId)||c.has(I))return;let A=Hh(f,R.path,m);if(!A){T.push({key:I,routeId:R.routeId,path:R.path,matches:null,match:null,controller:null});return}let L=e.fetchers.get(I),O=eR(A,R.path),H=!1;d.has(I)?H=!1:l.includes(I)?H=!0:L&&L.state!=="idle"&&L.data===void 0?H=o:H=k3(O,oi({currentUrl:v,currentParams:e.matches[e.matches.length-1].params,nextUrl:_,nextParams:n[n.length-1].params},i,{actionResult:x,defaultShouldRevalidate:o})),H&&T.push({key:I,routeId:R.routeId,path:R.path,matches:A,match:O,controller:new AbortController})}),[C,T]}function sle(t,e){return e.loader?e.loader.hydrate?!0:t.loaderData[e.id]===void 0&&(!t.errors||t.errors[e.id]===void 0):!1}function ole(t,e,n){let i=!e||n.route.id!==e.route.id,r=t[n.route.id]===void 0;return i||r}function bj(t,e){let n=t.route.path;return t.pathname!==e.pathname||n!=null&&n.endsWith("*")&&t.params["*"]!==e.params["*"]}function k3(t,e){if(t.route.shouldRevalidate){let n=t.route.shouldRevalidate(e);if(typeof n=="boolean")return n}return e.defaultShouldRevalidate}async function I3(t,e,n){if(!t.lazy)return;let i=await t.lazy();if(!t.lazy)return;let r=n[t.id];rn(r,"No route found in manifest");let s={};for(let o in i){let l=r[o]!==void 0&&o!=="hasErrorBoundary";Qd(!l,'Route "'+r.id+'" has a static property "'+o+'" defined but its lazy function is also returning a value for this property. '+('The lazy route property "'+o+'" will be ignored.')),!l&&!Cae.has(o)&&(s[o]=i[o])}Object.assign(r,s),Object.assign(r,oi({},e(r),{lazy:void 0}))}async function tg(t,e,n,i,r,s,o,a,l){l===void 0&&(l={});let c,u,d,f=y=>{let x,v=new Promise((_,b)=>x=b);return d=()=>x(),e.signal.addEventListener("abort",d),Promise.race([y({request:e,params:n.params,context:l.requestContext}),v])};try{let y=n.route[t];if(n.route.lazy)if(y){let x,v=await Promise.all([f(y).catch(_=>{x=_}),I3(n.route,s,r)]);if(x)throw x;u=v[0]}else if(await I3(n.route,s,r),y=n.route[t],y)u=await f(y);else if(t==="action"){let x=new URL(e.url),v=x.pathname+x.search;throw Ro(405,{method:e.method,pathname:v,routeId:n.route.id})}else return{type:xi.data,data:void 0};else if(y)u=await f(y);else{let x=new URL(e.url),v=x.pathname+x.search;throw Ro(404,{pathname:v})}rn(u!==void 0,"You defined "+(t==="action"?"an action":"a loader")+" for route "+('"'+n.route.id+"\" but didn't return anything from your `"+t+"` ")+"function. Please return a value or `null`.")}catch(y){c=xi.error,u=y}finally{d&&e.signal.removeEventListener("abort",d)}if(ule(u)){let y=u.status;if(Zae.has(y)){let v=u.headers.get("Location");if(rn(v,"Redirects returned/thrown from loaders/actions must have a Location header"),!xj.test(v))v=Z2(new URL(e.url),i.slice(0,i.indexOf(n)+1),o,!0,v,a);else if(!l.isStaticRequest){let _=new URL(e.url),b=v.startsWith("//")?new URL(_.protocol+v):new URL(v),w=rm(b.pathname,o)!=null;b.origin===_.origin&&w&&(v=b.pathname+b.search+b.hash)}if(l.isStaticRequest)throw u.headers.set("Location",v),u;return{type:xi.redirect,status:y,location:v,revalidate:u.headers.get("X-Remix-Revalidate")!==null,reloadDocument:u.headers.get("X-Remix-Reload-Document")!==null}}if(l.isRouteRequest)throw{type:c===xi.error?xi.error:xi.data,response:u};let x;try{let v=u.headers.get("Content-Type");v&&/\bapplication\/json\b/.test(v)?x=await u.json():x=await u.text()}catch(v){return{type:xi.error,error:v}}return c===xi.error?{type:c,error:new ok(y,u.statusText,x),headers:u.headers}:{type:xi.data,data:x,statusCode:u.status,headers:u.headers}}if(c===xi.error)return{type:c,error:u};if(cle(u)){var m,g;return{type:xi.deferred,deferredData:u,statusCode:(m=u.init)==null?void 0:m.status,headers:((g=u.init)==null?void 0:g.headers)&&new Headers(u.init.headers)}}return{type:xi.data,data:u}}function ng(t,e,n,i){let r=t.createURL(Sj(e)).toString(),s={signal:n};if(i&&Zo(i.formMethod)){let{formMethod:o,formEncType:a}=i;s.method=o.toUpperCase(),a==="application/json"?(s.headers=new Headers({"Content-Type":a}),s.body=JSON.stringify(i.json)):a==="text/plain"?s.body=i.text:a==="application/x-www-form-urlencoded"&&i.formData?s.body=J2(i.formData):s.body=i.formData}return new Request(r,s)}function J2(t){let e=new URLSearchParams;for(let[n,i]of t.entries())e.append(n,typeof i=="string"?i:i.name);return e}function L3(t){let e=new FormData;for(let[n,i]of t.entries())e.append(n,i);return e}function ale(t,e,n,i,r){let s={},o=null,a,l=!1,c={};return n.forEach((u,d)=>{let f=e[d].route.id;if(rn(!sp(u),"Cannot handle redirect results in processLoaderData"),h0(u)){let m=f0(t,f),g=u.error;i&&(g=Object.values(i)[0],i=void 0),o=o||{},o[m.route.id]==null&&(o[m.route.id]=g),s[f]=void 0,l||(l=!0,a=vj(u.error)?u.error.status:500),u.headers&&(c[f]=u.headers)}else md(u)?(r.set(f,u.deferredData),s[f]=u.deferredData.data):s[f]=u.data,u.statusCode!=null&&u.statusCode!==200&&!l&&(a=u.statusCode),u.headers&&(c[f]=u.headers)}),i&&(o=i,s[Object.keys(i)[0]]=void 0),{loaderData:s,errors:o,statusCode:a||200,loaderHeaders:c}}function D3(t,e,n,i,r,s,o,a){let{loaderData:l,errors:c}=ale(e,n,i,r,a);for(let u=0;u<s.length;u++){let{key:d,match:f,controller:m}=s[u];rn(o!==void 0&&o[u]!==void 0,"Did not find corresponding fetcher result");let g=o[u];if(!(m&&m.signal.aborted))if(h0(g)){let y=f0(t.matches,f==null?void 0:f.route.id);c&&c[y.route.id]||(c=oi({},c,{[y.route.id]:g.error})),t.fetchers.delete(d)}else if(sp(g))rn(!1,"Unhandled fetcher revalidation redirect");else if(md(g))rn(!1,"Unhandled fetcher deferred data");else{let y=_c(g.data);t.fetchers.set(d,y)}}return{loaderData:l,errors:c}}function O3(t,e,n,i){let r=oi({},e);for(let s of n){let o=s.route.id;if(e.hasOwnProperty(o)?e[o]!==void 0&&(r[o]=e[o]):t[o]!==void 0&&s.route.loader&&(r[o]=t[o]),i&&i.hasOwnProperty(o))break}return r}function f0(t,e){return(e?t.slice(0,t.findIndex(i=>i.route.id===e)+1):[...t]).reverse().find(i=>i.route.hasErrorBoundary===!0)||t[0]}function N3(t){let e=t.length===1?t[0]:t.find(n=>n.index||!n.path||n.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:e}],route:e}}function Ro(t,e){let{pathname:n,routeId:i,method:r,type:s}=e===void 0?{}:e,o="Unknown Server Error",a="Unknown @remix-run/router error";return t===400?(o="Bad Request",r&&n&&i?a="You made a "+r+' request to "'+n+'" but '+('did not provide a `loader` for route "'+i+'", ')+"so there is no way to handle the request.":s==="defer-action"?a="defer() is not supported in actions":s==="invalid-body"&&(a="Unable to encode submission body")):t===403?(o="Forbidden",a='Route "'+i+'" does not match URL "'+n+'"'):t===404?(o="Not Found",a='No route matches URL "'+n+'"'):t===405&&(o="Method Not Allowed",r&&n&&i?a="You made a "+r.toUpperCase()+' request to "'+n+'" but '+('did not provide an `action` for route "'+i+'", ')+"so there is no way to handle the request.":r&&(a='Invalid request method "'+r.toUpperCase()+'"')),new ok(t||500,o,new Error(a),!0)}function F3(t){for(let e=t.length-1;e>=0;e--){let n=t[e];if(sp(n))return{result:n,idx:e}}}function Sj(t){let e=typeof t=="string"?Yl(t):t;return Zd(oi({},e,{hash:""}))}function lle(t,e){return t.pathname!==e.pathname||t.search!==e.search?!1:t.hash===""?e.hash!=="":t.hash===e.hash?!0:e.hash!==""}function md(t){return t.type===xi.deferred}function h0(t){return t.type===xi.error}function sp(t){return(t&&t.type)===xi.redirect}function cle(t){let e=t;return e&&typeof e=="object"&&typeof e.data=="object"&&typeof e.subscribe=="function"&&typeof e.cancel=="function"&&typeof e.resolveData=="function"}function ule(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.headers=="object"&&typeof t.body<"u"}function dle(t){return Qae.has(t.toLowerCase())}function Zo(t){return qae.has(t.toLowerCase())}async function z3(t,e,n,i,r,s){for(let o=0;o<n.length;o++){let a=n[o],l=e[o];if(!l)continue;let c=t.find(d=>d.route.id===l.route.id),u=c!=null&&!bj(c,l)&&(s&&s[l.route.id])!==void 0;if(md(a)&&(r||u)){let d=i[o];rn(d,"Expected an AbortSignal for revalidating fetcher deferred result"),await wj(a,d,r).then(f=>{f&&(n[o]=f||n[o])})}}}async function wj(t,e,n){if(n===void 0&&(n=!1),!await t.deferredData.resolveData(e)){if(n)try{return{type:xi.data,data:t.deferredData.unwrappedData}}catch(r){return{type:xi.error,error:r}}return{type:xi.data,data:t.deferredData.data}}}function ak(t){return new URLSearchParams(t).getAll("index").some(e=>e==="")}function eR(t,e){let n=typeof e=="string"?Yl(e).search:e.search;if(t[t.length-1].route.index&&ak(n||""))return t[t.length-1];let i=gj(t);return i[i.length-1]}function U3(t){let{formMethod:e,formAction:n,formEncType:i,text:r,formData:s,json:o}=t;if(!(!e||!n||!i)){if(r!=null)return{formMethod:e,formAction:n,formEncType:i,formData:void 0,json:void 0,text:r};if(s!=null)return{formMethod:e,formAction:n,formEncType:i,formData:s,json:void 0,text:void 0};if(o!==void 0)return{formMethod:e,formAction:n,formEncType:i,formData:void 0,json:o,text:void 0}}}function mT(t,e){return e?{state:"loading",location:t,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}:{state:"loading",location:t,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function fle(t,e){return{state:"submitting",location:t,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}}function ig(t,e){return t?{state:"loading",formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text,data:e}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function hle(t,e){return{state:"submitting",formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text,data:e?e.data:void 0}}function _c(t){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:t}}function ple(t,e){try{let n=t.sessionStorage.getItem(_j);if(n){let i=JSON.parse(n);for(let[r,s]of Object.entries(i||{}))s&&Array.isArray(s)&&e.set(r,new Set(s||[]))}}catch{}}function mle(t,e){if(e.size>0){let n={};for(let[i,r]of e)n[i]=[...r];try{t.sessionStorage.setItem(_j,JSON.stringify(n))}catch(i){Qd(!1,"Failed to save applied view transitions in sessionStorage ("+i+").")}}}/**
 * React Router v6.21.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function J0(){return J0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},J0.apply(this,arguments)}const ww=k.createContext(null),Mj=k.createContext(null),df=k.createContext(null),Mw=k.createContext(null),wu=k.createContext({outlet:null,matches:[],isDataRoute:!1}),Ej=k.createContext(null);function gle(t,e){let{relative:n}=e===void 0?{}:e;Zv()||rn(!1);let{basename:i,navigator:r}=k.useContext(df),{hash:s,pathname:o,search:a}=Cj(t,{relative:n}),l=o;return i!=="/"&&(l=o==="/"?i:Ll([i,o])),r.createHref({pathname:l,search:a,hash:s})}function Zv(){return k.useContext(Mw)!=null}function Jv(){return Zv()||rn(!1),k.useContext(Mw).location}function Tj(t){k.useContext(df).static||k.useLayoutEffect(t)}function lk(){let{isDataRoute:t}=k.useContext(wu);return t?Ple():vle()}function vle(){Zv()||rn(!1);let t=k.useContext(ww),{basename:e,future:n,navigator:i}=k.useContext(df),{matches:r}=k.useContext(wu),{pathname:s}=Jv(),o=JSON.stringify(rk(r,n.v7_relativeSplatPath)),a=k.useRef(!1);return Tj(()=>{a.current=!0}),k.useCallback(function(c,u){if(u===void 0&&(u={}),!a.current)return;if(typeof c=="number"){i.go(c);return}let d=sk(c,JSON.parse(o),s,u.relative==="path");t==null&&e!=="/"&&(d.pathname=d.pathname==="/"?e:Ll([e,d.pathname])),(u.replace?i.replace:i.push)(d,u.state,u)},[e,i,o,s,t])}const yle=k.createContext(null);function xle(t){let e=k.useContext(wu).outlet;return e&&k.createElement(yle.Provider,{value:t},e)}function Cj(t,e){let{relative:n}=e===void 0?{}:e,{future:i}=k.useContext(df),{matches:r}=k.useContext(wu),{pathname:s}=Jv(),o=JSON.stringify(rk(r,i.v7_relativeSplatPath));return k.useMemo(()=>sk(t,JSON.parse(o),s,n==="path"),[t,o,s,n])}function _le(t,e,n,i){Zv()||rn(!1);let{navigator:r}=k.useContext(df),{matches:s}=k.useContext(wu),o=s[s.length-1],a=o?o.params:{};o&&o.pathname;let l=o?o.pathnameBase:"/";o&&o.route;let c=Jv(),u;if(e){var d;let x=typeof e=="string"?Yl(e):e;l==="/"||(d=x.pathname)!=null&&d.startsWith(l)||rn(!1),u=x}else u=c;let f=u.pathname||"/",m=l==="/"?f:f.slice(l.length)||"/",g=Hh(t,{pathname:m}),y=Ele(g&&g.map(x=>Object.assign({},x,{params:Object.assign({},a,x.params),pathname:Ll([l,r.encodeLocation?r.encodeLocation(x.pathname).pathname:x.pathname]),pathnameBase:x.pathnameBase==="/"?l:Ll([l,r.encodeLocation?r.encodeLocation(x.pathnameBase).pathname:x.pathnameBase])})),s,n,i);return e&&y?k.createElement(Mw.Provider,{value:{location:J0({pathname:"/",search:"",hash:"",state:null,key:"default"},u),navigationType:Ri.Pop}},y):y}function ble(){let t=Ale(),e=vj(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,r={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"},s=null;return k.createElement(k.Fragment,null,k.createElement("h2",null,"Unexpected Application Error!"),k.createElement("h3",{style:{fontStyle:"italic"}},e),n?k.createElement("pre",{style:r},n):null,s)}const Sle=k.createElement(ble,null);class wle extends k.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?k.createElement(wu.Provider,{value:this.props.routeContext},k.createElement(Ej.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function Mle(t){let{routeContext:e,match:n,children:i}=t,r=k.useContext(ww);return r&&r.static&&r.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=n.route.id),k.createElement(wu.Provider,{value:e},i)}function Ele(t,e,n,i){var r;if(e===void 0&&(e=[]),n===void 0&&(n=null),i===void 0&&(i=null),t==null){var s;if((s=n)!=null&&s.errors)t=n.matches;else return null}let o=t,a=(r=n)==null?void 0:r.errors;if(a!=null){let u=o.findIndex(d=>d.route.id&&(a==null?void 0:a[d.route.id]));u>=0||rn(!1),o=o.slice(0,Math.min(o.length,u+1))}let l=!1,c=-1;if(n&&i&&i.v7_partialHydration)for(let u=0;u<o.length;u++){let d=o[u];if((d.route.HydrateFallback||d.route.hydrateFallbackElement)&&(c=u),d.route.loader&&d.route.id&&n.loaderData[d.route.id]===void 0&&(!n.errors||n.errors[d.route.id]===void 0)){l=!0,c>=0?o=o.slice(0,c+1):o=[o[0]];break}}return o.reduceRight((u,d,f)=>{let m,g=!1,y=null,x=null;n&&(m=a&&d.route.id?a[d.route.id]:void 0,y=d.route.errorElement||Sle,l&&(c<0&&f===0?(kle("route-fallback",!1),g=!0,x=null):c===f&&(g=!0,x=d.route.hydrateFallbackElement||null)));let v=e.concat(o.slice(0,f+1)),_=()=>{let b;return m?b=y:g?b=x:d.route.Component?b=k.createElement(d.route.Component,null):d.route.element?b=d.route.element:b=u,k.createElement(Mle,{match:d,routeContext:{outlet:u,matches:v,isDataRoute:n!=null},children:b})};return n&&(d.route.ErrorBoundary||d.route.errorElement||f===0)?k.createElement(wle,{location:n.location,revalidation:n.revalidation,component:y,error:m,children:_(),routeContext:{outlet:null,matches:v,isDataRoute:!0}}):_()},null)}var Rj=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(Rj||{}),Np=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(Np||{});function Tle(t){let e=k.useContext(ww);return e||rn(!1),e}function Aj(t){let e=k.useContext(Mj);return e||rn(!1),e}function Cle(t){let e=k.useContext(wu);return e||rn(!1),e}function ck(t){let e=Cle(),n=e.matches[e.matches.length-1];return n.route.id||rn(!1),n.route.id}function Rle(){let t=Aj(Np.UseLoaderData),e=ck(Np.UseLoaderData);if(t.errors&&t.errors[e]!=null){console.error("You cannot `useLoaderData` in an errorElement (routeId: "+e+")");return}return t.loaderData[e]}function Ale(){var t;let e=k.useContext(Ej),n=Aj(Np.UseRouteError),i=ck(Np.UseRouteError);return e!==void 0?e:(t=n.errors)==null?void 0:t[i]}function Ple(){let{router:t}=Tle(Rj.UseNavigateStable),e=ck(Np.UseNavigateStable),n=k.useRef(!1);return Tj(()=>{n.current=!0}),k.useCallback(function(r,s){s===void 0&&(s={}),n.current&&(typeof r=="number"?t.navigate(r):t.navigate(r,J0({fromRouteId:e},s)))},[t,e])}const B3={};function kle(t,e,n){!e&&!B3[t]&&(B3[t]=!0)}function Ile(t){return xle(t.context)}function Lle(t){let{basename:e="/",children:n=null,location:i,navigationType:r=Ri.Pop,navigator:s,static:o=!1,future:a}=t;Zv()&&rn(!1);let l=e.replace(/^\/*/,"/"),c=k.useMemo(()=>({basename:l,navigator:s,static:o,future:J0({v7_relativeSplatPath:!1},a)}),[l,a,s,o]);typeof i=="string"&&(i=Yl(i));let{pathname:u="/",search:d="",hash:f="",state:m=null,key:g="default"}=i,y=k.useMemo(()=>{let x=rm(u,l);return x==null?null:{location:{pathname:x,search:d,hash:f,state:m,key:g},navigationType:r}},[l,u,d,f,m,g,r]);return y==null?null:k.createElement(df.Provider,{value:c},k.createElement(Mw.Provider,{children:n,value:y}))}new Promise(()=>{});function Dle(t){let e={hasErrorBoundary:t.ErrorBoundary!=null||t.errorElement!=null};return t.Component&&Object.assign(e,{element:k.createElement(t.Component),Component:void 0}),t.HydrateFallback&&Object.assign(e,{hydrateFallbackElement:k.createElement(t.HydrateFallback),HydrateFallback:void 0}),t.ErrorBoundary&&Object.assign(e,{errorElement:k.createElement(t.ErrorBoundary),ErrorBoundary:void 0}),e}/**
 * React Router DOM v6.21.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ev(){return ev=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},ev.apply(this,arguments)}function Ole(t,e){if(t==null)return{};var n={},i=Object.keys(t),r,s;for(s=0;s<i.length;s++)r=i[s],!(e.indexOf(r)>=0)&&(n[r]=t[r]);return n}function Nle(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function Fle(t,e){return t.button===0&&(!e||e==="_self")&&!Nle(t)}const zle=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","unstable_viewTransition"];function Ule(t,e){return nle({basename:e==null?void 0:e.basename,future:ev({},e==null?void 0:e.future,{v7_prependBasename:!0}),history:Mae({window:e==null?void 0:e.window}),hydrationData:(e==null?void 0:e.hydrationData)||Ble(),routes:t,mapRouteProperties:Dle,window:e==null?void 0:e.window}).initialize()}function Ble(){var t;let e=(t=window)==null?void 0:t.__staticRouterHydrationData;return e&&e.errors&&(e=ev({},e,{errors:Hle(e.errors)})),e}function Hle(t){if(!t)return null;let e=Object.entries(t),n={};for(let[i,r]of e)if(r&&r.__type==="RouteErrorResponse")n[i]=new ok(r.status,r.statusText,r.data,r.internal===!0);else if(r&&r.__type==="Error"){if(r.__subType){let s=window[r.__subType];if(typeof s=="function")try{let o=new s(r.message);o.stack="",n[i]=o}catch{}}if(n[i]==null){let s=new Error(r.message);s.stack="",n[i]=s}}else n[i]=r;return n}const Vle=k.createContext({isTransitioning:!1}),jle=k.createContext(new Map),Wle="startTransition",H3=e1[Wle],Gle="flushSync",V3=dY[Gle];function $le(t){H3?H3(t):t()}function rg(t){V3?V3(t):t()}class Xle{constructor(){this.status="pending",this.promise=new Promise((e,n)=>{this.resolve=i=>{this.status==="pending"&&(this.status="resolved",e(i))},this.reject=i=>{this.status==="pending"&&(this.status="rejected",n(i))}})}}function Yle(t){let{fallbackElement:e,router:n,future:i}=t,[r,s]=k.useState(n.state),[o,a]=k.useState(),[l,c]=k.useState({isTransitioning:!1}),[u,d]=k.useState(),[f,m]=k.useState(),[g,y]=k.useState(),x=k.useRef(new Map),{v7_startTransition:v}=i||{},_=k.useCallback(R=>{v?$le(R):R()},[v]),b=k.useCallback((R,I)=>{let{deletedFetchers:A,unstable_flushSync:L,unstable_viewTransitionOpts:O}=I;A.forEach(q=>x.current.delete(q)),R.fetchers.forEach((q,U)=>{q.data!==void 0&&x.current.set(U,q.data)});let H=n.window==null||typeof n.window.document.startViewTransition!="function";if(!O||H){L?rg(()=>s(R)):_(()=>s(R));return}if(L){rg(()=>{f&&(u&&u.resolve(),f.skipTransition()),c({isTransitioning:!0,flushSync:!0,currentLocation:O.currentLocation,nextLocation:O.nextLocation})});let q=n.window.document.startViewTransition(()=>{rg(()=>s(R))});q.finished.finally(()=>{rg(()=>{d(void 0),m(void 0),a(void 0),c({isTransitioning:!1})})}),rg(()=>m(q));return}f?(u&&u.resolve(),f.skipTransition(),y({state:R,currentLocation:O.currentLocation,nextLocation:O.nextLocation})):(a(R),c({isTransitioning:!0,flushSync:!1,currentLocation:O.currentLocation,nextLocation:O.nextLocation}))},[n.window,f,u,x,_]);k.useLayoutEffect(()=>n.subscribe(b),[n,b]),k.useEffect(()=>{l.isTransitioning&&!l.flushSync&&d(new Xle)},[l]),k.useEffect(()=>{if(u&&o&&n.window){let R=o,I=u.promise,A=n.window.document.startViewTransition(async()=>{_(()=>s(R)),await I});A.finished.finally(()=>{d(void 0),m(void 0),a(void 0),c({isTransitioning:!1})}),m(A)}},[_,o,u,n.window]),k.useEffect(()=>{u&&o&&r.location.key===o.location.key&&u.resolve()},[u,f,r.location,o]),k.useEffect(()=>{!l.isTransitioning&&g&&(a(g.state),c({isTransitioning:!0,flushSync:!1,currentLocation:g.currentLocation,nextLocation:g.nextLocation}),y(void 0))},[l.isTransitioning,g]),k.useEffect(()=>{},[]);let w=k.useMemo(()=>({createHref:n.createHref,encodeLocation:n.encodeLocation,go:R=>n.navigate(R),push:(R,I,A)=>n.navigate(R,{state:I,preventScrollReset:A==null?void 0:A.preventScrollReset}),replace:(R,I,A)=>n.navigate(R,{replace:!0,state:I,preventScrollReset:A==null?void 0:A.preventScrollReset})}),[n]),C=n.basename||"/",T=k.useMemo(()=>({router:n,navigator:w,static:!1,basename:C}),[n,w,C]);return k.createElement(k.Fragment,null,k.createElement(ww.Provider,{value:T},k.createElement(Mj.Provider,{value:r},k.createElement(jle.Provider,{value:x.current},k.createElement(Vle.Provider,{value:l},k.createElement(Lle,{basename:C,location:r.location,navigationType:r.historyAction,navigator:w,future:{v7_relativeSplatPath:n.future.v7_relativeSplatPath}},r.initialized||n.future.v7_partialHydration?k.createElement(qle,{routes:n.routes,future:n.future,state:r}):e))))),null)}function qle(t){let{routes:e,future:n,state:i}=t;return _le(e,void 0,i,n)}const Kle=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Qle=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Ms=k.forwardRef(function(e,n){let{onClick:i,relative:r,reloadDocument:s,replace:o,state:a,target:l,to:c,preventScrollReset:u,unstable_viewTransition:d}=e,f=Ole(e,zle),{basename:m}=k.useContext(df),g,y=!1;if(typeof c=="string"&&Qle.test(c)&&(g=c,Kle))try{let b=new URL(window.location.href),w=c.startsWith("//")?new URL(b.protocol+c):new URL(c),C=rm(w.pathname,m);w.origin===b.origin&&C!=null?c=C+w.search+w.hash:y=!0}catch{}let x=gle(c,{relative:r}),v=Zle(c,{replace:o,state:a,target:l,preventScrollReset:u,relative:r,unstable_viewTransition:d});function _(b){i&&i(b),b.defaultPrevented||v(b)}return k.createElement("a",ev({},f,{href:g||x,onClick:y||s?i:_,ref:n,target:l}))});var j3;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(j3||(j3={}));var W3;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(W3||(W3={}));function Zle(t,e){let{target:n,replace:i,state:r,preventScrollReset:s,relative:o,unstable_viewTransition:a}=e===void 0?{}:e,l=lk(),c=Jv(),u=Cj(t,{relative:o});return k.useCallback(d=>{if(Fle(d,n)){d.preventDefault();let f=i!==void 0?i:Zd(c)===Zd(u);l(t,{replace:f,state:r,preventScrollReset:s,relative:o,unstable_viewTransition:a})}},[c,l,u,i,r,n,t,s,o,a])}var uk={},Pj={exports:{}};(function(t){function e(n){return n&&n.__esModule?n:{default:n}}t.exports=e,t.exports.__esModule=!0,t.exports.default=t.exports})(Pj);var cs=Pj.exports,gT={};const Jle=B9(zZ);var G3;function us(){return G3||(G3=1,function(t){"use client";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return e.createSvgIcon}});var e=Jle}(gT)),gT}var ece=cs;Object.defineProperty(uk,"__esModule",{value:!0});var kj=uk.default=void 0,tce=ece(us()),nce=M,ice=(0,tce.default)((0,nce.jsx)("path",{d:"M4 18h16c.55 0 1-.45 1-1s-.45-1-1-1H4c-.55 0-1 .45-1 1s.45 1 1 1zm0-5h16c.55 0 1-.45 1-1s-.45-1-1-1H4c-.55 0-1 .45-1 1s.45 1 1 1zM3 7c0 .55.45 1 1 1h16c.55 0 1-.45 1-1s-.45-1-1-1H4c-.55 0-1 .45-1 1z"}),"MenuRounded");kj=uk.default=ice;const rce=()=>{typeof document<"u"&&(document.body.style.overflow="hidden",document.documentElement.style.setProperty("--SideNavigation-slideIn","1"))},Ij=()=>{typeof document<"u"&&(document.documentElement.style.removeProperty("--SideNavigation-slideIn"),document.body.style.removeProperty("overflow"))},sce=()=>{typeof window<"u"&&typeof document<"u"&&(window.getComputedStyle(document.documentElement).getPropertyValue("--SideNavigation-slideIn")?Ij():rce())},oce=()=>M.jsxs(fw,{sx:{display:{xs:"flex",md:"none"},alignItems:"center",justifyContent:"space-between",position:"fixed",top:0,width:"100vw",height:56,zIndex:9998,paddingY:1,paddingX:2,gap:1,borderRadius:0},children:[M.jsx(pw,{styles:t=>({":root":{"--Header-height":"56px",[t.breakpoints.up("md")]:{"--Header-height":"0px"}}})}),M.jsx(XP,{onClick:()=>sce(),sx:{alignSelf:"start"},children:M.jsx(kj,{})})]});var dk={},ace=cs;Object.defineProperty(dk,"__esModule",{value:!0});var Lj=dk.default=void 0,lce=ace(us()),cce=M,uce=(0,lce.default)((0,cce.jsx)("path",{d:"m12 5.69 5 4.5V18h-2v-6H9v6H7v-7.81l5-4.5M12 3 2 12h3v8h6v-6h2v6h6v-8h3L12 3z"}),"HomeOutlined");Lj=dk.default=uce;var fk={},dce=cs;Object.defineProperty(fk,"__esModule",{value:!0});var Dj=fk.default=void 0,fce=dce(us()),hce=M,pce=(0,fce.default)((0,hce.jsx)("path",{d:"m20.5 3-.16.03L15 5.1 9 3 3.36 4.9c-.21.07-.36.25-.36.48V20.5c0 .28.22.5.5.5l.16-.03L9 18.9l6 2.1 5.64-1.9c.21-.07.36-.25.36-.48V3.5c0-.28-.22-.5-.5-.5zM10 5.47l4 1.4v11.66l-4-1.4V5.47zm-5 .99 3-1.01v11.7l-3 1.16V6.46zm14 11.08-3 1.01V6.86l3-1.16v11.84z"}),"MapOutlined");Dj=fk.default=pce;var hk={},mce=cs;Object.defineProperty(hk,"__esModule",{value:!0});var pk=hk.default=void 0,gce=mce(us()),vce=M,yce=(0,gce.default)((0,vce.jsx)("path",{d:"M19.43 12.98c.04-.32.07-.64.07-.98 0-.34-.03-.66-.07-.98l2.11-1.65c.19-.15.24-.42.12-.64l-2-3.46c-.09-.16-.26-.25-.44-.25-.06 0-.12.01-.17.03l-2.49 1c-.52-.4-1.08-.73-1.69-.98l-.38-2.65C14.46 2.18 14.25 2 14 2h-4c-.25 0-.46.18-.49.42l-.38 2.65c-.61.25-1.17.59-1.69.98l-2.49-1c-.06-.02-.12-.03-.18-.03-.17 0-.34.09-.43.25l-2 3.46c-.13.22-.07.49.12.64l2.11 1.65c-.04.32-.07.65-.07.98 0 .33.03.66.07.98l-2.11 1.65c-.19.15-.24.42-.12.64l2 3.46c.09.16.26.25.44.25.06 0 .12-.01.17-.03l2.49-1c.52.4 1.08.73 1.69.98l.38 2.65c.03.24.24.42.49.42h4c.25 0 .46-.18.49-.42l.38-2.65c.61-.25 1.17-.59 1.69-.98l2.49 1c.06.02.12.03.18.03.17 0 .34-.09.43-.25l2-3.46c.12-.22.07-.49-.12-.64l-2.11-1.65zm-1.98-1.71c.04.31.05.52.05.73 0 .21-.02.43-.05.73l-.14 1.13.89.7 1.08.84-.7 1.21-1.27-.51-1.04-.42-.9.68c-.43.32-.84.56-1.25.73l-1.06.43-.16 1.13-.2 1.35h-1.4l-.19-1.35-.16-1.13-1.06-.43c-.43-.18-.83-.41-1.23-.71l-.91-.7-1.06.43-1.27.51-.7-1.21 1.08-.84.89-.7-.14-1.13c-.03-.31-.05-.54-.05-.74s.02-.43.05-.73l.14-1.13-.89-.7-1.08-.84.7-1.21 1.27.51 1.04.42.9-.68c.43-.32.84-.56 1.25-.73l1.06-.43.16-1.13.2-1.35h1.39l.19 1.35.16 1.13 1.06.43c.43.18.83.41 1.23.71l.91.7 1.06-.43 1.27-.51.7 1.21-1.07.85-.89.7.14 1.13zM12 8c-2.21 0-4 1.79-4 4s1.79 4 4 4 4-1.79 4-4-1.79-4-4-4zm0 6c-1.1 0-2-.9-2-2s.9-2 2-2 2 .9 2 2-.9 2-2 2z"}),"SettingsOutlined");pk=hk.default=yce;var mk={},xce=cs;Object.defineProperty(mk,"__esModule",{value:!0});var Oj=mk.default=void 0,_ce=xce(us()),bce=M,Sce=(0,_ce.default)((0,bce.jsx)("path",{d:"M9.37 5.51c-.18.64-.27 1.31-.27 1.99 0 4.08 3.32 7.4 7.4 7.4.68 0 1.35-.09 1.99-.27C17.45 17.19 14.93 19 12 19c-3.86 0-7-3.14-7-7 0-2.93 1.81-5.45 4.37-6.49zM12 3c-4.97 0-9 4.03-9 9s4.03 9 9 9 9-4.03 9-9c0-.46-.04-.92-.1-1.36-.98 1.37-2.58 2.26-4.4 2.26-2.98 0-5.4-2.42-5.4-5.4 0-1.81.89-3.42 2.26-4.4-.44-.06-.9-.1-1.36-.1z"}),"DarkModeOutlined");Oj=mk.default=Sce;var gk={},wce=cs;Object.defineProperty(gk,"__esModule",{value:!0});var Nj=gk.default=void 0,Mce=wce(us()),Ece=M,Tce=(0,Mce.default)((0,Ece.jsx)("path",{d:"M12 9c1.65 0 3 1.35 3 3s-1.35 3-3 3-3-1.35-3-3 1.35-3 3-3m0-2c-2.76 0-5 2.24-5 5s2.24 5 5 5 5-2.24 5-5-2.24-5-5-5zM2 13h2c.55 0 1-.45 1-1s-.45-1-1-1H2c-.55 0-1 .45-1 1s.45 1 1 1zm18 0h2c.55 0 1-.45 1-1s-.45-1-1-1h-2c-.55 0-1 .45-1 1s.45 1 1 1zM11 2v2c0 .55.45 1 1 1s1-.45 1-1V2c0-.55-.45-1-1-1s-1 .45-1 1zm0 18v2c0 .55.45 1 1 1s1-.45 1-1v-2c0-.55-.45-1-1-1s-1 .45-1 1zM5.99 4.58c-.39-.39-1.03-.39-1.41 0-.39.39-.39 1.03 0 1.41l1.06 1.06c.39.39 1.03.39 1.41 0s.39-1.03 0-1.41L5.99 4.58zm12.37 12.37c-.39-.39-1.03-.39-1.41 0-.39.39-.39 1.03 0 1.41l1.06 1.06c.39.39 1.03.39 1.41 0 .39-.39.39-1.03 0-1.41l-1.06-1.06zm1.06-10.96c.39-.39.39-1.03 0-1.41-.39-.39-1.03-.39-1.41 0l-1.06 1.06c-.39.39-.39 1.03 0 1.41s1.03.39 1.41 0l1.06-1.06zM7.05 18.36c.39-.39.39-1.03 0-1.41-.39-.39-1.03-.39-1.41 0l-1.06 1.06c-.39.39-.39 1.03 0 1.41s1.03.39 1.41 0l1.06-1.06z"}),"LightModeOutlined");Nj=gk.default=Tce;var vk={},Cce=cs;Object.defineProperty(vk,"__esModule",{value:!0});var Fj=vk.default=void 0,Rce=Cce(us()),Ace=M,Pce=(0,Rce.default)((0,Ace.jsx)("path",{d:"M11 7 9.6 8.4l2.6 2.6H2v2h10.2l-2.6 2.6L11 17l5-5-5-5zm9 12h-8v2h8c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2h-8v2h8v14z"}),"LoginOutlined");Fj=vk.default=Pce;var yk={},kce=cs;Object.defineProperty(yk,"__esModule",{value:!0});var xk=yk.default=void 0,Ice=kce(us()),Lce=M,Dce=(0,Ice.default)((0,Lce.jsx)("path",{d:"M7 2v11h3v9l7-12h-4l4-8z"}),"FlashOn");xk=yk.default=Dce;var _k={},Oce=cs;Object.defineProperty(_k,"__esModule",{value:!0});var bk=_k.default=void 0,Nce=Oce(us()),Fce=M,zce=(0,Nce.default)((0,Fce.jsx)("path",{d:"M18 8h-1V6c0-2.76-2.24-5-5-5S7 3.24 7 6v2H6c-1.1 0-2 .9-2 2v10c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V10c0-1.1-.9-2-2-2zM9 6c0-1.66 1.34-3 3-3s3 1.34 3 3v2H9V6zm9 14H6V10h12v10zm-6-3c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2z"}),"LockOutlined");bk=_k.default=zce;function zj(t,e){return function(){return t.apply(e,arguments)}}const{toString:Uce}=Object.prototype,{getPrototypeOf:Sk}=Object,Ew=(t=>e=>{const n=Uce.call(e);return t[n]||(t[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),Ka=t=>(t=t.toLowerCase(),e=>Ew(e)===t),Tw=t=>e=>typeof e===t,{isArray:sm}=Array,tv=Tw("undefined");function Bce(t){return t!==null&&!tv(t)&&t.constructor!==null&&!tv(t.constructor)&&No(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const Uj=Ka("ArrayBuffer");function Hce(t){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&Uj(t.buffer),e}const Vce=Tw("string"),No=Tw("function"),Bj=Tw("number"),Cw=t=>t!==null&&typeof t=="object",jce=t=>t===!0||t===!1,Db=t=>{if(Ew(t)!=="object")return!1;const e=Sk(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},Wce=Ka("Date"),Gce=Ka("File"),$ce=Ka("Blob"),Xce=Ka("FileList"),Yce=t=>Cw(t)&&No(t.pipe),qce=t=>{let e;return t&&(typeof FormData=="function"&&t instanceof FormData||No(t.append)&&((e=Ew(t))==="formdata"||e==="object"&&No(t.toString)&&t.toString()==="[object FormData]"))},Kce=Ka("URLSearchParams"),Qce=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function ey(t,e,{allOwnKeys:n=!1}={}){if(t===null||typeof t>"u")return;let i,r;if(typeof t!="object"&&(t=[t]),sm(t))for(i=0,r=t.length;i<r;i++)e.call(null,t[i],i,t);else{const s=n?Object.getOwnPropertyNames(t):Object.keys(t),o=s.length;let a;for(i=0;i<o;i++)a=s[i],e.call(null,t[a],a,t)}}function Hj(t,e){e=e.toLowerCase();const n=Object.keys(t);let i=n.length,r;for(;i-- >0;)if(r=n[i],e===r.toLowerCase())return r;return null}const Vj=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,jj=t=>!tv(t)&&t!==Vj;function tR(){const{caseless:t}=jj(this)&&this||{},e={},n=(i,r)=>{const s=t&&Hj(e,r)||r;Db(e[s])&&Db(i)?e[s]=tR(e[s],i):Db(i)?e[s]=tR({},i):sm(i)?e[s]=i.slice():e[s]=i};for(let i=0,r=arguments.length;i<r;i++)arguments[i]&&ey(arguments[i],n);return e}const Zce=(t,e,n,{allOwnKeys:i}={})=>(ey(e,(r,s)=>{n&&No(r)?t[s]=zj(r,n):t[s]=r},{allOwnKeys:i}),t),Jce=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),eue=(t,e,n,i)=>{t.prototype=Object.create(e.prototype,i),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:e.prototype}),n&&Object.assign(t.prototype,n)},tue=(t,e,n,i)=>{let r,s,o;const a={};if(e=e||{},t==null)return e;do{for(r=Object.getOwnPropertyNames(t),s=r.length;s-- >0;)o=r[s],(!i||i(o,t,e))&&!a[o]&&(e[o]=t[o],a[o]=!0);t=n!==!1&&Sk(t)}while(t&&(!n||n(t,e))&&t!==Object.prototype);return e},nue=(t,e,n)=>{t=String(t),(n===void 0||n>t.length)&&(n=t.length),n-=e.length;const i=t.indexOf(e,n);return i!==-1&&i===n},iue=t=>{if(!t)return null;if(sm(t))return t;let e=t.length;if(!Bj(e))return null;const n=new Array(e);for(;e-- >0;)n[e]=t[e];return n},rue=(t=>e=>t&&e instanceof t)(typeof Uint8Array<"u"&&Sk(Uint8Array)),sue=(t,e)=>{const i=(t&&t[Symbol.iterator]).call(t);let r;for(;(r=i.next())&&!r.done;){const s=r.value;e.call(t,s[0],s[1])}},oue=(t,e)=>{let n;const i=[];for(;(n=t.exec(e))!==null;)i.push(n);return i},aue=Ka("HTMLFormElement"),lue=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,i,r){return i.toUpperCase()+r}),$3=(({hasOwnProperty:t})=>(e,n)=>t.call(e,n))(Object.prototype),cue=Ka("RegExp"),Wj=(t,e)=>{const n=Object.getOwnPropertyDescriptors(t),i={};ey(n,(r,s)=>{let o;(o=e(r,s,t))!==!1&&(i[s]=o||r)}),Object.defineProperties(t,i)},uue=t=>{Wj(t,(e,n)=>{if(No(t)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const i=t[n];if(No(i)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},due=(t,e)=>{const n={},i=r=>{r.forEach(s=>{n[s]=!0})};return sm(t)?i(t):i(String(t).split(e)),n},fue=()=>{},hue=(t,e)=>(t=+t,Number.isFinite(t)?t:e),vT="abcdefghijklmnopqrstuvwxyz",X3="0123456789",Gj={DIGIT:X3,ALPHA:vT,ALPHA_DIGIT:vT+vT.toUpperCase()+X3},pue=(t=16,e=Gj.ALPHA_DIGIT)=>{let n="";const{length:i}=e;for(;t--;)n+=e[Math.random()*i|0];return n};function mue(t){return!!(t&&No(t.append)&&t[Symbol.toStringTag]==="FormData"&&t[Symbol.iterator])}const gue=t=>{const e=new Array(10),n=(i,r)=>{if(Cw(i)){if(e.indexOf(i)>=0)return;if(!("toJSON"in i)){e[r]=i;const s=sm(i)?[]:{};return ey(i,(o,a)=>{const l=n(o,r+1);!tv(l)&&(s[a]=l)}),e[r]=void 0,s}}return i};return n(t,0)},vue=Ka("AsyncFunction"),yue=t=>t&&(Cw(t)||No(t))&&No(t.then)&&No(t.catch),ke={isArray:sm,isArrayBuffer:Uj,isBuffer:Bce,isFormData:qce,isArrayBufferView:Hce,isString:Vce,isNumber:Bj,isBoolean:jce,isObject:Cw,isPlainObject:Db,isUndefined:tv,isDate:Wce,isFile:Gce,isBlob:$ce,isRegExp:cue,isFunction:No,isStream:Yce,isURLSearchParams:Kce,isTypedArray:rue,isFileList:Xce,forEach:ey,merge:tR,extend:Zce,trim:Qce,stripBOM:Jce,inherits:eue,toFlatObject:tue,kindOf:Ew,kindOfTest:Ka,endsWith:nue,toArray:iue,forEachEntry:sue,matchAll:oue,isHTMLForm:aue,hasOwnProperty:$3,hasOwnProp:$3,reduceDescriptors:Wj,freezeMethods:uue,toObjectSet:due,toCamelCase:lue,noop:fue,toFiniteNumber:hue,findKey:Hj,global:Vj,isContextDefined:jj,ALPHABET:Gj,generateString:pue,isSpecCompliantForm:mue,toJSONObject:gue,isAsyncFn:vue,isThenable:yue};function cn(t,e,n,i,r){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",e&&(this.code=e),n&&(this.config=n),i&&(this.request=i),r&&(this.response=r)}ke.inherits(cn,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:ke.toJSONObject(this.config),code:this.code,status:this.response&&this.response.status?this.response.status:null}}});const $j=cn.prototype,Xj={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{Xj[t]={value:t}});Object.defineProperties(cn,Xj);Object.defineProperty($j,"isAxiosError",{value:!0});cn.from=(t,e,n,i,r,s)=>{const o=Object.create($j);return ke.toFlatObject(t,o,function(l){return l!==Error.prototype},a=>a!=="isAxiosError"),cn.call(o,t.message,e,n,i,r),o.cause=t,o.name=t.name,s&&Object.assign(o,s),o};const xue=null;function nR(t){return ke.isPlainObject(t)||ke.isArray(t)}function Yj(t){return ke.endsWith(t,"[]")?t.slice(0,-2):t}function Y3(t,e,n){return t?t.concat(e).map(function(r,s){return r=Yj(r),!n&&s?"["+r+"]":r}).join(n?".":""):e}function _ue(t){return ke.isArray(t)&&!t.some(nR)}const bue=ke.toFlatObject(ke,{},null,function(e){return/^is[A-Z]/.test(e)});function Rw(t,e,n){if(!ke.isObject(t))throw new TypeError("target must be an object");e=e||new FormData,n=ke.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(y,x){return!ke.isUndefined(x[y])});const i=n.metaTokens,r=n.visitor||u,s=n.dots,o=n.indexes,l=(n.Blob||typeof Blob<"u"&&Blob)&&ke.isSpecCompliantForm(e);if(!ke.isFunction(r))throw new TypeError("visitor must be a function");function c(g){if(g===null)return"";if(ke.isDate(g))return g.toISOString();if(!l&&ke.isBlob(g))throw new cn("Blob is not supported. Use a Buffer instead.");return ke.isArrayBuffer(g)||ke.isTypedArray(g)?l&&typeof Blob=="function"?new Blob([g]):Buffer.from(g):g}function u(g,y,x){let v=g;if(g&&!x&&typeof g=="object"){if(ke.endsWith(y,"{}"))y=i?y:y.slice(0,-2),g=JSON.stringify(g);else if(ke.isArray(g)&&_ue(g)||(ke.isFileList(g)||ke.endsWith(y,"[]"))&&(v=ke.toArray(g)))return y=Yj(y),v.forEach(function(b,w){!(ke.isUndefined(b)||b===null)&&e.append(o===!0?Y3([y],w,s):o===null?y:y+"[]",c(b))}),!1}return nR(g)?!0:(e.append(Y3(x,y,s),c(g)),!1)}const d=[],f=Object.assign(bue,{defaultVisitor:u,convertValue:c,isVisitable:nR});function m(g,y){if(!ke.isUndefined(g)){if(d.indexOf(g)!==-1)throw Error("Circular reference detected in "+y.join("."));d.push(g),ke.forEach(g,function(v,_){(!(ke.isUndefined(v)||v===null)&&r.call(e,v,ke.isString(_)?_.trim():_,y,f))===!0&&m(v,y?y.concat(_):[_])}),d.pop()}}if(!ke.isObject(t))throw new TypeError("data must be an object");return m(t),e}function q3(t){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(i){return e[i]})}function wk(t,e){this._pairs=[],t&&Rw(t,this,e)}const qj=wk.prototype;qj.append=function(e,n){this._pairs.push([e,n])};qj.toString=function(e){const n=e?function(i){return e.call(this,i,q3)}:q3;return this._pairs.map(function(r){return n(r[0])+"="+n(r[1])},"").join("&")};function Sue(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function Kj(t,e,n){if(!e)return t;const i=n&&n.encode||Sue,r=n&&n.serialize;let s;if(r?s=r(e,n):s=ke.isURLSearchParams(e)?e.toString():new wk(e,n).toString(i),s){const o=t.indexOf("#");o!==-1&&(t=t.slice(0,o)),t+=(t.indexOf("?")===-1?"?":"&")+s}return t}class wue{constructor(){this.handlers=[]}use(e,n,i){return this.handlers.push({fulfilled:e,rejected:n,synchronous:i?i.synchronous:!1,runWhen:i?i.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){ke.forEach(this.handlers,function(i){i!==null&&e(i)})}}const K3=wue,Qj={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},Mue=typeof URLSearchParams<"u"?URLSearchParams:wk,Eue=typeof FormData<"u"?FormData:null,Tue=typeof Blob<"u"?Blob:null,Cue={isBrowser:!0,classes:{URLSearchParams:Mue,FormData:Eue,Blob:Tue},protocols:["http","https","file","blob","url","data"]},Zj=typeof window<"u"&&typeof document<"u",Rue=(t=>Zj&&["ReactNative","NativeScript","NS"].indexOf(t)<0)(typeof navigator<"u"&&navigator.product),Aue=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",Pue=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:Zj,hasStandardBrowserEnv:Rue,hasStandardBrowserWebWorkerEnv:Aue},Symbol.toStringTag,{value:"Module"})),Oa={...Pue,...Cue};function kue(t,e){return Rw(t,new Oa.classes.URLSearchParams,Object.assign({visitor:function(n,i,r,s){return Oa.isNode&&ke.isBuffer(n)?(this.append(i,n.toString("base64")),!1):s.defaultVisitor.apply(this,arguments)}},e))}function Iue(t){return ke.matchAll(/\w+|\[(\w*)]/g,t).map(e=>e[0]==="[]"?"":e[1]||e[0])}function Lue(t){const e={},n=Object.keys(t);let i;const r=n.length;let s;for(i=0;i<r;i++)s=n[i],e[s]=t[s];return e}function Jj(t){function e(n,i,r,s){let o=n[s++];const a=Number.isFinite(+o),l=s>=n.length;return o=!o&&ke.isArray(r)?r.length:o,l?(ke.hasOwnProp(r,o)?r[o]=[r[o],i]:r[o]=i,!a):((!r[o]||!ke.isObject(r[o]))&&(r[o]=[]),e(n,i,r[o],s)&&ke.isArray(r[o])&&(r[o]=Lue(r[o])),!a)}if(ke.isFormData(t)&&ke.isFunction(t.entries)){const n={};return ke.forEachEntry(t,(i,r)=>{e(Iue(i),r,n,0)}),n}return null}function Due(t,e,n){if(ke.isString(t))try{return(e||JSON.parse)(t),ke.trim(t)}catch(i){if(i.name!=="SyntaxError")throw i}return(n||JSON.stringify)(t)}const Mk={transitional:Qj,adapter:["xhr","http"],transformRequest:[function(e,n){const i=n.getContentType()||"",r=i.indexOf("application/json")>-1,s=ke.isObject(e);if(s&&ke.isHTMLForm(e)&&(e=new FormData(e)),ke.isFormData(e))return r&&r?JSON.stringify(Jj(e)):e;if(ke.isArrayBuffer(e)||ke.isBuffer(e)||ke.isStream(e)||ke.isFile(e)||ke.isBlob(e))return e;if(ke.isArrayBufferView(e))return e.buffer;if(ke.isURLSearchParams(e))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let a;if(s){if(i.indexOf("application/x-www-form-urlencoded")>-1)return kue(e,this.formSerializer).toString();if((a=ke.isFileList(e))||i.indexOf("multipart/form-data")>-1){const l=this.env&&this.env.FormData;return Rw(a?{"files[]":e}:e,l&&new l,this.formSerializer)}}return s||r?(n.setContentType("application/json",!1),Due(e)):e}],transformResponse:[function(e){const n=this.transitional||Mk.transitional,i=n&&n.forcedJSONParsing,r=this.responseType==="json";if(e&&ke.isString(e)&&(i&&!this.responseType||r)){const o=!(n&&n.silentJSONParsing)&&r;try{return JSON.parse(e)}catch(a){if(o)throw a.name==="SyntaxError"?cn.from(a,cn.ERR_BAD_RESPONSE,this,null,this.response):a}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Oa.classes.FormData,Blob:Oa.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};ke.forEach(["delete","get","head","post","put","patch"],t=>{Mk.headers[t]={}});const Ek=Mk,Oue=ke.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),Nue=t=>{const e={};let n,i,r;return t&&t.split(`
`).forEach(function(o){r=o.indexOf(":"),n=o.substring(0,r).trim().toLowerCase(),i=o.substring(r+1).trim(),!(!n||e[n]&&Oue[n])&&(n==="set-cookie"?e[n]?e[n].push(i):e[n]=[i]:e[n]=e[n]?e[n]+", "+i:i)}),e},Q3=Symbol("internals");function sg(t){return t&&String(t).trim().toLowerCase()}function Ob(t){return t===!1||t==null?t:ke.isArray(t)?t.map(Ob):String(t)}function Fue(t){const e=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let i;for(;i=n.exec(t);)e[i[1]]=i[2];return e}const zue=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function yT(t,e,n,i,r){if(ke.isFunction(i))return i.call(this,e,n);if(r&&(e=n),!!ke.isString(e)){if(ke.isString(i))return e.indexOf(i)!==-1;if(ke.isRegExp(i))return i.test(e)}}function Uue(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,n,i)=>n.toUpperCase()+i)}function Bue(t,e){const n=ke.toCamelCase(" "+e);["get","set","has"].forEach(i=>{Object.defineProperty(t,i+n,{value:function(r,s,o){return this[i].call(this,e,r,s,o)},configurable:!0})})}class Aw{constructor(e){e&&this.set(e)}set(e,n,i){const r=this;function s(a,l,c){const u=sg(l);if(!u)throw new Error("header name must be a non-empty string");const d=ke.findKey(r,u);(!d||r[d]===void 0||c===!0||c===void 0&&r[d]!==!1)&&(r[d||l]=Ob(a))}const o=(a,l)=>ke.forEach(a,(c,u)=>s(c,u,l));return ke.isPlainObject(e)||e instanceof this.constructor?o(e,n):ke.isString(e)&&(e=e.trim())&&!zue(e)?o(Nue(e),n):e!=null&&s(n,e,i),this}get(e,n){if(e=sg(e),e){const i=ke.findKey(this,e);if(i){const r=this[i];if(!n)return r;if(n===!0)return Fue(r);if(ke.isFunction(n))return n.call(this,r,i);if(ke.isRegExp(n))return n.exec(r);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,n){if(e=sg(e),e){const i=ke.findKey(this,e);return!!(i&&this[i]!==void 0&&(!n||yT(this,this[i],i,n)))}return!1}delete(e,n){const i=this;let r=!1;function s(o){if(o=sg(o),o){const a=ke.findKey(i,o);a&&(!n||yT(i,i[a],a,n))&&(delete i[a],r=!0)}}return ke.isArray(e)?e.forEach(s):s(e),r}clear(e){const n=Object.keys(this);let i=n.length,r=!1;for(;i--;){const s=n[i];(!e||yT(this,this[s],s,e,!0))&&(delete this[s],r=!0)}return r}normalize(e){const n=this,i={};return ke.forEach(this,(r,s)=>{const o=ke.findKey(i,s);if(o){n[o]=Ob(r),delete n[s];return}const a=e?Uue(s):String(s).trim();a!==s&&delete n[s],n[a]=Ob(r),i[a]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const n=Object.create(null);return ke.forEach(this,(i,r)=>{i!=null&&i!==!1&&(n[r]=e&&ke.isArray(i)?i.join(", "):i)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,n])=>e+": "+n).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...n){const i=new this(e);return n.forEach(r=>i.set(r)),i}static accessor(e){const i=(this[Q3]=this[Q3]={accessors:{}}).accessors,r=this.prototype;function s(o){const a=sg(o);i[a]||(Bue(r,o),i[a]=!0)}return ke.isArray(e)?e.forEach(s):s(e),this}}Aw.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);ke.reduceDescriptors(Aw.prototype,({value:t},e)=>{let n=e[0].toUpperCase()+e.slice(1);return{get:()=>t,set(i){this[n]=i}}});ke.freezeMethods(Aw);const Dl=Aw;function xT(t,e){const n=this||Ek,i=e||n,r=Dl.from(i.headers);let s=i.data;return ke.forEach(t,function(a){s=a.call(n,s,r.normalize(),e?e.status:void 0)}),r.normalize(),s}function eW(t){return!!(t&&t.__CANCEL__)}function ty(t,e,n){cn.call(this,t??"canceled",cn.ERR_CANCELED,e,n),this.name="CanceledError"}ke.inherits(ty,cn,{__CANCEL__:!0});function Hue(t,e,n){const i=n.config.validateStatus;!n.status||!i||i(n.status)?t(n):e(new cn("Request failed with status code "+n.status,[cn.ERR_BAD_REQUEST,cn.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}const Vue=Oa.hasStandardBrowserEnv?{write(t,e,n,i,r,s){const o=[t+"="+encodeURIComponent(e)];ke.isNumber(n)&&o.push("expires="+new Date(n).toGMTString()),ke.isString(i)&&o.push("path="+i),ke.isString(r)&&o.push("domain="+r),s===!0&&o.push("secure"),document.cookie=o.join("; ")},read(t){const e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(t){this.write(t,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function jue(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function Wue(t,e){return e?t.replace(/\/+$/,"")+"/"+e.replace(/^\/+/,""):t}function tW(t,e){return t&&!jue(e)?Wue(t,e):e}const Gue=Oa.hasStandardBrowserEnv?function(){const e=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a");let i;function r(s){let o=s;return e&&(n.setAttribute("href",o),o=n.href),n.setAttribute("href",o),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:n.pathname.charAt(0)==="/"?n.pathname:"/"+n.pathname}}return i=r(window.location.href),function(o){const a=ke.isString(o)?r(o):o;return a.protocol===i.protocol&&a.host===i.host}}():function(){return function(){return!0}}();function $ue(t){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}function Xue(t,e){t=t||10;const n=new Array(t),i=new Array(t);let r=0,s=0,o;return e=e!==void 0?e:1e3,function(l){const c=Date.now(),u=i[s];o||(o=c),n[r]=l,i[r]=c;let d=s,f=0;for(;d!==r;)f+=n[d++],d=d%t;if(r=(r+1)%t,r===s&&(s=(s+1)%t),c-o<e)return;const m=u&&c-u;return m?Math.round(f*1e3/m):void 0}}function Z3(t,e){let n=0;const i=Xue(50,250);return r=>{const s=r.loaded,o=r.lengthComputable?r.total:void 0,a=s-n,l=i(a),c=s<=o;n=s;const u={loaded:s,total:o,progress:o?s/o:void 0,bytes:a,rate:l||void 0,estimated:l&&o&&c?(o-s)/l:void 0,event:r};u[e?"download":"upload"]=!0,t(u)}}const Yue=typeof XMLHttpRequest<"u",que=Yue&&function(t){return new Promise(function(n,i){let r=t.data;const s=Dl.from(t.headers).normalize();let{responseType:o,withXSRFToken:a}=t,l;function c(){t.cancelToken&&t.cancelToken.unsubscribe(l),t.signal&&t.signal.removeEventListener("abort",l)}let u;if(ke.isFormData(r)){if(Oa.hasStandardBrowserEnv||Oa.hasStandardBrowserWebWorkerEnv)s.setContentType(!1);else if((u=s.getContentType())!==!1){const[y,...x]=u?u.split(";").map(v=>v.trim()).filter(Boolean):[];s.setContentType([y||"multipart/form-data",...x].join("; "))}}let d=new XMLHttpRequest;if(t.auth){const y=t.auth.username||"",x=t.auth.password?unescape(encodeURIComponent(t.auth.password)):"";s.set("Authorization","Basic "+btoa(y+":"+x))}const f=tW(t.baseURL,t.url);d.open(t.method.toUpperCase(),Kj(f,t.params,t.paramsSerializer),!0),d.timeout=t.timeout;function m(){if(!d)return;const y=Dl.from("getAllResponseHeaders"in d&&d.getAllResponseHeaders()),v={data:!o||o==="text"||o==="json"?d.responseText:d.response,status:d.status,statusText:d.statusText,headers:y,config:t,request:d};Hue(function(b){n(b),c()},function(b){i(b),c()},v),d=null}if("onloadend"in d?d.onloadend=m:d.onreadystatechange=function(){!d||d.readyState!==4||d.status===0&&!(d.responseURL&&d.responseURL.indexOf("file:")===0)||setTimeout(m)},d.onabort=function(){d&&(i(new cn("Request aborted",cn.ECONNABORTED,t,d)),d=null)},d.onerror=function(){i(new cn("Network Error",cn.ERR_NETWORK,t,d)),d=null},d.ontimeout=function(){let x=t.timeout?"timeout of "+t.timeout+"ms exceeded":"timeout exceeded";const v=t.transitional||Qj;t.timeoutErrorMessage&&(x=t.timeoutErrorMessage),i(new cn(x,v.clarifyTimeoutError?cn.ETIMEDOUT:cn.ECONNABORTED,t,d)),d=null},Oa.hasStandardBrowserEnv&&(a&&ke.isFunction(a)&&(a=a(t)),a||a!==!1&&Gue(f))){const y=t.xsrfHeaderName&&t.xsrfCookieName&&Vue.read(t.xsrfCookieName);y&&s.set(t.xsrfHeaderName,y)}r===void 0&&s.setContentType(null),"setRequestHeader"in d&&ke.forEach(s.toJSON(),function(x,v){d.setRequestHeader(v,x)}),ke.isUndefined(t.withCredentials)||(d.withCredentials=!!t.withCredentials),o&&o!=="json"&&(d.responseType=t.responseType),typeof t.onDownloadProgress=="function"&&d.addEventListener("progress",Z3(t.onDownloadProgress,!0)),typeof t.onUploadProgress=="function"&&d.upload&&d.upload.addEventListener("progress",Z3(t.onUploadProgress)),(t.cancelToken||t.signal)&&(l=y=>{d&&(i(!y||y.type?new ty(null,t,d):y),d.abort(),d=null)},t.cancelToken&&t.cancelToken.subscribe(l),t.signal&&(t.signal.aborted?l():t.signal.addEventListener("abort",l)));const g=$ue(f);if(g&&Oa.protocols.indexOf(g)===-1){i(new cn("Unsupported protocol "+g+":",cn.ERR_BAD_REQUEST,t));return}d.send(r||null)})},iR={http:xue,xhr:que};ke.forEach(iR,(t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch{}Object.defineProperty(t,"adapterName",{value:e})}});const J3=t=>`- ${t}`,Kue=t=>ke.isFunction(t)||t===null||t===!1,nW={getAdapter:t=>{t=ke.isArray(t)?t:[t];const{length:e}=t;let n,i;const r={};for(let s=0;s<e;s++){n=t[s];let o;if(i=n,!Kue(n)&&(i=iR[(o=String(n)).toLowerCase()],i===void 0))throw new cn(`Unknown adapter '${o}'`);if(i)break;r[o||"#"+s]=i}if(!i){const s=Object.entries(r).map(([a,l])=>`adapter ${a} `+(l===!1?"is not supported by the environment":"is not available in the build"));let o=e?s.length>1?`since :
`+s.map(J3).join(`
`):" "+J3(s[0]):"as no adapter specified";throw new cn("There is no suitable adapter to dispatch the request "+o,"ERR_NOT_SUPPORT")}return i},adapters:iR};function _T(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new ty(null,t)}function eF(t){return _T(t),t.headers=Dl.from(t.headers),t.data=xT.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),nW.getAdapter(t.adapter||Ek.adapter)(t).then(function(i){return _T(t),i.data=xT.call(t,t.transformResponse,i),i.headers=Dl.from(i.headers),i},function(i){return eW(i)||(_T(t),i&&i.response&&(i.response.data=xT.call(t,t.transformResponse,i.response),i.response.headers=Dl.from(i.response.headers))),Promise.reject(i)})}const tF=t=>t instanceof Dl?t.toJSON():t;function Fp(t,e){e=e||{};const n={};function i(c,u,d){return ke.isPlainObject(c)&&ke.isPlainObject(u)?ke.merge.call({caseless:d},c,u):ke.isPlainObject(u)?ke.merge({},u):ke.isArray(u)?u.slice():u}function r(c,u,d){if(ke.isUndefined(u)){if(!ke.isUndefined(c))return i(void 0,c,d)}else return i(c,u,d)}function s(c,u){if(!ke.isUndefined(u))return i(void 0,u)}function o(c,u){if(ke.isUndefined(u)){if(!ke.isUndefined(c))return i(void 0,c)}else return i(void 0,u)}function a(c,u,d){if(d in e)return i(c,u);if(d in t)return i(void 0,c)}const l={url:s,method:s,data:s,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,withXSRFToken:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:a,headers:(c,u)=>r(tF(c),tF(u),!0)};return ke.forEach(Object.keys(Object.assign({},t,e)),function(u){const d=l[u]||r,f=d(t[u],e[u],u);ke.isUndefined(f)&&d!==a||(n[u]=f)}),n}const iW="1.6.2",Tk={};["object","boolean","number","function","string","symbol"].forEach((t,e)=>{Tk[t]=function(i){return typeof i===t||"a"+(e<1?"n ":" ")+t}});const nF={};Tk.transitional=function(e,n,i){function r(s,o){return"[Axios v"+iW+"] Transitional option '"+s+"'"+o+(i?". "+i:"")}return(s,o,a)=>{if(e===!1)throw new cn(r(o," has been removed"+(n?" in "+n:"")),cn.ERR_DEPRECATED);return n&&!nF[o]&&(nF[o]=!0,console.warn(r(o," has been deprecated since v"+n+" and will be removed in the near future"))),e?e(s,o,a):!0}};function Que(t,e,n){if(typeof t!="object")throw new cn("options must be an object",cn.ERR_BAD_OPTION_VALUE);const i=Object.keys(t);let r=i.length;for(;r-- >0;){const s=i[r],o=e[s];if(o){const a=t[s],l=a===void 0||o(a,s,t);if(l!==!0)throw new cn("option "+s+" must be "+l,cn.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new cn("Unknown option "+s,cn.ERR_BAD_OPTION)}}const rR={assertOptions:Que,validators:Tk},ac=rR.validators;let U1=class{constructor(e){this.defaults=e,this.interceptors={request:new K3,response:new K3}}request(e,n){typeof e=="string"?(n=n||{},n.url=e):n=e||{},n=Fp(this.defaults,n);const{transitional:i,paramsSerializer:r,headers:s}=n;i!==void 0&&rR.assertOptions(i,{silentJSONParsing:ac.transitional(ac.boolean),forcedJSONParsing:ac.transitional(ac.boolean),clarifyTimeoutError:ac.transitional(ac.boolean)},!1),r!=null&&(ke.isFunction(r)?n.paramsSerializer={serialize:r}:rR.assertOptions(r,{encode:ac.function,serialize:ac.function},!0)),n.method=(n.method||this.defaults.method||"get").toLowerCase();let o=s&&ke.merge(s.common,s[n.method]);s&&ke.forEach(["delete","get","head","post","put","patch","common"],g=>{delete s[g]}),n.headers=Dl.concat(o,s);const a=[];let l=!0;this.interceptors.request.forEach(function(y){typeof y.runWhen=="function"&&y.runWhen(n)===!1||(l=l&&y.synchronous,a.unshift(y.fulfilled,y.rejected))});const c=[];this.interceptors.response.forEach(function(y){c.push(y.fulfilled,y.rejected)});let u,d=0,f;if(!l){const g=[eF.bind(this),void 0];for(g.unshift.apply(g,a),g.push.apply(g,c),f=g.length,u=Promise.resolve(n);d<f;)u=u.then(g[d++],g[d++]);return u}f=a.length;let m=n;for(d=0;d<f;){const g=a[d++],y=a[d++];try{m=g(m)}catch(x){y.call(this,x);break}}try{u=eF.call(this,m)}catch(g){return Promise.reject(g)}for(d=0,f=c.length;d<f;)u=u.then(c[d++],c[d++]);return u}getUri(e){e=Fp(this.defaults,e);const n=tW(e.baseURL,e.url);return Kj(n,e.params,e.paramsSerializer)}};ke.forEach(["delete","get","head","options"],function(e){U1.prototype[e]=function(n,i){return this.request(Fp(i||{},{method:e,url:n,data:(i||{}).data}))}});ke.forEach(["post","put","patch"],function(e){function n(i){return function(s,o,a){return this.request(Fp(a||{},{method:e,headers:i?{"Content-Type":"multipart/form-data"}:{},url:s,data:o}))}}U1.prototype[e]=n(),U1.prototype[e+"Form"]=n(!0)});const Nb=U1;class Ck{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(s){n=s});const i=this;this.promise.then(r=>{if(!i._listeners)return;let s=i._listeners.length;for(;s-- >0;)i._listeners[s](r);i._listeners=null}),this.promise.then=r=>{let s;const o=new Promise(a=>{i.subscribe(a),s=a}).then(r);return o.cancel=function(){i.unsubscribe(s)},o},e(function(s,o,a){i.reason||(i.reason=new ty(s,o,a),n(i.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const n=this._listeners.indexOf(e);n!==-1&&this._listeners.splice(n,1)}static source(){let e;return{token:new Ck(function(r){e=r}),cancel:e}}}const Zue=Ck;function Jue(t){return function(n){return t.apply(null,n)}}function ede(t){return ke.isObject(t)&&t.isAxiosError===!0}const sR={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(sR).forEach(([t,e])=>{sR[e]=t});const tde=sR;function rW(t){const e=new Nb(t),n=zj(Nb.prototype.request,e);return ke.extend(n,Nb.prototype,e,{allOwnKeys:!0}),ke.extend(n,e,null,{allOwnKeys:!0}),n.create=function(r){return rW(Fp(t,r))},n}const ji=rW(Ek);ji.Axios=Nb;ji.CanceledError=ty;ji.CancelToken=Zue;ji.isCancel=eW;ji.VERSION=iW;ji.toFormData=Rw;ji.AxiosError=cn;ji.Cancel=ji.CanceledError;ji.all=function(e){return Promise.all(e)};ji.spread=Jue;ji.isAxiosError=ede;ji.mergeConfig=Fp;ji.AxiosHeaders=Dl;ji.formToJSON=t=>Jj(ke.isHTMLForm(t)?new FormData(t):t);ji.getAdapter=nW.getAdapter;ji.HttpStatusCode=tde;ji.default=ji;const nde=ji,ca=nde.create(),ide=async(t,e)=>{try{return(await ca.post("https://aim-blitz-server.onrender.com/api/accounts/create-account",{password:t,username:e})).data}catch(n){console.error("Error during createAccount:",n);const i=n;return{success:!1,message:i.response?i.response.data.message:"Network Error or CORS issue",data:null,error:i.response?i.response.data.error:{code:"0",details:"Network Error or CORS issue"}}}},sW=async(t,e)=>{try{return(await ca.post("https://aim-blitz-server.onrender.com/api/accounts/sign-in",{password:t,username:e})).data}catch(n){console.error("Error during signIn:",n);const i=n;return{success:!1,message:i.response?i.response.data.message:"Network Error or CORS issue",data:null,error:i.response?i.response.data.error:{code:"0",details:"Network Error or CORS issue"}}}},rde=()=>{const t=lk(),e=async n=>{n.preventDefault();const i=new FormData(n.currentTarget),r=i.get("username"),s=i.get("password");if(r!==""&&s!==""){const o=await ide(s,r);if(o.success){Qs(o.message,{variant:"success"});const a=await sW(s,r);a.success?(Qs(a.message,{variant:"success"}),ou.invalidateQueries({queryKey:["api","accounts"]}),t(-1)):Qs(a.message,{variant:"error"})}else Qs(o.message,{variant:"error"})}else Qs("Invalid username or password",{variant:"error"})};return M.jsx(AV,{component:"main",maxWidth:"xs",children:M.jsxs(Vl,{component:"div",sx:{marginTop:8,display:"flex",flexDirection:"column",alignItems:"center"},children:[M.jsx(Jc,{sx:{m:1,bgcolor:"secondary.main"},children:M.jsx(bk,{})}),M.jsx($e,{component:"h1",variant:"h5",children:"Create Account"}),M.jsxs(Vl,{component:"form",noValidate:!0,onSubmit:e,sx:{mt:3},children:[M.jsx(Br,{margin:"normal",required:!0,fullWidth:!0,id:"username",label:"Username",name:"username",autoComplete:"username",autoFocus:!0}),M.jsx(Br,{margin:"normal",required:!0,fullWidth:!0,name:"password",label:"Password",type:"password",id:"password",autoComplete:"current-password"}),M.jsx(bi,{type:"submit",fullWidth:!0,variant:"contained",sx:{mt:3,mb:2},children:"Sign Up"}),M.jsx(Ve,{container:!0,justifyContent:"flex-end",children:M.jsx(Ve,{item:!0,children:M.jsx(HV,{href:"/aim-blitz/sign-in",variant:"body2",children:"Already have an account? Sign in"})})})]})]})})},sde=()=>M.jsx(rde,{}),ode=()=>{const t=lk(),e=async n=>{n.preventDefault();const i=new FormData(n.currentTarget),r=i.get("username"),s=i.get("password");if(r!==""&&s!==""){const o=await sW(s,r);o.success?(Qs(o.message,{variant:"success"}),ou.invalidateQueries({queryKey:["api","accounts"]}),t(-1)):Qs(o.message,{variant:"error"})}else Qs("Invalid username or password",{variant:"error"})};return M.jsx(AV,{component:"main",maxWidth:"xs",children:M.jsxs(Vl,{component:"div",sx:{marginTop:8,display:"flex",flexDirection:"column",alignItems:"center"},children:[M.jsx(Jc,{sx:{m:1,bgcolor:"secondary.main"},children:M.jsx(bk,{})}),M.jsx($e,{component:"h1",variant:"h5",children:"Sign in"}),M.jsxs(Vl,{component:"form",onSubmit:e,noValidate:!0,sx:{mt:1},children:[M.jsx(Br,{margin:"normal",required:!0,fullWidth:!0,id:"username",label:"Username",name:"username",autoComplete:"username",autoFocus:!0}),M.jsx(Br,{margin:"normal",required:!0,fullWidth:!0,name:"password",label:"Password",type:"password",id:"password",autoComplete:"current-password"}),M.jsx(bi,{type:"submit",fullWidth:!0,variant:"contained",sx:{mt:3,mb:2},children:"Sign In"}),M.jsx(Ve,{container:!0,justifyContent:"end",children:M.jsx(Ve,{item:!0,children:M.jsx(HV,{href:"/aim-blitz/create-account",variant:"body2",children:"Create Account"})})})]})]})})},ade=()=>M.jsx(ode,{}),Fb=async()=>{try{return(await ca.get("https://aim-blitz-server.onrender.com/api/accounts")).data}catch(t){console.error("Error during getAccount:",t);const e=t;return{success:!1,message:e.response?e.response.data.message:"Network Error or CORS issue",data:null,error:e.response?e.response.data.error:{code:"0",details:"Network Error or CORS issue"}}}},ff=()=>_P({queryKey:["api","accounts"],queryFn:Fb}),lde=async({settings:t})=>{try{return(await ca.put("https://aim-blitz-server.onrender.com/api/accounts/settings",{settings:t})).data}catch(e){console.error("Error during signIn:",e);const n=e;return{success:!1,message:n.response?n.response.data.message:"Network Error or CORS issue",data:null,error:n.response?n.response.data.error:{code:"0",details:"Network Error or CORS issue"}}}},oW=()=>VH({mutationFn:lde,onSuccess:()=>{ou.invalidateQueries({queryKey:["api","accounts"]})}}),cde=()=>{const t=vr();console.log(t);const{account:e,recentScores:n}=Rle();return M.jsx(M.Fragment,{children:M.jsx(gt,{paddingX:4,height:"100%",width:"100%",children:M.jsxs(gt,{children:[M.jsxs(Ve,{container:!0,justifyContent:"center",alignItems:"center",spacing:4,sx:{my:1,py:1},children:[M.jsx(Ve,{item:!0,children:M.jsx(Jc,{alt:e.username,src:e.image,sx:{width:96,height:96}})}),M.jsx(Ve,{item:!0,children:M.jsx($e,{variant:"h1",children:e.username})})]}),M.jsxs(Ve,{container:!0,spacing:2,sx:{my:1,py:1},children:[M.jsxs(Ve,{item:!0,xs:12,children:[M.jsx($e,{variant:"h3",my:1,py:1,children:"Recent Scores"}),M.jsx(jl,{})]}),n.length>0?n.map((i,r)=>M.jsx(Ve,{item:!0,xs:12,md:6,lg:4,children:M.jsx(np,{sx:{":hover":{boxShadow:`0 0 10px 5px ${t.palette.primary.main}`},transition:"box-shadow 0.3s ease-in-out",backgroundImage:t.palette.mode==="dark"?"linear-gradient(rgba(255, 255, 255, 0.05), rgba(255, 255, 255, 0.05))":"linear-gradient(rgba(0, 0, 0, 0.05), rgba(0, 0, 0, 0.05))"},children:M.jsxs(ip,{children:[M.jsxs($e,{variant:"h5",gutterBottom:!0,children:["Score: ",i.scenarioId.scenarioName]}),M.jsxs($e,{variant:"h6",gutterBottom:!0,children:["Score: ",i.score]}),M.jsxs($e,{variant:"body2",color:"text.secondary",children:["Accuracy: ",i.accuracy]}),M.jsxs($e,{variant:"body2",color:"text.secondary",children:["Date: ",new Date(i.date).toLocaleDateString()]})]})})},r)):M.jsx(Ve,{item:!0,xs:12,children:M.jsx($e,{variant:"h5",my:1,py:1,children:"No Recent Scores"})})]})]})})})};var Rk={},ude=cs;Object.defineProperty(Rk,"__esModule",{value:!0});var aW=Rk.default=void 0,dde=ude(us()),fde=M,hde=(0,dde.default)((0,fde.jsx)("path",{d:"m14.06 9.02.92.92L5.92 19H5v-.92l9.06-9.06M17.66 3c-.25 0-.51.1-.7.29l-1.83 1.83 3.75 3.75 1.83-1.83c.39-.39.39-1.02 0-1.41l-2.34-2.34c-.2-.2-.45-.29-.71-.29zm-3.6 3.19L3 17.25V21h3.75L17.81 9.94l-3.75-3.75z"}),"EditOutlined");aW=Rk.default=hde;const pde=async({username:t,image:e})=>{try{const n=new FormData;return t&&n.append("username",t),e&&n.append("image",e),(await ca.put("https://aim-blitz-server.onrender.com/api/accounts/edit",n,{headers:{"Content-Type":"multipart/form-data"}})).data}catch(n){console.error("Error during updateAccount:",n);const i=n;return{success:!1,message:i.response?i.response.data.message:"Network Error or CORS issue",data:null,error:i.response?i.response.data.error:{code:"0",details:"Network Error or CORS issue"}}}},mde=()=>{const{data:t}=ff(),[e,n]=k.useState(void 0),[i,r]=k.useState((t==null?void 0:t.data.account.username)||""),[s,o]=k.useState(!1),a=k.useRef(null),l=m=>{var y;const g=(y=m.target.files)==null?void 0:y[0];n(g)},c=m=>{r(m.target.value)},u=()=>{o(!0)},d=async()=>{if(t!=null&&t.data.account){const m=await pde({username:i,image:e});m.success?(Qs(m.message,{variant:"success"}),ou.invalidateQueries({queryKey:["api","accounts"]})):Qs(m.message,{variant:"error"})}},f=()=>{o(!1),i===""&&t!=null&&t.data.account&&r(t==null?void 0:t.data.account.username)};return k.useEffect(()=>{t!=null&&t.data.account&&r(t==null?void 0:t.data.account.username)},[t==null?void 0:t.data.account]),k.useEffect(()=>{var m,g;s?(m=a.current)==null||m.focus():(g=a.current)==null||g.blur()},[s]),M.jsx(M.Fragment,{children:(t==null?void 0:t.data.account)&&M.jsx(gt,{paddingX:4,height:"100%",width:"100%",children:M.jsxs(gt,{children:[M.jsxs(gt,{flexDirection:"row",justifyContent:"center",alignItems:"center",gap:4,my:1,py:1,children:[M.jsx(Jc,{alt:e?URL.createObjectURL(e):t==null?void 0:t.data.account.image,src:e?URL.createObjectURL(e):t==null?void 0:t.data.account.image,sx:{width:96,height:96,alignSelf:"end"}}),M.jsx(Jc,{alt:e?URL.createObjectURL(e):t==null?void 0:t.data.account.image,src:e?URL.createObjectURL(e):t==null?void 0:t.data.account.image,sx:{width:40,height:40,alignSelf:"end"}}),M.jsx(Jc,{alt:e?URL.createObjectURL(e):t==null?void 0:t.data.account.image,src:e?URL.createObjectURL(e):t==null?void 0:t.data.account.image,sx:{width:24,height:24,alignSelf:"end"}}),M.jsx("input",{type:"file",accept:"image/*",onChange:l,style:{display:"none"},id:"image-input"}),M.jsx("label",{htmlFor:"image-input",children:M.jsx(bi,{variant:"contained",component:"span",children:"Change"})})]}),M.jsxs(gt,{flexDirection:"row",justifyContent:"center",alignItems:"center",gap:4,my:1,py:1,children:[M.jsx(Br,{value:i,variant:"filled",onChange:c,disabled:!s,inputRef:a,onBlur:f,label:"Username"}),M.jsx(XP,{sx:{width:56,height:56},onClick:u,children:M.jsx(aW,{})})]}),M.jsx(gt,{flexDirection:"row",justifyContent:"center",alignItems:"center",gap:4,my:1,py:1,children:M.jsx(bi,{variant:"contained",onClick:d,children:"Save Changes"})})]})})})};var Ak={},gde=cs;Object.defineProperty(Ak,"__esModule",{value:!0});var lW=Ak.default=void 0,vde=gde(us()),iF=M,yde=(0,vde.default)([(0,iF.jsx)("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zM7.35 18.5C8.66 17.56 10.26 17 12 17s3.34.56 4.65 1.5c-1.31.94-2.91 1.5-4.65 1.5s-3.34-.56-4.65-1.5zm10.79-1.38C16.45 15.8 14.32 15 12 15s-4.45.8-6.14 2.12C4.7 15.73 4 13.95 4 12c0-4.42 3.58-8 8-8s8 3.58 8 8c0 1.95-.7 3.73-1.86 5.12z"},"0"),(0,iF.jsx)("path",{d:"M12 6c-1.93 0-3.5 1.57-3.5 3.5S10.07 13 12 13s3.5-1.57 3.5-3.5S13.93 6 12 6zm0 5c-.83 0-1.5-.67-1.5-1.5S11.17 8 12 8s1.5.67 1.5 1.5S12.83 11 12 11z"},"1")],"AccountCircleOutlined");lW=Ak.default=yde;var Pk={},xde=cs;Object.defineProperty(Pk,"__esModule",{value:!0});var cW=Pk.default=void 0,_de=xde(us()),bde=M,Sde=(0,_de.default)((0,bde.jsx)("path",{d:"m17 8-1.41 1.41L17.17 11H9v2h8.17l-1.58 1.58L17 16l4-4-4-4zM5 5h7V3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h7v-2H5V5z"}),"LogoutOutlined");cW=Pk.default=Sde;var kk={},wde=cs;Object.defineProperty(kk,"__esModule",{value:!0});var uW=kk.default=void 0,Mde=wde(us()),Ede=M,Tde=(0,Mde.default)((0,Ede.jsx)("path",{d:"M12 8c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2zm0 2c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0 6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z"}),"MoreVertOutlined");uW=kk.default=Tde;const Cde=async()=>{try{return(await ca.delete("https://aim-blitz-server.onrender.com/api/accounts/sign-out")).data}catch(t){console.error("Error during signOut:",t);const e=t;return{success:!1,message:e.response?e.response.data.message:"Network Error or CORS issue",data:null,error:e.response?e.response.data.error:{code:"0",details:"Network Error or CORS issue"}}}},Rde=({account:t})=>{const[e,n]=k.useState(null),i=!!e,r=a=>{n(a.currentTarget)},s=()=>{n(null)},o=async()=>{const a=await Cde();a.success?(Qs(a.message,{variant:"success"}),ou.invalidateQueries({queryKey:["api","accounts"]})):Qs(a.message,{variant:"error"})};return M.jsxs(M.Fragment,{children:[M.jsxs(fre,{sx:{paddingY:1},children:[M.jsx(Ml,{children:M.jsx(Jc,{src:t.image})}),M.jsx(El,{primary:t.username}),M.jsx(XP,{onClick:a=>r(a),children:M.jsx(uW,{})})]}),M.jsx(KP,{anchorEl:e,open:i,onClose:s,sx:{zIndex:10001},anchorOrigin:{vertical:"top",horizontal:"left"},children:M.jsxs(u0,{children:[M.jsxs(Cc,{component:Ms,to:`/aim-blitz/accounts/${t._id}`,onClick:s,children:[M.jsx(Ml,{children:M.jsx(lW,{})}),M.jsx(El,{primary:"Profile"})]}),M.jsxs(Cc,{component:Ms,to:`/aim-blitz/accounts/${t._id}/edit`,onClick:s,children:[M.jsx(Ml,{children:M.jsx(pk,{})}),M.jsx(El,{primary:"Edit"})]}),M.jsxs(Cc,{onClick:()=>{o(),s()},children:[M.jsx(Ml,{children:M.jsx(cW,{})}),M.jsx(El,{primary:"Sign out"})]})]})})]})},Ade=()=>{var s;const t=vr(),e=Jv(),[,n]=ek("theme","dark"),{data:i,isLoading:r}=ff();return M.jsxs(fw,{sx:{position:{xs:"fixed",md:"sticky"},transform:{xs:"translateX(calc(100% * (var(--SideNavigation-slideIn, 0) - 1)))",md:"none"},transition:"transform 0.4s, width 0.4s",zIndex:1e4,height:"100dvh",width:"var(--Sidebar-width)",top:0,flexShrink:0,gap:2,borderRadius:0,backgroundImage:t.palette.mode==="dark"?"linear-gradient(rgba(255, 255, 255, 0.05), rgba(255, 255, 255, 0.05))":"linear-gradient(rgba(0, 0, 0, 0.05), rgba(0, 0, 0, 0.05))"},children:[M.jsx(pw,{styles:o=>({":root":{"--Sidebar-width":"240px"},[o.breakpoints.up("md")]:{":root":{"--SideNavigation-slideIn":1}}})}),M.jsx(Vl,{component:"div",sx:{position:"fixed",zIndex:9998,top:0,left:0,width:"100vw",height:"100vh",opacity:"var(--SideNavigation-slideIn)",transition:"opacity 0.4s",transform:{xs:"translateX(calc(100% * (var(--SideNavigation-slideIn, 0) - 1) + var(--SideNavigation-slideIn, 0) * var(--Sidebar-width, 0px)))",lg:"translateX(-100%)"}},onClick:()=>Ij()}),M.jsxs(gt,{height:"100%",width:"100%",justifyContent:"space-between",alignItems:"center",children:[M.jsxs(gt,{width:"100%",justifyContent:"center",alignItems:"center",children:[M.jsx(bu,{component:Ms,to:"/aim-blitz",color:t.palette.text.primary,disableRipple:!0,children:M.jsxs(gt,{flexDirection:"row",justifyContent:"center",alignItems:"center",marginY:1,paddingY:1,width:"100%",children:[M.jsx($e,{textAlign:"center",gap:1,variant:"h4",color:"",children:"Aim"}),M.jsx(FV,{sx:{width:34,height:34},color:"primary",children:M.jsx(xk,{sx:{width:34,height:34}})}),M.jsx($e,{textAlign:"center",gap:1,variant:"h4",children:"Blitz"})]})}),M.jsxs(u0,{sx:{width:"100%",marginY:1,paddingY:1},children:[M.jsxs(Cc,{component:Ms,to:"/aim-blitz",selected:e.pathname==="/",children:[M.jsx(Ml,{children:M.jsx(Lj,{})}),M.jsx(El,{children:"Home"})]}),M.jsxs(Cc,{component:Ms,to:"/aim-blitz/scenarios",selected:e.pathname==="/scenarios",children:[M.jsx(Ml,{children:M.jsx(Dj,{})}),M.jsx(El,{children:"Scenarios"})]}),M.jsxs(Cc,{component:Ms,to:"/aim-blitz/settings",selected:e.pathname==="/settings",children:[M.jsx(Ml,{children:M.jsx(pk,{})}),M.jsx(El,{children:"Settings"})]})]})]}),M.jsxs(gt,{width:"100%",justifyContent:"center",alignItems:"center",children:[M.jsx(u0,{sx:{width:"100%",marginY:1,paddingY:1},children:M.jsxs(Cc,{onClick:()=>n(o=>o==="dark"?"light":"dark"),children:[M.jsx(Ml,{children:t.palette.mode==="light"?M.jsx(Oj,{}):M.jsx(Nj,{})}),M.jsx(El,{primary:t.palette.mode==="light"?"Dark Mode":"Light Mode"})]})}),M.jsx(jl,{sx:{width:"100%"}}),M.jsx(u0,{sx:{width:"100%",marginY:1,paddingY:1},children:!r&&((s=i==null?void 0:i.data)!=null&&s.account)?M.jsx(Rde,{account:i==null?void 0:i.data.account}):M.jsxs(Cc,{component:Ms,to:"/aim-blitz/sign-in",children:[M.jsx(Ml,{sx:{width:24,height:24},children:M.jsx(Fj,{})}),M.jsx(El,{primary:"Sign In"})]})})]})]})]})},Pde=()=>M.jsxs(gt,{flexDirection:"row",children:[M.jsx(oce,{}),M.jsx(Ade,{}),M.jsx(gt,{sx:{pt:{xs:"calc(var(--Header-height))"},flexGrow:1,alignItems:"center"},children:M.jsx(Ile,{})})]}),kde=()=>{const t=vr(),e=[`/aim-blitz/images/tilefrenzy-${t.palette.mode}.gif`,`/aim-blitz/images/1wall5targets-${t.palette.mode}.gif`],n=["/aim-blitz/images/customizable1.PNG","/aim-blitz/images/customizable2.PNG","/aim-blitz/images/customizable3.PNG","/aim-blitz/images/customizable4.PNG"],[i,r]=k.useState(0),[s,o]=k.useState(0);return k.useEffect(()=>{const a=setInterval(()=>{o(l=>(l+1)%n.length)},3e3);return()=>clearInterval(a)},[n.length]),k.useEffect(()=>{const a=setInterval(()=>{r(l=>(l+1)%e.length)},5e3);return()=>clearInterval(a)},[e.length]),M.jsxs(gt,{sx:{backgroundImage:"url('/aim-blitz/images/tilefrenzy.PNG')",backgroundSize:"cover",backgroundRepeat:"no-repeat",display:"flex",flexDirection:"column",alignItems:"center",position:"relative"},height:"100%",width:"100%",zIndex:9994,children:[M.jsx(gt,{sx:{position:"absolute",top:0,left:0,backgroundColor:`${t.palette.background.default}BF`,backgroundImage:t.palette.mode==="dark"?"radial-gradient(circle, rgba(12, 12, 12, 0.05) 0%, rgba(12, 12, 12) 100%)":"radial-gradient(circle, rgba(255, 255, 255, 0.5) 0%, rgba(255, 255, 255, 255) 100%)"},height:"100%",width:"100%",zIndex:9996}),M.jsxs(gt,{zIndex:9998,paddingX:4,height:"100%",width:"100%",justifyContent:"space-between",children:[M.jsxs(gt,{marginY:1,paddingY:1,children:[M.jsx($e,{variant:"h2",component:"h1",marginY:1,paddingY:1,children:"Welcome to Aim Blitz"}),M.jsx($e,{variant:"h4",marginY:1,paddingY:1,children:"Improve your aiming skills with this advanced 3D aim trainer."})]}),M.jsx(gt,{marginY:1,paddingY:1,children:M.jsx(bi,{variant:"contained",color:"primary",size:"large",sx:{marginY:1,paddingY:1},component:Ms,to:"/aim-blitz/scenarios",children:"Start Training"})}),M.jsx(gt,{marginY:1,paddingY:1,children:M.jsxs(Ve,{container:!0,spacing:4,children:[M.jsx(Ve,{item:!0,xs:12,sm:4,children:M.jsxs(np,{sx:{minHeight:512,":hover":{boxShadow:`0 0 10px 5px ${t.palette.primary.main}`,transition:"box-shadow 0.3s ease-in-out"},backgroundImage:t.palette.mode==="dark"?"linear-gradient(rgba(255, 255, 255, 0.05), rgba(255, 255, 255, 0.05))":"linear-gradient(rgba(0, 0, 0, 0.05), rgba(0, 0, 0, 0.05))"},children:[M.jsx(l0,{component:"div",sx:{position:"relative",width:"100%",height:0,paddingTop:"56.25%",overflow:"hidden"},children:e.map((a,l)=>M.jsx("img",{src:a,alt:`customizable-${l+1}`,style:{position:"absolute",top:0,left:0,width:"100%",height:"100%",opacity:l===i?1:0}},l))}),M.jsxs(ip,{children:[M.jsx($e,{variant:"h4",marginY:1,paddingY:1,children:"Advanced Training Scenarios"}),M.jsx($e,{variant:"body1",marginY:1,paddingY:1,children:"Choose from a variety of training modes designed to enhance your aiming precision."})]}),M.jsx(a0,{children:M.jsx(bi,{component:Ms,to:"/aim-blitz/scenarios",children:"Learn More"})})]})}),M.jsx(Ve,{item:!0,xs:12,sm:4,children:M.jsxs(np,{sx:{minHeight:512,":hover":{boxShadow:`0 0 10px 5px ${t.palette.primary.main}`,transition:"box-shadow 0.3s ease-in-out"},backgroundImage:t.palette.mode==="dark"?"linear-gradient(rgba(255, 255, 255, 0.05), rgba(255, 255, 255, 0.05))":"linear-gradient(rgba(0, 0, 0, 0.05), rgba(0, 0, 0, 0.05))"},children:[M.jsx(l0,{component:"div",sx:{pt:"56.25%"},image:`/aim-blitz/images/analytics-${t.palette.mode}.gif`}),M.jsxs(ip,{children:[M.jsx($e,{variant:"h4",marginY:1,paddingY:1,children:"Real-Time Analytics"}),M.jsx($e,{variant:"body1",marginY:1,paddingY:1,children:"Track your performance in real-time and analyze your strengths and weaknesses."})]}),M.jsx(a0,{children:M.jsx(bi,{component:Ms,to:"/aim-blitz/scenarios",children:"Learn More"})})]})}),M.jsx(Ve,{item:!0,xs:12,sm:4,children:M.jsxs(np,{sx:{minHeight:512,":hover":{boxShadow:`0 0 10px 5px ${t.palette.primary.main}`,transition:"box-shadow 0.3s ease-in-out"},backgroundImage:t.palette.mode==="dark"?"linear-gradient(rgba(255, 255, 255, 0.05), rgba(255, 255, 255, 0.05))":"linear-gradient(rgba(0, 0, 0, 0.05), rgba(0, 0, 0, 0.05))"},children:[M.jsx(l0,{component:"div",sx:{position:"relative",width:"100%",height:0,paddingTop:"56.25%",overflow:"hidden"},children:n.map((a,l)=>M.jsx("img",{src:a,alt:`customizable-${l+1}`,style:{position:"absolute",top:0,left:0,width:"100%",height:"100%",opacity:l===s?1:0,transition:"opacity 1s ease-in-out"}},l))}),M.jsxs(ip,{children:[M.jsx($e,{variant:"h4",marginY:1,paddingY:1,children:"Dynamic Customization"}),M.jsx($e,{variant:"body1",marginY:1,paddingY:1,children:"Personalize your training experience with real-time customizable settings that adapt instantly as you make changes."})]}),M.jsx(a0,{children:M.jsx(bi,{component:Ms,to:"/aim-blitz/settings",children:"Learn More"})})]})})]})})]})]})},Ide=()=>{const t=vr(),[e,n]=k.useState(Array(2).fill(!1)),i=s=>{const o=[...e];o[s]=!0,n(o)},r=s=>{const o=[...e];o[s]=!1,n(o)};return M.jsxs(gt,{paddingX:4,height:"100%",width:"100%",children:[M.jsx($e,{textAlign:"center",variant:"h3",marginY:1,padding:1,children:"Scenarios"}),M.jsxs(Ve,{container:!0,spacing:4,justifyContent:"center",children:[M.jsx(Ve,{item:!0,xs:12,sm:6,md:4,lg:3,marginY:1,paddingY:1,children:M.jsxs(np,{sx:{":hover":{boxShadow:`0 0 10px 5px ${t.palette.primary.main}`},transition:"box-shadow 0.3s ease-in-out",backgroundImage:t.palette.mode==="dark"?"linear-gradient(rgba(255, 255, 255, 0.05), rgba(255, 255, 255, 0.05))":"linear-gradient(rgba(0, 0, 0, 0.05), rgba(0, 0, 0, 0.05))"},onMouseOver:()=>i(0),onMouseOut:()=>r(0),children:[M.jsx(l0,{component:"div",children:M.jsx("img",{src:e[0]?`/aim-blitz/images/tilefrenzy-${t.palette.mode}.gif`:`/aim-blitz/images/tilefrenzy-${t.palette.mode}.PNG`,alt:"Tile Frenzy",style:{width:"100%",height:"100%",objectFit:"cover"}})}),M.jsxs(ip,{sx:{flexGrow:1},children:[M.jsx($e,{gutterBottom:!0,variant:"h5",component:"h2",children:"Tile Frenzy"}),M.jsx($e,{children:"3 targets that respawn instantly when they die. Kill as many as you can in 30 seconds!"})]}),M.jsx(a0,{children:M.jsx(bi,{size:"small",component:Ms,to:"/aim-blitz/scenarios/tile-frenzy",children:"Play"})})]})}),M.jsx(Ve,{item:!0,xs:12,sm:6,md:4,lg:3,marginY:1,paddingY:1,children:M.jsxs(np,{sx:{":hover":{boxShadow:`0 0 10px 5px ${t.palette.primary.main}`},transition:"box-shadow 0.3s ease-in-out",backgroundImage:t.palette.mode==="dark"?"linear-gradient(rgba(255, 255, 255, 0.05), rgba(255, 255, 255, 0.05))":"linear-gradient(rgba(0, 0, 0, 0.05), rgba(0, 0, 0, 0.05))"},onMouseOver:()=>i(1),onMouseOut:()=>r(1),children:[M.jsx(l0,{component:"div",children:M.jsx("img",{src:e[1]?`/aim-blitz/images/1wall5targets-${t.palette.mode}.gif`:`/aim-blitz/images/1wall5targets-${t.palette.mode}.PNG`,alt:"1 wall 5 targets",style:{width:"100%",height:"100%",objectFit:"cover"}})}),M.jsxs(ip,{sx:{flexGrow:1},children:[M.jsx($e,{gutterBottom:!0,variant:"h5",component:"h2",children:"1 wall 5 targets"}),M.jsx($e,{children:"5 targets that respawn instantly when they die. Kill as many as you can in 60 seconds!"})]}),M.jsx(a0,{children:M.jsx(bi,{size:"small",component:Ms,to:"/aim-blitz/scenarios/1-wall-5-targets",children:"Play"})})]})})]})]})},dW={sensitivity:{value:1,scale:"cm/360",dpi:800},fov:{value:103,scale:"Overwatch"},crosshair:{crosshairColor:"#ffffff",crosshairOutlineColor:"#000000",crosshairOpacity:1,crosshairOutlineOpacity:1,dotOpacity:0,dotOutlineOpacity:1,crosshairGap:6,crosshairLength:6,crosshairThickness:2,crosshairOutlineThickness:2,dotShape:"Square",dotSize:2,dotOutlineThickness:2,hideTopLine:!1,crosshairRenderSize:1},walls:{texture:"/aim-blitz/textures/Grid/Grid.jpg",color:"#ffffff",scale:1,roughness:0,metallic:0},floors:{texture:"/aim-blitz/textures/Grid/Grid.jpg",color:"#ffffff",scale:1,roughness:0,metallic:0},ceilings:{texture:"/aim-blitz/textures/Grid/Grid.jpg",color:"#ffffff",scale:1,roughness:0,metallic:0},enemies:{color:"#3a86ff",roughness:0,metallic:0,glow:!1}},Ik=()=>{const[t,e]=ek("localSettings",{settings:dW});return{localStorageSettings:t,setLocalStorageSettings:e}},fW=k.createContext({localSettings:{},setLocalSettings:()=>{},resetLocalSettings:()=>{}}),Lk=({children:t})=>{var c,u;const{data:e,isLoading:n}=ff(),{localStorageSettings:i}=Ik(),r=(u=(c=e==null?void 0:e.data)==null?void 0:c.account)==null?void 0:u.settings,s=r||i.settings,[o,a]=k.useState(s);k.useEffect(()=>{!n&&r&&a(r)},[e,n,r]);const l=()=>{a(dW)};return M.jsx(fW.Provider,{value:{localSettings:o,setLocalSettings:a,resetLocalSettings:l},children:t})},hf=()=>k.useContext(fW),Qr=({label:t,children:e})=>M.jsxs(gt,{alignItems:"center",flexDirection:"row",gap:4,children:[M.jsx(gt,{alignItems:"center",flexDirection:"row",gap:1,children:M.jsx($e,{variant:"subtitle1",children:t})}),M.jsx(gt,{flexGrow:1,justifyContent:"end",alignItems:"center",flexDirection:"row",gap:4,children:e})]});var Dk={},Lde=cs;Object.defineProperty(Dk,"__esModule",{value:!0});var hW=Dk.default=void 0,Dde=Lde(us()),Ode=M,Nde=(0,Dde.default)((0,Ode.jsx)("path",{d:"m10 17 5-5-5-5v10z"}),"ArrowRight");hW=Dk.default=Nde;var Ok={},Fde=cs;Object.defineProperty(Ok,"__esModule",{value:!0});var pW=Ok.default=void 0,zde=Fde(us()),Ude=M,Bde=(0,zde.default)((0,Ude.jsx)("path",{d:"m7 10 5 5 5-5z"}),"ArrowDropDown");pW=Ok.default=Bde;const Zx=({label:t,children:e,dropdownChildren:n})=>{const[i,r]=k.useState(!1);return M.jsxs(M.Fragment,{children:[M.jsxs(gt,{alignItems:"center",flexDirection:"row",gap:4,children:[M.jsxs(gt,{alignItems:"center",flexDirection:"row",gap:1,onClick:()=>r(s=>!s),children:[i?M.jsx(pW,{}):M.jsx(hW,{}),M.jsx($e,{variant:"subtitle1",children:t})]}),M.jsx(gt,{flexGrow:1,justifyContent:"end",alignItems:"center",flexDirection:"row",gap:4,children:e})]}),i&&M.jsx(gt,{children:n})]})},gs=({min:t,max:e,step:n,value:i,onChange:r,onBlur:s})=>{const o=a=>{r(Number(a.target.value))};return M.jsx(qP,{inputProps:{min:t,max:e,step:n,type:"number"},value:i,onChange:o,onBlur:s})},Jx=({value:t,options:e,onChange:n})=>{const i=r=>{n(r.target.value)};return M.jsx(JP,{value:t,onChange:i,size:"small",children:e.map((r,s)=>M.jsx(Y2,{value:r.value,children:r.label},`${r} ${s+1}`))})},_o=({min:t,max:e,step:n,value:i,onChange:r})=>{const s=(o,a)=>{r(a)};return M.jsx(wo,{min:t,max:e,step:n,value:i,onChange:s})},oR=({crosshairProps:t,fitWidth:e})=>{const i=e?(t.crosshairGap+t.crosshairLength*2+t.crosshairOutlineThickness)*t.crosshairRenderSize:200,r=i/2;return M.jsxs("svg",{width:"100%",height:"100%",viewBox:`0 0 ${i} ${i}`,transform:`scale(${t.crosshairRenderSize})`,style:{maxWidth:200,maxHeight:200},children:[M.jsx("rect",{x:r-t.crosshairLength-Math.floor(t.crosshairGap/2)-Math.floor(t.crosshairOutlineThickness/2),y:r-Math.floor(t.crosshairThickness/2)-Math.floor(t.crosshairOutlineThickness/2),width:t.crosshairLength+t.crosshairOutlineThickness,height:t.crosshairThickness+t.crosshairOutlineThickness,fill:t.crosshairOutlineColor,opacity:t.crosshairOutlineOpacity>t.crosshairOpacity?t.crosshairOpacity:t.crosshairOutlineOpacity}),M.jsx("rect",{x:r+Math.floor((t.crosshairGap-1)/2)+1-Math.floor(t.crosshairOutlineThickness/2),y:r-Math.floor(t.crosshairThickness/2)-Math.floor(t.crosshairOutlineThickness/2),width:t.crosshairLength+t.crosshairOutlineThickness,height:t.crosshairThickness+t.crosshairOutlineThickness,fill:t.crosshairOutlineColor,opacity:t.crosshairOutlineOpacity>t.crosshairOpacity?t.crosshairOpacity:t.crosshairOutlineOpacity}),!t.hideTopLine&&M.jsx(M.Fragment,{children:M.jsx("rect",{x:r-Math.floor(t.crosshairThickness/2)-Math.floor(t.crosshairOutlineThickness/2),y:r-t.crosshairLength-Math.floor(t.crosshairGap/2)-Math.floor(t.crosshairOutlineThickness/2),width:t.crosshairThickness+t.crosshairOutlineThickness,height:t.crosshairLength+t.crosshairOutlineThickness,fill:t.crosshairOutlineColor,opacity:t.crosshairOutlineOpacity>t.crosshairOpacity?t.crosshairOpacity:t.crosshairOutlineOpacity})}),M.jsx("rect",{x:r-Math.floor(t.crosshairThickness/2)-Math.floor(t.crosshairOutlineThickness/2),y:r+Math.floor((t.crosshairGap-1)/2)+1-Math.floor(t.crosshairOutlineThickness/2),width:t.crosshairThickness+t.crosshairOutlineThickness,height:t.crosshairLength+t.crosshairOutlineThickness,fill:t.crosshairOutlineColor,opacity:t.crosshairOutlineOpacity>t.crosshairOpacity?t.crosshairOpacity:t.crosshairOutlineOpacity}),t.dotShape==="Circle"?M.jsx(M.Fragment,{children:M.jsx("circle",{cx:r,cy:r,r:Math.floor(t.dotSize/2)+Math.floor(t.dotOutlineThickness/2),fill:t.crosshairOutlineColor,opacity:t.dotOutlineOpacity>t.dotOpacity?t.dotOpacity:t.dotOutlineOpacity})}):M.jsx(M.Fragment,{children:M.jsx("rect",{x:r-Math.floor(t.dotSize/2)-Math.floor(t.dotOutlineThickness/2),y:r-Math.floor(t.dotSize/2)-Math.floor(t.dotOutlineThickness/2),width:t.dotSize+t.dotOutlineThickness,height:t.dotSize+t.dotOutlineThickness,fill:t.crosshairOutlineColor,opacity:t.dotOutlineOpacity>t.dotOpacity?t.dotOpacity:t.dotOutlineOpacity})}),M.jsx("rect",{x:r-t.crosshairLength-Math.floor(t.crosshairGap/2),y:r-Math.floor(t.crosshairThickness/2),width:t.crosshairLength,height:t.crosshairThickness,fill:t.crosshairColor,opacity:t.crosshairOpacity}),M.jsx("rect",{x:r+Math.floor((t.crosshairGap-1)/2)+1,y:r-Math.floor(t.crosshairThickness/2),width:t.crosshairLength,height:t.crosshairThickness,fill:t.crosshairColor,opacity:t.crosshairOpacity}),!t.hideTopLine&&M.jsx(M.Fragment,{children:M.jsx("rect",{x:r-Math.floor(t.crosshairThickness/2),y:r-t.crosshairLength-Math.floor(t.crosshairGap/2),width:t.crosshairThickness,height:t.crosshairLength,fill:t.crosshairColor,opacity:t.crosshairOpacity})}),M.jsx("rect",{x:r-Math.floor(t.crosshairThickness/2),y:r+Math.floor((t.crosshairGap-1)/2)+1,width:t.crosshairThickness,height:t.crosshairLength,fill:t.crosshairColor,opacity:t.crosshairOpacity}),t.dotShape==="Circle"?M.jsx(M.Fragment,{children:M.jsx("circle",{cx:r,cy:r,r:Math.floor(t.dotSize/2),fill:t.crosshairColor,opacity:t.dotOpacity})}):M.jsx(M.Fragment,{children:M.jsx("rect",{x:r-Math.floor(t.dotSize/2),y:r-Math.floor(t.dotSize/2),width:t.dotSize,height:t.dotSize,fill:t.crosshairColor,opacity:t.dotOpacity})})]})},Vh=({value:t,onChange:e})=>{const n=i=>{e(i.target.value)};return M.jsx(xw,{type:"color",value:t,className:"color-input",sx:{backgroundColor:t},inputProps:{className:"color-input"},onChange:i=>n(i)})},Hde=({value:t,onChange:e})=>{const[n,i]=k.useState(null),r=a=>{i(a.currentTarget)},s=()=>{i(null)},o=(a,l)=>{e(a,l)};return M.jsxs("div",{children:[M.jsx(bu,{"aria-controls":"crosshair-menu","aria-haspopup":"true",onClick:r,sx:{width:48,height:48},children:M.jsx(oR,{crosshairProps:t,fitWidth:!0})}),M.jsx(KP,{id:"crosshair-menu",anchorEl:n,keepMounted:!0,open:!!n,onClose:s,sx:{zIndex:10002},slotProps:{paper:{sx:{px:2,borderRadius:1}}},children:M.jsxs(Ve,{container:!0,columnSpacing:2,children:[M.jsx(Ve,{item:!0,container:!0,xs:12,justifyContent:"center",children:M.jsx($e,{variant:"h4",textAlign:"center",marginY:1,paddingY:1,children:"Crosshair Editor"})}),M.jsx(Ve,{item:!0,xs:12,marginY:1,paddingY:1,children:M.jsx(jl,{})}),M.jsxs(Ve,{item:!0,container:!0,xs:5,children:[M.jsxs(Ve,{item:!0,container:!0,xs:12,columnSpacing:4,alignItems:"center",children:[M.jsx(Ve,{item:!0,xs:4,children:M.jsx($e,{children:"Crosshair Tint"})}),M.jsx(Ve,{item:!0,xs:6}),M.jsx(Ve,{item:!0,xs:2,display:"flex",justifyContent:"center",alignItems:"center",children:M.jsx(Vh,{value:t.crosshairColor,onChange:a=>o("crosshairColor",a)})})]}),M.jsxs(Ve,{item:!0,container:!0,xs:12,columnSpacing:4,alignItems:"center",children:[M.jsx(Ve,{item:!0,xs:4,children:M.jsx($e,{children:"Crosshair Outline Tint"})}),M.jsx(Ve,{item:!0,xs:6}),M.jsx(Ve,{item:!0,xs:2,display:"flex",justifyContent:"center",alignItems:"center",children:M.jsx(Vh,{value:t.crosshairOutlineColor,onChange:a=>o("crosshairOutlineColor",a)})})]}),M.jsxs(Ve,{item:!0,container:!0,xs:12,columnSpacing:4,alignItems:"center",children:[M.jsx(Ve,{item:!0,xs:4,children:M.jsx($e,{children:"Crosshair Opacity"})}),M.jsx(Ve,{item:!0,xs:6,children:M.jsx(wo,{value:t.crosshairOpacity,step:.01,min:0,max:1,onChange:(a,l)=>o("crosshairOpacity",l),"aria-labelledby":"crosshair-opacity-slider",sx:{display:"flex"}})}),M.jsx(Ve,{item:!0,xs:2,children:M.jsx(Br,{type:"number",value:t.crosshairOpacity,onChange:a=>o("crosshairOpacity",Number(a.target.value)),inputProps:{step:.01,min:0,max:1}})})]}),M.jsxs(Ve,{item:!0,container:!0,xs:12,columnSpacing:4,alignItems:"center",children:[M.jsx(Ve,{item:!0,xs:4,children:M.jsx($e,{children:"Crosshair Outline Opacity"})}),M.jsx(Ve,{item:!0,xs:6,children:M.jsx(wo,{value:t.crosshairOutlineOpacity,step:.01,min:0,max:1,onChange:(a,l)=>o("crosshairOutlineOpacity",l),"aria-labelledby":"crosshair-outline-opacity-slider",sx:{display:"flex"}})}),M.jsx(Ve,{item:!0,xs:2,children:M.jsx(Br,{type:"number",value:t.crosshairOpacity,onChange:a=>o("crosshairOpacity",Number(a.target.value)),inputProps:{step:.01,min:0,max:1}})})]}),M.jsxs(Ve,{item:!0,container:!0,xs:12,columnSpacing:4,alignItems:"center",children:[M.jsx(Ve,{item:!0,xs:4,children:M.jsx($e,{children:"Dot Opacity"})}),M.jsx(Ve,{item:!0,xs:6,children:M.jsx(wo,{value:t.dotOpacity,step:.01,min:0,max:1,onChange:(a,l)=>o("dotOpacity",l),"aria-labelledby":"dot-opacity-slider",sx:{display:"flex"}})}),M.jsx(Ve,{item:!0,xs:2,children:M.jsx(Br,{type:"number",value:t.dotOpacity,onChange:a=>o("dotOpacity",Number(a.target.value)),inputProps:{step:.01,min:0,max:1}})})]}),M.jsxs(Ve,{item:!0,container:!0,xs:12,columnSpacing:4,alignItems:"center",children:[M.jsx(Ve,{item:!0,xs:4,children:M.jsx($e,{children:"Dot Outline Opacity"})}),M.jsx(Ve,{item:!0,xs:6,children:M.jsx(wo,{value:t.dotOutlineOpacity,step:.01,min:0,max:1,onChange:(a,l)=>o("dotOutlineOpacity",l),"aria-labelledby":"dot-outline-opacity-slider",sx:{display:"flex"}})}),M.jsx(Ve,{item:!0,xs:2,children:M.jsx(Br,{type:"number",value:t.dotOutlineOpacity,onChange:a=>o("dotOutlineOpacity",Number(a.target.value)),inputProps:{step:.01,min:0,max:1}})})]}),M.jsx(Ve,{item:!0,xs:12}),M.jsx(Ve,{item:!0,xs:12}),M.jsx(Ve,{item:!0,xs:12})]}),M.jsx(Ve,{item:!0,container:!0,xs:2,rowSpacing:2,children:M.jsx(Ve,{item:!0,xs:12,columnSpacing:4,display:"flex",alignItems:"center",justifyContent:"center",children:M.jsx(oR,{crosshairProps:t})})}),M.jsxs(Ve,{item:!0,container:!0,xs:5,rowSpacing:2,children:[M.jsxs(Ve,{item:!0,container:!0,xs:12,columnSpacing:4,alignItems:"center",children:[M.jsx(Ve,{item:!0,xs:4,children:M.jsx($e,{children:"Crosshair Gap"})}),M.jsx(Ve,{item:!0,xs:6,children:M.jsx(wo,{value:t.crosshairGap,step:1,min:0,max:50,onChange:(a,l)=>o("crosshairGap",l),"aria-labelledby":"crosshair-gap-slider",sx:{display:"flex"}})}),M.jsx(Ve,{item:!0,xs:2,children:M.jsx(Br,{type:"number",value:t.crosshairGap,onChange:a=>o("crosshairGap",Number(a.target.value)),inputProps:{step:1,min:0,max:50}})})]}),M.jsxs(Ve,{item:!0,container:!0,xs:12,columnSpacing:4,alignItems:"center",children:[M.jsx(Ve,{item:!0,xs:4,children:M.jsx($e,{children:"Crosshair Length"})}),M.jsx(Ve,{item:!0,xs:6,children:M.jsx(wo,{value:t.crosshairLength,step:1,min:0,max:50,onChange:(a,l)=>o("crosshairLength",l),"aria-labelledby":"crosshair-length-slider",sx:{display:"flex"}})}),M.jsx(Ve,{item:!0,xs:2,children:M.jsx(Br,{type:"number",value:t.crosshairLength,onChange:a=>o("crosshairLength",Number(a.target.value)),inputProps:{step:1,min:0,max:50}})})]}),M.jsxs(Ve,{item:!0,container:!0,xs:12,columnSpacing:4,alignItems:"center",children:[M.jsx(Ve,{item:!0,xs:4,children:M.jsx($e,{children:"Crosshair Thickness"})}),M.jsx(Ve,{item:!0,xs:6,children:M.jsx(wo,{value:t.crosshairThickness,step:1,min:0,max:50,onChange:(a,l)=>o("crosshairThickness",l),"aria-labelledby":"crosshair-thickness-slider",sx:{display:"flex"}})}),M.jsx(Ve,{item:!0,xs:2,children:M.jsx(Br,{type:"number",value:t.crosshairThickness,onChange:a=>o("crosshairThickness",Number(a.target.value)),inputProps:{step:1,min:0,max:50}})})]}),M.jsxs(Ve,{item:!0,container:!0,xs:12,columnSpacing:4,alignItems:"center",children:[M.jsx(Ve,{item:!0,xs:4,children:M.jsx($e,{children:"Crosshair Outline Thickness"})}),M.jsx(Ve,{item:!0,xs:6,children:M.jsx(wo,{value:t.crosshairOutlineThickness,step:1,min:0,max:50,onChange:(a,l)=>o("crosshairOutlineThickness",l),"aria-labelledby":"crosshair-outline-thickness-slider",sx:{display:"flex"}})}),M.jsx(Ve,{item:!0,xs:2,children:M.jsx(Br,{type:"number",value:t.crosshairOutlineThickness,onChange:a=>o("crosshairOutlineThickness",Number(a.target.value)),inputProps:{step:1,min:0,max:50}})})]}),M.jsxs(Ve,{item:!0,container:!0,xs:12,columnSpacing:4,alignItems:"center",children:[M.jsx(Ve,{item:!0,xs:4,children:M.jsx($e,{children:"Dot Shape"})}),M.jsx(Ve,{item:!0,xs:6}),M.jsx(Ve,{item:!0,xs:2,children:M.jsxs(LV,{children:[M.jsx(UV,{id:"dot-shape-label",children:"Dot Shape"}),M.jsxs(JP,{labelId:"dot-shape-label",id:"dot-shape",value:t.dotShape,onChange:a=>o("dotShape",a.target.value),MenuProps:{sx:{zIndex:10004}},children:[M.jsx(Y2,{value:"Circle",children:"Circle"}),M.jsx(Y2,{value:"Square",children:"Square"})]})]})})]}),M.jsxs(Ve,{item:!0,container:!0,xs:12,columnSpacing:4,alignItems:"center",children:[M.jsx(Ve,{item:!0,xs:4,children:M.jsx($e,{children:"Dot Size"})}),M.jsx(Ve,{item:!0,xs:6,children:M.jsx(wo,{value:t.dotSize,step:1,min:0,max:50,onChange:(a,l)=>o("dotSize",l),"aria-labelledby":"dot-size-slider",sx:{display:"flex"}})}),M.jsx(Ve,{item:!0,xs:2,children:M.jsx(Br,{type:"number",value:t.dotSize,onChange:a=>o("dotSize",Number(a.target.value)),inputProps:{step:1,min:0,max:50}})})]}),M.jsxs(Ve,{item:!0,container:!0,xs:12,columnSpacing:4,alignItems:"center",children:[M.jsx(Ve,{item:!0,xs:4,children:M.jsx($e,{children:"Dot Outline Thickness"})}),M.jsx(Ve,{item:!0,xs:6,children:M.jsx(wo,{value:t.dotOutlineThickness,step:1,min:0,max:50,onChange:(a,l)=>o("dotOutlineThickness",l),"aria-labelledby":"dot-outline-thickness-slider",sx:{display:"flex"}})}),M.jsx(Ve,{item:!0,xs:2,children:M.jsx(Br,{type:"number",value:t.dotOutlineThickness,onChange:a=>o("dotOutlineThickness",Number(a.target.value)),inputProps:{step:1,min:0,max:50}})})]}),M.jsxs(Ve,{item:!0,container:!0,xs:12,columnSpacing:4,alignItems:"center",children:[M.jsx(Ve,{item:!0,xs:3,children:M.jsx($e,{children:"Hide Top Line"})}),M.jsx(Ve,{item:!0,xs:5}),M.jsx(Ve,{item:!0,xs:4,display:"flex",justifyContent:"end",children:M.jsx(One,{control:M.jsx(RV,{checked:t.hideTopLine,onChange:a=>o("hideTopLine",a.target.checked)}),label:"Hide Top Line",sx:{marginRight:0}})})]}),M.jsxs(Ve,{item:!0,container:!0,xs:12,columnSpacing:4,alignItems:"center",children:[M.jsx(Ve,{item:!0,xs:4,children:M.jsx($e,{children:"Crosshair Render Size"})}),M.jsx(Ve,{item:!0,xs:6,children:M.jsx(wo,{value:t.crosshairRenderSize,step:.01,min:.01,max:5,onChange:(a,l)=>o("crosshairRenderSize",l),"aria-labelledby":"crosshair-render-size-slider",sx:{display:"flex"}})}),M.jsx(Ve,{item:!0,xs:2,children:M.jsx(Br,{type:"number",value:t.crosshairRenderSize,onChange:a=>o("crosshairRenderSize",Number(a.target.value)),inputProps:{step:.01,min:.01,max:5}})})]})]})]})})]})},Vde=({value:t,onChange:e})=>{const n=i=>{e(i.target.checked)};return M.jsx(RV,{checked:t,onChange:i=>n(i)})},bT=[{value:"/aim-blitz/textures/Bricks/Bricks.jpg",label:"Bricks"},{value:"/aim-blitz/textures/Checkerboard/Checkerboard.jpg",label:"Checkerboard"},{value:"/aim-blitz/textures/Cobblestone/Cobblestone.jpg",label:"Cobblestone"},{value:"/aim-blitz/textures/Concrete/Concrete.jpg",label:"Concrete"},{value:"/aim-blitz/textures/Grid/Grid.jpg",label:"Grid"},{value:"/aim-blitz/textures/Ground/Ground.jpg",label:"Ground"},{value:"/aim-blitz/textures/Metal/Metal.jpg",label:"Metal"},{value:"/aim-blitz/textures/Pure-Color/PureColor.jpg",label:"Pure Color"},{value:"/aim-blitz/textures/Rock/Rock.jpg",label:"Rock"},{value:"/aim-blitz/textures/Wood/Wood.jpg",label:"Wood"}],aR=({settings:t,setSettings:e,onSave:n,onCancel:i})=>{const{localSettings:r,setLocalSettings:s,resetLocalSettings:o}=hf(),[a,l]=k.useState(!1),c=async()=>{try{l(!1),e({settings:r}),n&&n()}catch(f){console.error("Error saving settings:",f)}},u=async()=>{try{l(!1),s(t),i&&i()}catch(f){console.error("Error canceling settings:",f)}},d=()=>{l(!0),o()};return M.jsx(M.Fragment,{children:M.jsxs(gt,{justifyContent:"space-between",height:"100%",width:"100%",children:[M.jsxs(gt,{gap:1,paddingY:1,marginY:1,children:[M.jsx($e,{variant:"h6",children:"Gameplay"}),M.jsx(jl,{}),M.jsxs(Qr,{label:"Sensitivity",children:[M.jsx(gs,{min:.1,max:1e4,step:.1,value:r.sensitivity.value,onChange:f=>{l(!0),s(m=>({...m,sensitivity:{...m.sensitivity,value:f}}))},onBlur:()=>{l(!0),r.sensitivity.value<.1?s(f=>({...f,sensitivity:{...f.sensitivity,value:.1}})):r.sensitivity.value>1e4&&s(f=>({...f,sensitivity:{...f.sensitivity,value:1e4}}))}}),M.jsx(Jx,{value:r.sensitivity.scale,options:[{value:"cm/360",label:"cm/360"},{value:"in/360",label:"in/360"}],onChange:f=>{l(!0),s(m=>({...m,sensitivity:{...m.sensitivity,scale:f}}))}}),M.jsx($e,{children:"DPI"}),M.jsx(gs,{min:100,max:5e4,step:1,value:r.sensitivity.dpi,onChange:f=>{l(!0),s(m=>({...m,sensitivity:{...m.sensitivity,dpi:f}}))},onBlur:()=>{l(!0),r.sensitivity.dpi<100?s(f=>({...f,sensitivity:{...f.sensitivity,dpi:100}})):r.sensitivity.dpi>5e4&&s(f=>({...f,sensitivity:{...f.sensitivity,dpi:5e4}}))}})]}),M.jsxs(Qr,{label:"FOV",children:[M.jsx(_o,{min:60,max:140,step:1,value:r.fov.value,onChange:f=>{l(!0),s(m=>({...m,fov:{...m.fov,value:f}}))}}),M.jsx(gs,{min:60,max:140,step:1,value:r.fov.value,onChange:f=>{l(!0),s(m=>({...m,fov:{...m.fov,value:f}}))},onBlur:()=>{l(!0),r.fov.value<60?s(f=>({...f,fov:{...f.fov,value:60}})):r.fov.value>140&&s(f=>({...f,fov:{...f.fov,value:140}}))}})]}),M.jsx(Qr,{label:"Crosshair",children:M.jsx(Hde,{value:r.crosshair,onChange:(f,m)=>{l(!0),s(g=>({...g,crosshair:{...g.crosshair,[f]:m}}))}})}),M.jsx($e,{variant:"h6",children:"Visual"}),M.jsx(jl,{}),M.jsxs(Zx,{label:"Walls",dropdownChildren:M.jsxs(M.Fragment,{children:[M.jsxs(Qr,{label:"Scale",children:[M.jsx(_o,{min:.1,max:10,step:.01,value:r.walls.scale,onChange:f=>{l(!0),s(m=>({...m,walls:{...m.walls,scale:f}}))}}),M.jsx(gs,{min:.1,max:10,step:.01,value:r.walls.scale,onChange:f=>{l(!0),s(m=>({...m,walls:{...m.walls,scale:f}}))},onBlur:()=>{l(!0),r.walls.scale<.1?s(f=>({...f,walls:{...f.walls,scale:.1}})):r.walls.scale>10&&s(f=>({...f,walls:{...f.walls,scale:10}}))}})]}),M.jsxs(Qr,{label:"Roughness",children:[M.jsx(_o,{min:0,max:1,step:.01,value:r.walls.roughness,onChange:f=>{l(!0),s(m=>({...m,walls:{...m.walls,roughness:f}}))}}),M.jsx(gs,{min:0,max:1,step:.01,value:r.walls.roughness,onChange:f=>{l(!0),s(m=>({...m,walls:{...m.walls,roughness:f}}))},onBlur:()=>{l(!0),r.walls.roughness<0?s(f=>({...f,walls:{...f.walls,roughness:0}})):r.walls.scale>1&&s(f=>({...f,walls:{...f.walls,roughness:1}}))}})]}),M.jsxs(Qr,{label:"Metallic",children:[M.jsx(_o,{min:0,max:1,step:.01,value:r.walls.metallic,onChange:f=>{l(!0),s(m=>({...m,walls:{...m.walls,metallic:f}}))}}),M.jsx(gs,{min:0,max:1,step:.01,value:r.walls.metallic,onChange:f=>{l(!0),s(m=>({...m,walls:{...m.walls,metallic:f}}))},onBlur:()=>{l(!0),r.walls.metallic<0?s(f=>({...f,walls:{...f.walls,metallic:0}})):r.walls.metallic>1&&s(f=>({...f,walls:{...f.walls,metallic:1}}))}})]})]}),children:[M.jsx(Jx,{value:r.walls.texture,options:bT,onChange:f=>{l(!0),s(m=>({...m,walls:{...m.walls,texture:f}}))}}),M.jsx(Vh,{value:r.walls.color,onChange:f=>{l(!0),s(m=>({...m,walls:{...m.walls,color:f}}))}})]}),M.jsxs(Zx,{label:"Floors",dropdownChildren:M.jsxs(M.Fragment,{children:[M.jsxs(Qr,{label:"Scale",children:[M.jsx(_o,{min:.1,max:10,step:.01,value:r.floors.scale,onChange:f=>{l(!0),s(m=>({...m,floors:{...m.floors,scale:f}}))}}),M.jsx(gs,{min:.1,max:10,step:.01,value:r.floors.scale,onChange:f=>{l(!0),s(m=>({...m,floors:{...m.floors,scale:f}}))},onBlur:()=>{l(!0),r.floors.scale<.1?s(f=>({...f,floors:{...f.floors,scale:.1}})):r.floors.scale>10&&s(f=>({...f,floors:{...f.floors,scale:10}}))}})]}),M.jsxs(Qr,{label:"Roughness",children:[M.jsx(_o,{min:0,max:1,step:.01,value:r.floors.roughness,onChange:f=>{l(!0),s(m=>({...m,floors:{...m.floors,roughness:f}}))}}),M.jsx(gs,{min:0,max:1,step:.01,value:r.floors.roughness,onChange:f=>{l(!0),s(m=>({...m,floors:{...m.floors,roughness:f}}))},onBlur:()=>{l(!0),r.floors.roughness<0?s(f=>({...f,floors:{...f.floors,roughness:0}})):r.floors.scale>1&&s(f=>({...f,floors:{...f.floors,roughness:1}}))}})]}),M.jsxs(Qr,{label:"Metallic",children:[M.jsx(_o,{min:0,max:1,step:.01,value:r.floors.metallic,onChange:f=>{l(!0),s(m=>({...m,floors:{...m.floors,metallic:f}}))}}),M.jsx(gs,{min:0,max:1,step:.01,value:r.floors.metallic,onChange:f=>{l(!0),s(m=>({...m,floors:{...m.floors,metallic:f}}))},onBlur:()=>{l(!0),r.floors.metallic<0?s(f=>({...f,floors:{...f.floors,metallic:0}})):r.floors.metallic>1&&s(f=>({...f,floors:{...f.floors,metallic:1}}))}})]})]}),children:[M.jsx(Jx,{value:r.floors.texture,options:bT,onChange:f=>{l(!0),s(m=>({...m,floors:{...m.floors,texture:f}}))}}),M.jsx(Vh,{value:r.floors.color,onChange:f=>{l(!0),s(m=>({...m,floors:{...m.floors,color:f}}))}})]}),M.jsxs(Zx,{label:"Ceilings",dropdownChildren:M.jsxs(M.Fragment,{children:[M.jsxs(Qr,{label:"Scale",children:[M.jsx(_o,{min:.1,max:10,step:.01,value:r.ceilings.scale,onChange:f=>{l(!0),s(m=>({...m,ceilings:{...m.ceilings,scale:f}}))}}),M.jsx(gs,{min:.1,max:10,step:.01,value:r.ceilings.scale,onChange:f=>{l(!0),s(m=>({...m,ceilings:{...m.ceilings,scale:f}}))},onBlur:()=>{l(!0),r.ceilings.scale<.1?s(f=>({...f,ceilings:{...f.ceilings,scale:.1}})):r.ceilings.scale>10&&s(f=>({...f,ceilings:{...f.ceilings,scale:10}}))}})]}),M.jsxs(Qr,{label:"Roughness",children:[M.jsx(_o,{min:0,max:1,step:.01,value:r.ceilings.roughness,onChange:f=>{l(!0),s(m=>({...m,ceilings:{...m.ceilings,roughness:f}}))}}),M.jsx(gs,{min:0,max:1,step:.01,value:r.ceilings.roughness,onChange:f=>{l(!0),s(m=>({...m,ceilings:{...m.ceilings,roughness:f}}))},onBlur:()=>{l(!0),r.ceilings.roughness<0?s(f=>({...f,ceilings:{...f.ceilings,roughness:0}})):r.ceilings.scale>1&&s(f=>({...f,ceilings:{...f.ceilings,roughness:1}}))}})]}),M.jsxs(Qr,{label:"Metallic",children:[M.jsx(_o,{min:0,max:1,step:.01,value:r.ceilings.metallic,onChange:f=>{l(!0),s(m=>({...m,ceilings:{...m.ceilings,metallic:f}}))}}),M.jsx(gs,{min:0,max:1,step:.01,value:r.ceilings.metallic,onChange:f=>{l(!0),s(m=>({...m,ceilings:{...m.ceilings,metallic:f}}))},onBlur:()=>{l(!0),r.ceilings.metallic<0?s(f=>({...f,ceilings:{...f.ceilings,metallic:0}})):r.ceilings.metallic>1&&s(f=>({...f,ceilings:{...f.ceilings,metallic:1}}))}})]})]}),children:[M.jsx(Jx,{value:r.ceilings.texture,options:bT,onChange:f=>{l(!0),s(m=>({...m,ceilings:{...m.ceilings,texture:f}}))}}),M.jsx(Vh,{value:r.ceilings.color,onChange:f=>{l(!0),s(m=>({...m,ceilings:{...m.ceilings,color:f}}))}})]}),M.jsx(Zx,{label:"Enemies",dropdownChildren:M.jsxs(M.Fragment,{children:[M.jsxs(Qr,{label:"Roughness",children:[M.jsx(_o,{min:0,max:1,step:.01,value:r.enemies.roughness,onChange:f=>{l(!0),s(m=>({...m,enemies:{...m.enemies,roughness:f}}))}}),M.jsx(gs,{min:0,max:1,step:.01,value:r.enemies.roughness,onChange:f=>{l(!0),s(m=>({...m,enemies:{...m.enemies,roughness:f}}))},onBlur:()=>{l(!0),r.enemies.roughness<0?s(f=>({...f,enemies:{...f.enemies,roughness:0}})):r.enemies.roughness>1&&s(f=>({...f,enemies:{...f.enemies,roughness:1}}))}})]}),M.jsxs(Qr,{label:"Metallic",children:[M.jsx(_o,{min:0,max:1,step:.01,value:r.enemies.metallic,onChange:f=>{l(!0),s(m=>({...m,enemies:{...m.enemies,metallic:f}}))}}),M.jsx(gs,{min:0,max:1,step:.01,value:r.enemies.metallic,onChange:f=>{l(!0),s(m=>({...m,enemies:{...m.enemies,metallic:f}}))},onBlur:()=>{l(!0),r.enemies.metallic<0?s(f=>({...f,enemies:{...f.enemies,metallic:0}})):r.enemies.metallic>1&&s(f=>({...f,enemies:{...f.enemies,metallic:1}}))}})]}),M.jsx(Qr,{label:"Glow (experimental)",children:M.jsx(Vde,{value:r.enemies.glow,onChange:f=>{l(!0),s(m=>({...m,enemies:{...m.enemies,glow:f}}))}})})]}),children:M.jsx(Vh,{value:r.enemies.color,onChange:f=>{l(!0),s(m=>({...m,enemies:{...m.enemies,color:f}}))}})})]}),M.jsxs(gt,{flexDirection:"row",justifyContent:"space-between",paddingY:1,marginY:1,children:[M.jsxs(gt,{flexDirection:"row",gap:4,children:[M.jsx(bi,{onClick:u,size:"large",variant:"contained",children:"Cancel"}),M.jsx(bi,{onClick:d,size:"large",color:"error",variant:"contained",children:"Reset"})]}),M.jsx(gt,{children:M.jsx(bi,{onClick:c,disabled:!a,size:"large",variant:"contained",children:"Save"})})]})]})})},jde=()=>{var s,o,a,l,c,u;const{data:t,isLoading:e}=ff(),{localStorageSettings:n,setLocalStorageSettings:i}=Ik(),r=oW();return M.jsx(Lk,{children:M.jsxs(gt,{paddingX:4,height:"100%",width:"100%",children:[M.jsx($e,{textAlign:"center",variant:"h3",marginY:1,padding:1,children:"Settings"}),!e&&((o=(s=t==null?void 0:t.data)==null?void 0:s.account)!=null&&o.settings)?M.jsx(aR,{settings:(l=(a=t==null?void 0:t.data)==null?void 0:a.account)==null?void 0:l.settings,setSettings:r.mutateAsync}):!e&&!((u=(c=t==null?void 0:t.data)==null?void 0:c.account)!=null&&u.settings)?M.jsx(aR,{settings:n.settings,setSettings:i}):e&&M.jsx(gt,{height:"100%",justifyContent:"center",alignItems:"center",children:M.jsx(Lb,{})})]})})},mW=k.createContext({pointerLockControls:{},setPointerLockControls:()=>{},isLocked:!1,setIsLocked:()=>{}}),gW=({children:t})=>{const[e,n]=k.useState({}),[i,r]=k.useState(!1);return M.jsx(mW.Provider,{value:{pointerLockControls:e,setPointerLockControls:n,isLocked:i,setIsLocked:r},children:t})},vW=k.createContext({isChallenge:!1,setIsChallenge:()=>{},showScoreboard:!1,setShowScoreboard:()=>{},isResetting:!1,setIsResetting:()=>{}}),yW=({children:t})=>{const[e,n]=k.useState(!1),[i,r]=k.useState(!1),[s,o]=k.useState(!1);return M.jsx(vW.Provider,{value:{isChallenge:e,setIsChallenge:n,showScoreboard:s,setShowScoreboard:o,isResetting:i,setIsResetting:r},children:t})},xW=k.createContext({shotsFired:0,setShotsFired:()=>{},shotsHit:0,setShotsHit:()=>{},damage:0,setDamage:()=>{},accuracy:0,setAccuracy:()=>{},score:0,setScore:()=>{},resetScore:()=>{}}),_W=({children:t,damagePerHit:e})=>{const[n,i]=k.useState(0),[r,s]=k.useState(0),[o,a]=k.useState(0),[l,c]=k.useState(0),[u,d]=k.useState(0),f=()=>{i(0),s(0),a(0),c(0),d(0)};return k.useEffect(()=>{c(n<=0?0:Math.round(r/n*1e4)/100)},[n,r]),k.useEffect(()=>{d(Math.round(r*(l/100)*100)/100)},[r,l]),k.useEffect(()=>{a(r*e)},[r,e]),M.jsx(xW.Provider,{value:{shotsFired:n,setShotsFired:i,shotsHit:r,setShotsHit:s,damage:o,setDamage:a,accuracy:l,setAccuracy:c,score:u,setScore:d,resetScore:f},children:t})};/**
 * @license
 * Copyright 2010-2023 Three.js Authors
 * SPDX-License-Identifier: MIT
 */const pf="159",Wde={LEFT:0,MIDDLE:1,RIGHT:2,ROTATE:0,DOLLY:1,PAN:2},Gde={ROTATE:0,PAN:1,DOLLY_PAN:2,DOLLY_ROTATE:3},bW=0,lR=1,SW=2,$de=3,wW=0,Pw=1,p0=2,qo=3,$a=0,Zi=1,Es=2,Xde=2,Er=0,Nd=1,cR=2,uR=3,dR=4,MW=5,Rc=100,EW=101,TW=102,fR=103,hR=104,CW=200,RW=201,AW=202,PW=203,B1=204,H1=205,kW=206,IW=207,LW=208,DW=209,OW=210,NW=211,FW=212,zW=213,UW=214,Nk=0,Fk=1,V1=2,zp=3,nv=4,zk=5,Uk=6,kw=7,ny=0,BW=1,HW=2,Ha=0,VW=1,jW=2,WW=3,Bk=4,GW=5,pR="attached",$W="detached",Iw=300,Wl=301,cu=302,iv=303,rv=304,om=306,wr=1e3,jr=1001,sv=1002,Un=1003,j1=1004,Yde=1004,m0=1005,qde=1005,Bn=1006,Hk=1007,Kde=1007,uu=1008,Qde=1008,mr=1009,XW=1010,YW=1011,Lw=1012,Vk=1013,Na=1014,eo=1015,du=1016,jk=1017,Wk=1018,Ol=1020,qW=1021,is=1023,KW=1024,QW=1025,eu=1026,fu=1027,ZW=1028,Gk=1029,JW=1030,$k=1031,Xk=1033,zb=33776,Ub=33777,Bb=33778,Hb=33779,mR=35840,gR=35841,vR=35842,yR=35843,Yk=36196,xR=37492,_R=37496,bR=37808,SR=37809,wR=37810,MR=37811,ER=37812,TR=37813,CR=37814,RR=37815,AR=37816,PR=37817,kR=37818,IR=37819,LR=37820,DR=37821,Vb=36492,OR=36494,NR=36495,e6=36283,FR=36284,zR=36285,UR=36286,t6=2200,n6=2201,i6=2202,ov=2300,av=2301,jb=2302,gd=2400,vd=2401,lv=2402,Dw=2500,qk=2501,Zde=0,Jde=1,efe=2,iy=3e3,Va=3001,la=3200,Ow=3201,Mu=0,r6=1,Zs="",qi="srgb",Xa="srgb-linear",Nw="display-p3",ry="display-p3-linear",cv="linear",jn="srgb",uv="rec709",dv="p3",tfe=0,id=7680,nfe=7681,ife=7682,rfe=7683,sfe=34055,ofe=34056,afe=5386,lfe=512,cfe=513,ufe=514,dfe=515,ffe=516,hfe=517,pfe=518,BR=519,s6=512,o6=513,a6=514,Kk=515,l6=516,c6=517,u6=518,d6=519,fv=35044,mfe=35048,gfe=35040,vfe=35045,yfe=35049,xfe=35041,_fe=35046,bfe=35050,Sfe=35042,wfe="100",HR="300 es",W1=1035,na=2e3,Up=2001;class lo{addEventListener(e,n){this._listeners===void 0&&(this._listeners={});const i=this._listeners;i[e]===void 0&&(i[e]=[]),i[e].indexOf(n)===-1&&i[e].push(n)}hasEventListener(e,n){if(this._listeners===void 0)return!1;const i=this._listeners;return i[e]!==void 0&&i[e].indexOf(n)!==-1}removeEventListener(e,n){if(this._listeners===void 0)return;const r=this._listeners[e];if(r!==void 0){const s=r.indexOf(n);s!==-1&&r.splice(s,1)}}dispatchEvent(e){if(this._listeners===void 0)return;const i=this._listeners[e.type];if(i!==void 0){e.target=this;const r=i.slice(0);for(let s=0,o=r.length;s<o;s++)r[s].call(this,e);e.target=null}}}const Dr=["00","01","02","03","04","05","06","07","08","09","0a","0b","0c","0d","0e","0f","10","11","12","13","14","15","16","17","18","19","1a","1b","1c","1d","1e","1f","20","21","22","23","24","25","26","27","28","29","2a","2b","2c","2d","2e","2f","30","31","32","33","34","35","36","37","38","39","3a","3b","3c","3d","3e","3f","40","41","42","43","44","45","46","47","48","49","4a","4b","4c","4d","4e","4f","50","51","52","53","54","55","56","57","58","59","5a","5b","5c","5d","5e","5f","60","61","62","63","64","65","66","67","68","69","6a","6b","6c","6d","6e","6f","70","71","72","73","74","75","76","77","78","79","7a","7b","7c","7d","7e","7f","80","81","82","83","84","85","86","87","88","89","8a","8b","8c","8d","8e","8f","90","91","92","93","94","95","96","97","98","99","9a","9b","9c","9d","9e","9f","a0","a1","a2","a3","a4","a5","a6","a7","a8","a9","aa","ab","ac","ad","ae","af","b0","b1","b2","b3","b4","b5","b6","b7","b8","b9","ba","bb","bc","bd","be","bf","c0","c1","c2","c3","c4","c5","c6","c7","c8","c9","ca","cb","cc","cd","ce","cf","d0","d1","d2","d3","d4","d5","d6","d7","d8","d9","da","db","dc","dd","de","df","e0","e1","e2","e3","e4","e5","e6","e7","e8","e9","ea","eb","ec","ed","ee","ef","f0","f1","f2","f3","f4","f5","f6","f7","f8","f9","fa","fb","fc","fd","fe","ff"];let rF=1234567;const Fd=Math.PI/180,Bp=180/Math.PI;function io(){const t=Math.random()*4294967295|0,e=Math.random()*4294967295|0,n=Math.random()*4294967295|0,i=Math.random()*4294967295|0;return(Dr[t&255]+Dr[t>>8&255]+Dr[t>>16&255]+Dr[t>>24&255]+"-"+Dr[e&255]+Dr[e>>8&255]+"-"+Dr[e>>16&15|64]+Dr[e>>24&255]+"-"+Dr[n&63|128]+Dr[n>>8&255]+"-"+Dr[n>>16&255]+Dr[n>>24&255]+Dr[i&255]+Dr[i>>8&255]+Dr[i>>16&255]+Dr[i>>24&255]).toLowerCase()}function Si(t,e,n){return Math.max(e,Math.min(n,t))}function Qk(t,e){return(t%e+e)%e}function Mfe(t,e,n,i,r){return i+(t-e)*(r-i)/(n-e)}function Efe(t,e,n){return t!==e?(n-t)/(e-t):0}function g0(t,e,n){return(1-n)*t+n*e}function Tfe(t,e,n,i){return g0(t,e,1-Math.exp(-n*i))}function Cfe(t,e=1){return e-Math.abs(Qk(t,e*2)-e)}function Rfe(t,e,n){return t<=e?0:t>=n?1:(t=(t-e)/(n-e),t*t*(3-2*t))}function Afe(t,e,n){return t<=e?0:t>=n?1:(t=(t-e)/(n-e),t*t*t*(t*(t*6-15)+10))}function Pfe(t,e){return t+Math.floor(Math.random()*(e-t+1))}function kfe(t,e){return t+Math.random()*(e-t)}function Ife(t){return t*(.5-Math.random())}function Lfe(t){t!==void 0&&(rF=t);let e=rF+=1831565813;return e=Math.imul(e^e>>>15,e|1),e^=e+Math.imul(e^e>>>7,e|61),((e^e>>>14)>>>0)/4294967296}function Dfe(t){return t*Fd}function Ofe(t){return t*Bp}function VR(t){return(t&t-1)===0&&t!==0}function Nfe(t){return Math.pow(2,Math.ceil(Math.log(t)/Math.LN2))}function G1(t){return Math.pow(2,Math.floor(Math.log(t)/Math.LN2))}function Ffe(t,e,n,i,r){const s=Math.cos,o=Math.sin,a=s(n/2),l=o(n/2),c=s((e+i)/2),u=o((e+i)/2),d=s((e-i)/2),f=o((e-i)/2),m=s((i-e)/2),g=o((i-e)/2);switch(r){case"XYX":t.set(a*u,l*d,l*f,a*c);break;case"YZY":t.set(l*f,a*u,l*d,a*c);break;case"ZXZ":t.set(l*d,l*f,a*u,a*c);break;case"XZX":t.set(a*u,l*g,l*m,a*c);break;case"YXY":t.set(l*m,a*u,l*g,a*c);break;case"ZYZ":t.set(l*g,l*m,a*u,a*c);break;default:console.warn("THREE.MathUtils: .setQuaternionFromProperEuler() encountered an unknown order: "+r)}}function Ts(t,e){switch(e.constructor){case Float32Array:return t;case Uint32Array:return t/4294967295;case Uint16Array:return t/65535;case Uint8Array:return t/255;case Int32Array:return Math.max(t/2147483647,-1);case Int16Array:return Math.max(t/32767,-1);case Int8Array:return Math.max(t/127,-1);default:throw new Error("Invalid component type.")}}function qt(t,e){switch(e.constructor){case Float32Array:return t;case Uint32Array:return Math.round(t*4294967295);case Uint16Array:return Math.round(t*65535);case Uint8Array:return Math.round(t*255);case Int32Array:return Math.round(t*2147483647);case Int16Array:return Math.round(t*32767);case Int8Array:return Math.round(t*127);default:throw new Error("Invalid component type.")}}const zfe={DEG2RAD:Fd,RAD2DEG:Bp,generateUUID:io,clamp:Si,euclideanModulo:Qk,mapLinear:Mfe,inverseLerp:Efe,lerp:g0,damp:Tfe,pingpong:Cfe,smoothstep:Rfe,smootherstep:Afe,randInt:Pfe,randFloat:kfe,randFloatSpread:Ife,seededRandom:Lfe,degToRad:Dfe,radToDeg:Ofe,isPowerOfTwo:VR,ceilPowerOfTwo:Nfe,floorPowerOfTwo:G1,setQuaternionFromProperEuler:Ffe,normalize:qt,denormalize:Ts};class Ae{constructor(e=0,n=0){Ae.prototype.isVector2=!0,this.x=e,this.y=n}get width(){return this.x}set width(e){this.x=e}get height(){return this.y}set height(e){this.y=e}set(e,n){return this.x=e,this.y=n,this}setScalar(e){return this.x=e,this.y=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setComponent(e,n){switch(e){case 0:this.x=n;break;case 1:this.y=n;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y)}copy(e){return this.x=e.x,this.y=e.y,this}add(e){return this.x+=e.x,this.y+=e.y,this}addScalar(e){return this.x+=e,this.y+=e,this}addVectors(e,n){return this.x=e.x+n.x,this.y=e.y+n.y,this}addScaledVector(e,n){return this.x+=e.x*n,this.y+=e.y*n,this}sub(e){return this.x-=e.x,this.y-=e.y,this}subScalar(e){return this.x-=e,this.y-=e,this}subVectors(e,n){return this.x=e.x-n.x,this.y=e.y-n.y,this}multiply(e){return this.x*=e.x,this.y*=e.y,this}multiplyScalar(e){return this.x*=e,this.y*=e,this}divide(e){return this.x/=e.x,this.y/=e.y,this}divideScalar(e){return this.multiplyScalar(1/e)}applyMatrix3(e){const n=this.x,i=this.y,r=e.elements;return this.x=r[0]*n+r[3]*i+r[6],this.y=r[1]*n+r[4]*i+r[7],this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this}clamp(e,n){return this.x=Math.max(e.x,Math.min(n.x,this.x)),this.y=Math.max(e.y,Math.min(n.y,this.y)),this}clampScalar(e,n){return this.x=Math.max(e,Math.min(n,this.x)),this.y=Math.max(e,Math.min(n,this.y)),this}clampLength(e,n){const i=this.length();return this.divideScalar(i||1).multiplyScalar(Math.max(e,Math.min(n,i)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this}negate(){return this.x=-this.x,this.y=-this.y,this}dot(e){return this.x*e.x+this.y*e.y}cross(e){return this.x*e.y-this.y*e.x}lengthSq(){return this.x*this.x+this.y*this.y}length(){return Math.sqrt(this.x*this.x+this.y*this.y)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)}normalize(){return this.divideScalar(this.length()||1)}angle(){return Math.atan2(-this.y,-this.x)+Math.PI}angleTo(e){const n=Math.sqrt(this.lengthSq()*e.lengthSq());if(n===0)return Math.PI/2;const i=this.dot(e)/n;return Math.acos(Si(i,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const n=this.x-e.x,i=this.y-e.y;return n*n+i*i}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,n){return this.x+=(e.x-this.x)*n,this.y+=(e.y-this.y)*n,this}lerpVectors(e,n,i){return this.x=e.x+(n.x-e.x)*i,this.y=e.y+(n.y-e.y)*i,this}equals(e){return e.x===this.x&&e.y===this.y}fromArray(e,n=0){return this.x=e[n],this.y=e[n+1],this}toArray(e=[],n=0){return e[n]=this.x,e[n+1]=this.y,e}fromBufferAttribute(e,n){return this.x=e.getX(n),this.y=e.getY(n),this}rotateAround(e,n){const i=Math.cos(n),r=Math.sin(n),s=this.x-e.x,o=this.y-e.y;return this.x=s*i-o*r+e.x,this.y=s*r+o*i+e.y,this}random(){return this.x=Math.random(),this.y=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y}}class Jt{constructor(e,n,i,r,s,o,a,l,c){Jt.prototype.isMatrix3=!0,this.elements=[1,0,0,0,1,0,0,0,1],e!==void 0&&this.set(e,n,i,r,s,o,a,l,c)}set(e,n,i,r,s,o,a,l,c){const u=this.elements;return u[0]=e,u[1]=r,u[2]=a,u[3]=n,u[4]=s,u[5]=l,u[6]=i,u[7]=o,u[8]=c,this}identity(){return this.set(1,0,0,0,1,0,0,0,1),this}copy(e){const n=this.elements,i=e.elements;return n[0]=i[0],n[1]=i[1],n[2]=i[2],n[3]=i[3],n[4]=i[4],n[5]=i[5],n[6]=i[6],n[7]=i[7],n[8]=i[8],this}extractBasis(e,n,i){return e.setFromMatrix3Column(this,0),n.setFromMatrix3Column(this,1),i.setFromMatrix3Column(this,2),this}setFromMatrix4(e){const n=e.elements;return this.set(n[0],n[4],n[8],n[1],n[5],n[9],n[2],n[6],n[10]),this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,n){const i=e.elements,r=n.elements,s=this.elements,o=i[0],a=i[3],l=i[6],c=i[1],u=i[4],d=i[7],f=i[2],m=i[5],g=i[8],y=r[0],x=r[3],v=r[6],_=r[1],b=r[4],w=r[7],C=r[2],T=r[5],R=r[8];return s[0]=o*y+a*_+l*C,s[3]=o*x+a*b+l*T,s[6]=o*v+a*w+l*R,s[1]=c*y+u*_+d*C,s[4]=c*x+u*b+d*T,s[7]=c*v+u*w+d*R,s[2]=f*y+m*_+g*C,s[5]=f*x+m*b+g*T,s[8]=f*v+m*w+g*R,this}multiplyScalar(e){const n=this.elements;return n[0]*=e,n[3]*=e,n[6]*=e,n[1]*=e,n[4]*=e,n[7]*=e,n[2]*=e,n[5]*=e,n[8]*=e,this}determinant(){const e=this.elements,n=e[0],i=e[1],r=e[2],s=e[3],o=e[4],a=e[5],l=e[6],c=e[7],u=e[8];return n*o*u-n*a*c-i*s*u+i*a*l+r*s*c-r*o*l}invert(){const e=this.elements,n=e[0],i=e[1],r=e[2],s=e[3],o=e[4],a=e[5],l=e[6],c=e[7],u=e[8],d=u*o-a*c,f=a*l-u*s,m=c*s-o*l,g=n*d+i*f+r*m;if(g===0)return this.set(0,0,0,0,0,0,0,0,0);const y=1/g;return e[0]=d*y,e[1]=(r*c-u*i)*y,e[2]=(a*i-r*o)*y,e[3]=f*y,e[4]=(u*n-r*l)*y,e[5]=(r*s-a*n)*y,e[6]=m*y,e[7]=(i*l-c*n)*y,e[8]=(o*n-i*s)*y,this}transpose(){let e;const n=this.elements;return e=n[1],n[1]=n[3],n[3]=e,e=n[2],n[2]=n[6],n[6]=e,e=n[5],n[5]=n[7],n[7]=e,this}getNormalMatrix(e){return this.setFromMatrix4(e).invert().transpose()}transposeIntoArray(e){const n=this.elements;return e[0]=n[0],e[1]=n[3],e[2]=n[6],e[3]=n[1],e[4]=n[4],e[5]=n[7],e[6]=n[2],e[7]=n[5],e[8]=n[8],this}setUvTransform(e,n,i,r,s,o,a){const l=Math.cos(s),c=Math.sin(s);return this.set(i*l,i*c,-i*(l*o+c*a)+o+e,-r*c,r*l,-r*(-c*o+l*a)+a+n,0,0,1),this}scale(e,n){return this.premultiply(ST.makeScale(e,n)),this}rotate(e){return this.premultiply(ST.makeRotation(-e)),this}translate(e,n){return this.premultiply(ST.makeTranslation(e,n)),this}makeTranslation(e,n){return e.isVector2?this.set(1,0,e.x,0,1,e.y,0,0,1):this.set(1,0,e,0,1,n,0,0,1),this}makeRotation(e){const n=Math.cos(e),i=Math.sin(e);return this.set(n,-i,0,i,n,0,0,0,1),this}makeScale(e,n){return this.set(e,0,0,0,n,0,0,0,1),this}equals(e){const n=this.elements,i=e.elements;for(let r=0;r<9;r++)if(n[r]!==i[r])return!1;return!0}fromArray(e,n=0){for(let i=0;i<9;i++)this.elements[i]=e[i+n];return this}toArray(e=[],n=0){const i=this.elements;return e[n]=i[0],e[n+1]=i[1],e[n+2]=i[2],e[n+3]=i[3],e[n+4]=i[4],e[n+5]=i[5],e[n+6]=i[6],e[n+7]=i[7],e[n+8]=i[8],e}clone(){return new this.constructor().fromArray(this.elements)}}const ST=new Jt;function f6(t){for(let e=t.length-1;e>=0;--e)if(t[e]>=65535)return!0;return!1}const Ufe={Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array};function jh(t,e){return new Ufe[t](e)}function hv(t){return document.createElementNS("http://www.w3.org/1999/xhtml",t)}function h6(){const t=hv("canvas");return t.style.display="block",t}const sF={};function v0(t){t in sF||(sF[t]=!0,console.warn(t))}const oF=new Jt().set(.8224621,.177538,0,.0331941,.9668058,0,.0170827,.0723974,.9105199),aF=new Jt().set(1.2249401,-.2249404,0,-.0420569,1.0420571,0,-.0196376,-.0786361,1.0982735),e_={[Xa]:{transfer:cv,primaries:uv,toReference:t=>t,fromReference:t=>t},[qi]:{transfer:jn,primaries:uv,toReference:t=>t.convertSRGBToLinear(),fromReference:t=>t.convertLinearToSRGB()},[ry]:{transfer:cv,primaries:dv,toReference:t=>t.applyMatrix3(aF),fromReference:t=>t.applyMatrix3(oF)},[Nw]:{transfer:jn,primaries:dv,toReference:t=>t.convertSRGBToLinear().applyMatrix3(aF),fromReference:t=>t.applyMatrix3(oF).convertLinearToSRGB()}},Bfe=new Set([Xa,ry]),An={enabled:!0,_workingColorSpace:Xa,get legacyMode(){return console.warn("THREE.ColorManagement: .legacyMode=false renamed to .enabled=true in r150."),!this.enabled},set legacyMode(t){console.warn("THREE.ColorManagement: .legacyMode=false renamed to .enabled=true in r150."),this.enabled=!t},get workingColorSpace(){return this._workingColorSpace},set workingColorSpace(t){if(!Bfe.has(t))throw new Error(`Unsupported working color space, "${t}".`);this._workingColorSpace=t},convert:function(t,e,n){if(this.enabled===!1||e===n||!e||!n)return t;const i=e_[e].toReference,r=e_[n].fromReference;return r(i(t))},fromWorkingColorSpace:function(t,e){return this.convert(t,this._workingColorSpace,e)},toWorkingColorSpace:function(t,e){return this.convert(t,e,this._workingColorSpace)},getPrimaries:function(t){return e_[t].primaries},getTransfer:function(t){return t===Zs?cv:e_[t].transfer}};function op(t){return t<.04045?t*.0773993808:Math.pow(t*.9478672986+.0521327014,2.4)}function wT(t){return t<.0031308?t*12.92:1.055*Math.pow(t,.41666)-.055}let qf;class Zk{static getDataURL(e){if(/^data:/i.test(e.src)||typeof HTMLCanvasElement>"u")return e.src;let n;if(e instanceof HTMLCanvasElement)n=e;else{qf===void 0&&(qf=hv("canvas")),qf.width=e.width,qf.height=e.height;const i=qf.getContext("2d");e instanceof ImageData?i.putImageData(e,0,0):i.drawImage(e,0,0,e.width,e.height),n=qf}return n.width>2048||n.height>2048?(console.warn("THREE.ImageUtils.getDataURL: Image converted to jpg for performance reasons",e),n.toDataURL("image/jpeg",.6)):n.toDataURL("image/png")}static sRGBToLinear(e){if(typeof HTMLImageElement<"u"&&e instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&e instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&e instanceof ImageBitmap){const n=hv("canvas");n.width=e.width,n.height=e.height;const i=n.getContext("2d");i.drawImage(e,0,0,e.width,e.height);const r=i.getImageData(0,0,e.width,e.height),s=r.data;for(let o=0;o<s.length;o++)s[o]=op(s[o]/255)*255;return i.putImageData(r,0,0),n}else if(e.data){const n=e.data.slice(0);for(let i=0;i<n.length;i++)n instanceof Uint8Array||n instanceof Uint8ClampedArray?n[i]=Math.floor(op(n[i]/255)*255):n[i]=op(n[i]);return{data:n,width:e.width,height:e.height}}else return console.warn("THREE.ImageUtils.sRGBToLinear(): Unsupported image type. No color space conversion applied."),e}}let Hfe=0;class yd{constructor(e=null){this.isSource=!0,Object.defineProperty(this,"id",{value:Hfe++}),this.uuid=io(),this.data=e,this.version=0}set needsUpdate(e){e===!0&&this.version++}toJSON(e){const n=e===void 0||typeof e=="string";if(!n&&e.images[this.uuid]!==void 0)return e.images[this.uuid];const i={uuid:this.uuid,url:""},r=this.data;if(r!==null){let s;if(Array.isArray(r)){s=[];for(let o=0,a=r.length;o<a;o++)r[o].isDataTexture?s.push(MT(r[o].image)):s.push(MT(r[o]))}else s=MT(r);i.url=s}return n||(e.images[this.uuid]=i),i}}function MT(t){return typeof HTMLImageElement<"u"&&t instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&t instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&t instanceof ImageBitmap?Zk.getDataURL(t):t.data?{data:Array.from(t.data),width:t.width,height:t.height,type:t.data.constructor.name}:(console.warn("THREE.Texture: Unable to serialize Texture."),{})}let Vfe=0;class ni extends lo{constructor(e=ni.DEFAULT_IMAGE,n=ni.DEFAULT_MAPPING,i=jr,r=jr,s=Bn,o=uu,a=is,l=mr,c=ni.DEFAULT_ANISOTROPY,u=Zs){super(),this.isTexture=!0,Object.defineProperty(this,"id",{value:Vfe++}),this.uuid=io(),this.name="",this.source=new yd(e),this.mipmaps=[],this.mapping=n,this.channel=0,this.wrapS=i,this.wrapT=r,this.magFilter=s,this.minFilter=o,this.anisotropy=c,this.format=a,this.internalFormat=null,this.type=l,this.offset=new Ae(0,0),this.repeat=new Ae(1,1),this.center=new Ae(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new Jt,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,typeof u=="string"?this.colorSpace=u:(v0("THREE.Texture: Property .encoding has been replaced by .colorSpace."),this.colorSpace=u===Va?qi:Zs),this.userData={},this.version=0,this.onUpdate=null,this.isRenderTargetTexture=!1,this.needsPMREMUpdate=!1}get image(){return this.source.data}set image(e=null){this.source.data=e}updateMatrix(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)}clone(){return new this.constructor().copy(this)}copy(e){return this.name=e.name,this.source=e.source,this.mipmaps=e.mipmaps.slice(0),this.mapping=e.mapping,this.channel=e.channel,this.wrapS=e.wrapS,this.wrapT=e.wrapT,this.magFilter=e.magFilter,this.minFilter=e.minFilter,this.anisotropy=e.anisotropy,this.format=e.format,this.internalFormat=e.internalFormat,this.type=e.type,this.offset.copy(e.offset),this.repeat.copy(e.repeat),this.center.copy(e.center),this.rotation=e.rotation,this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrix.copy(e.matrix),this.generateMipmaps=e.generateMipmaps,this.premultiplyAlpha=e.premultiplyAlpha,this.flipY=e.flipY,this.unpackAlignment=e.unpackAlignment,this.colorSpace=e.colorSpace,this.userData=JSON.parse(JSON.stringify(e.userData)),this.needsUpdate=!0,this}toJSON(e){const n=e===void 0||typeof e=="string";if(!n&&e.textures[this.uuid]!==void 0)return e.textures[this.uuid];const i={metadata:{version:4.6,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,image:this.source.toJSON(e).uuid,mapping:this.mapping,channel:this.channel,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,internalFormat:this.internalFormat,type:this.type,colorSpace:this.colorSpace,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,generateMipmaps:this.generateMipmaps,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};return Object.keys(this.userData).length>0&&(i.userData=this.userData),n||(e.textures[this.uuid]=i),i}dispose(){this.dispatchEvent({type:"dispose"})}transformUv(e){if(this.mapping!==Iw)return e;if(e.applyMatrix3(this.matrix),e.x<0||e.x>1)switch(this.wrapS){case wr:e.x=e.x-Math.floor(e.x);break;case jr:e.x=e.x<0?0:1;break;case sv:Math.abs(Math.floor(e.x)%2)===1?e.x=Math.ceil(e.x)-e.x:e.x=e.x-Math.floor(e.x);break}if(e.y<0||e.y>1)switch(this.wrapT){case wr:e.y=e.y-Math.floor(e.y);break;case jr:e.y=e.y<0?0:1;break;case sv:Math.abs(Math.floor(e.y)%2)===1?e.y=Math.ceil(e.y)-e.y:e.y=e.y-Math.floor(e.y);break}return this.flipY&&(e.y=1-e.y),e}set needsUpdate(e){e===!0&&(this.version++,this.source.needsUpdate=!0)}get encoding(){return v0("THREE.Texture: Property .encoding has been replaced by .colorSpace."),this.colorSpace===qi?Va:iy}set encoding(e){v0("THREE.Texture: Property .encoding has been replaced by .colorSpace."),this.colorSpace=e===Va?qi:Zs}}ni.DEFAULT_IMAGE=null;ni.DEFAULT_MAPPING=Iw;ni.DEFAULT_ANISOTROPY=1;class wn{constructor(e=0,n=0,i=0,r=1){wn.prototype.isVector4=!0,this.x=e,this.y=n,this.z=i,this.w=r}get width(){return this.z}set width(e){this.z=e}get height(){return this.w}set height(e){this.w=e}set(e,n,i,r){return this.x=e,this.y=n,this.z=i,this.w=r,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this.w=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setW(e){return this.w=e,this}setComponent(e,n){switch(e){case 0:this.x=n;break;case 1:this.y=n;break;case 2:this.z=n;break;case 3:this.w=n;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z,this.w)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this.w=e.w!==void 0?e.w:1,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this.w+=e.w,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this.w+=e,this}addVectors(e,n){return this.x=e.x+n.x,this.y=e.y+n.y,this.z=e.z+n.z,this.w=e.w+n.w,this}addScaledVector(e,n){return this.x+=e.x*n,this.y+=e.y*n,this.z+=e.z*n,this.w+=e.w*n,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this.w-=e.w,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this.w-=e,this}subVectors(e,n){return this.x=e.x-n.x,this.y=e.y-n.y,this.z=e.z-n.z,this.w=e.w-n.w,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this.w*=e.w,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this.w*=e,this}applyMatrix4(e){const n=this.x,i=this.y,r=this.z,s=this.w,o=e.elements;return this.x=o[0]*n+o[4]*i+o[8]*r+o[12]*s,this.y=o[1]*n+o[5]*i+o[9]*r+o[13]*s,this.z=o[2]*n+o[6]*i+o[10]*r+o[14]*s,this.w=o[3]*n+o[7]*i+o[11]*r+o[15]*s,this}divideScalar(e){return this.multiplyScalar(1/e)}setAxisAngleFromQuaternion(e){this.w=2*Math.acos(e.w);const n=Math.sqrt(1-e.w*e.w);return n<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=e.x/n,this.y=e.y/n,this.z=e.z/n),this}setAxisAngleFromRotationMatrix(e){let n,i,r,s;const l=e.elements,c=l[0],u=l[4],d=l[8],f=l[1],m=l[5],g=l[9],y=l[2],x=l[6],v=l[10];if(Math.abs(u-f)<.01&&Math.abs(d-y)<.01&&Math.abs(g-x)<.01){if(Math.abs(u+f)<.1&&Math.abs(d+y)<.1&&Math.abs(g+x)<.1&&Math.abs(c+m+v-3)<.1)return this.set(1,0,0,0),this;n=Math.PI;const b=(c+1)/2,w=(m+1)/2,C=(v+1)/2,T=(u+f)/4,R=(d+y)/4,I=(g+x)/4;return b>w&&b>C?b<.01?(i=0,r=.707106781,s=.707106781):(i=Math.sqrt(b),r=T/i,s=R/i):w>C?w<.01?(i=.707106781,r=0,s=.707106781):(r=Math.sqrt(w),i=T/r,s=I/r):C<.01?(i=.707106781,r=.707106781,s=0):(s=Math.sqrt(C),i=R/s,r=I/s),this.set(i,r,s,n),this}let _=Math.sqrt((x-g)*(x-g)+(d-y)*(d-y)+(f-u)*(f-u));return Math.abs(_)<.001&&(_=1),this.x=(x-g)/_,this.y=(d-y)/_,this.z=(f-u)/_,this.w=Math.acos((c+m+v-1)/2),this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this.w=Math.min(this.w,e.w),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this.w=Math.max(this.w,e.w),this}clamp(e,n){return this.x=Math.max(e.x,Math.min(n.x,this.x)),this.y=Math.max(e.y,Math.min(n.y,this.y)),this.z=Math.max(e.z,Math.min(n.z,this.z)),this.w=Math.max(e.w,Math.min(n.w,this.w)),this}clampScalar(e,n){return this.x=Math.max(e,Math.min(n,this.x)),this.y=Math.max(e,Math.min(n,this.y)),this.z=Math.max(e,Math.min(n,this.z)),this.w=Math.max(e,Math.min(n,this.w)),this}clampLength(e,n){const i=this.length();return this.divideScalar(i||1).multiplyScalar(Math.max(e,Math.min(n,i)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this.w=Math.trunc(this.w),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z+this.w*e.w}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,n){return this.x+=(e.x-this.x)*n,this.y+=(e.y-this.y)*n,this.z+=(e.z-this.z)*n,this.w+=(e.w-this.w)*n,this}lerpVectors(e,n,i){return this.x=e.x+(n.x-e.x)*i,this.y=e.y+(n.y-e.y)*i,this.z=e.z+(n.z-e.z)*i,this.w=e.w+(n.w-e.w)*i,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z&&e.w===this.w}fromArray(e,n=0){return this.x=e[n],this.y=e[n+1],this.z=e[n+2],this.w=e[n+3],this}toArray(e=[],n=0){return e[n]=this.x,e[n+1]=this.y,e[n+2]=this.z,e[n+3]=this.w,e}fromBufferAttribute(e,n){return this.x=e.getX(n),this.y=e.getY(n),this.z=e.getZ(n),this.w=e.getW(n),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this.w=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z,yield this.w}}class p6 extends lo{constructor(e=1,n=1,i={}){super(),this.isRenderTarget=!0,this.width=e,this.height=n,this.depth=1,this.scissor=new wn(0,0,e,n),this.scissorTest=!1,this.viewport=new wn(0,0,e,n);const r={width:e,height:n,depth:1};i.encoding!==void 0&&(v0("THREE.WebGLRenderTarget: option.encoding has been replaced by option.colorSpace."),i.colorSpace=i.encoding===Va?qi:Zs),i=Object.assign({generateMipmaps:!1,internalFormat:null,minFilter:Bn,depthBuffer:!0,stencilBuffer:!1,depthTexture:null,samples:0},i),this.texture=new ni(r,i.mapping,i.wrapS,i.wrapT,i.magFilter,i.minFilter,i.format,i.type,i.anisotropy,i.colorSpace),this.texture.isRenderTargetTexture=!0,this.texture.flipY=!1,this.texture.generateMipmaps=i.generateMipmaps,this.texture.internalFormat=i.internalFormat,this.depthBuffer=i.depthBuffer,this.stencilBuffer=i.stencilBuffer,this.depthTexture=i.depthTexture,this.samples=i.samples}setSize(e,n,i=1){(this.width!==e||this.height!==n||this.depth!==i)&&(this.width=e,this.height=n,this.depth=i,this.texture.image.width=e,this.texture.image.height=n,this.texture.image.depth=i,this.dispose()),this.viewport.set(0,0,e,n),this.scissor.set(0,0,e,n)}clone(){return new this.constructor().copy(this)}copy(e){this.width=e.width,this.height=e.height,this.depth=e.depth,this.scissor.copy(e.scissor),this.scissorTest=e.scissorTest,this.viewport.copy(e.viewport),this.texture=e.texture.clone(),this.texture.isRenderTargetTexture=!0;const n=Object.assign({},e.texture.image);return this.texture.source=new yd(n),this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,e.depthTexture!==null&&(this.depthTexture=e.depthTexture.clone()),this.samples=e.samples,this}dispose(){this.dispatchEvent({type:"dispose"})}}class ii extends p6{constructor(e=1,n=1,i={}){super(e,n,i),this.isWebGLRenderTarget=!0}}class Fw extends ni{constructor(e=null,n=1,i=1,r=1){super(null),this.isDataArrayTexture=!0,this.image={data:e,width:n,height:i,depth:r},this.magFilter=Un,this.minFilter=Un,this.wrapR=jr,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class jfe extends ii{constructor(e=1,n=1,i=1,r={}){super(e,n,r),this.isWebGLArrayRenderTarget=!0,this.depth=i,this.texture=new Fw(null,e,n,i),this.texture.isRenderTargetTexture=!0}}class Jk extends ni{constructor(e=null,n=1,i=1,r=1){super(null),this.isData3DTexture=!0,this.image={data:e,width:n,height:i,depth:r},this.magFilter=Un,this.minFilter=Un,this.wrapR=jr,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class Wfe extends ii{constructor(e=1,n=1,i=1,r={}){super(e,n,r),this.isWebGL3DRenderTarget=!0,this.depth=i,this.texture=new Jk(null,e,n,i),this.texture.isRenderTargetTexture=!0}}class Gfe extends ii{constructor(e=1,n=1,i=1,r={}){super(e,n,r),this.isWebGLMultipleRenderTargets=!0;const s=this.texture;this.texture=[];for(let o=0;o<i;o++)this.texture[o]=s.clone(),this.texture[o].isRenderTargetTexture=!0}setSize(e,n,i=1){if(this.width!==e||this.height!==n||this.depth!==i){this.width=e,this.height=n,this.depth=i;for(let r=0,s=this.texture.length;r<s;r++)this.texture[r].image.width=e,this.texture[r].image.height=n,this.texture[r].image.depth=i;this.dispose()}this.viewport.set(0,0,e,n),this.scissor.set(0,0,e,n)}copy(e){this.dispose(),this.width=e.width,this.height=e.height,this.depth=e.depth,this.scissor.copy(e.scissor),this.scissorTest=e.scissorTest,this.viewport.copy(e.viewport),this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,e.depthTexture!==null&&(this.depthTexture=e.depthTexture.clone()),this.texture.length=0;for(let n=0,i=e.texture.length;n<i;n++)this.texture[n]=e.texture[n].clone(),this.texture[n].isRenderTargetTexture=!0;return this}}class Is{constructor(e=0,n=0,i=0,r=1){this.isQuaternion=!0,this._x=e,this._y=n,this._z=i,this._w=r}static slerpFlat(e,n,i,r,s,o,a){let l=i[r+0],c=i[r+1],u=i[r+2],d=i[r+3];const f=s[o+0],m=s[o+1],g=s[o+2],y=s[o+3];if(a===0){e[n+0]=l,e[n+1]=c,e[n+2]=u,e[n+3]=d;return}if(a===1){e[n+0]=f,e[n+1]=m,e[n+2]=g,e[n+3]=y;return}if(d!==y||l!==f||c!==m||u!==g){let x=1-a;const v=l*f+c*m+u*g+d*y,_=v>=0?1:-1,b=1-v*v;if(b>Number.EPSILON){const C=Math.sqrt(b),T=Math.atan2(C,v*_);x=Math.sin(x*T)/C,a=Math.sin(a*T)/C}const w=a*_;if(l=l*x+f*w,c=c*x+m*w,u=u*x+g*w,d=d*x+y*w,x===1-a){const C=1/Math.sqrt(l*l+c*c+u*u+d*d);l*=C,c*=C,u*=C,d*=C}}e[n]=l,e[n+1]=c,e[n+2]=u,e[n+3]=d}static multiplyQuaternionsFlat(e,n,i,r,s,o){const a=i[r],l=i[r+1],c=i[r+2],u=i[r+3],d=s[o],f=s[o+1],m=s[o+2],g=s[o+3];return e[n]=a*g+u*d+l*m-c*f,e[n+1]=l*g+u*f+c*d-a*m,e[n+2]=c*g+u*m+a*f-l*d,e[n+3]=u*g-a*d-l*f-c*m,e}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get w(){return this._w}set w(e){this._w=e,this._onChangeCallback()}set(e,n,i,r){return this._x=e,this._y=n,this._z=i,this._w=r,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._w)}copy(e){return this._x=e.x,this._y=e.y,this._z=e.z,this._w=e.w,this._onChangeCallback(),this}setFromEuler(e,n){const i=e._x,r=e._y,s=e._z,o=e._order,a=Math.cos,l=Math.sin,c=a(i/2),u=a(r/2),d=a(s/2),f=l(i/2),m=l(r/2),g=l(s/2);switch(o){case"XYZ":this._x=f*u*d+c*m*g,this._y=c*m*d-f*u*g,this._z=c*u*g+f*m*d,this._w=c*u*d-f*m*g;break;case"YXZ":this._x=f*u*d+c*m*g,this._y=c*m*d-f*u*g,this._z=c*u*g-f*m*d,this._w=c*u*d+f*m*g;break;case"ZXY":this._x=f*u*d-c*m*g,this._y=c*m*d+f*u*g,this._z=c*u*g+f*m*d,this._w=c*u*d-f*m*g;break;case"ZYX":this._x=f*u*d-c*m*g,this._y=c*m*d+f*u*g,this._z=c*u*g-f*m*d,this._w=c*u*d+f*m*g;break;case"YZX":this._x=f*u*d+c*m*g,this._y=c*m*d+f*u*g,this._z=c*u*g-f*m*d,this._w=c*u*d-f*m*g;break;case"XZY":this._x=f*u*d-c*m*g,this._y=c*m*d-f*u*g,this._z=c*u*g+f*m*d,this._w=c*u*d+f*m*g;break;default:console.warn("THREE.Quaternion: .setFromEuler() encountered an unknown order: "+o)}return n!==!1&&this._onChangeCallback(),this}setFromAxisAngle(e,n){const i=n/2,r=Math.sin(i);return this._x=e.x*r,this._y=e.y*r,this._z=e.z*r,this._w=Math.cos(i),this._onChangeCallback(),this}setFromRotationMatrix(e){const n=e.elements,i=n[0],r=n[4],s=n[8],o=n[1],a=n[5],l=n[9],c=n[2],u=n[6],d=n[10],f=i+a+d;if(f>0){const m=.5/Math.sqrt(f+1);this._w=.25/m,this._x=(u-l)*m,this._y=(s-c)*m,this._z=(o-r)*m}else if(i>a&&i>d){const m=2*Math.sqrt(1+i-a-d);this._w=(u-l)/m,this._x=.25*m,this._y=(r+o)/m,this._z=(s+c)/m}else if(a>d){const m=2*Math.sqrt(1+a-i-d);this._w=(s-c)/m,this._x=(r+o)/m,this._y=.25*m,this._z=(l+u)/m}else{const m=2*Math.sqrt(1+d-i-a);this._w=(o-r)/m,this._x=(s+c)/m,this._y=(l+u)/m,this._z=.25*m}return this._onChangeCallback(),this}setFromUnitVectors(e,n){let i=e.dot(n)+1;return i<Number.EPSILON?(i=0,Math.abs(e.x)>Math.abs(e.z)?(this._x=-e.y,this._y=e.x,this._z=0,this._w=i):(this._x=0,this._y=-e.z,this._z=e.y,this._w=i)):(this._x=e.y*n.z-e.z*n.y,this._y=e.z*n.x-e.x*n.z,this._z=e.x*n.y-e.y*n.x,this._w=i),this.normalize()}angleTo(e){return 2*Math.acos(Math.abs(Si(this.dot(e),-1,1)))}rotateTowards(e,n){const i=this.angleTo(e);if(i===0)return this;const r=Math.min(1,n/i);return this.slerp(e,r),this}identity(){return this.set(0,0,0,1)}invert(){return this.conjugate()}conjugate(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this}dot(e){return this._x*e._x+this._y*e._y+this._z*e._z+this._w*e._w}lengthSq(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}length(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}normalize(){let e=this.length();return e===0?(this._x=0,this._y=0,this._z=0,this._w=1):(e=1/e,this._x=this._x*e,this._y=this._y*e,this._z=this._z*e,this._w=this._w*e),this._onChangeCallback(),this}multiply(e){return this.multiplyQuaternions(this,e)}premultiply(e){return this.multiplyQuaternions(e,this)}multiplyQuaternions(e,n){const i=e._x,r=e._y,s=e._z,o=e._w,a=n._x,l=n._y,c=n._z,u=n._w;return this._x=i*u+o*a+r*c-s*l,this._y=r*u+o*l+s*a-i*c,this._z=s*u+o*c+i*l-r*a,this._w=o*u-i*a-r*l-s*c,this._onChangeCallback(),this}slerp(e,n){if(n===0)return this;if(n===1)return this.copy(e);const i=this._x,r=this._y,s=this._z,o=this._w;let a=o*e._w+i*e._x+r*e._y+s*e._z;if(a<0?(this._w=-e._w,this._x=-e._x,this._y=-e._y,this._z=-e._z,a=-a):this.copy(e),a>=1)return this._w=o,this._x=i,this._y=r,this._z=s,this;const l=1-a*a;if(l<=Number.EPSILON){const m=1-n;return this._w=m*o+n*this._w,this._x=m*i+n*this._x,this._y=m*r+n*this._y,this._z=m*s+n*this._z,this.normalize(),this._onChangeCallback(),this}const c=Math.sqrt(l),u=Math.atan2(c,a),d=Math.sin((1-n)*u)/c,f=Math.sin(n*u)/c;return this._w=o*d+this._w*f,this._x=i*d+this._x*f,this._y=r*d+this._y*f,this._z=s*d+this._z*f,this._onChangeCallback(),this}slerpQuaternions(e,n,i){return this.copy(e).slerp(n,i)}random(){const e=Math.random(),n=Math.sqrt(1-e),i=Math.sqrt(e),r=2*Math.PI*Math.random(),s=2*Math.PI*Math.random();return this.set(n*Math.cos(r),i*Math.sin(s),i*Math.cos(s),n*Math.sin(r))}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._w===this._w}fromArray(e,n=0){return this._x=e[n],this._y=e[n+1],this._z=e[n+2],this._w=e[n+3],this._onChangeCallback(),this}toArray(e=[],n=0){return e[n]=this._x,e[n+1]=this._y,e[n+2]=this._z,e[n+3]=this._w,e}fromBufferAttribute(e,n){return this._x=e.getX(n),this._y=e.getY(n),this._z=e.getZ(n),this._w=e.getW(n),this}toJSON(){return this.toArray()}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._w}}class W{constructor(e=0,n=0,i=0){W.prototype.isVector3=!0,this.x=e,this.y=n,this.z=i}set(e,n,i){return i===void 0&&(i=this.z),this.x=e,this.y=n,this.z=i,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setComponent(e,n){switch(e){case 0:this.x=n;break;case 1:this.y=n;break;case 2:this.z=n;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this}addVectors(e,n){return this.x=e.x+n.x,this.y=e.y+n.y,this.z=e.z+n.z,this}addScaledVector(e,n){return this.x+=e.x*n,this.y+=e.y*n,this.z+=e.z*n,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this}subVectors(e,n){return this.x=e.x-n.x,this.y=e.y-n.y,this.z=e.z-n.z,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this}multiplyVectors(e,n){return this.x=e.x*n.x,this.y=e.y*n.y,this.z=e.z*n.z,this}applyEuler(e){return this.applyQuaternion(lF.setFromEuler(e))}applyAxisAngle(e,n){return this.applyQuaternion(lF.setFromAxisAngle(e,n))}applyMatrix3(e){const n=this.x,i=this.y,r=this.z,s=e.elements;return this.x=s[0]*n+s[3]*i+s[6]*r,this.y=s[1]*n+s[4]*i+s[7]*r,this.z=s[2]*n+s[5]*i+s[8]*r,this}applyNormalMatrix(e){return this.applyMatrix3(e).normalize()}applyMatrix4(e){const n=this.x,i=this.y,r=this.z,s=e.elements,o=1/(s[3]*n+s[7]*i+s[11]*r+s[15]);return this.x=(s[0]*n+s[4]*i+s[8]*r+s[12])*o,this.y=(s[1]*n+s[5]*i+s[9]*r+s[13])*o,this.z=(s[2]*n+s[6]*i+s[10]*r+s[14])*o,this}applyQuaternion(e){const n=this.x,i=this.y,r=this.z,s=e.x,o=e.y,a=e.z,l=e.w,c=2*(o*r-a*i),u=2*(a*n-s*r),d=2*(s*i-o*n);return this.x=n+l*c+o*d-a*u,this.y=i+l*u+a*c-s*d,this.z=r+l*d+s*u-o*c,this}project(e){return this.applyMatrix4(e.matrixWorldInverse).applyMatrix4(e.projectionMatrix)}unproject(e){return this.applyMatrix4(e.projectionMatrixInverse).applyMatrix4(e.matrixWorld)}transformDirection(e){const n=this.x,i=this.y,r=this.z,s=e.elements;return this.x=s[0]*n+s[4]*i+s[8]*r,this.y=s[1]*n+s[5]*i+s[9]*r,this.z=s[2]*n+s[6]*i+s[10]*r,this.normalize()}divide(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this}divideScalar(e){return this.multiplyScalar(1/e)}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this}clamp(e,n){return this.x=Math.max(e.x,Math.min(n.x,this.x)),this.y=Math.max(e.y,Math.min(n.y,this.y)),this.z=Math.max(e.z,Math.min(n.z,this.z)),this}clampScalar(e,n){return this.x=Math.max(e,Math.min(n,this.x)),this.y=Math.max(e,Math.min(n,this.y)),this.z=Math.max(e,Math.min(n,this.z)),this}clampLength(e,n){const i=this.length();return this.divideScalar(i||1).multiplyScalar(Math.max(e,Math.min(n,i)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,n){return this.x+=(e.x-this.x)*n,this.y+=(e.y-this.y)*n,this.z+=(e.z-this.z)*n,this}lerpVectors(e,n,i){return this.x=e.x+(n.x-e.x)*i,this.y=e.y+(n.y-e.y)*i,this.z=e.z+(n.z-e.z)*i,this}cross(e){return this.crossVectors(this,e)}crossVectors(e,n){const i=e.x,r=e.y,s=e.z,o=n.x,a=n.y,l=n.z;return this.x=r*l-s*a,this.y=s*o-i*l,this.z=i*a-r*o,this}projectOnVector(e){const n=e.lengthSq();if(n===0)return this.set(0,0,0);const i=e.dot(this)/n;return this.copy(e).multiplyScalar(i)}projectOnPlane(e){return ET.copy(this).projectOnVector(e),this.sub(ET)}reflect(e){return this.sub(ET.copy(e).multiplyScalar(2*this.dot(e)))}angleTo(e){const n=Math.sqrt(this.lengthSq()*e.lengthSq());if(n===0)return Math.PI/2;const i=this.dot(e)/n;return Math.acos(Si(i,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const n=this.x-e.x,i=this.y-e.y,r=this.z-e.z;return n*n+i*i+r*r}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)+Math.abs(this.z-e.z)}setFromSpherical(e){return this.setFromSphericalCoords(e.radius,e.phi,e.theta)}setFromSphericalCoords(e,n,i){const r=Math.sin(n)*e;return this.x=r*Math.sin(i),this.y=Math.cos(n)*e,this.z=r*Math.cos(i),this}setFromCylindrical(e){return this.setFromCylindricalCoords(e.radius,e.theta,e.y)}setFromCylindricalCoords(e,n,i){return this.x=e*Math.sin(n),this.y=i,this.z=e*Math.cos(n),this}setFromMatrixPosition(e){const n=e.elements;return this.x=n[12],this.y=n[13],this.z=n[14],this}setFromMatrixScale(e){const n=this.setFromMatrixColumn(e,0).length(),i=this.setFromMatrixColumn(e,1).length(),r=this.setFromMatrixColumn(e,2).length();return this.x=n,this.y=i,this.z=r,this}setFromMatrixColumn(e,n){return this.fromArray(e.elements,n*4)}setFromMatrix3Column(e,n){return this.fromArray(e.elements,n*3)}setFromEuler(e){return this.x=e._x,this.y=e._y,this.z=e._z,this}setFromColor(e){return this.x=e.r,this.y=e.g,this.z=e.b,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z}fromArray(e,n=0){return this.x=e[n],this.y=e[n+1],this.z=e[n+2],this}toArray(e=[],n=0){return e[n]=this.x,e[n+1]=this.y,e[n+2]=this.z,e}fromBufferAttribute(e,n){return this.x=e.getX(n),this.y=e.getY(n),this.z=e.getZ(n),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}randomDirection(){const e=(Math.random()-.5)*2,n=Math.random()*Math.PI*2,i=Math.sqrt(1-e**2);return this.x=i*Math.cos(n),this.y=i*Math.sin(n),this.z=e,this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z}}const ET=new W,lF=new Is;class ss{constructor(e=new W(1/0,1/0,1/0),n=new W(-1/0,-1/0,-1/0)){this.isBox3=!0,this.min=e,this.max=n}set(e,n){return this.min.copy(e),this.max.copy(n),this}setFromArray(e){this.makeEmpty();for(let n=0,i=e.length;n<i;n+=3)this.expandByPoint(Go.fromArray(e,n));return this}setFromBufferAttribute(e){this.makeEmpty();for(let n=0,i=e.count;n<i;n++)this.expandByPoint(Go.fromBufferAttribute(e,n));return this}setFromPoints(e){this.makeEmpty();for(let n=0,i=e.length;n<i;n++)this.expandByPoint(e[n]);return this}setFromCenterAndSize(e,n){const i=Go.copy(n).multiplyScalar(.5);return this.min.copy(e).sub(i),this.max.copy(e).add(i),this}setFromObject(e,n=!1){return this.makeEmpty(),this.expandByObject(e,n)}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z}getCenter(e){return this.isEmpty()?e.set(0,0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}expandByObject(e,n=!1){e.updateWorldMatrix(!1,!1);const i=e.geometry;if(i!==void 0){const s=i.getAttribute("position");if(n===!0&&s!==void 0&&e.isInstancedMesh!==!0)for(let o=0,a=s.count;o<a;o++)e.isMesh===!0?e.getVertexPosition(o,Go):Go.fromBufferAttribute(s,o),Go.applyMatrix4(e.matrixWorld),this.expandByPoint(Go);else e.boundingBox!==void 0?(e.boundingBox===null&&e.computeBoundingBox(),t_.copy(e.boundingBox)):(i.boundingBox===null&&i.computeBoundingBox(),t_.copy(i.boundingBox)),t_.applyMatrix4(e.matrixWorld),this.union(t_)}const r=e.children;for(let s=0,o=r.length;s<o;s++)this.expandByObject(r[s],n);return this}containsPoint(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y||e.z<this.min.z||e.z>this.max.z)}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y&&this.min.z<=e.min.z&&e.max.z<=this.max.z}getParameter(e,n){return n.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y),(e.z-this.min.z)/(this.max.z-this.min.z))}intersectsBox(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y||e.max.z<this.min.z||e.min.z>this.max.z)}intersectsSphere(e){return this.clampPoint(e.center,Go),Go.distanceToSquared(e.center)<=e.radius*e.radius}intersectsPlane(e){let n,i;return e.normal.x>0?(n=e.normal.x*this.min.x,i=e.normal.x*this.max.x):(n=e.normal.x*this.max.x,i=e.normal.x*this.min.x),e.normal.y>0?(n+=e.normal.y*this.min.y,i+=e.normal.y*this.max.y):(n+=e.normal.y*this.max.y,i+=e.normal.y*this.min.y),e.normal.z>0?(n+=e.normal.z*this.min.z,i+=e.normal.z*this.max.z):(n+=e.normal.z*this.max.z,i+=e.normal.z*this.min.z),n<=-e.constant&&i>=-e.constant}intersectsTriangle(e){if(this.isEmpty())return!1;this.getCenter(og),n_.subVectors(this.max,og),Kf.subVectors(e.a,og),Qf.subVectors(e.b,og),Zf.subVectors(e.c,og),lc.subVectors(Qf,Kf),cc.subVectors(Zf,Qf),Uu.subVectors(Kf,Zf);let n=[0,-lc.z,lc.y,0,-cc.z,cc.y,0,-Uu.z,Uu.y,lc.z,0,-lc.x,cc.z,0,-cc.x,Uu.z,0,-Uu.x,-lc.y,lc.x,0,-cc.y,cc.x,0,-Uu.y,Uu.x,0];return!TT(n,Kf,Qf,Zf,n_)||(n=[1,0,0,0,1,0,0,0,1],!TT(n,Kf,Qf,Zf,n_))?!1:(i_.crossVectors(lc,cc),n=[i_.x,i_.y,i_.z],TT(n,Kf,Qf,Zf,n_))}clampPoint(e,n){return n.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return this.clampPoint(e,Go).distanceTo(e)}getBoundingSphere(e){return this.isEmpty()?e.makeEmpty():(this.getCenter(e.center),e.radius=this.getSize(Go).length()*.5),e}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}applyMatrix4(e){return this.isEmpty()?this:(al[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(e),al[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(e),al[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(e),al[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(e),al[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(e),al[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(e),al[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(e),al[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(e),this.setFromPoints(al),this)}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}const al=[new W,new W,new W,new W,new W,new W,new W,new W],Go=new W,t_=new ss,Kf=new W,Qf=new W,Zf=new W,lc=new W,cc=new W,Uu=new W,og=new W,n_=new W,i_=new W,Bu=new W;function TT(t,e,n,i,r){for(let s=0,o=t.length-3;s<=o;s+=3){Bu.fromArray(t,s);const a=r.x*Math.abs(Bu.x)+r.y*Math.abs(Bu.y)+r.z*Math.abs(Bu.z),l=e.dot(Bu),c=n.dot(Bu),u=i.dot(Bu);if(Math.max(-Math.max(l,c,u),Math.min(l,c,u))>a)return!1}return!0}const $fe=new ss,ag=new W,CT=new W;class $r{constructor(e=new W,n=-1){this.center=e,this.radius=n}set(e,n){return this.center.copy(e),this.radius=n,this}setFromPoints(e,n){const i=this.center;n!==void 0?i.copy(n):$fe.setFromPoints(e).getCenter(i);let r=0;for(let s=0,o=e.length;s<o;s++)r=Math.max(r,i.distanceToSquared(e[s]));return this.radius=Math.sqrt(r),this}copy(e){return this.center.copy(e.center),this.radius=e.radius,this}isEmpty(){return this.radius<0}makeEmpty(){return this.center.set(0,0,0),this.radius=-1,this}containsPoint(e){return e.distanceToSquared(this.center)<=this.radius*this.radius}distanceToPoint(e){return e.distanceTo(this.center)-this.radius}intersectsSphere(e){const n=this.radius+e.radius;return e.center.distanceToSquared(this.center)<=n*n}intersectsBox(e){return e.intersectsSphere(this)}intersectsPlane(e){return Math.abs(e.distanceToPoint(this.center))<=this.radius}clampPoint(e,n){const i=this.center.distanceToSquared(e);return n.copy(e),i>this.radius*this.radius&&(n.sub(this.center).normalize(),n.multiplyScalar(this.radius).add(this.center)),n}getBoundingBox(e){return this.isEmpty()?(e.makeEmpty(),e):(e.set(this.center,this.center),e.expandByScalar(this.radius),e)}applyMatrix4(e){return this.center.applyMatrix4(e),this.radius=this.radius*e.getMaxScaleOnAxis(),this}translate(e){return this.center.add(e),this}expandByPoint(e){if(this.isEmpty())return this.center.copy(e),this.radius=0,this;ag.subVectors(e,this.center);const n=ag.lengthSq();if(n>this.radius*this.radius){const i=Math.sqrt(n),r=(i-this.radius)*.5;this.center.addScaledVector(ag,r/i),this.radius+=r}return this}union(e){return e.isEmpty()?this:this.isEmpty()?(this.copy(e),this):(this.center.equals(e.center)===!0?this.radius=Math.max(this.radius,e.radius):(CT.subVectors(e.center,this.center).setLength(e.radius),this.expandByPoint(ag.copy(e.center).add(CT)),this.expandByPoint(ag.copy(e.center).sub(CT))),this)}equals(e){return e.center.equals(this.center)&&e.radius===this.radius}clone(){return new this.constructor().copy(this)}}const ll=new W,RT=new W,r_=new W,uc=new W,AT=new W,s_=new W,PT=new W;class am{constructor(e=new W,n=new W(0,0,-1)){this.origin=e,this.direction=n}set(e,n){return this.origin.copy(e),this.direction.copy(n),this}copy(e){return this.origin.copy(e.origin),this.direction.copy(e.direction),this}at(e,n){return n.copy(this.origin).addScaledVector(this.direction,e)}lookAt(e){return this.direction.copy(e).sub(this.origin).normalize(),this}recast(e){return this.origin.copy(this.at(e,ll)),this}closestPointToPoint(e,n){n.subVectors(e,this.origin);const i=n.dot(this.direction);return i<0?n.copy(this.origin):n.copy(this.origin).addScaledVector(this.direction,i)}distanceToPoint(e){return Math.sqrt(this.distanceSqToPoint(e))}distanceSqToPoint(e){const n=ll.subVectors(e,this.origin).dot(this.direction);return n<0?this.origin.distanceToSquared(e):(ll.copy(this.origin).addScaledVector(this.direction,n),ll.distanceToSquared(e))}distanceSqToSegment(e,n,i,r){RT.copy(e).add(n).multiplyScalar(.5),r_.copy(n).sub(e).normalize(),uc.copy(this.origin).sub(RT);const s=e.distanceTo(n)*.5,o=-this.direction.dot(r_),a=uc.dot(this.direction),l=-uc.dot(r_),c=uc.lengthSq(),u=Math.abs(1-o*o);let d,f,m,g;if(u>0)if(d=o*l-a,f=o*a-l,g=s*u,d>=0)if(f>=-g)if(f<=g){const y=1/u;d*=y,f*=y,m=d*(d+o*f+2*a)+f*(o*d+f+2*l)+c}else f=s,d=Math.max(0,-(o*f+a)),m=-d*d+f*(f+2*l)+c;else f=-s,d=Math.max(0,-(o*f+a)),m=-d*d+f*(f+2*l)+c;else f<=-g?(d=Math.max(0,-(-o*s+a)),f=d>0?-s:Math.min(Math.max(-s,-l),s),m=-d*d+f*(f+2*l)+c):f<=g?(d=0,f=Math.min(Math.max(-s,-l),s),m=f*(f+2*l)+c):(d=Math.max(0,-(o*s+a)),f=d>0?s:Math.min(Math.max(-s,-l),s),m=-d*d+f*(f+2*l)+c);else f=o>0?-s:s,d=Math.max(0,-(o*f+a)),m=-d*d+f*(f+2*l)+c;return i&&i.copy(this.origin).addScaledVector(this.direction,d),r&&r.copy(RT).addScaledVector(r_,f),m}intersectSphere(e,n){ll.subVectors(e.center,this.origin);const i=ll.dot(this.direction),r=ll.dot(ll)-i*i,s=e.radius*e.radius;if(r>s)return null;const o=Math.sqrt(s-r),a=i-o,l=i+o;return l<0?null:a<0?this.at(l,n):this.at(a,n)}intersectsSphere(e){return this.distanceSqToPoint(e.center)<=e.radius*e.radius}distanceToPlane(e){const n=e.normal.dot(this.direction);if(n===0)return e.distanceToPoint(this.origin)===0?0:null;const i=-(this.origin.dot(e.normal)+e.constant)/n;return i>=0?i:null}intersectPlane(e,n){const i=this.distanceToPlane(e);return i===null?null:this.at(i,n)}intersectsPlane(e){const n=e.distanceToPoint(this.origin);return n===0||e.normal.dot(this.direction)*n<0}intersectBox(e,n){let i,r,s,o,a,l;const c=1/this.direction.x,u=1/this.direction.y,d=1/this.direction.z,f=this.origin;return c>=0?(i=(e.min.x-f.x)*c,r=(e.max.x-f.x)*c):(i=(e.max.x-f.x)*c,r=(e.min.x-f.x)*c),u>=0?(s=(e.min.y-f.y)*u,o=(e.max.y-f.y)*u):(s=(e.max.y-f.y)*u,o=(e.min.y-f.y)*u),i>o||s>r||((s>i||isNaN(i))&&(i=s),(o<r||isNaN(r))&&(r=o),d>=0?(a=(e.min.z-f.z)*d,l=(e.max.z-f.z)*d):(a=(e.max.z-f.z)*d,l=(e.min.z-f.z)*d),i>l||a>r)||((a>i||i!==i)&&(i=a),(l<r||r!==r)&&(r=l),r<0)?null:this.at(i>=0?i:r,n)}intersectsBox(e){return this.intersectBox(e,ll)!==null}intersectTriangle(e,n,i,r,s){AT.subVectors(n,e),s_.subVectors(i,e),PT.crossVectors(AT,s_);let o=this.direction.dot(PT),a;if(o>0){if(r)return null;a=1}else if(o<0)a=-1,o=-o;else return null;uc.subVectors(this.origin,e);const l=a*this.direction.dot(s_.crossVectors(uc,s_));if(l<0)return null;const c=a*this.direction.dot(AT.cross(uc));if(c<0||l+c>o)return null;const u=-a*uc.dot(PT);return u<0?null:this.at(u/o,s)}applyMatrix4(e){return this.origin.applyMatrix4(e),this.direction.transformDirection(e),this}equals(e){return e.origin.equals(this.origin)&&e.direction.equals(this.direction)}clone(){return new this.constructor().copy(this)}}class Ut{constructor(e,n,i,r,s,o,a,l,c,u,d,f,m,g,y,x){Ut.prototype.isMatrix4=!0,this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],e!==void 0&&this.set(e,n,i,r,s,o,a,l,c,u,d,f,m,g,y,x)}set(e,n,i,r,s,o,a,l,c,u,d,f,m,g,y,x){const v=this.elements;return v[0]=e,v[4]=n,v[8]=i,v[12]=r,v[1]=s,v[5]=o,v[9]=a,v[13]=l,v[2]=c,v[6]=u,v[10]=d,v[14]=f,v[3]=m,v[7]=g,v[11]=y,v[15]=x,this}identity(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}clone(){return new Ut().fromArray(this.elements)}copy(e){const n=this.elements,i=e.elements;return n[0]=i[0],n[1]=i[1],n[2]=i[2],n[3]=i[3],n[4]=i[4],n[5]=i[5],n[6]=i[6],n[7]=i[7],n[8]=i[8],n[9]=i[9],n[10]=i[10],n[11]=i[11],n[12]=i[12],n[13]=i[13],n[14]=i[14],n[15]=i[15],this}copyPosition(e){const n=this.elements,i=e.elements;return n[12]=i[12],n[13]=i[13],n[14]=i[14],this}setFromMatrix3(e){const n=e.elements;return this.set(n[0],n[3],n[6],0,n[1],n[4],n[7],0,n[2],n[5],n[8],0,0,0,0,1),this}extractBasis(e,n,i){return e.setFromMatrixColumn(this,0),n.setFromMatrixColumn(this,1),i.setFromMatrixColumn(this,2),this}makeBasis(e,n,i){return this.set(e.x,n.x,i.x,0,e.y,n.y,i.y,0,e.z,n.z,i.z,0,0,0,0,1),this}extractRotation(e){const n=this.elements,i=e.elements,r=1/Jf.setFromMatrixColumn(e,0).length(),s=1/Jf.setFromMatrixColumn(e,1).length(),o=1/Jf.setFromMatrixColumn(e,2).length();return n[0]=i[0]*r,n[1]=i[1]*r,n[2]=i[2]*r,n[3]=0,n[4]=i[4]*s,n[5]=i[5]*s,n[6]=i[6]*s,n[7]=0,n[8]=i[8]*o,n[9]=i[9]*o,n[10]=i[10]*o,n[11]=0,n[12]=0,n[13]=0,n[14]=0,n[15]=1,this}makeRotationFromEuler(e){const n=this.elements,i=e.x,r=e.y,s=e.z,o=Math.cos(i),a=Math.sin(i),l=Math.cos(r),c=Math.sin(r),u=Math.cos(s),d=Math.sin(s);if(e.order==="XYZ"){const f=o*u,m=o*d,g=a*u,y=a*d;n[0]=l*u,n[4]=-l*d,n[8]=c,n[1]=m+g*c,n[5]=f-y*c,n[9]=-a*l,n[2]=y-f*c,n[6]=g+m*c,n[10]=o*l}else if(e.order==="YXZ"){const f=l*u,m=l*d,g=c*u,y=c*d;n[0]=f+y*a,n[4]=g*a-m,n[8]=o*c,n[1]=o*d,n[5]=o*u,n[9]=-a,n[2]=m*a-g,n[6]=y+f*a,n[10]=o*l}else if(e.order==="ZXY"){const f=l*u,m=l*d,g=c*u,y=c*d;n[0]=f-y*a,n[4]=-o*d,n[8]=g+m*a,n[1]=m+g*a,n[5]=o*u,n[9]=y-f*a,n[2]=-o*c,n[6]=a,n[10]=o*l}else if(e.order==="ZYX"){const f=o*u,m=o*d,g=a*u,y=a*d;n[0]=l*u,n[4]=g*c-m,n[8]=f*c+y,n[1]=l*d,n[5]=y*c+f,n[9]=m*c-g,n[2]=-c,n[6]=a*l,n[10]=o*l}else if(e.order==="YZX"){const f=o*l,m=o*c,g=a*l,y=a*c;n[0]=l*u,n[4]=y-f*d,n[8]=g*d+m,n[1]=d,n[5]=o*u,n[9]=-a*u,n[2]=-c*u,n[6]=m*d+g,n[10]=f-y*d}else if(e.order==="XZY"){const f=o*l,m=o*c,g=a*l,y=a*c;n[0]=l*u,n[4]=-d,n[8]=c*u,n[1]=f*d+y,n[5]=o*u,n[9]=m*d-g,n[2]=g*d-m,n[6]=a*u,n[10]=y*d+f}return n[3]=0,n[7]=0,n[11]=0,n[12]=0,n[13]=0,n[14]=0,n[15]=1,this}makeRotationFromQuaternion(e){return this.compose(Xfe,e,Yfe)}lookAt(e,n,i){const r=this.elements;return js.subVectors(e,n),js.lengthSq()===0&&(js.z=1),js.normalize(),dc.crossVectors(i,js),dc.lengthSq()===0&&(Math.abs(i.z)===1?js.x+=1e-4:js.z+=1e-4,js.normalize(),dc.crossVectors(i,js)),dc.normalize(),o_.crossVectors(js,dc),r[0]=dc.x,r[4]=o_.x,r[8]=js.x,r[1]=dc.y,r[5]=o_.y,r[9]=js.y,r[2]=dc.z,r[6]=o_.z,r[10]=js.z,this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,n){const i=e.elements,r=n.elements,s=this.elements,o=i[0],a=i[4],l=i[8],c=i[12],u=i[1],d=i[5],f=i[9],m=i[13],g=i[2],y=i[6],x=i[10],v=i[14],_=i[3],b=i[7],w=i[11],C=i[15],T=r[0],R=r[4],I=r[8],A=r[12],L=r[1],O=r[5],H=r[9],q=r[13],U=r[2],G=r[6],Q=r[10],J=r[14],N=r[3],B=r[7],j=r[11],te=r[15];return s[0]=o*T+a*L+l*U+c*N,s[4]=o*R+a*O+l*G+c*B,s[8]=o*I+a*H+l*Q+c*j,s[12]=o*A+a*q+l*J+c*te,s[1]=u*T+d*L+f*U+m*N,s[5]=u*R+d*O+f*G+m*B,s[9]=u*I+d*H+f*Q+m*j,s[13]=u*A+d*q+f*J+m*te,s[2]=g*T+y*L+x*U+v*N,s[6]=g*R+y*O+x*G+v*B,s[10]=g*I+y*H+x*Q+v*j,s[14]=g*A+y*q+x*J+v*te,s[3]=_*T+b*L+w*U+C*N,s[7]=_*R+b*O+w*G+C*B,s[11]=_*I+b*H+w*Q+C*j,s[15]=_*A+b*q+w*J+C*te,this}multiplyScalar(e){const n=this.elements;return n[0]*=e,n[4]*=e,n[8]*=e,n[12]*=e,n[1]*=e,n[5]*=e,n[9]*=e,n[13]*=e,n[2]*=e,n[6]*=e,n[10]*=e,n[14]*=e,n[3]*=e,n[7]*=e,n[11]*=e,n[15]*=e,this}determinant(){const e=this.elements,n=e[0],i=e[4],r=e[8],s=e[12],o=e[1],a=e[5],l=e[9],c=e[13],u=e[2],d=e[6],f=e[10],m=e[14],g=e[3],y=e[7],x=e[11],v=e[15];return g*(+s*l*d-r*c*d-s*a*f+i*c*f+r*a*m-i*l*m)+y*(+n*l*m-n*c*f+s*o*f-r*o*m+r*c*u-s*l*u)+x*(+n*c*d-n*a*m-s*o*d+i*o*m+s*a*u-i*c*u)+v*(-r*a*u-n*l*d+n*a*f+r*o*d-i*o*f+i*l*u)}transpose(){const e=this.elements;let n;return n=e[1],e[1]=e[4],e[4]=n,n=e[2],e[2]=e[8],e[8]=n,n=e[6],e[6]=e[9],e[9]=n,n=e[3],e[3]=e[12],e[12]=n,n=e[7],e[7]=e[13],e[13]=n,n=e[11],e[11]=e[14],e[14]=n,this}setPosition(e,n,i){const r=this.elements;return e.isVector3?(r[12]=e.x,r[13]=e.y,r[14]=e.z):(r[12]=e,r[13]=n,r[14]=i),this}invert(){const e=this.elements,n=e[0],i=e[1],r=e[2],s=e[3],o=e[4],a=e[5],l=e[6],c=e[7],u=e[8],d=e[9],f=e[10],m=e[11],g=e[12],y=e[13],x=e[14],v=e[15],_=d*x*c-y*f*c+y*l*m-a*x*m-d*l*v+a*f*v,b=g*f*c-u*x*c-g*l*m+o*x*m+u*l*v-o*f*v,w=u*y*c-g*d*c+g*a*m-o*y*m-u*a*v+o*d*v,C=g*d*l-u*y*l-g*a*f+o*y*f+u*a*x-o*d*x,T=n*_+i*b+r*w+s*C;if(T===0)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);const R=1/T;return e[0]=_*R,e[1]=(y*f*s-d*x*s-y*r*m+i*x*m+d*r*v-i*f*v)*R,e[2]=(a*x*s-y*l*s+y*r*c-i*x*c-a*r*v+i*l*v)*R,e[3]=(d*l*s-a*f*s-d*r*c+i*f*c+a*r*m-i*l*m)*R,e[4]=b*R,e[5]=(u*x*s-g*f*s+g*r*m-n*x*m-u*r*v+n*f*v)*R,e[6]=(g*l*s-o*x*s-g*r*c+n*x*c+o*r*v-n*l*v)*R,e[7]=(o*f*s-u*l*s+u*r*c-n*f*c-o*r*m+n*l*m)*R,e[8]=w*R,e[9]=(g*d*s-u*y*s-g*i*m+n*y*m+u*i*v-n*d*v)*R,e[10]=(o*y*s-g*a*s+g*i*c-n*y*c-o*i*v+n*a*v)*R,e[11]=(u*a*s-o*d*s-u*i*c+n*d*c+o*i*m-n*a*m)*R,e[12]=C*R,e[13]=(u*y*r-g*d*r+g*i*f-n*y*f-u*i*x+n*d*x)*R,e[14]=(g*a*r-o*y*r-g*i*l+n*y*l+o*i*x-n*a*x)*R,e[15]=(o*d*r-u*a*r+u*i*l-n*d*l-o*i*f+n*a*f)*R,this}scale(e){const n=this.elements,i=e.x,r=e.y,s=e.z;return n[0]*=i,n[4]*=r,n[8]*=s,n[1]*=i,n[5]*=r,n[9]*=s,n[2]*=i,n[6]*=r,n[10]*=s,n[3]*=i,n[7]*=r,n[11]*=s,this}getMaxScaleOnAxis(){const e=this.elements,n=e[0]*e[0]+e[1]*e[1]+e[2]*e[2],i=e[4]*e[4]+e[5]*e[5]+e[6]*e[6],r=e[8]*e[8]+e[9]*e[9]+e[10]*e[10];return Math.sqrt(Math.max(n,i,r))}makeTranslation(e,n,i){return e.isVector3?this.set(1,0,0,e.x,0,1,0,e.y,0,0,1,e.z,0,0,0,1):this.set(1,0,0,e,0,1,0,n,0,0,1,i,0,0,0,1),this}makeRotationX(e){const n=Math.cos(e),i=Math.sin(e);return this.set(1,0,0,0,0,n,-i,0,0,i,n,0,0,0,0,1),this}makeRotationY(e){const n=Math.cos(e),i=Math.sin(e);return this.set(n,0,i,0,0,1,0,0,-i,0,n,0,0,0,0,1),this}makeRotationZ(e){const n=Math.cos(e),i=Math.sin(e);return this.set(n,-i,0,0,i,n,0,0,0,0,1,0,0,0,0,1),this}makeRotationAxis(e,n){const i=Math.cos(n),r=Math.sin(n),s=1-i,o=e.x,a=e.y,l=e.z,c=s*o,u=s*a;return this.set(c*o+i,c*a-r*l,c*l+r*a,0,c*a+r*l,u*a+i,u*l-r*o,0,c*l-r*a,u*l+r*o,s*l*l+i,0,0,0,0,1),this}makeScale(e,n,i){return this.set(e,0,0,0,0,n,0,0,0,0,i,0,0,0,0,1),this}makeShear(e,n,i,r,s,o){return this.set(1,i,s,0,e,1,o,0,n,r,1,0,0,0,0,1),this}compose(e,n,i){const r=this.elements,s=n._x,o=n._y,a=n._z,l=n._w,c=s+s,u=o+o,d=a+a,f=s*c,m=s*u,g=s*d,y=o*u,x=o*d,v=a*d,_=l*c,b=l*u,w=l*d,C=i.x,T=i.y,R=i.z;return r[0]=(1-(y+v))*C,r[1]=(m+w)*C,r[2]=(g-b)*C,r[3]=0,r[4]=(m-w)*T,r[5]=(1-(f+v))*T,r[6]=(x+_)*T,r[7]=0,r[8]=(g+b)*R,r[9]=(x-_)*R,r[10]=(1-(f+y))*R,r[11]=0,r[12]=e.x,r[13]=e.y,r[14]=e.z,r[15]=1,this}decompose(e,n,i){const r=this.elements;let s=Jf.set(r[0],r[1],r[2]).length();const o=Jf.set(r[4],r[5],r[6]).length(),a=Jf.set(r[8],r[9],r[10]).length();this.determinant()<0&&(s=-s),e.x=r[12],e.y=r[13],e.z=r[14],$o.copy(this);const c=1/s,u=1/o,d=1/a;return $o.elements[0]*=c,$o.elements[1]*=c,$o.elements[2]*=c,$o.elements[4]*=u,$o.elements[5]*=u,$o.elements[6]*=u,$o.elements[8]*=d,$o.elements[9]*=d,$o.elements[10]*=d,n.setFromRotationMatrix($o),i.x=s,i.y=o,i.z=a,this}makePerspective(e,n,i,r,s,o,a=na){const l=this.elements,c=2*s/(n-e),u=2*s/(i-r),d=(n+e)/(n-e),f=(i+r)/(i-r);let m,g;if(a===na)m=-(o+s)/(o-s),g=-2*o*s/(o-s);else if(a===Up)m=-o/(o-s),g=-o*s/(o-s);else throw new Error("THREE.Matrix4.makePerspective(): Invalid coordinate system: "+a);return l[0]=c,l[4]=0,l[8]=d,l[12]=0,l[1]=0,l[5]=u,l[9]=f,l[13]=0,l[2]=0,l[6]=0,l[10]=m,l[14]=g,l[3]=0,l[7]=0,l[11]=-1,l[15]=0,this}makeOrthographic(e,n,i,r,s,o,a=na){const l=this.elements,c=1/(n-e),u=1/(i-r),d=1/(o-s),f=(n+e)*c,m=(i+r)*u;let g,y;if(a===na)g=(o+s)*d,y=-2*d;else if(a===Up)g=s*d,y=-1*d;else throw new Error("THREE.Matrix4.makeOrthographic(): Invalid coordinate system: "+a);return l[0]=2*c,l[4]=0,l[8]=0,l[12]=-f,l[1]=0,l[5]=2*u,l[9]=0,l[13]=-m,l[2]=0,l[6]=0,l[10]=y,l[14]=-g,l[3]=0,l[7]=0,l[11]=0,l[15]=1,this}equals(e){const n=this.elements,i=e.elements;for(let r=0;r<16;r++)if(n[r]!==i[r])return!1;return!0}fromArray(e,n=0){for(let i=0;i<16;i++)this.elements[i]=e[i+n];return this}toArray(e=[],n=0){const i=this.elements;return e[n]=i[0],e[n+1]=i[1],e[n+2]=i[2],e[n+3]=i[3],e[n+4]=i[4],e[n+5]=i[5],e[n+6]=i[6],e[n+7]=i[7],e[n+8]=i[8],e[n+9]=i[9],e[n+10]=i[10],e[n+11]=i[11],e[n+12]=i[12],e[n+13]=i[13],e[n+14]=i[14],e[n+15]=i[15],e}}const Jf=new W,$o=new Ut,Xfe=new W(0,0,0),Yfe=new W(1,1,1),dc=new W,o_=new W,js=new W,cF=new Ut,uF=new Is;class Ya{constructor(e=0,n=0,i=0,r=Ya.DEFAULT_ORDER){this.isEuler=!0,this._x=e,this._y=n,this._z=i,this._order=r}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get order(){return this._order}set order(e){this._order=e,this._onChangeCallback()}set(e,n,i,r=this._order){return this._x=e,this._y=n,this._z=i,this._order=r,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._order)}copy(e){return this._x=e._x,this._y=e._y,this._z=e._z,this._order=e._order,this._onChangeCallback(),this}setFromRotationMatrix(e,n=this._order,i=!0){const r=e.elements,s=r[0],o=r[4],a=r[8],l=r[1],c=r[5],u=r[9],d=r[2],f=r[6],m=r[10];switch(n){case"XYZ":this._y=Math.asin(Si(a,-1,1)),Math.abs(a)<.9999999?(this._x=Math.atan2(-u,m),this._z=Math.atan2(-o,s)):(this._x=Math.atan2(f,c),this._z=0);break;case"YXZ":this._x=Math.asin(-Si(u,-1,1)),Math.abs(u)<.9999999?(this._y=Math.atan2(a,m),this._z=Math.atan2(l,c)):(this._y=Math.atan2(-d,s),this._z=0);break;case"ZXY":this._x=Math.asin(Si(f,-1,1)),Math.abs(f)<.9999999?(this._y=Math.atan2(-d,m),this._z=Math.atan2(-o,c)):(this._y=0,this._z=Math.atan2(l,s));break;case"ZYX":this._y=Math.asin(-Si(d,-1,1)),Math.abs(d)<.9999999?(this._x=Math.atan2(f,m),this._z=Math.atan2(l,s)):(this._x=0,this._z=Math.atan2(-o,c));break;case"YZX":this._z=Math.asin(Si(l,-1,1)),Math.abs(l)<.9999999?(this._x=Math.atan2(-u,c),this._y=Math.atan2(-d,s)):(this._x=0,this._y=Math.atan2(a,m));break;case"XZY":this._z=Math.asin(-Si(o,-1,1)),Math.abs(o)<.9999999?(this._x=Math.atan2(f,c),this._y=Math.atan2(a,s)):(this._x=Math.atan2(-u,m),this._y=0);break;default:console.warn("THREE.Euler: .setFromRotationMatrix() encountered an unknown order: "+n)}return this._order=n,i===!0&&this._onChangeCallback(),this}setFromQuaternion(e,n,i){return cF.makeRotationFromQuaternion(e),this.setFromRotationMatrix(cF,n,i)}setFromVector3(e,n=this._order){return this.set(e.x,e.y,e.z,n)}reorder(e){return uF.setFromEuler(this),this.setFromQuaternion(uF,e)}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._order===this._order}fromArray(e){return this._x=e[0],this._y=e[1],this._z=e[2],e[3]!==void 0&&(this._order=e[3]),this._onChangeCallback(),this}toArray(e=[],n=0){return e[n]=this._x,e[n+1]=this._y,e[n+2]=this._z,e[n+3]=this._order,e}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._order}}Ya.DEFAULT_ORDER="XYZ";class zd{constructor(){this.mask=1}set(e){this.mask=(1<<e|0)>>>0}enable(e){this.mask|=1<<e|0}enableAll(){this.mask=-1}toggle(e){this.mask^=1<<e|0}disable(e){this.mask&=~(1<<e|0)}disableAll(){this.mask=0}test(e){return(this.mask&e.mask)!==0}isEnabled(e){return(this.mask&(1<<e|0))!==0}}let qfe=0;const dF=new W,eh=new Is,cl=new Ut,a_=new W,lg=new W,Kfe=new W,Qfe=new Is,fF=new W(1,0,0),hF=new W(0,1,0),pF=new W(0,0,1),Zfe={type:"added"},Jfe={type:"removed"};class xn extends lo{constructor(){super(),this.isObject3D=!0,Object.defineProperty(this,"id",{value:qfe++}),this.uuid=io(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=xn.DEFAULT_UP.clone();const e=new W,n=new Ya,i=new Is,r=new W(1,1,1);function s(){i.setFromEuler(n,!1)}function o(){n.setFromQuaternion(i,void 0,!1)}n._onChange(s),i._onChange(o),Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:e},rotation:{configurable:!0,enumerable:!0,value:n},quaternion:{configurable:!0,enumerable:!0,value:i},scale:{configurable:!0,enumerable:!0,value:r},modelViewMatrix:{value:new Ut},normalMatrix:{value:new Jt}}),this.matrix=new Ut,this.matrixWorld=new Ut,this.matrixAutoUpdate=xn.DEFAULT_MATRIX_AUTO_UPDATE,this.matrixWorldAutoUpdate=xn.DEFAULT_MATRIX_WORLD_AUTO_UPDATE,this.matrixWorldNeedsUpdate=!1,this.layers=new zd,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.animations=[],this.userData={}}onBeforeShadow(){}onAfterShadow(){}onBeforeRender(){}onAfterRender(){}applyMatrix4(e){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(e),this.matrix.decompose(this.position,this.quaternion,this.scale)}applyQuaternion(e){return this.quaternion.premultiply(e),this}setRotationFromAxisAngle(e,n){this.quaternion.setFromAxisAngle(e,n)}setRotationFromEuler(e){this.quaternion.setFromEuler(e,!0)}setRotationFromMatrix(e){this.quaternion.setFromRotationMatrix(e)}setRotationFromQuaternion(e){this.quaternion.copy(e)}rotateOnAxis(e,n){return eh.setFromAxisAngle(e,n),this.quaternion.multiply(eh),this}rotateOnWorldAxis(e,n){return eh.setFromAxisAngle(e,n),this.quaternion.premultiply(eh),this}rotateX(e){return this.rotateOnAxis(fF,e)}rotateY(e){return this.rotateOnAxis(hF,e)}rotateZ(e){return this.rotateOnAxis(pF,e)}translateOnAxis(e,n){return dF.copy(e).applyQuaternion(this.quaternion),this.position.add(dF.multiplyScalar(n)),this}translateX(e){return this.translateOnAxis(fF,e)}translateY(e){return this.translateOnAxis(hF,e)}translateZ(e){return this.translateOnAxis(pF,e)}localToWorld(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(this.matrixWorld)}worldToLocal(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(cl.copy(this.matrixWorld).invert())}lookAt(e,n,i){e.isVector3?a_.copy(e):a_.set(e,n,i);const r=this.parent;this.updateWorldMatrix(!0,!1),lg.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?cl.lookAt(lg,a_,this.up):cl.lookAt(a_,lg,this.up),this.quaternion.setFromRotationMatrix(cl),r&&(cl.extractRotation(r.matrixWorld),eh.setFromRotationMatrix(cl),this.quaternion.premultiply(eh.invert()))}add(e){if(arguments.length>1){for(let n=0;n<arguments.length;n++)this.add(arguments[n]);return this}return e===this?(console.error("THREE.Object3D.add: object can't be added as a child of itself.",e),this):(e&&e.isObject3D?(e.parent!==null&&e.parent.remove(e),e.parent=this,this.children.push(e),e.dispatchEvent(Zfe)):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",e),this)}remove(e){if(arguments.length>1){for(let i=0;i<arguments.length;i++)this.remove(arguments[i]);return this}const n=this.children.indexOf(e);return n!==-1&&(e.parent=null,this.children.splice(n,1),e.dispatchEvent(Jfe)),this}removeFromParent(){const e=this.parent;return e!==null&&e.remove(this),this}clear(){return this.remove(...this.children)}attach(e){return this.updateWorldMatrix(!0,!1),cl.copy(this.matrixWorld).invert(),e.parent!==null&&(e.parent.updateWorldMatrix(!0,!1),cl.multiply(e.parent.matrixWorld)),e.applyMatrix4(cl),this.add(e),e.updateWorldMatrix(!1,!0),this}getObjectById(e){return this.getObjectByProperty("id",e)}getObjectByName(e){return this.getObjectByProperty("name",e)}getObjectByProperty(e,n){if(this[e]===n)return this;for(let i=0,r=this.children.length;i<r;i++){const o=this.children[i].getObjectByProperty(e,n);if(o!==void 0)return o}}getObjectsByProperty(e,n,i=[]){this[e]===n&&i.push(this);const r=this.children;for(let s=0,o=r.length;s<o;s++)r[s].getObjectsByProperty(e,n,i);return i}getWorldPosition(e){return this.updateWorldMatrix(!0,!1),e.setFromMatrixPosition(this.matrixWorld)}getWorldQuaternion(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(lg,e,Kfe),e}getWorldScale(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(lg,Qfe,e),e}getWorldDirection(e){this.updateWorldMatrix(!0,!1);const n=this.matrixWorld.elements;return e.set(n[8],n[9],n[10]).normalize()}raycast(){}traverse(e){e(this);const n=this.children;for(let i=0,r=n.length;i<r;i++)n[i].traverse(e)}traverseVisible(e){if(this.visible===!1)return;e(this);const n=this.children;for(let i=0,r=n.length;i<r;i++)n[i].traverseVisible(e)}traverseAncestors(e){const n=this.parent;n!==null&&(e(n),n.traverseAncestors(e))}updateMatrix(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0}updateMatrixWorld(e){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||e)&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),this.matrixWorldNeedsUpdate=!1,e=!0);const n=this.children;for(let i=0,r=n.length;i<r;i++){const s=n[i];(s.matrixWorldAutoUpdate===!0||e===!0)&&s.updateMatrixWorld(e)}}updateWorldMatrix(e,n){const i=this.parent;if(e===!0&&i!==null&&i.matrixWorldAutoUpdate===!0&&i.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),n===!0){const r=this.children;for(let s=0,o=r.length;s<o;s++){const a=r[s];a.matrixWorldAutoUpdate===!0&&a.updateWorldMatrix(!1,!0)}}}toJSON(e){const n=e===void 0||typeof e=="string",i={};n&&(e={geometries:{},materials:{},textures:{},images:{},shapes:{},skeletons:{},animations:{},nodes:{}},i.metadata={version:4.6,type:"Object",generator:"Object3D.toJSON"});const r={};r.uuid=this.uuid,r.type=this.type,this.name!==""&&(r.name=this.name),this.castShadow===!0&&(r.castShadow=!0),this.receiveShadow===!0&&(r.receiveShadow=!0),this.visible===!1&&(r.visible=!1),this.frustumCulled===!1&&(r.frustumCulled=!1),this.renderOrder!==0&&(r.renderOrder=this.renderOrder),Object.keys(this.userData).length>0&&(r.userData=this.userData),r.layers=this.layers.mask,r.matrix=this.matrix.toArray(),r.up=this.up.toArray(),this.matrixAutoUpdate===!1&&(r.matrixAutoUpdate=!1),this.isInstancedMesh&&(r.type="InstancedMesh",r.count=this.count,r.instanceMatrix=this.instanceMatrix.toJSON(),this.instanceColor!==null&&(r.instanceColor=this.instanceColor.toJSON())),this.isBatchedMesh&&(r.type="BatchedMesh",r.perObjectFrustumCulled=this.perObjectFrustumCulled,r.sortObjects=this.sortObjects,r.drawRanges=this._drawRanges,r.reservedRanges=this._reservedRanges,r.visibility=this._visibility,r.active=this._active,r.bounds=this._bounds.map(a=>({boxInitialized:a.boxInitialized,boxMin:a.box.min.toArray(),boxMax:a.box.max.toArray(),sphereInitialized:a.sphereInitialized,sphereRadius:a.sphere.radius,sphereCenter:a.sphere.center.toArray()})),r.maxGeometryCount=this._maxGeometryCount,r.maxVertexCount=this._maxVertexCount,r.maxIndexCount=this._maxIndexCount,r.geometryInitialized=this._geometryInitialized,r.geometryCount=this._geometryCount,r.matricesTexture=this._matricesTexture.toJSON(e),this.boundingSphere!==null&&(r.boundingSphere={center:r.boundingSphere.center.toArray(),radius:r.boundingSphere.radius}),this.boundingBox!==null&&(r.boundingBox={min:r.boundingBox.min.toArray(),max:r.boundingBox.max.toArray()}));function s(a,l){return a[l.uuid]===void 0&&(a[l.uuid]=l.toJSON(e)),l.uuid}if(this.isScene)this.background&&(this.background.isColor?r.background=this.background.toJSON():this.background.isTexture&&(r.background=this.background.toJSON(e).uuid)),this.environment&&this.environment.isTexture&&this.environment.isRenderTargetTexture!==!0&&(r.environment=this.environment.toJSON(e).uuid);else if(this.isMesh||this.isLine||this.isPoints){r.geometry=s(e.geometries,this.geometry);const a=this.geometry.parameters;if(a!==void 0&&a.shapes!==void 0){const l=a.shapes;if(Array.isArray(l))for(let c=0,u=l.length;c<u;c++){const d=l[c];s(e.shapes,d)}else s(e.shapes,l)}}if(this.isSkinnedMesh&&(r.bindMode=this.bindMode,r.bindMatrix=this.bindMatrix.toArray(),this.skeleton!==void 0&&(s(e.skeletons,this.skeleton),r.skeleton=this.skeleton.uuid)),this.material!==void 0)if(Array.isArray(this.material)){const a=[];for(let l=0,c=this.material.length;l<c;l++)a.push(s(e.materials,this.material[l]));r.material=a}else r.material=s(e.materials,this.material);if(this.children.length>0){r.children=[];for(let a=0;a<this.children.length;a++)r.children.push(this.children[a].toJSON(e).object)}if(this.animations.length>0){r.animations=[];for(let a=0;a<this.animations.length;a++){const l=this.animations[a];r.animations.push(s(e.animations,l))}}if(n){const a=o(e.geometries),l=o(e.materials),c=o(e.textures),u=o(e.images),d=o(e.shapes),f=o(e.skeletons),m=o(e.animations),g=o(e.nodes);a.length>0&&(i.geometries=a),l.length>0&&(i.materials=l),c.length>0&&(i.textures=c),u.length>0&&(i.images=u),d.length>0&&(i.shapes=d),f.length>0&&(i.skeletons=f),m.length>0&&(i.animations=m),g.length>0&&(i.nodes=g)}return i.object=r,i;function o(a){const l=[];for(const c in a){const u=a[c];delete u.metadata,l.push(u)}return l}}clone(e){return new this.constructor().copy(this,e)}copy(e,n=!0){if(this.name=e.name,this.up.copy(e.up),this.position.copy(e.position),this.rotation.order=e.rotation.order,this.quaternion.copy(e.quaternion),this.scale.copy(e.scale),this.matrix.copy(e.matrix),this.matrixWorld.copy(e.matrixWorld),this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrixWorldAutoUpdate=e.matrixWorldAutoUpdate,this.matrixWorldNeedsUpdate=e.matrixWorldNeedsUpdate,this.layers.mask=e.layers.mask,this.visible=e.visible,this.castShadow=e.castShadow,this.receiveShadow=e.receiveShadow,this.frustumCulled=e.frustumCulled,this.renderOrder=e.renderOrder,this.animations=e.animations.slice(),this.userData=JSON.parse(JSON.stringify(e.userData)),n===!0)for(let i=0;i<e.children.length;i++){const r=e.children[i];this.add(r.clone())}return this}}xn.DEFAULT_UP=new W(0,1,0);xn.DEFAULT_MATRIX_AUTO_UPDATE=!0;xn.DEFAULT_MATRIX_WORLD_AUTO_UPDATE=!0;const Xo=new W,ul=new W,kT=new W,dl=new W,th=new W,nh=new W,mF=new W,IT=new W,LT=new W,DT=new W;let l_=!1;class ws{constructor(e=new W,n=new W,i=new W){this.a=e,this.b=n,this.c=i}static getNormal(e,n,i,r){r.subVectors(i,n),Xo.subVectors(e,n),r.cross(Xo);const s=r.lengthSq();return s>0?r.multiplyScalar(1/Math.sqrt(s)):r.set(0,0,0)}static getBarycoord(e,n,i,r,s){Xo.subVectors(r,n),ul.subVectors(i,n),kT.subVectors(e,n);const o=Xo.dot(Xo),a=Xo.dot(ul),l=Xo.dot(kT),c=ul.dot(ul),u=ul.dot(kT),d=o*c-a*a;if(d===0)return s.set(-2,-1,-1);const f=1/d,m=(c*l-a*u)*f,g=(o*u-a*l)*f;return s.set(1-m-g,g,m)}static containsPoint(e,n,i,r){return this.getBarycoord(e,n,i,r,dl),dl.x>=0&&dl.y>=0&&dl.x+dl.y<=1}static getUV(e,n,i,r,s,o,a,l){return l_===!1&&(console.warn("THREE.Triangle.getUV() has been renamed to THREE.Triangle.getInterpolation()."),l_=!0),this.getInterpolation(e,n,i,r,s,o,a,l)}static getInterpolation(e,n,i,r,s,o,a,l){return this.getBarycoord(e,n,i,r,dl),l.setScalar(0),l.addScaledVector(s,dl.x),l.addScaledVector(o,dl.y),l.addScaledVector(a,dl.z),l}static isFrontFacing(e,n,i,r){return Xo.subVectors(i,n),ul.subVectors(e,n),Xo.cross(ul).dot(r)<0}set(e,n,i){return this.a.copy(e),this.b.copy(n),this.c.copy(i),this}setFromPointsAndIndices(e,n,i,r){return this.a.copy(e[n]),this.b.copy(e[i]),this.c.copy(e[r]),this}setFromAttributeAndIndices(e,n,i,r){return this.a.fromBufferAttribute(e,n),this.b.fromBufferAttribute(e,i),this.c.fromBufferAttribute(e,r),this}clone(){return new this.constructor().copy(this)}copy(e){return this.a.copy(e.a),this.b.copy(e.b),this.c.copy(e.c),this}getArea(){return Xo.subVectors(this.c,this.b),ul.subVectors(this.a,this.b),Xo.cross(ul).length()*.5}getMidpoint(e){return e.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)}getNormal(e){return ws.getNormal(this.a,this.b,this.c,e)}getPlane(e){return e.setFromCoplanarPoints(this.a,this.b,this.c)}getBarycoord(e,n){return ws.getBarycoord(e,this.a,this.b,this.c,n)}getUV(e,n,i,r,s){return l_===!1&&(console.warn("THREE.Triangle.getUV() has been renamed to THREE.Triangle.getInterpolation()."),l_=!0),ws.getInterpolation(e,this.a,this.b,this.c,n,i,r,s)}getInterpolation(e,n,i,r,s){return ws.getInterpolation(e,this.a,this.b,this.c,n,i,r,s)}containsPoint(e){return ws.containsPoint(e,this.a,this.b,this.c)}isFrontFacing(e){return ws.isFrontFacing(this.a,this.b,this.c,e)}intersectsBox(e){return e.intersectsTriangle(this)}closestPointToPoint(e,n){const i=this.a,r=this.b,s=this.c;let o,a;th.subVectors(r,i),nh.subVectors(s,i),IT.subVectors(e,i);const l=th.dot(IT),c=nh.dot(IT);if(l<=0&&c<=0)return n.copy(i);LT.subVectors(e,r);const u=th.dot(LT),d=nh.dot(LT);if(u>=0&&d<=u)return n.copy(r);const f=l*d-u*c;if(f<=0&&l>=0&&u<=0)return o=l/(l-u),n.copy(i).addScaledVector(th,o);DT.subVectors(e,s);const m=th.dot(DT),g=nh.dot(DT);if(g>=0&&m<=g)return n.copy(s);const y=m*c-l*g;if(y<=0&&c>=0&&g<=0)return a=c/(c-g),n.copy(i).addScaledVector(nh,a);const x=u*g-m*d;if(x<=0&&d-u>=0&&m-g>=0)return mF.subVectors(s,r),a=(d-u)/(d-u+(m-g)),n.copy(r).addScaledVector(mF,a);const v=1/(x+y+f);return o=y*v,a=f*v,n.copy(i).addScaledVector(th,o).addScaledVector(nh,a)}equals(e){return e.a.equals(this.a)&&e.b.equals(this.b)&&e.c.equals(this.c)}}const m6={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},fc={h:0,s:0,l:0},c_={h:0,s:0,l:0};function OT(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*6*(2/3-n):t}let Be=class{constructor(e,n,i){return this.isColor=!0,this.r=1,this.g=1,this.b=1,this.set(e,n,i)}set(e,n,i){if(n===void 0&&i===void 0){const r=e;r&&r.isColor?this.copy(r):typeof r=="number"?this.setHex(r):typeof r=="string"&&this.setStyle(r)}else this.setRGB(e,n,i);return this}setScalar(e){return this.r=e,this.g=e,this.b=e,this}setHex(e,n=qi){return e=Math.floor(e),this.r=(e>>16&255)/255,this.g=(e>>8&255)/255,this.b=(e&255)/255,An.toWorkingColorSpace(this,n),this}setRGB(e,n,i,r=An.workingColorSpace){return this.r=e,this.g=n,this.b=i,An.toWorkingColorSpace(this,r),this}setHSL(e,n,i,r=An.workingColorSpace){if(e=Qk(e,1),n=Si(n,0,1),i=Si(i,0,1),n===0)this.r=this.g=this.b=i;else{const s=i<=.5?i*(1+n):i+n-i*n,o=2*i-s;this.r=OT(o,s,e+1/3),this.g=OT(o,s,e),this.b=OT(o,s,e-1/3)}return An.toWorkingColorSpace(this,r),this}setStyle(e,n=qi){function i(s){s!==void 0&&parseFloat(s)<1&&console.warn("THREE.Color: Alpha component of "+e+" will be ignored.")}let r;if(r=/^(\w+)\(([^\)]*)\)/.exec(e)){let s;const o=r[1],a=r[2];switch(o){case"rgb":case"rgba":if(s=/^\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(a))return i(s[4]),this.setRGB(Math.min(255,parseInt(s[1],10))/255,Math.min(255,parseInt(s[2],10))/255,Math.min(255,parseInt(s[3],10))/255,n);if(s=/^\s*(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(a))return i(s[4]),this.setRGB(Math.min(100,parseInt(s[1],10))/100,Math.min(100,parseInt(s[2],10))/100,Math.min(100,parseInt(s[3],10))/100,n);break;case"hsl":case"hsla":if(s=/^\s*(\d*\.?\d+)\s*,\s*(\d*\.?\d+)\%\s*,\s*(\d*\.?\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(a))return i(s[4]),this.setHSL(parseFloat(s[1])/360,parseFloat(s[2])/100,parseFloat(s[3])/100,n);break;default:console.warn("THREE.Color: Unknown color model "+e)}}else if(r=/^\#([A-Fa-f\d]+)$/.exec(e)){const s=r[1],o=s.length;if(o===3)return this.setRGB(parseInt(s.charAt(0),16)/15,parseInt(s.charAt(1),16)/15,parseInt(s.charAt(2),16)/15,n);if(o===6)return this.setHex(parseInt(s,16),n);console.warn("THREE.Color: Invalid hex color "+e)}else if(e&&e.length>0)return this.setColorName(e,n);return this}setColorName(e,n=qi){const i=m6[e.toLowerCase()];return i!==void 0?this.setHex(i,n):console.warn("THREE.Color: Unknown color "+e),this}clone(){return new this.constructor(this.r,this.g,this.b)}copy(e){return this.r=e.r,this.g=e.g,this.b=e.b,this}copySRGBToLinear(e){return this.r=op(e.r),this.g=op(e.g),this.b=op(e.b),this}copyLinearToSRGB(e){return this.r=wT(e.r),this.g=wT(e.g),this.b=wT(e.b),this}convertSRGBToLinear(){return this.copySRGBToLinear(this),this}convertLinearToSRGB(){return this.copyLinearToSRGB(this),this}getHex(e=qi){return An.fromWorkingColorSpace(Or.copy(this),e),Math.round(Si(Or.r*255,0,255))*65536+Math.round(Si(Or.g*255,0,255))*256+Math.round(Si(Or.b*255,0,255))}getHexString(e=qi){return("000000"+this.getHex(e).toString(16)).slice(-6)}getHSL(e,n=An.workingColorSpace){An.fromWorkingColorSpace(Or.copy(this),n);const i=Or.r,r=Or.g,s=Or.b,o=Math.max(i,r,s),a=Math.min(i,r,s);let l,c;const u=(a+o)/2;if(a===o)l=0,c=0;else{const d=o-a;switch(c=u<=.5?d/(o+a):d/(2-o-a),o){case i:l=(r-s)/d+(r<s?6:0);break;case r:l=(s-i)/d+2;break;case s:l=(i-r)/d+4;break}l/=6}return e.h=l,e.s=c,e.l=u,e}getRGB(e,n=An.workingColorSpace){return An.fromWorkingColorSpace(Or.copy(this),n),e.r=Or.r,e.g=Or.g,e.b=Or.b,e}getStyle(e=qi){An.fromWorkingColorSpace(Or.copy(this),e);const n=Or.r,i=Or.g,r=Or.b;return e!==qi?`color(${e} ${n.toFixed(3)} ${i.toFixed(3)} ${r.toFixed(3)})`:`rgb(${Math.round(n*255)},${Math.round(i*255)},${Math.round(r*255)})`}offsetHSL(e,n,i){return this.getHSL(fc),this.setHSL(fc.h+e,fc.s+n,fc.l+i)}add(e){return this.r+=e.r,this.g+=e.g,this.b+=e.b,this}addColors(e,n){return this.r=e.r+n.r,this.g=e.g+n.g,this.b=e.b+n.b,this}addScalar(e){return this.r+=e,this.g+=e,this.b+=e,this}sub(e){return this.r=Math.max(0,this.r-e.r),this.g=Math.max(0,this.g-e.g),this.b=Math.max(0,this.b-e.b),this}multiply(e){return this.r*=e.r,this.g*=e.g,this.b*=e.b,this}multiplyScalar(e){return this.r*=e,this.g*=e,this.b*=e,this}lerp(e,n){return this.r+=(e.r-this.r)*n,this.g+=(e.g-this.g)*n,this.b+=(e.b-this.b)*n,this}lerpColors(e,n,i){return this.r=e.r+(n.r-e.r)*i,this.g=e.g+(n.g-e.g)*i,this.b=e.b+(n.b-e.b)*i,this}lerpHSL(e,n){this.getHSL(fc),e.getHSL(c_);const i=g0(fc.h,c_.h,n),r=g0(fc.s,c_.s,n),s=g0(fc.l,c_.l,n);return this.setHSL(i,r,s),this}setFromVector3(e){return this.r=e.x,this.g=e.y,this.b=e.z,this}applyMatrix3(e){const n=this.r,i=this.g,r=this.b,s=e.elements;return this.r=s[0]*n+s[3]*i+s[6]*r,this.g=s[1]*n+s[4]*i+s[7]*r,this.b=s[2]*n+s[5]*i+s[8]*r,this}equals(e){return e.r===this.r&&e.g===this.g&&e.b===this.b}fromArray(e,n=0){return this.r=e[n],this.g=e[n+1],this.b=e[n+2],this}toArray(e=[],n=0){return e[n]=this.r,e[n+1]=this.g,e[n+2]=this.b,e}fromBufferAttribute(e,n){return this.r=e.getX(n),this.g=e.getY(n),this.b=e.getZ(n),this}toJSON(){return this.getHex()}*[Symbol.iterator](){yield this.r,yield this.g,yield this.b}};const Or=new Be;Be.NAMES=m6;let ehe=0;class ir extends lo{constructor(){super(),this.isMaterial=!0,Object.defineProperty(this,"id",{value:ehe++}),this.uuid=io(),this.name="",this.type="Material",this.blending=Nd,this.side=$a,this.vertexColors=!1,this.opacity=1,this.transparent=!1,this.alphaHash=!1,this.blendSrc=B1,this.blendDst=H1,this.blendEquation=Rc,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.blendColor=new Be(0,0,0),this.blendAlpha=0,this.depthFunc=zp,this.depthTest=!0,this.depthWrite=!0,this.stencilWriteMask=255,this.stencilFunc=BR,this.stencilRef=0,this.stencilFuncMask=255,this.stencilFail=id,this.stencilZFail=id,this.stencilZPass=id,this.stencilWrite=!1,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaToCoverage=!1,this.premultipliedAlpha=!1,this.forceSinglePass=!1,this.visible=!0,this.toneMapped=!0,this.userData={},this.version=0,this._alphaTest=0}get alphaTest(){return this._alphaTest}set alphaTest(e){this._alphaTest>0!=e>0&&this.version++,this._alphaTest=e}onBuild(){}onBeforeRender(){}onBeforeCompile(){}customProgramCacheKey(){return this.onBeforeCompile.toString()}setValues(e){if(e!==void 0)for(const n in e){const i=e[n];if(i===void 0){console.warn(`THREE.Material: parameter '${n}' has value of undefined.`);continue}const r=this[n];if(r===void 0){console.warn(`THREE.Material: '${n}' is not a property of THREE.${this.type}.`);continue}r&&r.isColor?r.set(i):r&&r.isVector3&&i&&i.isVector3?r.copy(i):this[n]=i}}toJSON(e){const n=e===void 0||typeof e=="string";n&&(e={textures:{},images:{}});const i={metadata:{version:4.6,type:"Material",generator:"Material.toJSON"}};i.uuid=this.uuid,i.type=this.type,this.name!==""&&(i.name=this.name),this.color&&this.color.isColor&&(i.color=this.color.getHex()),this.roughness!==void 0&&(i.roughness=this.roughness),this.metalness!==void 0&&(i.metalness=this.metalness),this.sheen!==void 0&&(i.sheen=this.sheen),this.sheenColor&&this.sheenColor.isColor&&(i.sheenColor=this.sheenColor.getHex()),this.sheenRoughness!==void 0&&(i.sheenRoughness=this.sheenRoughness),this.emissive&&this.emissive.isColor&&(i.emissive=this.emissive.getHex()),this.emissiveIntensity&&this.emissiveIntensity!==1&&(i.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(i.specular=this.specular.getHex()),this.specularIntensity!==void 0&&(i.specularIntensity=this.specularIntensity),this.specularColor&&this.specularColor.isColor&&(i.specularColor=this.specularColor.getHex()),this.shininess!==void 0&&(i.shininess=this.shininess),this.clearcoat!==void 0&&(i.clearcoat=this.clearcoat),this.clearcoatRoughness!==void 0&&(i.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatMap&&this.clearcoatMap.isTexture&&(i.clearcoatMap=this.clearcoatMap.toJSON(e).uuid),this.clearcoatRoughnessMap&&this.clearcoatRoughnessMap.isTexture&&(i.clearcoatRoughnessMap=this.clearcoatRoughnessMap.toJSON(e).uuid),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(i.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(e).uuid,i.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),this.iridescence!==void 0&&(i.iridescence=this.iridescence),this.iridescenceIOR!==void 0&&(i.iridescenceIOR=this.iridescenceIOR),this.iridescenceThicknessRange!==void 0&&(i.iridescenceThicknessRange=this.iridescenceThicknessRange),this.iridescenceMap&&this.iridescenceMap.isTexture&&(i.iridescenceMap=this.iridescenceMap.toJSON(e).uuid),this.iridescenceThicknessMap&&this.iridescenceThicknessMap.isTexture&&(i.iridescenceThicknessMap=this.iridescenceThicknessMap.toJSON(e).uuid),this.anisotropy!==void 0&&(i.anisotropy=this.anisotropy),this.anisotropyRotation!==void 0&&(i.anisotropyRotation=this.anisotropyRotation),this.anisotropyMap&&this.anisotropyMap.isTexture&&(i.anisotropyMap=this.anisotropyMap.toJSON(e).uuid),this.map&&this.map.isTexture&&(i.map=this.map.toJSON(e).uuid),this.matcap&&this.matcap.isTexture&&(i.matcap=this.matcap.toJSON(e).uuid),this.alphaMap&&this.alphaMap.isTexture&&(i.alphaMap=this.alphaMap.toJSON(e).uuid),this.lightMap&&this.lightMap.isTexture&&(i.lightMap=this.lightMap.toJSON(e).uuid,i.lightMapIntensity=this.lightMapIntensity),this.aoMap&&this.aoMap.isTexture&&(i.aoMap=this.aoMap.toJSON(e).uuid,i.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(i.bumpMap=this.bumpMap.toJSON(e).uuid,i.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(i.normalMap=this.normalMap.toJSON(e).uuid,i.normalMapType=this.normalMapType,i.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(i.displacementMap=this.displacementMap.toJSON(e).uuid,i.displacementScale=this.displacementScale,i.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(i.roughnessMap=this.roughnessMap.toJSON(e).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(i.metalnessMap=this.metalnessMap.toJSON(e).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(i.emissiveMap=this.emissiveMap.toJSON(e).uuid),this.specularMap&&this.specularMap.isTexture&&(i.specularMap=this.specularMap.toJSON(e).uuid),this.specularIntensityMap&&this.specularIntensityMap.isTexture&&(i.specularIntensityMap=this.specularIntensityMap.toJSON(e).uuid),this.specularColorMap&&this.specularColorMap.isTexture&&(i.specularColorMap=this.specularColorMap.toJSON(e).uuid),this.envMap&&this.envMap.isTexture&&(i.envMap=this.envMap.toJSON(e).uuid,this.combine!==void 0&&(i.combine=this.combine)),this.envMapIntensity!==void 0&&(i.envMapIntensity=this.envMapIntensity),this.reflectivity!==void 0&&(i.reflectivity=this.reflectivity),this.refractionRatio!==void 0&&(i.refractionRatio=this.refractionRatio),this.gradientMap&&this.gradientMap.isTexture&&(i.gradientMap=this.gradientMap.toJSON(e).uuid),this.transmission!==void 0&&(i.transmission=this.transmission),this.transmissionMap&&this.transmissionMap.isTexture&&(i.transmissionMap=this.transmissionMap.toJSON(e).uuid),this.thickness!==void 0&&(i.thickness=this.thickness),this.thicknessMap&&this.thicknessMap.isTexture&&(i.thicknessMap=this.thicknessMap.toJSON(e).uuid),this.attenuationDistance!==void 0&&this.attenuationDistance!==1/0&&(i.attenuationDistance=this.attenuationDistance),this.attenuationColor!==void 0&&(i.attenuationColor=this.attenuationColor.getHex()),this.size!==void 0&&(i.size=this.size),this.shadowSide!==null&&(i.shadowSide=this.shadowSide),this.sizeAttenuation!==void 0&&(i.sizeAttenuation=this.sizeAttenuation),this.blending!==Nd&&(i.blending=this.blending),this.side!==$a&&(i.side=this.side),this.vertexColors===!0&&(i.vertexColors=!0),this.opacity<1&&(i.opacity=this.opacity),this.transparent===!0&&(i.transparent=!0),this.blendSrc!==B1&&(i.blendSrc=this.blendSrc),this.blendDst!==H1&&(i.blendDst=this.blendDst),this.blendEquation!==Rc&&(i.blendEquation=this.blendEquation),this.blendSrcAlpha!==null&&(i.blendSrcAlpha=this.blendSrcAlpha),this.blendDstAlpha!==null&&(i.blendDstAlpha=this.blendDstAlpha),this.blendEquationAlpha!==null&&(i.blendEquationAlpha=this.blendEquationAlpha),this.blendColor&&this.blendColor.isColor&&(i.blendColor=this.blendColor.getHex()),this.blendAlpha!==0&&(i.blendAlpha=this.blendAlpha),this.depthFunc!==zp&&(i.depthFunc=this.depthFunc),this.depthTest===!1&&(i.depthTest=this.depthTest),this.depthWrite===!1&&(i.depthWrite=this.depthWrite),this.colorWrite===!1&&(i.colorWrite=this.colorWrite),this.stencilWriteMask!==255&&(i.stencilWriteMask=this.stencilWriteMask),this.stencilFunc!==BR&&(i.stencilFunc=this.stencilFunc),this.stencilRef!==0&&(i.stencilRef=this.stencilRef),this.stencilFuncMask!==255&&(i.stencilFuncMask=this.stencilFuncMask),this.stencilFail!==id&&(i.stencilFail=this.stencilFail),this.stencilZFail!==id&&(i.stencilZFail=this.stencilZFail),this.stencilZPass!==id&&(i.stencilZPass=this.stencilZPass),this.stencilWrite===!0&&(i.stencilWrite=this.stencilWrite),this.rotation!==void 0&&this.rotation!==0&&(i.rotation=this.rotation),this.polygonOffset===!0&&(i.polygonOffset=!0),this.polygonOffsetFactor!==0&&(i.polygonOffsetFactor=this.polygonOffsetFactor),this.polygonOffsetUnits!==0&&(i.polygonOffsetUnits=this.polygonOffsetUnits),this.linewidth!==void 0&&this.linewidth!==1&&(i.linewidth=this.linewidth),this.dashSize!==void 0&&(i.dashSize=this.dashSize),this.gapSize!==void 0&&(i.gapSize=this.gapSize),this.scale!==void 0&&(i.scale=this.scale),this.dithering===!0&&(i.dithering=!0),this.alphaTest>0&&(i.alphaTest=this.alphaTest),this.alphaHash===!0&&(i.alphaHash=!0),this.alphaToCoverage===!0&&(i.alphaToCoverage=!0),this.premultipliedAlpha===!0&&(i.premultipliedAlpha=!0),this.forceSinglePass===!0&&(i.forceSinglePass=!0),this.wireframe===!0&&(i.wireframe=!0),this.wireframeLinewidth>1&&(i.wireframeLinewidth=this.wireframeLinewidth),this.wireframeLinecap!=="round"&&(i.wireframeLinecap=this.wireframeLinecap),this.wireframeLinejoin!=="round"&&(i.wireframeLinejoin=this.wireframeLinejoin),this.flatShading===!0&&(i.flatShading=!0),this.visible===!1&&(i.visible=!1),this.toneMapped===!1&&(i.toneMapped=!1),this.fog===!1&&(i.fog=!1),Object.keys(this.userData).length>0&&(i.userData=this.userData);function r(s){const o=[];for(const a in s){const l=s[a];delete l.metadata,o.push(l)}return o}if(n){const s=r(e.textures),o=r(e.images);s.length>0&&(i.textures=s),o.length>0&&(i.images=o)}return i}clone(){return new this.constructor().copy(this)}copy(e){this.name=e.name,this.blending=e.blending,this.side=e.side,this.vertexColors=e.vertexColors,this.opacity=e.opacity,this.transparent=e.transparent,this.blendSrc=e.blendSrc,this.blendDst=e.blendDst,this.blendEquation=e.blendEquation,this.blendSrcAlpha=e.blendSrcAlpha,this.blendDstAlpha=e.blendDstAlpha,this.blendEquationAlpha=e.blendEquationAlpha,this.blendColor.copy(e.blendColor),this.blendAlpha=e.blendAlpha,this.depthFunc=e.depthFunc,this.depthTest=e.depthTest,this.depthWrite=e.depthWrite,this.stencilWriteMask=e.stencilWriteMask,this.stencilFunc=e.stencilFunc,this.stencilRef=e.stencilRef,this.stencilFuncMask=e.stencilFuncMask,this.stencilFail=e.stencilFail,this.stencilZFail=e.stencilZFail,this.stencilZPass=e.stencilZPass,this.stencilWrite=e.stencilWrite;const n=e.clippingPlanes;let i=null;if(n!==null){const r=n.length;i=new Array(r);for(let s=0;s!==r;++s)i[s]=n[s].clone()}return this.clippingPlanes=i,this.clipIntersection=e.clipIntersection,this.clipShadows=e.clipShadows,this.shadowSide=e.shadowSide,this.colorWrite=e.colorWrite,this.precision=e.precision,this.polygonOffset=e.polygonOffset,this.polygonOffsetFactor=e.polygonOffsetFactor,this.polygonOffsetUnits=e.polygonOffsetUnits,this.dithering=e.dithering,this.alphaTest=e.alphaTest,this.alphaHash=e.alphaHash,this.alphaToCoverage=e.alphaToCoverage,this.premultipliedAlpha=e.premultipliedAlpha,this.forceSinglePass=e.forceSinglePass,this.visible=e.visible,this.toneMapped=e.toneMapped,this.userData=JSON.parse(JSON.stringify(e.userData)),this}dispose(){this.dispatchEvent({type:"dispose"})}set needsUpdate(e){e===!0&&this.version++}}class Eu extends ir{constructor(e){super(),this.isMeshBasicMaterial=!0,this.type="MeshBasicMaterial",this.color=new Be(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=ny,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}const Tl=the();function the(){const t=new ArrayBuffer(4),e=new Float32Array(t),n=new Uint32Array(t),i=new Uint32Array(512),r=new Uint32Array(512);for(let l=0;l<256;++l){const c=l-127;c<-27?(i[l]=0,i[l|256]=32768,r[l]=24,r[l|256]=24):c<-14?(i[l]=1024>>-c-14,i[l|256]=1024>>-c-14|32768,r[l]=-c-1,r[l|256]=-c-1):c<=15?(i[l]=c+15<<10,i[l|256]=c+15<<10|32768,r[l]=13,r[l|256]=13):c<128?(i[l]=31744,i[l|256]=64512,r[l]=24,r[l|256]=24):(i[l]=31744,i[l|256]=64512,r[l]=13,r[l|256]=13)}const s=new Uint32Array(2048),o=new Uint32Array(64),a=new Uint32Array(64);for(let l=1;l<1024;++l){let c=l<<13,u=0;for(;!(c&8388608);)c<<=1,u-=8388608;c&=-8388609,u+=947912704,s[l]=c|u}for(let l=1024;l<2048;++l)s[l]=939524096+(l-1024<<13);for(let l=1;l<31;++l)o[l]=l<<23;o[31]=1199570944,o[32]=2147483648;for(let l=33;l<63;++l)o[l]=2147483648+(l-32<<23);o[63]=3347054592;for(let l=1;l<64;++l)l!==32&&(a[l]=1024);return{floatView:e,uint32View:n,baseTable:i,shiftTable:r,mantissaTable:s,exponentTable:o,offsetTable:a}}function ys(t){Math.abs(t)>65504&&console.warn("THREE.DataUtils.toHalfFloat(): Value out of range."),t=Si(t,-65504,65504),Tl.floatView[0]=t;const e=Tl.uint32View[0],n=e>>23&511;return Tl.baseTable[n]+((e&8388607)>>Tl.shiftTable[n])}function zg(t){const e=t>>10;return Tl.uint32View[0]=Tl.mantissaTable[Tl.offsetTable[e]+(t&1023)]+Tl.exponentTable[e],Tl.floatView[0]}const nhe={toHalfFloat:ys,fromHalfFloat:zg},Ni=new W,u_=new Ae;class hn{constructor(e,n,i=!1){if(Array.isArray(e))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.isBufferAttribute=!0,this.name="",this.array=e,this.itemSize=n,this.count=e!==void 0?e.length/n:0,this.normalized=i,this.usage=fv,this._updateRange={offset:0,count:-1},this.updateRanges=[],this.gpuType=eo,this.version=0}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}get updateRange(){return console.warn('THREE.BufferAttribute: "updateRange" is deprecated and removed in r169. Use "addUpdateRange()" instead.'),this._updateRange}setUsage(e){return this.usage=e,this}addUpdateRange(e,n){this.updateRanges.push({start:e,count:n})}clearUpdateRanges(){this.updateRanges.length=0}copy(e){return this.name=e.name,this.array=new e.array.constructor(e.array),this.itemSize=e.itemSize,this.count=e.count,this.normalized=e.normalized,this.usage=e.usage,this.gpuType=e.gpuType,this}copyAt(e,n,i){e*=this.itemSize,i*=n.itemSize;for(let r=0,s=this.itemSize;r<s;r++)this.array[e+r]=n.array[i+r];return this}copyArray(e){return this.array.set(e),this}applyMatrix3(e){if(this.itemSize===2)for(let n=0,i=this.count;n<i;n++)u_.fromBufferAttribute(this,n),u_.applyMatrix3(e),this.setXY(n,u_.x,u_.y);else if(this.itemSize===3)for(let n=0,i=this.count;n<i;n++)Ni.fromBufferAttribute(this,n),Ni.applyMatrix3(e),this.setXYZ(n,Ni.x,Ni.y,Ni.z);return this}applyMatrix4(e){for(let n=0,i=this.count;n<i;n++)Ni.fromBufferAttribute(this,n),Ni.applyMatrix4(e),this.setXYZ(n,Ni.x,Ni.y,Ni.z);return this}applyNormalMatrix(e){for(let n=0,i=this.count;n<i;n++)Ni.fromBufferAttribute(this,n),Ni.applyNormalMatrix(e),this.setXYZ(n,Ni.x,Ni.y,Ni.z);return this}transformDirection(e){for(let n=0,i=this.count;n<i;n++)Ni.fromBufferAttribute(this,n),Ni.transformDirection(e),this.setXYZ(n,Ni.x,Ni.y,Ni.z);return this}set(e,n=0){return this.array.set(e,n),this}getComponent(e,n){let i=this.array[e*this.itemSize+n];return this.normalized&&(i=Ts(i,this.array)),i}setComponent(e,n,i){return this.normalized&&(i=qt(i,this.array)),this.array[e*this.itemSize+n]=i,this}getX(e){let n=this.array[e*this.itemSize];return this.normalized&&(n=Ts(n,this.array)),n}setX(e,n){return this.normalized&&(n=qt(n,this.array)),this.array[e*this.itemSize]=n,this}getY(e){let n=this.array[e*this.itemSize+1];return this.normalized&&(n=Ts(n,this.array)),n}setY(e,n){return this.normalized&&(n=qt(n,this.array)),this.array[e*this.itemSize+1]=n,this}getZ(e){let n=this.array[e*this.itemSize+2];return this.normalized&&(n=Ts(n,this.array)),n}setZ(e,n){return this.normalized&&(n=qt(n,this.array)),this.array[e*this.itemSize+2]=n,this}getW(e){let n=this.array[e*this.itemSize+3];return this.normalized&&(n=Ts(n,this.array)),n}setW(e,n){return this.normalized&&(n=qt(n,this.array)),this.array[e*this.itemSize+3]=n,this}setXY(e,n,i){return e*=this.itemSize,this.normalized&&(n=qt(n,this.array),i=qt(i,this.array)),this.array[e+0]=n,this.array[e+1]=i,this}setXYZ(e,n,i,r){return e*=this.itemSize,this.normalized&&(n=qt(n,this.array),i=qt(i,this.array),r=qt(r,this.array)),this.array[e+0]=n,this.array[e+1]=i,this.array[e+2]=r,this}setXYZW(e,n,i,r,s){return e*=this.itemSize,this.normalized&&(n=qt(n,this.array),i=qt(i,this.array),r=qt(r,this.array),s=qt(s,this.array)),this.array[e+0]=n,this.array[e+1]=i,this.array[e+2]=r,this.array[e+3]=s,this}onUpload(e){return this.onUploadCallback=e,this}clone(){return new this.constructor(this.array,this.itemSize).copy(this)}toJSON(){const e={itemSize:this.itemSize,type:this.array.constructor.name,array:Array.from(this.array),normalized:this.normalized};return this.name!==""&&(e.name=this.name),this.usage!==fv&&(e.usage=this.usage),e}}class ihe extends hn{constructor(e,n,i){super(new Int8Array(e),n,i)}}class rhe extends hn{constructor(e,n,i){super(new Uint8Array(e),n,i)}}class she extends hn{constructor(e,n,i){super(new Uint8ClampedArray(e),n,i)}}class ohe extends hn{constructor(e,n,i){super(new Int16Array(e),n,i)}}class eI extends hn{constructor(e,n,i){super(new Uint16Array(e),n,i)}}class ahe extends hn{constructor(e,n,i){super(new Int32Array(e),n,i)}}class tI extends hn{constructor(e,n,i){super(new Uint32Array(e),n,i)}}class lhe extends hn{constructor(e,n,i){super(new Uint16Array(e),n,i),this.isFloat16BufferAttribute=!0}getX(e){let n=zg(this.array[e*this.itemSize]);return this.normalized&&(n=Ts(n,this.array)),n}setX(e,n){return this.normalized&&(n=qt(n,this.array)),this.array[e*this.itemSize]=ys(n),this}getY(e){let n=zg(this.array[e*this.itemSize+1]);return this.normalized&&(n=Ts(n,this.array)),n}setY(e,n){return this.normalized&&(n=qt(n,this.array)),this.array[e*this.itemSize+1]=ys(n),this}getZ(e){let n=zg(this.array[e*this.itemSize+2]);return this.normalized&&(n=Ts(n,this.array)),n}setZ(e,n){return this.normalized&&(n=qt(n,this.array)),this.array[e*this.itemSize+2]=ys(n),this}getW(e){let n=zg(this.array[e*this.itemSize+3]);return this.normalized&&(n=Ts(n,this.array)),n}setW(e,n){return this.normalized&&(n=qt(n,this.array)),this.array[e*this.itemSize+3]=ys(n),this}setXY(e,n,i){return e*=this.itemSize,this.normalized&&(n=qt(n,this.array),i=qt(i,this.array)),this.array[e+0]=ys(n),this.array[e+1]=ys(i),this}setXYZ(e,n,i,r){return e*=this.itemSize,this.normalized&&(n=qt(n,this.array),i=qt(i,this.array),r=qt(r,this.array)),this.array[e+0]=ys(n),this.array[e+1]=ys(i),this.array[e+2]=ys(r),this}setXYZW(e,n,i,r,s){return e*=this.itemSize,this.normalized&&(n=qt(n,this.array),i=qt(i,this.array),r=qt(r,this.array),s=qt(s,this.array)),this.array[e+0]=ys(n),this.array[e+1]=ys(i),this.array[e+2]=ys(r),this.array[e+3]=ys(s),this}}class bt extends hn{constructor(e,n,i){super(new Float32Array(e),n,i)}}class che extends hn{constructor(e,n,i){super(new Float64Array(e),n,i)}}let uhe=0;const bo=new Ut,NT=new xn,ih=new W,Ws=new ss,cg=new ss,cr=new W;class $t extends lo{constructor(){super(),this.isBufferGeometry=!0,Object.defineProperty(this,"id",{value:uhe++}),this.uuid=io(),this.name="",this.type="BufferGeometry",this.index=null,this.attributes={},this.morphAttributes={},this.morphTargetsRelative=!1,this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0},this.userData={}}getIndex(){return this.index}setIndex(e){return Array.isArray(e)?this.index=new(f6(e)?tI:eI)(e,1):this.index=e,this}getAttribute(e){return this.attributes[e]}setAttribute(e,n){return this.attributes[e]=n,this}deleteAttribute(e){return delete this.attributes[e],this}hasAttribute(e){return this.attributes[e]!==void 0}addGroup(e,n,i=0){this.groups.push({start:e,count:n,materialIndex:i})}clearGroups(){this.groups=[]}setDrawRange(e,n){this.drawRange.start=e,this.drawRange.count=n}applyMatrix4(e){const n=this.attributes.position;n!==void 0&&(n.applyMatrix4(e),n.needsUpdate=!0);const i=this.attributes.normal;if(i!==void 0){const s=new Jt().getNormalMatrix(e);i.applyNormalMatrix(s),i.needsUpdate=!0}const r=this.attributes.tangent;return r!==void 0&&(r.transformDirection(e),r.needsUpdate=!0),this.boundingBox!==null&&this.computeBoundingBox(),this.boundingSphere!==null&&this.computeBoundingSphere(),this}applyQuaternion(e){return bo.makeRotationFromQuaternion(e),this.applyMatrix4(bo),this}rotateX(e){return bo.makeRotationX(e),this.applyMatrix4(bo),this}rotateY(e){return bo.makeRotationY(e),this.applyMatrix4(bo),this}rotateZ(e){return bo.makeRotationZ(e),this.applyMatrix4(bo),this}translate(e,n,i){return bo.makeTranslation(e,n,i),this.applyMatrix4(bo),this}scale(e,n,i){return bo.makeScale(e,n,i),this.applyMatrix4(bo),this}lookAt(e){return NT.lookAt(e),NT.updateMatrix(),this.applyMatrix4(NT.matrix),this}center(){return this.computeBoundingBox(),this.boundingBox.getCenter(ih).negate(),this.translate(ih.x,ih.y,ih.z),this}setFromPoints(e){const n=[];for(let i=0,r=e.length;i<r;i++){const s=e[i];n.push(s.x,s.y,s.z||0)}return this.setAttribute("position",new bt(n,3)),this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new ss);const e=this.attributes.position,n=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error('THREE.BufferGeometry.computeBoundingBox(): GLBufferAttribute requires a manual bounding box. Alternatively set "mesh.frustumCulled" to "false".',this),this.boundingBox.set(new W(-1/0,-1/0,-1/0),new W(1/0,1/0,1/0));return}if(e!==void 0){if(this.boundingBox.setFromBufferAttribute(e),n)for(let i=0,r=n.length;i<r;i++){const s=n[i];Ws.setFromBufferAttribute(s),this.morphTargetsRelative?(cr.addVectors(this.boundingBox.min,Ws.min),this.boundingBox.expandByPoint(cr),cr.addVectors(this.boundingBox.max,Ws.max),this.boundingBox.expandByPoint(cr)):(this.boundingBox.expandByPoint(Ws.min),this.boundingBox.expandByPoint(Ws.max))}}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox(): Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new $r);const e=this.attributes.position,n=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error('THREE.BufferGeometry.computeBoundingSphere(): GLBufferAttribute requires a manual bounding sphere. Alternatively set "mesh.frustumCulled" to "false".',this),this.boundingSphere.set(new W,1/0);return}if(e){const i=this.boundingSphere.center;if(Ws.setFromBufferAttribute(e),n)for(let s=0,o=n.length;s<o;s++){const a=n[s];cg.setFromBufferAttribute(a),this.morphTargetsRelative?(cr.addVectors(Ws.min,cg.min),Ws.expandByPoint(cr),cr.addVectors(Ws.max,cg.max),Ws.expandByPoint(cr)):(Ws.expandByPoint(cg.min),Ws.expandByPoint(cg.max))}Ws.getCenter(i);let r=0;for(let s=0,o=e.count;s<o;s++)cr.fromBufferAttribute(e,s),r=Math.max(r,i.distanceToSquared(cr));if(n)for(let s=0,o=n.length;s<o;s++){const a=n[s],l=this.morphTargetsRelative;for(let c=0,u=a.count;c<u;c++)cr.fromBufferAttribute(a,c),l&&(ih.fromBufferAttribute(e,c),cr.add(ih)),r=Math.max(r,i.distanceToSquared(cr))}this.boundingSphere.radius=Math.sqrt(r),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}computeTangents(){const e=this.index,n=this.attributes;if(e===null||n.position===void 0||n.normal===void 0||n.uv===void 0){console.error("THREE.BufferGeometry: .computeTangents() failed. Missing required attributes (index, position, normal or uv)");return}const i=e.array,r=n.position.array,s=n.normal.array,o=n.uv.array,a=r.length/3;this.hasAttribute("tangent")===!1&&this.setAttribute("tangent",new hn(new Float32Array(4*a),4));const l=this.getAttribute("tangent").array,c=[],u=[];for(let L=0;L<a;L++)c[L]=new W,u[L]=new W;const d=new W,f=new W,m=new W,g=new Ae,y=new Ae,x=new Ae,v=new W,_=new W;function b(L,O,H){d.fromArray(r,L*3),f.fromArray(r,O*3),m.fromArray(r,H*3),g.fromArray(o,L*2),y.fromArray(o,O*2),x.fromArray(o,H*2),f.sub(d),m.sub(d),y.sub(g),x.sub(g);const q=1/(y.x*x.y-x.x*y.y);isFinite(q)&&(v.copy(f).multiplyScalar(x.y).addScaledVector(m,-y.y).multiplyScalar(q),_.copy(m).multiplyScalar(y.x).addScaledVector(f,-x.x).multiplyScalar(q),c[L].add(v),c[O].add(v),c[H].add(v),u[L].add(_),u[O].add(_),u[H].add(_))}let w=this.groups;w.length===0&&(w=[{start:0,count:i.length}]);for(let L=0,O=w.length;L<O;++L){const H=w[L],q=H.start,U=H.count;for(let G=q,Q=q+U;G<Q;G+=3)b(i[G+0],i[G+1],i[G+2])}const C=new W,T=new W,R=new W,I=new W;function A(L){R.fromArray(s,L*3),I.copy(R);const O=c[L];C.copy(O),C.sub(R.multiplyScalar(R.dot(O))).normalize(),T.crossVectors(I,O);const q=T.dot(u[L])<0?-1:1;l[L*4]=C.x,l[L*4+1]=C.y,l[L*4+2]=C.z,l[L*4+3]=q}for(let L=0,O=w.length;L<O;++L){const H=w[L],q=H.start,U=H.count;for(let G=q,Q=q+U;G<Q;G+=3)A(i[G+0]),A(i[G+1]),A(i[G+2])}}computeVertexNormals(){const e=this.index,n=this.getAttribute("position");if(n!==void 0){let i=this.getAttribute("normal");if(i===void 0)i=new hn(new Float32Array(n.count*3),3),this.setAttribute("normal",i);else for(let f=0,m=i.count;f<m;f++)i.setXYZ(f,0,0,0);const r=new W,s=new W,o=new W,a=new W,l=new W,c=new W,u=new W,d=new W;if(e)for(let f=0,m=e.count;f<m;f+=3){const g=e.getX(f+0),y=e.getX(f+1),x=e.getX(f+2);r.fromBufferAttribute(n,g),s.fromBufferAttribute(n,y),o.fromBufferAttribute(n,x),u.subVectors(o,s),d.subVectors(r,s),u.cross(d),a.fromBufferAttribute(i,g),l.fromBufferAttribute(i,y),c.fromBufferAttribute(i,x),a.add(u),l.add(u),c.add(u),i.setXYZ(g,a.x,a.y,a.z),i.setXYZ(y,l.x,l.y,l.z),i.setXYZ(x,c.x,c.y,c.z)}else for(let f=0,m=n.count;f<m;f+=3)r.fromBufferAttribute(n,f+0),s.fromBufferAttribute(n,f+1),o.fromBufferAttribute(n,f+2),u.subVectors(o,s),d.subVectors(r,s),u.cross(d),i.setXYZ(f+0,u.x,u.y,u.z),i.setXYZ(f+1,u.x,u.y,u.z),i.setXYZ(f+2,u.x,u.y,u.z);this.normalizeNormals(),i.needsUpdate=!0}}normalizeNormals(){const e=this.attributes.normal;for(let n=0,i=e.count;n<i;n++)cr.fromBufferAttribute(e,n),cr.normalize(),e.setXYZ(n,cr.x,cr.y,cr.z)}toNonIndexed(){function e(a,l){const c=a.array,u=a.itemSize,d=a.normalized,f=new c.constructor(l.length*u);let m=0,g=0;for(let y=0,x=l.length;y<x;y++){a.isInterleavedBufferAttribute?m=l[y]*a.data.stride+a.offset:m=l[y]*u;for(let v=0;v<u;v++)f[g++]=c[m++]}return new hn(f,u,d)}if(this.index===null)return console.warn("THREE.BufferGeometry.toNonIndexed(): BufferGeometry is already non-indexed."),this;const n=new $t,i=this.index.array,r=this.attributes;for(const a in r){const l=r[a],c=e(l,i);n.setAttribute(a,c)}const s=this.morphAttributes;for(const a in s){const l=[],c=s[a];for(let u=0,d=c.length;u<d;u++){const f=c[u],m=e(f,i);l.push(m)}n.morphAttributes[a]=l}n.morphTargetsRelative=this.morphTargetsRelative;const o=this.groups;for(let a=0,l=o.length;a<l;a++){const c=o[a];n.addGroup(c.start,c.count,c.materialIndex)}return n}toJSON(){const e={metadata:{version:4.6,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(e.uuid=this.uuid,e.type=this.type,this.name!==""&&(e.name=this.name),Object.keys(this.userData).length>0&&(e.userData=this.userData),this.parameters!==void 0){const l=this.parameters;for(const c in l)l[c]!==void 0&&(e[c]=l[c]);return e}e.data={attributes:{}};const n=this.index;n!==null&&(e.data.index={type:n.array.constructor.name,array:Array.prototype.slice.call(n.array)});const i=this.attributes;for(const l in i){const c=i[l];e.data.attributes[l]=c.toJSON(e.data)}const r={};let s=!1;for(const l in this.morphAttributes){const c=this.morphAttributes[l],u=[];for(let d=0,f=c.length;d<f;d++){const m=c[d];u.push(m.toJSON(e.data))}u.length>0&&(r[l]=u,s=!0)}s&&(e.data.morphAttributes=r,e.data.morphTargetsRelative=this.morphTargetsRelative);const o=this.groups;o.length>0&&(e.data.groups=JSON.parse(JSON.stringify(o)));const a=this.boundingSphere;return a!==null&&(e.data.boundingSphere={center:a.center.toArray(),radius:a.radius}),e}clone(){return new this.constructor().copy(this)}copy(e){this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null;const n={};this.name=e.name;const i=e.index;i!==null&&this.setIndex(i.clone(n));const r=e.attributes;for(const c in r){const u=r[c];this.setAttribute(c,u.clone(n))}const s=e.morphAttributes;for(const c in s){const u=[],d=s[c];for(let f=0,m=d.length;f<m;f++)u.push(d[f].clone(n));this.morphAttributes[c]=u}this.morphTargetsRelative=e.morphTargetsRelative;const o=e.groups;for(let c=0,u=o.length;c<u;c++){const d=o[c];this.addGroup(d.start,d.count,d.materialIndex)}const a=e.boundingBox;a!==null&&(this.boundingBox=a.clone());const l=e.boundingSphere;return l!==null&&(this.boundingSphere=l.clone()),this.drawRange.start=e.drawRange.start,this.drawRange.count=e.drawRange.count,this.userData=e.userData,this}dispose(){this.dispatchEvent({type:"dispose"})}}const gF=new Ut,Hu=new am,d_=new $r,vF=new W,rh=new W,sh=new W,oh=new W,FT=new W,f_=new W,h_=new Ae,p_=new Ae,m_=new Ae,yF=new W,xF=new W,_F=new W,g_=new W,v_=new W;class Hi extends xn{constructor(e=new $t,n=new Eu){super(),this.isMesh=!0,this.type="Mesh",this.geometry=e,this.material=n,this.updateMorphTargets()}copy(e,n){return super.copy(e,n),e.morphTargetInfluences!==void 0&&(this.morphTargetInfluences=e.morphTargetInfluences.slice()),e.morphTargetDictionary!==void 0&&(this.morphTargetDictionary=Object.assign({},e.morphTargetDictionary)),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}updateMorphTargets(){const n=this.geometry.morphAttributes,i=Object.keys(n);if(i.length>0){const r=n[i[0]];if(r!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let s=0,o=r.length;s<o;s++){const a=r[s].name||String(s);this.morphTargetInfluences.push(0),this.morphTargetDictionary[a]=s}}}}getVertexPosition(e,n){const i=this.geometry,r=i.attributes.position,s=i.morphAttributes.position,o=i.morphTargetsRelative;n.fromBufferAttribute(r,e);const a=this.morphTargetInfluences;if(s&&a){f_.set(0,0,0);for(let l=0,c=s.length;l<c;l++){const u=a[l],d=s[l];u!==0&&(FT.fromBufferAttribute(d,e),o?f_.addScaledVector(FT,u):f_.addScaledVector(FT.sub(n),u))}n.add(f_)}return n}raycast(e,n){const i=this.geometry,r=this.material,s=this.matrixWorld;r!==void 0&&(i.boundingSphere===null&&i.computeBoundingSphere(),d_.copy(i.boundingSphere),d_.applyMatrix4(s),Hu.copy(e.ray).recast(e.near),!(d_.containsPoint(Hu.origin)===!1&&(Hu.intersectSphere(d_,vF)===null||Hu.origin.distanceToSquared(vF)>(e.far-e.near)**2))&&(gF.copy(s).invert(),Hu.copy(e.ray).applyMatrix4(gF),!(i.boundingBox!==null&&Hu.intersectsBox(i.boundingBox)===!1)&&this._computeIntersections(e,n,Hu)))}_computeIntersections(e,n,i){let r;const s=this.geometry,o=this.material,a=s.index,l=s.attributes.position,c=s.attributes.uv,u=s.attributes.uv1,d=s.attributes.normal,f=s.groups,m=s.drawRange;if(a!==null)if(Array.isArray(o))for(let g=0,y=f.length;g<y;g++){const x=f[g],v=o[x.materialIndex],_=Math.max(x.start,m.start),b=Math.min(a.count,Math.min(x.start+x.count,m.start+m.count));for(let w=_,C=b;w<C;w+=3){const T=a.getX(w),R=a.getX(w+1),I=a.getX(w+2);r=y_(this,v,e,i,c,u,d,T,R,I),r&&(r.faceIndex=Math.floor(w/3),r.face.materialIndex=x.materialIndex,n.push(r))}}else{const g=Math.max(0,m.start),y=Math.min(a.count,m.start+m.count);for(let x=g,v=y;x<v;x+=3){const _=a.getX(x),b=a.getX(x+1),w=a.getX(x+2);r=y_(this,o,e,i,c,u,d,_,b,w),r&&(r.faceIndex=Math.floor(x/3),n.push(r))}}else if(l!==void 0)if(Array.isArray(o))for(let g=0,y=f.length;g<y;g++){const x=f[g],v=o[x.materialIndex],_=Math.max(x.start,m.start),b=Math.min(l.count,Math.min(x.start+x.count,m.start+m.count));for(let w=_,C=b;w<C;w+=3){const T=w,R=w+1,I=w+2;r=y_(this,v,e,i,c,u,d,T,R,I),r&&(r.faceIndex=Math.floor(w/3),r.face.materialIndex=x.materialIndex,n.push(r))}}else{const g=Math.max(0,m.start),y=Math.min(l.count,m.start+m.count);for(let x=g,v=y;x<v;x+=3){const _=x,b=x+1,w=x+2;r=y_(this,o,e,i,c,u,d,_,b,w),r&&(r.faceIndex=Math.floor(x/3),n.push(r))}}}}function dhe(t,e,n,i,r,s,o,a){let l;if(e.side===Zi?l=i.intersectTriangle(o,s,r,!0,a):l=i.intersectTriangle(r,s,o,e.side===$a,a),l===null)return null;v_.copy(a),v_.applyMatrix4(t.matrixWorld);const c=n.ray.origin.distanceTo(v_);return c<n.near||c>n.far?null:{distance:c,point:v_.clone(),object:t}}function y_(t,e,n,i,r,s,o,a,l,c){t.getVertexPosition(a,rh),t.getVertexPosition(l,sh),t.getVertexPosition(c,oh);const u=dhe(t,e,n,i,rh,sh,oh,g_);if(u){r&&(h_.fromBufferAttribute(r,a),p_.fromBufferAttribute(r,l),m_.fromBufferAttribute(r,c),u.uv=ws.getInterpolation(g_,rh,sh,oh,h_,p_,m_,new Ae)),s&&(h_.fromBufferAttribute(s,a),p_.fromBufferAttribute(s,l),m_.fromBufferAttribute(s,c),u.uv1=ws.getInterpolation(g_,rh,sh,oh,h_,p_,m_,new Ae),u.uv2=u.uv1),o&&(yF.fromBufferAttribute(o,a),xF.fromBufferAttribute(o,l),_F.fromBufferAttribute(o,c),u.normal=ws.getInterpolation(g_,rh,sh,oh,yF,xF,_F,new W),u.normal.dot(i.direction)>0&&u.normal.multiplyScalar(-1));const d={a,b:l,c,normal:new W,materialIndex:0};ws.getNormal(rh,sh,oh,d.normal),u.face=d}return u}class mf extends $t{constructor(e=1,n=1,i=1,r=1,s=1,o=1){super(),this.type="BoxGeometry",this.parameters={width:e,height:n,depth:i,widthSegments:r,heightSegments:s,depthSegments:o};const a=this;r=Math.floor(r),s=Math.floor(s),o=Math.floor(o);const l=[],c=[],u=[],d=[];let f=0,m=0;g("z","y","x",-1,-1,i,n,e,o,s,0),g("z","y","x",1,-1,i,n,-e,o,s,1),g("x","z","y",1,1,e,i,n,r,o,2),g("x","z","y",1,-1,e,i,-n,r,o,3),g("x","y","z",1,-1,e,n,i,r,s,4),g("x","y","z",-1,-1,e,n,-i,r,s,5),this.setIndex(l),this.setAttribute("position",new bt(c,3)),this.setAttribute("normal",new bt(u,3)),this.setAttribute("uv",new bt(d,2));function g(y,x,v,_,b,w,C,T,R,I,A){const L=w/R,O=C/I,H=w/2,q=C/2,U=T/2,G=R+1,Q=I+1;let J=0,N=0;const B=new W;for(let j=0;j<Q;j++){const te=j*O-q;for(let se=0;se<G;se++){const ne=se*L-H;B[y]=ne*_,B[x]=te*b,B[v]=U,c.push(B.x,B.y,B.z),B[y]=0,B[x]=0,B[v]=T>0?1:-1,u.push(B.x,B.y,B.z),d.push(se/R),d.push(1-j/I),J+=1}}for(let j=0;j<I;j++)for(let te=0;te<R;te++){const se=f+te+G*j,ne=f+te+G*(j+1),ae=f+(te+1)+G*(j+1),xe=f+(te+1)+G*j;l.push(se,ne,xe),l.push(ne,ae,xe),N+=6}a.addGroup(m,N,A),m+=N,f+=J}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new mf(e.width,e.height,e.depth,e.widthSegments,e.heightSegments,e.depthSegments)}}function Hp(t){const e={};for(const n in t){e[n]={};for(const i in t[n]){const r=t[n][i];r&&(r.isColor||r.isMatrix3||r.isMatrix4||r.isVector2||r.isVector3||r.isVector4||r.isTexture||r.isQuaternion)?r.isRenderTargetTexture?(console.warn("UniformsUtils: Textures of render targets cannot be cloned via cloneUniforms() or mergeUniforms()."),e[n][i]=null):e[n][i]=r.clone():Array.isArray(r)?e[n][i]=r.slice():e[n][i]=r}}return e}function Jr(t){const e={};for(let n=0;n<t.length;n++){const i=Hp(t[n]);for(const r in i)e[r]=i[r]}return e}function fhe(t){const e=[];for(let n=0;n<t.length;n++)e.push(t[n].clone());return e}function g6(t){return t.getRenderTarget()===null?t.outputColorSpace:An.workingColorSpace}const v6={clone:Hp,merge:Jr};var hhe=`void main() {
	gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
}`,phe=`void main() {
	gl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );
}`;class er extends ir{constructor(e){super(),this.isShaderMaterial=!0,this.type="ShaderMaterial",this.defines={},this.uniforms={},this.uniformsGroups=[],this.vertexShader=hhe,this.fragmentShader=phe,this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.forceSinglePass=!0,this.extensions={derivatives:!1,fragDepth:!1,drawBuffers:!1,shaderTextureLOD:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv1:[0,0]},this.index0AttributeName=void 0,this.uniformsNeedUpdate=!1,this.glslVersion=null,e!==void 0&&this.setValues(e)}copy(e){return super.copy(e),this.fragmentShader=e.fragmentShader,this.vertexShader=e.vertexShader,this.uniforms=Hp(e.uniforms),this.uniformsGroups=fhe(e.uniformsGroups),this.defines=Object.assign({},e.defines),this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.fog=e.fog,this.lights=e.lights,this.clipping=e.clipping,this.extensions=Object.assign({},e.extensions),this.glslVersion=e.glslVersion,this}toJSON(e){const n=super.toJSON(e);n.glslVersion=this.glslVersion,n.uniforms={};for(const r in this.uniforms){const o=this.uniforms[r].value;o&&o.isTexture?n.uniforms[r]={type:"t",value:o.toJSON(e).uuid}:o&&o.isColor?n.uniforms[r]={type:"c",value:o.getHex()}:o&&o.isVector2?n.uniforms[r]={type:"v2",value:o.toArray()}:o&&o.isVector3?n.uniforms[r]={type:"v3",value:o.toArray()}:o&&o.isVector4?n.uniforms[r]={type:"v4",value:o.toArray()}:o&&o.isMatrix3?n.uniforms[r]={type:"m3",value:o.toArray()}:o&&o.isMatrix4?n.uniforms[r]={type:"m4",value:o.toArray()}:n.uniforms[r]={value:o}}Object.keys(this.defines).length>0&&(n.defines=this.defines),n.vertexShader=this.vertexShader,n.fragmentShader=this.fragmentShader,n.lights=this.lights,n.clipping=this.clipping;const i={};for(const r in this.extensions)this.extensions[r]===!0&&(i[r]=!0);return Object.keys(i).length>0&&(n.extensions=i),n}}class lm extends xn{constructor(){super(),this.isCamera=!0,this.type="Camera",this.matrixWorldInverse=new Ut,this.projectionMatrix=new Ut,this.projectionMatrixInverse=new Ut,this.coordinateSystem=na}copy(e,n){return super.copy(e,n),this.matrixWorldInverse.copy(e.matrixWorldInverse),this.projectionMatrix.copy(e.projectionMatrix),this.projectionMatrixInverse.copy(e.projectionMatrixInverse),this.coordinateSystem=e.coordinateSystem,this}getWorldDirection(e){return super.getWorldDirection(e).negate()}updateMatrixWorld(e){super.updateMatrixWorld(e),this.matrixWorldInverse.copy(this.matrixWorld).invert()}updateWorldMatrix(e,n){super.updateWorldMatrix(e,n),this.matrixWorldInverse.copy(this.matrixWorld).invert()}clone(){return new this.constructor().copy(this)}}let zi=class extends lm{constructor(e=50,n=1,i=.1,r=2e3){super(),this.isPerspectiveCamera=!0,this.type="PerspectiveCamera",this.fov=e,this.zoom=1,this.near=i,this.far=r,this.focus=10,this.aspect=n,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}copy(e,n){return super.copy(e,n),this.fov=e.fov,this.zoom=e.zoom,this.near=e.near,this.far=e.far,this.focus=e.focus,this.aspect=e.aspect,this.view=e.view===null?null:Object.assign({},e.view),this.filmGauge=e.filmGauge,this.filmOffset=e.filmOffset,this}setFocalLength(e){const n=.5*this.getFilmHeight()/e;this.fov=Bp*2*Math.atan(n),this.updateProjectionMatrix()}getFocalLength(){const e=Math.tan(Fd*.5*this.fov);return .5*this.getFilmHeight()/e}getEffectiveFOV(){return Bp*2*Math.atan(Math.tan(Fd*.5*this.fov)/this.zoom)}getFilmWidth(){return this.filmGauge*Math.min(this.aspect,1)}getFilmHeight(){return this.filmGauge/Math.max(this.aspect,1)}setViewOffset(e,n,i,r,s,o){this.aspect=e/n,this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=n,this.view.offsetX=i,this.view.offsetY=r,this.view.width=s,this.view.height=o,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=this.near;let n=e*Math.tan(Fd*.5*this.fov)/this.zoom,i=2*n,r=this.aspect*i,s=-.5*r;const o=this.view;if(this.view!==null&&this.view.enabled){const l=o.fullWidth,c=o.fullHeight;s+=o.offsetX*r/l,n-=o.offsetY*i/c,r*=o.width/l,i*=o.height/c}const a=this.filmOffset;a!==0&&(s+=e*a/this.getFilmWidth()),this.projectionMatrix.makePerspective(s,s+r,n,n-i,e,this.far,this.coordinateSystem),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const n=super.toJSON(e);return n.object.fov=this.fov,n.object.zoom=this.zoom,n.object.near=this.near,n.object.far=this.far,n.object.focus=this.focus,n.object.aspect=this.aspect,this.view!==null&&(n.object.view=Object.assign({},this.view)),n.object.filmGauge=this.filmGauge,n.object.filmOffset=this.filmOffset,n}};const ah=-90,lh=1;class y6 extends xn{constructor(e,n,i){super(),this.type="CubeCamera",this.renderTarget=i,this.coordinateSystem=null,this.activeMipmapLevel=0;const r=new zi(ah,lh,e,n);r.layers=this.layers,this.add(r);const s=new zi(ah,lh,e,n);s.layers=this.layers,this.add(s);const o=new zi(ah,lh,e,n);o.layers=this.layers,this.add(o);const a=new zi(ah,lh,e,n);a.layers=this.layers,this.add(a);const l=new zi(ah,lh,e,n);l.layers=this.layers,this.add(l);const c=new zi(ah,lh,e,n);c.layers=this.layers,this.add(c)}updateCoordinateSystem(){const e=this.coordinateSystem,n=this.children.concat(),[i,r,s,o,a,l]=n;for(const c of n)this.remove(c);if(e===na)i.up.set(0,1,0),i.lookAt(1,0,0),r.up.set(0,1,0),r.lookAt(-1,0,0),s.up.set(0,0,-1),s.lookAt(0,1,0),o.up.set(0,0,1),o.lookAt(0,-1,0),a.up.set(0,1,0),a.lookAt(0,0,1),l.up.set(0,1,0),l.lookAt(0,0,-1);else if(e===Up)i.up.set(0,-1,0),i.lookAt(-1,0,0),r.up.set(0,-1,0),r.lookAt(1,0,0),s.up.set(0,0,1),s.lookAt(0,1,0),o.up.set(0,0,-1),o.lookAt(0,-1,0),a.up.set(0,-1,0),a.lookAt(0,0,1),l.up.set(0,-1,0),l.lookAt(0,0,-1);else throw new Error("THREE.CubeCamera.updateCoordinateSystem(): Invalid coordinate system: "+e);for(const c of n)this.add(c),c.updateMatrixWorld()}update(e,n){this.parent===null&&this.updateMatrixWorld();const{renderTarget:i,activeMipmapLevel:r}=this;this.coordinateSystem!==e.coordinateSystem&&(this.coordinateSystem=e.coordinateSystem,this.updateCoordinateSystem());const[s,o,a,l,c,u]=this.children,d=e.getRenderTarget(),f=e.getActiveCubeFace(),m=e.getActiveMipmapLevel(),g=e.xr.enabled;e.xr.enabled=!1;const y=i.texture.generateMipmaps;i.texture.generateMipmaps=!1,e.setRenderTarget(i,0,r),e.render(n,s),e.setRenderTarget(i,1,r),e.render(n,o),e.setRenderTarget(i,2,r),e.render(n,a),e.setRenderTarget(i,3,r),e.render(n,l),e.setRenderTarget(i,4,r),e.render(n,c),i.texture.generateMipmaps=y,e.setRenderTarget(i,5,r),e.render(n,u),e.setRenderTarget(d,f,m),e.xr.enabled=g,i.texture.needsPMREMUpdate=!0}}class sy extends ni{constructor(e,n,i,r,s,o,a,l,c,u){e=e!==void 0?e:[],n=n!==void 0?n:Wl,super(e,n,i,r,s,o,a,l,c,u),this.isCubeTexture=!0,this.flipY=!1}get images(){return this.image}set images(e){this.image=e}}class x6 extends ii{constructor(e=1,n={}){super(e,e,n),this.isWebGLCubeRenderTarget=!0;const i={width:e,height:e,depth:1},r=[i,i,i,i,i,i];n.encoding!==void 0&&(v0("THREE.WebGLCubeRenderTarget: option.encoding has been replaced by option.colorSpace."),n.colorSpace=n.encoding===Va?qi:Zs),this.texture=new sy(r,n.mapping,n.wrapS,n.wrapT,n.magFilter,n.minFilter,n.format,n.type,n.anisotropy,n.colorSpace),this.texture.isRenderTargetTexture=!0,this.texture.generateMipmaps=n.generateMipmaps!==void 0?n.generateMipmaps:!1,this.texture.minFilter=n.minFilter!==void 0?n.minFilter:Bn}fromEquirectangularTexture(e,n){this.texture.type=n.type,this.texture.colorSpace=n.colorSpace,this.texture.generateMipmaps=n.generateMipmaps,this.texture.minFilter=n.minFilter,this.texture.magFilter=n.magFilter;const i={uniforms:{tEquirect:{value:null}},vertexShader:`

				varying vec3 vWorldDirection;

				vec3 transformDirection( in vec3 dir, in mat4 matrix ) {

					return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );

				}

				void main() {

					vWorldDirection = transformDirection( position, modelMatrix );

					#include <begin_vertex>
					#include <project_vertex>

				}
			`,fragmentShader:`

				uniform sampler2D tEquirect;

				varying vec3 vWorldDirection;

				#include <common>

				void main() {

					vec3 direction = normalize( vWorldDirection );

					vec2 sampleUV = equirectUv( direction );

					gl_FragColor = texture2D( tEquirect, sampleUV );

				}
			`},r=new mf(5,5,5),s=new er({name:"CubemapFromEquirect",uniforms:Hp(i.uniforms),vertexShader:i.vertexShader,fragmentShader:i.fragmentShader,side:Zi,blending:Er});s.uniforms.tEquirect.value=n;const o=new Hi(r,s),a=n.minFilter;return n.minFilter===uu&&(n.minFilter=Bn),new y6(1,10,this).update(e,o),n.minFilter=a,o.geometry.dispose(),o.material.dispose(),this}clear(e,n,i,r){const s=e.getRenderTarget();for(let o=0;o<6;o++)e.setRenderTarget(this,o),e.clear(n,i,r);e.setRenderTarget(s)}}const zT=new W,mhe=new W,ghe=new Jt;class Mc{constructor(e=new W(1,0,0),n=0){this.isPlane=!0,this.normal=e,this.constant=n}set(e,n){return this.normal.copy(e),this.constant=n,this}setComponents(e,n,i,r){return this.normal.set(e,n,i),this.constant=r,this}setFromNormalAndCoplanarPoint(e,n){return this.normal.copy(e),this.constant=-n.dot(this.normal),this}setFromCoplanarPoints(e,n,i){const r=zT.subVectors(i,n).cross(mhe.subVectors(e,n)).normalize();return this.setFromNormalAndCoplanarPoint(r,e),this}copy(e){return this.normal.copy(e.normal),this.constant=e.constant,this}normalize(){const e=1/this.normal.length();return this.normal.multiplyScalar(e),this.constant*=e,this}negate(){return this.constant*=-1,this.normal.negate(),this}distanceToPoint(e){return this.normal.dot(e)+this.constant}distanceToSphere(e){return this.distanceToPoint(e.center)-e.radius}projectPoint(e,n){return n.copy(e).addScaledVector(this.normal,-this.distanceToPoint(e))}intersectLine(e,n){const i=e.delta(zT),r=this.normal.dot(i);if(r===0)return this.distanceToPoint(e.start)===0?n.copy(e.start):null;const s=-(e.start.dot(this.normal)+this.constant)/r;return s<0||s>1?null:n.copy(e.start).addScaledVector(i,s)}intersectsLine(e){const n=this.distanceToPoint(e.start),i=this.distanceToPoint(e.end);return n<0&&i>0||i<0&&n>0}intersectsBox(e){return e.intersectsPlane(this)}intersectsSphere(e){return e.intersectsPlane(this)}coplanarPoint(e){return e.copy(this.normal).multiplyScalar(-this.constant)}applyMatrix4(e,n){const i=n||ghe.getNormalMatrix(e),r=this.coplanarPoint(zT).applyMatrix4(e),s=this.normal.applyMatrix3(i).normalize();return this.constant=-r.dot(s),this}translate(e){return this.constant-=e.dot(this.normal),this}equals(e){return e.normal.equals(this.normal)&&e.constant===this.constant}clone(){return new this.constructor().copy(this)}}const Vu=new $r,x_=new W;class oy{constructor(e=new Mc,n=new Mc,i=new Mc,r=new Mc,s=new Mc,o=new Mc){this.planes=[e,n,i,r,s,o]}set(e,n,i,r,s,o){const a=this.planes;return a[0].copy(e),a[1].copy(n),a[2].copy(i),a[3].copy(r),a[4].copy(s),a[5].copy(o),this}copy(e){const n=this.planes;for(let i=0;i<6;i++)n[i].copy(e.planes[i]);return this}setFromProjectionMatrix(e,n=na){const i=this.planes,r=e.elements,s=r[0],o=r[1],a=r[2],l=r[3],c=r[4],u=r[5],d=r[6],f=r[7],m=r[8],g=r[9],y=r[10],x=r[11],v=r[12],_=r[13],b=r[14],w=r[15];if(i[0].setComponents(l-s,f-c,x-m,w-v).normalize(),i[1].setComponents(l+s,f+c,x+m,w+v).normalize(),i[2].setComponents(l+o,f+u,x+g,w+_).normalize(),i[3].setComponents(l-o,f-u,x-g,w-_).normalize(),i[4].setComponents(l-a,f-d,x-y,w-b).normalize(),n===na)i[5].setComponents(l+a,f+d,x+y,w+b).normalize();else if(n===Up)i[5].setComponents(a,d,y,b).normalize();else throw new Error("THREE.Frustum.setFromProjectionMatrix(): Invalid coordinate system: "+n);return this}intersectsObject(e){if(e.boundingSphere!==void 0)e.boundingSphere===null&&e.computeBoundingSphere(),Vu.copy(e.boundingSphere).applyMatrix4(e.matrixWorld);else{const n=e.geometry;n.boundingSphere===null&&n.computeBoundingSphere(),Vu.copy(n.boundingSphere).applyMatrix4(e.matrixWorld)}return this.intersectsSphere(Vu)}intersectsSprite(e){return Vu.center.set(0,0,0),Vu.radius=.7071067811865476,Vu.applyMatrix4(e.matrixWorld),this.intersectsSphere(Vu)}intersectsSphere(e){const n=this.planes,i=e.center,r=-e.radius;for(let s=0;s<6;s++)if(n[s].distanceToPoint(i)<r)return!1;return!0}intersectsBox(e){const n=this.planes;for(let i=0;i<6;i++){const r=n[i];if(x_.x=r.normal.x>0?e.max.x:e.min.x,x_.y=r.normal.y>0?e.max.y:e.min.y,x_.z=r.normal.z>0?e.max.z:e.min.z,r.distanceToPoint(x_)<0)return!1}return!0}containsPoint(e){const n=this.planes;for(let i=0;i<6;i++)if(n[i].distanceToPoint(e)<0)return!1;return!0}clone(){return new this.constructor().copy(this)}}function _6(){let t=null,e=!1,n=null,i=null;function r(s,o){n(s,o),i=t.requestAnimationFrame(r)}return{start:function(){e!==!0&&n!==null&&(i=t.requestAnimationFrame(r),e=!0)},stop:function(){t.cancelAnimationFrame(i),e=!1},setAnimationLoop:function(s){n=s},setContext:function(s){t=s}}}function vhe(t,e){const n=e.isWebGL2,i=new WeakMap;function r(c,u){const d=c.array,f=c.usage,m=d.byteLength,g=t.createBuffer();t.bindBuffer(u,g),t.bufferData(u,d,f),c.onUploadCallback();let y;if(d instanceof Float32Array)y=t.FLOAT;else if(d instanceof Uint16Array)if(c.isFloat16BufferAttribute)if(n)y=t.HALF_FLOAT;else throw new Error("THREE.WebGLAttributes: Usage of Float16BufferAttribute requires WebGL2.");else y=t.UNSIGNED_SHORT;else if(d instanceof Int16Array)y=t.SHORT;else if(d instanceof Uint32Array)y=t.UNSIGNED_INT;else if(d instanceof Int32Array)y=t.INT;else if(d instanceof Int8Array)y=t.BYTE;else if(d instanceof Uint8Array)y=t.UNSIGNED_BYTE;else if(d instanceof Uint8ClampedArray)y=t.UNSIGNED_BYTE;else throw new Error("THREE.WebGLAttributes: Unsupported buffer data format: "+d);return{buffer:g,type:y,bytesPerElement:d.BYTES_PER_ELEMENT,version:c.version,size:m}}function s(c,u,d){const f=u.array,m=u._updateRange,g=u.updateRanges;if(t.bindBuffer(d,c),m.count===-1&&g.length===0&&t.bufferSubData(d,0,f),g.length!==0){for(let y=0,x=g.length;y<x;y++){const v=g[y];n?t.bufferSubData(d,v.start*f.BYTES_PER_ELEMENT,f,v.start,v.count):t.bufferSubData(d,v.start*f.BYTES_PER_ELEMENT,f.subarray(v.start,v.start+v.count))}u.clearUpdateRanges()}m.count!==-1&&(n?t.bufferSubData(d,m.offset*f.BYTES_PER_ELEMENT,f,m.offset,m.count):t.bufferSubData(d,m.offset*f.BYTES_PER_ELEMENT,f.subarray(m.offset,m.offset+m.count)),m.count=-1),u.onUploadCallback()}function o(c){return c.isInterleavedBufferAttribute&&(c=c.data),i.get(c)}function a(c){c.isInterleavedBufferAttribute&&(c=c.data);const u=i.get(c);u&&(t.deleteBuffer(u.buffer),i.delete(c))}function l(c,u){if(c.isGLBufferAttribute){const f=i.get(c);(!f||f.version<c.version)&&i.set(c,{buffer:c.buffer,type:c.type,bytesPerElement:c.elementSize,version:c.version});return}c.isInterleavedBufferAttribute&&(c=c.data);const d=i.get(c);if(d===void 0)i.set(c,r(c,u));else if(d.version<c.version){if(d.size!==c.array.byteLength)throw new Error("THREE.WebGLAttributes: The size of the buffer attribute's array buffer does not match the original size. Resizing buffer attributes is not supported.");s(d.buffer,c,u),d.version=c.version}}return{get:o,remove:a,update:l}}class ay extends $t{constructor(e=1,n=1,i=1,r=1){super(),this.type="PlaneGeometry",this.parameters={width:e,height:n,widthSegments:i,heightSegments:r};const s=e/2,o=n/2,a=Math.floor(i),l=Math.floor(r),c=a+1,u=l+1,d=e/a,f=n/l,m=[],g=[],y=[],x=[];for(let v=0;v<u;v++){const _=v*f-o;for(let b=0;b<c;b++){const w=b*d-s;g.push(w,-_,0),y.push(0,0,1),x.push(b/a),x.push(1-v/l)}}for(let v=0;v<l;v++)for(let _=0;_<a;_++){const b=_+c*v,w=_+c*(v+1),C=_+1+c*(v+1),T=_+1+c*v;m.push(b,w,T),m.push(w,C,T)}this.setIndex(m),this.setAttribute("position",new bt(g,3)),this.setAttribute("normal",new bt(y,3)),this.setAttribute("uv",new bt(x,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new ay(e.width,e.height,e.widthSegments,e.heightSegments)}}var yhe=`#ifdef USE_ALPHAHASH
	if ( diffuseColor.a < getAlphaHashThreshold( vPosition ) ) discard;
#endif`,xhe=`#ifdef USE_ALPHAHASH
	const float ALPHA_HASH_SCALE = 0.05;
	float hash2D( vec2 value ) {
		return fract( 1.0e4 * sin( 17.0 * value.x + 0.1 * value.y ) * ( 0.1 + abs( sin( 13.0 * value.y + value.x ) ) ) );
	}
	float hash3D( vec3 value ) {
		return hash2D( vec2( hash2D( value.xy ), value.z ) );
	}
	float getAlphaHashThreshold( vec3 position ) {
		float maxDeriv = max(
			length( dFdx( position.xyz ) ),
			length( dFdy( position.xyz ) )
		);
		float pixScale = 1.0 / ( ALPHA_HASH_SCALE * maxDeriv );
		vec2 pixScales = vec2(
			exp2( floor( log2( pixScale ) ) ),
			exp2( ceil( log2( pixScale ) ) )
		);
		vec2 alpha = vec2(
			hash3D( floor( pixScales.x * position.xyz ) ),
			hash3D( floor( pixScales.y * position.xyz ) )
		);
		float lerpFactor = fract( log2( pixScale ) );
		float x = ( 1.0 - lerpFactor ) * alpha.x + lerpFactor * alpha.y;
		float a = min( lerpFactor, 1.0 - lerpFactor );
		vec3 cases = vec3(
			x * x / ( 2.0 * a * ( 1.0 - a ) ),
			( x - 0.5 * a ) / ( 1.0 - a ),
			1.0 - ( ( 1.0 - x ) * ( 1.0 - x ) / ( 2.0 * a * ( 1.0 - a ) ) )
		);
		float threshold = ( x < ( 1.0 - a ) )
			? ( ( x < a ) ? cases.x : cases.y )
			: cases.z;
		return clamp( threshold , 1.0e-6, 1.0 );
	}
#endif`,_he=`#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, vAlphaMapUv ).g;
#endif`,bhe=`#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,She=`#ifdef USE_ALPHATEST
	if ( diffuseColor.a < alphaTest ) discard;
#endif`,whe=`#ifdef USE_ALPHATEST
	uniform float alphaTest;
#endif`,Mhe=`#ifdef USE_AOMAP
	float ambientOcclusion = ( texture2D( aoMap, vAoMapUv ).r - 1.0 ) * aoMapIntensity + 1.0;
	reflectedLight.indirectDiffuse *= ambientOcclusion;
	#if defined( USE_CLEARCOAT ) 
		clearcoatSpecularIndirect *= ambientOcclusion;
	#endif
	#if defined( USE_SHEEN ) 
		sheenSpecularIndirect *= ambientOcclusion;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD )
		float dotNV = saturate( dot( geometryNormal, geometryViewDir ) );
		reflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.roughness );
	#endif
#endif`,Ehe=`#ifdef USE_AOMAP
	uniform sampler2D aoMap;
	uniform float aoMapIntensity;
#endif`,The=`#ifdef USE_BATCHING
	attribute float batchId;
	uniform highp sampler2D batchingTexture;
	mat4 getBatchingMatrix( const in float i ) {
		int size = textureSize( batchingTexture, 0 ).x;
		int j = int( i ) * 4;
		int x = j % size;
		int y = j / size;
		vec4 v1 = texelFetch( batchingTexture, ivec2( x, y ), 0 );
		vec4 v2 = texelFetch( batchingTexture, ivec2( x + 1, y ), 0 );
		vec4 v3 = texelFetch( batchingTexture, ivec2( x + 2, y ), 0 );
		vec4 v4 = texelFetch( batchingTexture, ivec2( x + 3, y ), 0 );
		return mat4( v1, v2, v3, v4 );
	}
#endif`,Che=`#ifdef USE_BATCHING
	mat4 batchingMatrix = getBatchingMatrix( batchId );
#endif`,Rhe=`vec3 transformed = vec3( position );
#ifdef USE_ALPHAHASH
	vPosition = vec3( position );
#endif`,Ahe=`vec3 objectNormal = vec3( normal );
#ifdef USE_TANGENT
	vec3 objectTangent = vec3( tangent.xyz );
#endif`,Phe=`float G_BlinnPhong_Implicit( ) {
	return 0.25;
}
float D_BlinnPhong( const in float shininess, const in float dotNH ) {
	return RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );
}
vec3 BRDF_BlinnPhong( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float shininess ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( specularColor, 1.0, dotVH );
	float G = G_BlinnPhong_Implicit( );
	float D = D_BlinnPhong( shininess, dotNH );
	return F * ( G * D );
} // validated`,khe=`#ifdef USE_IRIDESCENCE
	const mat3 XYZ_TO_REC709 = mat3(
		 3.2404542, -0.9692660,  0.0556434,
		-1.5371385,  1.8760108, -0.2040259,
		-0.4985314,  0.0415560,  1.0572252
	);
	vec3 Fresnel0ToIor( vec3 fresnel0 ) {
		vec3 sqrtF0 = sqrt( fresnel0 );
		return ( vec3( 1.0 ) + sqrtF0 ) / ( vec3( 1.0 ) - sqrtF0 );
	}
	vec3 IorToFresnel0( vec3 transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - vec3( incidentIor ) ) / ( transmittedIor + vec3( incidentIor ) ) );
	}
	float IorToFresnel0( float transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - incidentIor ) / ( transmittedIor + incidentIor ));
	}
	vec3 evalSensitivity( float OPD, vec3 shift ) {
		float phase = 2.0 * PI * OPD * 1.0e-9;
		vec3 val = vec3( 5.4856e-13, 4.4201e-13, 5.2481e-13 );
		vec3 pos = vec3( 1.6810e+06, 1.7953e+06, 2.2084e+06 );
		vec3 var = vec3( 4.3278e+09, 9.3046e+09, 6.6121e+09 );
		vec3 xyz = val * sqrt( 2.0 * PI * var ) * cos( pos * phase + shift ) * exp( - pow2( phase ) * var );
		xyz.x += 9.7470e-14 * sqrt( 2.0 * PI * 4.5282e+09 ) * cos( 2.2399e+06 * phase + shift[ 0 ] ) * exp( - 4.5282e+09 * pow2( phase ) );
		xyz /= 1.0685e-7;
		vec3 rgb = XYZ_TO_REC709 * xyz;
		return rgb;
	}
	vec3 evalIridescence( float outsideIOR, float eta2, float cosTheta1, float thinFilmThickness, vec3 baseF0 ) {
		vec3 I;
		float iridescenceIOR = mix( outsideIOR, eta2, smoothstep( 0.0, 0.03, thinFilmThickness ) );
		float sinTheta2Sq = pow2( outsideIOR / iridescenceIOR ) * ( 1.0 - pow2( cosTheta1 ) );
		float cosTheta2Sq = 1.0 - sinTheta2Sq;
		if ( cosTheta2Sq < 0.0 ) {
			return vec3( 1.0 );
		}
		float cosTheta2 = sqrt( cosTheta2Sq );
		float R0 = IorToFresnel0( iridescenceIOR, outsideIOR );
		float R12 = F_Schlick( R0, 1.0, cosTheta1 );
		float T121 = 1.0 - R12;
		float phi12 = 0.0;
		if ( iridescenceIOR < outsideIOR ) phi12 = PI;
		float phi21 = PI - phi12;
		vec3 baseIOR = Fresnel0ToIor( clamp( baseF0, 0.0, 0.9999 ) );		vec3 R1 = IorToFresnel0( baseIOR, iridescenceIOR );
		vec3 R23 = F_Schlick( R1, 1.0, cosTheta2 );
		vec3 phi23 = vec3( 0.0 );
		if ( baseIOR[ 0 ] < iridescenceIOR ) phi23[ 0 ] = PI;
		if ( baseIOR[ 1 ] < iridescenceIOR ) phi23[ 1 ] = PI;
		if ( baseIOR[ 2 ] < iridescenceIOR ) phi23[ 2 ] = PI;
		float OPD = 2.0 * iridescenceIOR * thinFilmThickness * cosTheta2;
		vec3 phi = vec3( phi21 ) + phi23;
		vec3 R123 = clamp( R12 * R23, 1e-5, 0.9999 );
		vec3 r123 = sqrt( R123 );
		vec3 Rs = pow2( T121 ) * R23 / ( vec3( 1.0 ) - R123 );
		vec3 C0 = R12 + Rs;
		I = C0;
		vec3 Cm = Rs - T121;
		for ( int m = 1; m <= 2; ++ m ) {
			Cm *= r123;
			vec3 Sm = 2.0 * evalSensitivity( float( m ) * OPD, float( m ) * phi );
			I += Cm * Sm;
		}
		return max( I, vec3( 0.0 ) );
	}
#endif`,Ihe=`#ifdef USE_BUMPMAP
	uniform sampler2D bumpMap;
	uniform float bumpScale;
	vec2 dHdxy_fwd() {
		vec2 dSTdx = dFdx( vBumpMapUv );
		vec2 dSTdy = dFdy( vBumpMapUv );
		float Hll = bumpScale * texture2D( bumpMap, vBumpMapUv ).x;
		float dBx = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdx ).x - Hll;
		float dBy = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdy ).x - Hll;
		return vec2( dBx, dBy );
	}
	vec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy, float faceDirection ) {
		vec3 vSigmaX = normalize( dFdx( surf_pos.xyz ) );
		vec3 vSigmaY = normalize( dFdy( surf_pos.xyz ) );
		vec3 vN = surf_norm;
		vec3 R1 = cross( vSigmaY, vN );
		vec3 R2 = cross( vN, vSigmaX );
		float fDet = dot( vSigmaX, R1 ) * faceDirection;
		vec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );
		return normalize( abs( fDet ) * surf_norm - vGrad );
	}
#endif`,Lhe=`#if NUM_CLIPPING_PLANES > 0
	vec4 plane;
	#pragma unroll_loop_start
	for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
		plane = clippingPlanes[ i ];
		if ( dot( vClipPosition, plane.xyz ) > plane.w ) discard;
	}
	#pragma unroll_loop_end
	#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
		bool clipped = true;
		#pragma unroll_loop_start
		for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			clipped = ( dot( vClipPosition, plane.xyz ) > plane.w ) && clipped;
		}
		#pragma unroll_loop_end
		if ( clipped ) discard;
	#endif
#endif`,Dhe=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
	uniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];
#endif`,Ohe=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
#endif`,Nhe=`#if NUM_CLIPPING_PLANES > 0
	vClipPosition = - mvPosition.xyz;
#endif`,Fhe=`#if defined( USE_COLOR_ALPHA )
	diffuseColor *= vColor;
#elif defined( USE_COLOR )
	diffuseColor.rgb *= vColor;
#endif`,zhe=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR )
	varying vec3 vColor;
#endif`,Uhe=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )
	varying vec3 vColor;
#endif`,Bhe=`#if defined( USE_COLOR_ALPHA )
	vColor = vec4( 1.0 );
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )
	vColor = vec3( 1.0 );
#endif
#ifdef USE_COLOR
	vColor *= color;
#endif
#ifdef USE_INSTANCING_COLOR
	vColor.xyz *= instanceColor.xyz;
#endif`,Hhe=`#define PI 3.141592653589793
#define PI2 6.283185307179586
#define PI_HALF 1.5707963267948966
#define RECIPROCAL_PI 0.3183098861837907
#define RECIPROCAL_PI2 0.15915494309189535
#define EPSILON 1e-6
#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
#define whiteComplement( a ) ( 1.0 - saturate( a ) )
float pow2( const in float x ) { return x*x; }
vec3 pow2( const in vec3 x ) { return x*x; }
float pow3( const in float x ) { return x*x*x; }
float pow4( const in float x ) { float x2 = x*x; return x2*x2; }
float max3( const in vec3 v ) { return max( max( v.x, v.y ), v.z ); }
float average( const in vec3 v ) { return dot( v, vec3( 0.3333333 ) ); }
highp float rand( const in vec2 uv ) {
	const highp float a = 12.9898, b = 78.233, c = 43758.5453;
	highp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );
	return fract( sin( sn ) * c );
}
#ifdef HIGH_PRECISION
	float precisionSafeLength( vec3 v ) { return length( v ); }
#else
	float precisionSafeLength( vec3 v ) {
		float maxComponent = max3( abs( v ) );
		return length( v / maxComponent ) * maxComponent;
	}
#endif
struct IncidentLight {
	vec3 color;
	vec3 direction;
	bool visible;
};
struct ReflectedLight {
	vec3 directDiffuse;
	vec3 directSpecular;
	vec3 indirectDiffuse;
	vec3 indirectSpecular;
};
#ifdef USE_ALPHAHASH
	varying vec3 vPosition;
#endif
vec3 transformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );
}
vec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );
}
mat3 transposeMat3( const in mat3 m ) {
	mat3 tmp;
	tmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );
	tmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );
	tmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );
	return tmp;
}
float luminance( const in vec3 rgb ) {
	const vec3 weights = vec3( 0.2126729, 0.7151522, 0.0721750 );
	return dot( weights, rgb );
}
bool isPerspectiveMatrix( mat4 m ) {
	return m[ 2 ][ 3 ] == - 1.0;
}
vec2 equirectUv( in vec3 dir ) {
	float u = atan( dir.z, dir.x ) * RECIPROCAL_PI2 + 0.5;
	float v = asin( clamp( dir.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;
	return vec2( u, v );
}
vec3 BRDF_Lambert( const in vec3 diffuseColor ) {
	return RECIPROCAL_PI * diffuseColor;
}
vec3 F_Schlick( const in vec3 f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
}
float F_Schlick( const in float f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
} // validated`,Vhe=`#ifdef ENVMAP_TYPE_CUBE_UV
	#define cubeUV_minMipLevel 4.0
	#define cubeUV_minTileSize 16.0
	float getFace( vec3 direction ) {
		vec3 absDirection = abs( direction );
		float face = - 1.0;
		if ( absDirection.x > absDirection.z ) {
			if ( absDirection.x > absDirection.y )
				face = direction.x > 0.0 ? 0.0 : 3.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		} else {
			if ( absDirection.z > absDirection.y )
				face = direction.z > 0.0 ? 2.0 : 5.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		}
		return face;
	}
	vec2 getUV( vec3 direction, float face ) {
		vec2 uv;
		if ( face == 0.0 ) {
			uv = vec2( direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 1.0 ) {
			uv = vec2( - direction.x, - direction.z ) / abs( direction.y );
		} else if ( face == 2.0 ) {
			uv = vec2( - direction.x, direction.y ) / abs( direction.z );
		} else if ( face == 3.0 ) {
			uv = vec2( - direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 4.0 ) {
			uv = vec2( - direction.x, direction.z ) / abs( direction.y );
		} else {
			uv = vec2( direction.x, direction.y ) / abs( direction.z );
		}
		return 0.5 * ( uv + 1.0 );
	}
	vec3 bilinearCubeUV( sampler2D envMap, vec3 direction, float mipInt ) {
		float face = getFace( direction );
		float filterInt = max( cubeUV_minMipLevel - mipInt, 0.0 );
		mipInt = max( mipInt, cubeUV_minMipLevel );
		float faceSize = exp2( mipInt );
		highp vec2 uv = getUV( direction, face ) * ( faceSize - 2.0 ) + 1.0;
		if ( face > 2.0 ) {
			uv.y += faceSize;
			face -= 3.0;
		}
		uv.x += face * faceSize;
		uv.x += filterInt * 3.0 * cubeUV_minTileSize;
		uv.y += 4.0 * ( exp2( CUBEUV_MAX_MIP ) - faceSize );
		uv.x *= CUBEUV_TEXEL_WIDTH;
		uv.y *= CUBEUV_TEXEL_HEIGHT;
		#ifdef texture2DGradEXT
			return texture2DGradEXT( envMap, uv, vec2( 0.0 ), vec2( 0.0 ) ).rgb;
		#else
			return texture2D( envMap, uv ).rgb;
		#endif
	}
	#define cubeUV_r0 1.0
	#define cubeUV_v0 0.339
	#define cubeUV_m0 - 2.0
	#define cubeUV_r1 0.8
	#define cubeUV_v1 0.276
	#define cubeUV_m1 - 1.0
	#define cubeUV_r4 0.4
	#define cubeUV_v4 0.046
	#define cubeUV_m4 2.0
	#define cubeUV_r5 0.305
	#define cubeUV_v5 0.016
	#define cubeUV_m5 3.0
	#define cubeUV_r6 0.21
	#define cubeUV_v6 0.0038
	#define cubeUV_m6 4.0
	float roughnessToMip( float roughness ) {
		float mip = 0.0;
		if ( roughness >= cubeUV_r1 ) {
			mip = ( cubeUV_r0 - roughness ) * ( cubeUV_m1 - cubeUV_m0 ) / ( cubeUV_r0 - cubeUV_r1 ) + cubeUV_m0;
		} else if ( roughness >= cubeUV_r4 ) {
			mip = ( cubeUV_r1 - roughness ) * ( cubeUV_m4 - cubeUV_m1 ) / ( cubeUV_r1 - cubeUV_r4 ) + cubeUV_m1;
		} else if ( roughness >= cubeUV_r5 ) {
			mip = ( cubeUV_r4 - roughness ) * ( cubeUV_m5 - cubeUV_m4 ) / ( cubeUV_r4 - cubeUV_r5 ) + cubeUV_m4;
		} else if ( roughness >= cubeUV_r6 ) {
			mip = ( cubeUV_r5 - roughness ) * ( cubeUV_m6 - cubeUV_m5 ) / ( cubeUV_r5 - cubeUV_r6 ) + cubeUV_m5;
		} else {
			mip = - 2.0 * log2( 1.16 * roughness );		}
		return mip;
	}
	vec4 textureCubeUV( sampler2D envMap, vec3 sampleDir, float roughness ) {
		float mip = clamp( roughnessToMip( roughness ), cubeUV_m0, CUBEUV_MAX_MIP );
		float mipF = fract( mip );
		float mipInt = floor( mip );
		vec3 color0 = bilinearCubeUV( envMap, sampleDir, mipInt );
		if ( mipF == 0.0 ) {
			return vec4( color0, 1.0 );
		} else {
			vec3 color1 = bilinearCubeUV( envMap, sampleDir, mipInt + 1.0 );
			return vec4( mix( color0, color1, mipF ), 1.0 );
		}
	}
#endif`,jhe=`vec3 transformedNormal = objectNormal;
#ifdef USE_TANGENT
	vec3 transformedTangent = objectTangent;
#endif
#ifdef USE_BATCHING
	mat3 bm = mat3( batchingMatrix );
	transformedNormal /= vec3( dot( bm[ 0 ], bm[ 0 ] ), dot( bm[ 1 ], bm[ 1 ] ), dot( bm[ 2 ], bm[ 2 ] ) );
	transformedNormal = bm * transformedNormal;
	#ifdef USE_TANGENT
		transformedTangent = bm * transformedTangent;
	#endif
#endif
#ifdef USE_INSTANCING
	mat3 im = mat3( instanceMatrix );
	transformedNormal /= vec3( dot( im[ 0 ], im[ 0 ] ), dot( im[ 1 ], im[ 1 ] ), dot( im[ 2 ], im[ 2 ] ) );
	transformedNormal = im * transformedNormal;
	#ifdef USE_TANGENT
		transformedTangent = im * transformedTangent;
	#endif
#endif
transformedNormal = normalMatrix * transformedNormal;
#ifdef FLIP_SIDED
	transformedNormal = - transformedNormal;
#endif
#ifdef USE_TANGENT
	transformedTangent = ( modelViewMatrix * vec4( transformedTangent, 0.0 ) ).xyz;
	#ifdef FLIP_SIDED
		transformedTangent = - transformedTangent;
	#endif
#endif`,Whe=`#ifdef USE_DISPLACEMENTMAP
	uniform sampler2D displacementMap;
	uniform float displacementScale;
	uniform float displacementBias;
#endif`,Ghe=`#ifdef USE_DISPLACEMENTMAP
	transformed += normalize( objectNormal ) * ( texture2D( displacementMap, vDisplacementMapUv ).x * displacementScale + displacementBias );
#endif`,$he=`#ifdef USE_EMISSIVEMAP
	vec4 emissiveColor = texture2D( emissiveMap, vEmissiveMapUv );
	totalEmissiveRadiance *= emissiveColor.rgb;
#endif`,Xhe=`#ifdef USE_EMISSIVEMAP
	uniform sampler2D emissiveMap;
#endif`,Yhe="gl_FragColor = linearToOutputTexel( gl_FragColor );",qhe=`
const mat3 LINEAR_SRGB_TO_LINEAR_DISPLAY_P3 = mat3(
	vec3( 0.8224621, 0.177538, 0.0 ),
	vec3( 0.0331941, 0.9668058, 0.0 ),
	vec3( 0.0170827, 0.0723974, 0.9105199 )
);
const mat3 LINEAR_DISPLAY_P3_TO_LINEAR_SRGB = mat3(
	vec3( 1.2249401, - 0.2249404, 0.0 ),
	vec3( - 0.0420569, 1.0420571, 0.0 ),
	vec3( - 0.0196376, - 0.0786361, 1.0982735 )
);
vec4 LinearSRGBToLinearDisplayP3( in vec4 value ) {
	return vec4( value.rgb * LINEAR_SRGB_TO_LINEAR_DISPLAY_P3, value.a );
}
vec4 LinearDisplayP3ToLinearSRGB( in vec4 value ) {
	return vec4( value.rgb * LINEAR_DISPLAY_P3_TO_LINEAR_SRGB, value.a );
}
vec4 LinearTransferOETF( in vec4 value ) {
	return value;
}
vec4 sRGBTransferOETF( in vec4 value ) {
	return vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );
}
vec4 LinearToLinear( in vec4 value ) {
	return value;
}
vec4 LinearTosRGB( in vec4 value ) {
	return sRGBTransferOETF( value );
}`,Khe=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vec3 cameraToFrag;
		if ( isOrthographic ) {
			cameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToFrag = normalize( vWorldPosition - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vec3 reflectVec = reflect( cameraToFrag, worldNormal );
		#else
			vec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );
		#endif
	#else
		vec3 reflectVec = vReflect;
	#endif
	#ifdef ENVMAP_TYPE_CUBE
		vec4 envColor = textureCube( envMap, vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );
	#else
		vec4 envColor = vec4( 0.0 );
	#endif
	#ifdef ENVMAP_BLENDING_MULTIPLY
		outgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_MIX )
		outgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_ADD )
		outgoingLight += envColor.xyz * specularStrength * reflectivity;
	#endif
#endif`,Qhe=`#ifdef USE_ENVMAP
	uniform float envMapIntensity;
	uniform float flipEnvMap;
	#ifdef ENVMAP_TYPE_CUBE
		uniform samplerCube envMap;
	#else
		uniform sampler2D envMap;
	#endif
	
#endif`,Zhe=`#ifdef USE_ENVMAP
	uniform float reflectivity;
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		varying vec3 vWorldPosition;
		uniform float refractionRatio;
	#else
		varying vec3 vReflect;
	#endif
#endif`,Jhe=`#ifdef USE_ENVMAP
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		
		varying vec3 vWorldPosition;
	#else
		varying vec3 vReflect;
		uniform float refractionRatio;
	#endif
#endif`,epe=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vWorldPosition = worldPosition.xyz;
	#else
		vec3 cameraToVertex;
		if ( isOrthographic ) {
			cameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToVertex = normalize( worldPosition.xyz - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vReflect = reflect( cameraToVertex, worldNormal );
		#else
			vReflect = refract( cameraToVertex, worldNormal, refractionRatio );
		#endif
	#endif
#endif`,tpe=`#ifdef USE_FOG
	vFogDepth = - mvPosition.z;
#endif`,npe=`#ifdef USE_FOG
	varying float vFogDepth;
#endif`,ipe=`#ifdef USE_FOG
	#ifdef FOG_EXP2
		float fogFactor = 1.0 - exp( - fogDensity * fogDensity * vFogDepth * vFogDepth );
	#else
		float fogFactor = smoothstep( fogNear, fogFar, vFogDepth );
	#endif
	gl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );
#endif`,rpe=`#ifdef USE_FOG
	uniform vec3 fogColor;
	varying float vFogDepth;
	#ifdef FOG_EXP2
		uniform float fogDensity;
	#else
		uniform float fogNear;
		uniform float fogFar;
	#endif
#endif`,spe=`#ifdef USE_GRADIENTMAP
	uniform sampler2D gradientMap;
#endif
vec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {
	float dotNL = dot( normal, lightDirection );
	vec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );
	#ifdef USE_GRADIENTMAP
		return vec3( texture2D( gradientMap, coord ).r );
	#else
		vec2 fw = fwidth( coord ) * 0.5;
		return mix( vec3( 0.7 ), vec3( 1.0 ), smoothstep( 0.7 - fw.x, 0.7 + fw.x, coord.x ) );
	#endif
}`,ope=`#ifdef USE_LIGHTMAP
	vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
	vec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;
	reflectedLight.indirectDiffuse += lightMapIrradiance;
#endif`,ape=`#ifdef USE_LIGHTMAP
	uniform sampler2D lightMap;
	uniform float lightMapIntensity;
#endif`,lpe=`LambertMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularStrength = specularStrength;`,cpe=`varying vec3 vViewPosition;
struct LambertMaterial {
	vec3 diffuseColor;
	float specularStrength;
};
void RE_Direct_Lambert( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Lambert( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Lambert
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Lambert`,upe=`uniform bool receiveShadow;
uniform vec3 ambientLightColor;
#if defined( USE_LIGHT_PROBES )
	uniform vec3 lightProbe[ 9 ];
#endif
vec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {
	float x = normal.x, y = normal.y, z = normal.z;
	vec3 result = shCoefficients[ 0 ] * 0.886227;
	result += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;
	result += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;
	result += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;
	result += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;
	result += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;
	result += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );
	result += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;
	result += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );
	return result;
}
vec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in vec3 normal ) {
	vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
	vec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );
	return irradiance;
}
vec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {
	vec3 irradiance = ambientLightColor;
	return irradiance;
}
float getDistanceAttenuation( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {
	#if defined ( LEGACY_LIGHTS )
		if ( cutoffDistance > 0.0 && decayExponent > 0.0 ) {
			return pow( saturate( - lightDistance / cutoffDistance + 1.0 ), decayExponent );
		}
		return 1.0;
	#else
		float distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );
		if ( cutoffDistance > 0.0 ) {
			distanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );
		}
		return distanceFalloff;
	#endif
}
float getSpotAttenuation( const in float coneCosine, const in float penumbraCosine, const in float angleCosine ) {
	return smoothstep( coneCosine, penumbraCosine, angleCosine );
}
#if NUM_DIR_LIGHTS > 0
	struct DirectionalLight {
		vec3 direction;
		vec3 color;
	};
	uniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];
	void getDirectionalLightInfo( const in DirectionalLight directionalLight, out IncidentLight light ) {
		light.color = directionalLight.color;
		light.direction = directionalLight.direction;
		light.visible = true;
	}
#endif
#if NUM_POINT_LIGHTS > 0
	struct PointLight {
		vec3 position;
		vec3 color;
		float distance;
		float decay;
	};
	uniform PointLight pointLights[ NUM_POINT_LIGHTS ];
	void getPointLightInfo( const in PointLight pointLight, const in vec3 geometryPosition, out IncidentLight light ) {
		vec3 lVector = pointLight.position - geometryPosition;
		light.direction = normalize( lVector );
		float lightDistance = length( lVector );
		light.color = pointLight.color;
		light.color *= getDistanceAttenuation( lightDistance, pointLight.distance, pointLight.decay );
		light.visible = ( light.color != vec3( 0.0 ) );
	}
#endif
#if NUM_SPOT_LIGHTS > 0
	struct SpotLight {
		vec3 position;
		vec3 direction;
		vec3 color;
		float distance;
		float decay;
		float coneCos;
		float penumbraCos;
	};
	uniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];
	void getSpotLightInfo( const in SpotLight spotLight, const in vec3 geometryPosition, out IncidentLight light ) {
		vec3 lVector = spotLight.position - geometryPosition;
		light.direction = normalize( lVector );
		float angleCos = dot( light.direction, spotLight.direction );
		float spotAttenuation = getSpotAttenuation( spotLight.coneCos, spotLight.penumbraCos, angleCos );
		if ( spotAttenuation > 0.0 ) {
			float lightDistance = length( lVector );
			light.color = spotLight.color * spotAttenuation;
			light.color *= getDistanceAttenuation( lightDistance, spotLight.distance, spotLight.decay );
			light.visible = ( light.color != vec3( 0.0 ) );
		} else {
			light.color = vec3( 0.0 );
			light.visible = false;
		}
	}
#endif
#if NUM_RECT_AREA_LIGHTS > 0
	struct RectAreaLight {
		vec3 color;
		vec3 position;
		vec3 halfWidth;
		vec3 halfHeight;
	};
	uniform sampler2D ltc_1;	uniform sampler2D ltc_2;
	uniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];
#endif
#if NUM_HEMI_LIGHTS > 0
	struct HemisphereLight {
		vec3 direction;
		vec3 skyColor;
		vec3 groundColor;
	};
	uniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];
	vec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in vec3 normal ) {
		float dotNL = dot( normal, hemiLight.direction );
		float hemiDiffuseWeight = 0.5 * dotNL + 0.5;
		vec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );
		return irradiance;
	}
#endif`,dpe=`#ifdef USE_ENVMAP
	vec3 getIBLIrradiance( const in vec3 normal ) {
		#ifdef ENVMAP_TYPE_CUBE_UV
			vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, worldNormal, 1.0 );
			return PI * envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	vec3 getIBLRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness ) {
		#ifdef ENVMAP_TYPE_CUBE_UV
			vec3 reflectVec = reflect( - viewDir, normal );
			reflectVec = normalize( mix( reflectVec, normal, roughness * roughness) );
			reflectVec = inverseTransformDirection( reflectVec, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, reflectVec, roughness );
			return envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	#ifdef USE_ANISOTROPY
		vec3 getIBLAnisotropyRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness, const in vec3 bitangent, const in float anisotropy ) {
			#ifdef ENVMAP_TYPE_CUBE_UV
				vec3 bentNormal = cross( bitangent, viewDir );
				bentNormal = normalize( cross( bentNormal, bitangent ) );
				bentNormal = normalize( mix( bentNormal, normal, pow2( pow2( 1.0 - anisotropy * ( 1.0 - roughness ) ) ) ) );
				return getIBLRadiance( viewDir, bentNormal, roughness );
			#else
				return vec3( 0.0 );
			#endif
		}
	#endif
#endif`,fpe=`ToonMaterial material;
material.diffuseColor = diffuseColor.rgb;`,hpe=`varying vec3 vViewPosition;
struct ToonMaterial {
	vec3 diffuseColor;
};
void RE_Direct_Toon( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	vec3 irradiance = getGradientIrradiance( geometryNormal, directLight.direction ) * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Toon
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Toon`,ppe=`BlinnPhongMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularColor = specular;
material.specularShininess = shininess;
material.specularStrength = specularStrength;`,mpe=`varying vec3 vViewPosition;
struct BlinnPhongMaterial {
	vec3 diffuseColor;
	vec3 specularColor;
	float specularShininess;
	float specularStrength;
};
void RE_Direct_BlinnPhong( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
	reflectedLight.directSpecular += irradiance * BRDF_BlinnPhong( directLight.direction, geometryViewDir, geometryNormal, material.specularColor, material.specularShininess ) * material.specularStrength;
}
void RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_BlinnPhong
#define RE_IndirectDiffuse		RE_IndirectDiffuse_BlinnPhong`,gpe=`PhysicalMaterial material;
material.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );
vec3 dxy = max( abs( dFdx( nonPerturbedNormal ) ), abs( dFdy( nonPerturbedNormal ) ) );
float geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );
material.roughness = max( roughnessFactor, 0.0525 );material.roughness += geometryRoughness;
material.roughness = min( material.roughness, 1.0 );
#ifdef IOR
	material.ior = ior;
	#ifdef USE_SPECULAR
		float specularIntensityFactor = specularIntensity;
		vec3 specularColorFactor = specularColor;
		#ifdef USE_SPECULAR_COLORMAP
			specularColorFactor *= texture2D( specularColorMap, vSpecularColorMapUv ).rgb;
		#endif
		#ifdef USE_SPECULAR_INTENSITYMAP
			specularIntensityFactor *= texture2D( specularIntensityMap, vSpecularIntensityMapUv ).a;
		#endif
		material.specularF90 = mix( specularIntensityFactor, 1.0, metalnessFactor );
	#else
		float specularIntensityFactor = 1.0;
		vec3 specularColorFactor = vec3( 1.0 );
		material.specularF90 = 1.0;
	#endif
	material.specularColor = mix( min( pow2( ( material.ior - 1.0 ) / ( material.ior + 1.0 ) ) * specularColorFactor, vec3( 1.0 ) ) * specularIntensityFactor, diffuseColor.rgb, metalnessFactor );
#else
	material.specularColor = mix( vec3( 0.04 ), diffuseColor.rgb, metalnessFactor );
	material.specularF90 = 1.0;
#endif
#ifdef USE_CLEARCOAT
	material.clearcoat = clearcoat;
	material.clearcoatRoughness = clearcoatRoughness;
	material.clearcoatF0 = vec3( 0.04 );
	material.clearcoatF90 = 1.0;
	#ifdef USE_CLEARCOATMAP
		material.clearcoat *= texture2D( clearcoatMap, vClearcoatMapUv ).x;
	#endif
	#ifdef USE_CLEARCOAT_ROUGHNESSMAP
		material.clearcoatRoughness *= texture2D( clearcoatRoughnessMap, vClearcoatRoughnessMapUv ).y;
	#endif
	material.clearcoat = saturate( material.clearcoat );	material.clearcoatRoughness = max( material.clearcoatRoughness, 0.0525 );
	material.clearcoatRoughness += geometryRoughness;
	material.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );
#endif
#ifdef USE_IRIDESCENCE
	material.iridescence = iridescence;
	material.iridescenceIOR = iridescenceIOR;
	#ifdef USE_IRIDESCENCEMAP
		material.iridescence *= texture2D( iridescenceMap, vIridescenceMapUv ).r;
	#endif
	#ifdef USE_IRIDESCENCE_THICKNESSMAP
		material.iridescenceThickness = (iridescenceThicknessMaximum - iridescenceThicknessMinimum) * texture2D( iridescenceThicknessMap, vIridescenceThicknessMapUv ).g + iridescenceThicknessMinimum;
	#else
		material.iridescenceThickness = iridescenceThicknessMaximum;
	#endif
#endif
#ifdef USE_SHEEN
	material.sheenColor = sheenColor;
	#ifdef USE_SHEEN_COLORMAP
		material.sheenColor *= texture2D( sheenColorMap, vSheenColorMapUv ).rgb;
	#endif
	material.sheenRoughness = clamp( sheenRoughness, 0.07, 1.0 );
	#ifdef USE_SHEEN_ROUGHNESSMAP
		material.sheenRoughness *= texture2D( sheenRoughnessMap, vSheenRoughnessMapUv ).a;
	#endif
#endif
#ifdef USE_ANISOTROPY
	#ifdef USE_ANISOTROPYMAP
		mat2 anisotropyMat = mat2( anisotropyVector.x, anisotropyVector.y, - anisotropyVector.y, anisotropyVector.x );
		vec3 anisotropyPolar = texture2D( anisotropyMap, vAnisotropyMapUv ).rgb;
		vec2 anisotropyV = anisotropyMat * normalize( 2.0 * anisotropyPolar.rg - vec2( 1.0 ) ) * anisotropyPolar.b;
	#else
		vec2 anisotropyV = anisotropyVector;
	#endif
	material.anisotropy = length( anisotropyV );
	if( material.anisotropy == 0.0 ) {
		anisotropyV = vec2( 1.0, 0.0 );
	} else {
		anisotropyV /= material.anisotropy;
		material.anisotropy = saturate( material.anisotropy );
	}
	material.alphaT = mix( pow2( material.roughness ), 1.0, pow2( material.anisotropy ) );
	material.anisotropyT = tbn[ 0 ] * anisotropyV.x + tbn[ 1 ] * anisotropyV.y;
	material.anisotropyB = tbn[ 1 ] * anisotropyV.x - tbn[ 0 ] * anisotropyV.y;
#endif`,vpe=`struct PhysicalMaterial {
	vec3 diffuseColor;
	float roughness;
	vec3 specularColor;
	float specularF90;
	#ifdef USE_CLEARCOAT
		float clearcoat;
		float clearcoatRoughness;
		vec3 clearcoatF0;
		float clearcoatF90;
	#endif
	#ifdef USE_IRIDESCENCE
		float iridescence;
		float iridescenceIOR;
		float iridescenceThickness;
		vec3 iridescenceFresnel;
		vec3 iridescenceF0;
	#endif
	#ifdef USE_SHEEN
		vec3 sheenColor;
		float sheenRoughness;
	#endif
	#ifdef IOR
		float ior;
	#endif
	#ifdef USE_TRANSMISSION
		float transmission;
		float transmissionAlpha;
		float thickness;
		float attenuationDistance;
		vec3 attenuationColor;
	#endif
	#ifdef USE_ANISOTROPY
		float anisotropy;
		float alphaT;
		vec3 anisotropyT;
		vec3 anisotropyB;
	#endif
};
vec3 clearcoatSpecularDirect = vec3( 0.0 );
vec3 clearcoatSpecularIndirect = vec3( 0.0 );
vec3 sheenSpecularDirect = vec3( 0.0 );
vec3 sheenSpecularIndirect = vec3(0.0 );
vec3 Schlick_to_F0( const in vec3 f, const in float f90, const in float dotVH ) {
    float x = clamp( 1.0 - dotVH, 0.0, 1.0 );
    float x2 = x * x;
    float x5 = clamp( x * x2 * x2, 0.0, 0.9999 );
    return ( f - vec3( f90 ) * x5 ) / ( 1.0 - x5 );
}
float V_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {
	float a2 = pow2( alpha );
	float gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );
	float gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );
	return 0.5 / max( gv + gl, EPSILON );
}
float D_GGX( const in float alpha, const in float dotNH ) {
	float a2 = pow2( alpha );
	float denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;
	return RECIPROCAL_PI * a2 / pow2( denom );
}
#ifdef USE_ANISOTROPY
	float V_GGX_SmithCorrelated_Anisotropic( const in float alphaT, const in float alphaB, const in float dotTV, const in float dotBV, const in float dotTL, const in float dotBL, const in float dotNV, const in float dotNL ) {
		float gv = dotNL * length( vec3( alphaT * dotTV, alphaB * dotBV, dotNV ) );
		float gl = dotNV * length( vec3( alphaT * dotTL, alphaB * dotBL, dotNL ) );
		float v = 0.5 / ( gv + gl );
		return saturate(v);
	}
	float D_GGX_Anisotropic( const in float alphaT, const in float alphaB, const in float dotNH, const in float dotTH, const in float dotBH ) {
		float a2 = alphaT * alphaB;
		highp vec3 v = vec3( alphaB * dotTH, alphaT * dotBH, a2 * dotNH );
		highp float v2 = dot( v, v );
		float w2 = a2 / v2;
		return RECIPROCAL_PI * a2 * pow2 ( w2 );
	}
#endif
#ifdef USE_CLEARCOAT
	vec3 BRDF_GGX_Clearcoat( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material) {
		vec3 f0 = material.clearcoatF0;
		float f90 = material.clearcoatF90;
		float roughness = material.clearcoatRoughness;
		float alpha = pow2( roughness );
		vec3 halfDir = normalize( lightDir + viewDir );
		float dotNL = saturate( dot( normal, lightDir ) );
		float dotNV = saturate( dot( normal, viewDir ) );
		float dotNH = saturate( dot( normal, halfDir ) );
		float dotVH = saturate( dot( viewDir, halfDir ) );
		vec3 F = F_Schlick( f0, f90, dotVH );
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
		return F * ( V * D );
	}
#endif
vec3 BRDF_GGX( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material ) {
	vec3 f0 = material.specularColor;
	float f90 = material.specularF90;
	float roughness = material.roughness;
	float alpha = pow2( roughness );
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( f0, f90, dotVH );
	#ifdef USE_IRIDESCENCE
		F = mix( F, material.iridescenceFresnel, material.iridescence );
	#endif
	#ifdef USE_ANISOTROPY
		float dotTL = dot( material.anisotropyT, lightDir );
		float dotTV = dot( material.anisotropyT, viewDir );
		float dotTH = dot( material.anisotropyT, halfDir );
		float dotBL = dot( material.anisotropyB, lightDir );
		float dotBV = dot( material.anisotropyB, viewDir );
		float dotBH = dot( material.anisotropyB, halfDir );
		float V = V_GGX_SmithCorrelated_Anisotropic( material.alphaT, alpha, dotTV, dotBV, dotTL, dotBL, dotNV, dotNL );
		float D = D_GGX_Anisotropic( material.alphaT, alpha, dotNH, dotTH, dotBH );
	#else
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
	#endif
	return F * ( V * D );
}
vec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {
	const float LUT_SIZE = 64.0;
	const float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;
	const float LUT_BIAS = 0.5 / LUT_SIZE;
	float dotNV = saturate( dot( N, V ) );
	vec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );
	uv = uv * LUT_SCALE + LUT_BIAS;
	return uv;
}
float LTC_ClippedSphereFormFactor( const in vec3 f ) {
	float l = length( f );
	return max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );
}
vec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {
	float x = dot( v1, v2 );
	float y = abs( x );
	float a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;
	float b = 3.4175940 + ( 4.1616724 + y ) * y;
	float v = a / b;
	float theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;
	return cross( v1, v2 ) * theta_sintheta;
}
vec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {
	vec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];
	vec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];
	vec3 lightNormal = cross( v1, v2 );
	if( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );
	vec3 T1, T2;
	T1 = normalize( V - N * dot( V, N ) );
	T2 = - cross( N, T1 );
	mat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );
	vec3 coords[ 4 ];
	coords[ 0 ] = mat * ( rectCoords[ 0 ] - P );
	coords[ 1 ] = mat * ( rectCoords[ 1 ] - P );
	coords[ 2 ] = mat * ( rectCoords[ 2 ] - P );
	coords[ 3 ] = mat * ( rectCoords[ 3 ] - P );
	coords[ 0 ] = normalize( coords[ 0 ] );
	coords[ 1 ] = normalize( coords[ 1 ] );
	coords[ 2 ] = normalize( coords[ 2 ] );
	coords[ 3 ] = normalize( coords[ 3 ] );
	vec3 vectorFormFactor = vec3( 0.0 );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );
	float result = LTC_ClippedSphereFormFactor( vectorFormFactor );
	return vec3( result );
}
#if defined( USE_SHEEN )
float D_Charlie( float roughness, float dotNH ) {
	float alpha = pow2( roughness );
	float invAlpha = 1.0 / alpha;
	float cos2h = dotNH * dotNH;
	float sin2h = max( 1.0 - cos2h, 0.0078125 );
	return ( 2.0 + invAlpha ) * pow( sin2h, invAlpha * 0.5 ) / ( 2.0 * PI );
}
float V_Neubelt( float dotNV, float dotNL ) {
	return saturate( 1.0 / ( 4.0 * ( dotNL + dotNV - dotNL * dotNV ) ) );
}
vec3 BRDF_Sheen( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, vec3 sheenColor, const in float sheenRoughness ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float D = D_Charlie( sheenRoughness, dotNH );
	float V = V_Neubelt( dotNV, dotNL );
	return sheenColor * ( D * V );
}
#endif
float IBLSheenBRDF( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	float r2 = roughness * roughness;
	float a = roughness < 0.25 ? -339.2 * r2 + 161.4 * roughness - 25.9 : -8.48 * r2 + 14.3 * roughness - 9.95;
	float b = roughness < 0.25 ? 44.0 * r2 - 23.7 * roughness + 3.26 : 1.97 * r2 - 3.27 * roughness + 0.72;
	float DG = exp( a * dotNV + b ) + ( roughness < 0.25 ? 0.0 : 0.1 * ( roughness - 0.25 ) );
	return saturate( DG * RECIPROCAL_PI );
}
vec2 DFGApprox( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	const vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );
	const vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );
	vec4 r = roughness * c0 + c1;
	float a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;
	vec2 fab = vec2( - 1.04, 1.04 ) * a004 + r.zw;
	return fab;
}
vec3 EnvironmentBRDF( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness ) {
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	return specularColor * fab.x + specularF90 * fab.y;
}
#ifdef USE_IRIDESCENCE
void computeMultiscatteringIridescence( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float iridescence, const in vec3 iridescenceF0, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#else
void computeMultiscattering( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#endif
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	#ifdef USE_IRIDESCENCE
		vec3 Fr = mix( specularColor, iridescenceF0, iridescence );
	#else
		vec3 Fr = specularColor;
	#endif
	vec3 FssEss = Fr * fab.x + specularF90 * fab.y;
	float Ess = fab.x + fab.y;
	float Ems = 1.0 - Ess;
	vec3 Favg = Fr + ( 1.0 - Fr ) * 0.047619;	vec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );
	singleScatter += FssEss;
	multiScatter += Fms * Ems;
}
#if NUM_RECT_AREA_LIGHTS > 0
	void RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
		vec3 normal = geometryNormal;
		vec3 viewDir = geometryViewDir;
		vec3 position = geometryPosition;
		vec3 lightPos = rectAreaLight.position;
		vec3 halfWidth = rectAreaLight.halfWidth;
		vec3 halfHeight = rectAreaLight.halfHeight;
		vec3 lightColor = rectAreaLight.color;
		float roughness = material.roughness;
		vec3 rectCoords[ 4 ];
		rectCoords[ 0 ] = lightPos + halfWidth - halfHeight;		rectCoords[ 1 ] = lightPos - halfWidth - halfHeight;
		rectCoords[ 2 ] = lightPos - halfWidth + halfHeight;
		rectCoords[ 3 ] = lightPos + halfWidth + halfHeight;
		vec2 uv = LTC_Uv( normal, viewDir, roughness );
		vec4 t1 = texture2D( ltc_1, uv );
		vec4 t2 = texture2D( ltc_2, uv );
		mat3 mInv = mat3(
			vec3( t1.x, 0, t1.y ),
			vec3(    0, 1,    0 ),
			vec3( t1.z, 0, t1.w )
		);
		vec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );
		reflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );
		reflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );
	}
#endif
void RE_Direct_Physical( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	#ifdef USE_CLEARCOAT
		float dotNLcc = saturate( dot( geometryClearcoatNormal, directLight.direction ) );
		vec3 ccIrradiance = dotNLcc * directLight.color;
		clearcoatSpecularDirect += ccIrradiance * BRDF_GGX_Clearcoat( directLight.direction, geometryViewDir, geometryClearcoatNormal, material );
	#endif
	#ifdef USE_SHEEN
		sheenSpecularDirect += irradiance * BRDF_Sheen( directLight.direction, geometryViewDir, geometryNormal, material.sheenColor, material.sheenRoughness );
	#endif
	reflectedLight.directSpecular += irradiance * BRDF_GGX( directLight.direction, geometryViewDir, geometryNormal, material );
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {
	#ifdef USE_CLEARCOAT
		clearcoatSpecularIndirect += clearcoatRadiance * EnvironmentBRDF( geometryClearcoatNormal, geometryViewDir, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );
	#endif
	#ifdef USE_SHEEN
		sheenSpecularIndirect += irradiance * material.sheenColor * IBLSheenBRDF( geometryNormal, geometryViewDir, material.sheenRoughness );
	#endif
	vec3 singleScattering = vec3( 0.0 );
	vec3 multiScattering = vec3( 0.0 );
	vec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;
	#ifdef USE_IRIDESCENCE
		computeMultiscatteringIridescence( geometryNormal, geometryViewDir, material.specularColor, material.specularF90, material.iridescence, material.iridescenceFresnel, material.roughness, singleScattering, multiScattering );
	#else
		computeMultiscattering( geometryNormal, geometryViewDir, material.specularColor, material.specularF90, material.roughness, singleScattering, multiScattering );
	#endif
	vec3 totalScattering = singleScattering + multiScattering;
	vec3 diffuse = material.diffuseColor * ( 1.0 - max( max( totalScattering.r, totalScattering.g ), totalScattering.b ) );
	reflectedLight.indirectSpecular += radiance * singleScattering;
	reflectedLight.indirectSpecular += multiScattering * cosineWeightedIrradiance;
	reflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;
}
#define RE_Direct				RE_Direct_Physical
#define RE_Direct_RectArea		RE_Direct_RectArea_Physical
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Physical
#define RE_IndirectSpecular		RE_IndirectSpecular_Physical
float computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {
	return saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );
}`,ype=`
vec3 geometryPosition = - vViewPosition;
vec3 geometryNormal = normal;
vec3 geometryViewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );
vec3 geometryClearcoatNormal = vec3( 0.0 );
#ifdef USE_CLEARCOAT
	geometryClearcoatNormal = clearcoatNormal;
#endif
#ifdef USE_IRIDESCENCE
	float dotNVi = saturate( dot( normal, geometryViewDir ) );
	if ( material.iridescenceThickness == 0.0 ) {
		material.iridescence = 0.0;
	} else {
		material.iridescence = saturate( material.iridescence );
	}
	if ( material.iridescence > 0.0 ) {
		material.iridescenceFresnel = evalIridescence( 1.0, material.iridescenceIOR, dotNVi, material.iridescenceThickness, material.specularColor );
		material.iridescenceF0 = Schlick_to_F0( material.iridescenceFresnel, 1.0, dotNVi );
	}
#endif
IncidentLight directLight;
#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )
	PointLight pointLight;
	#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {
		pointLight = pointLights[ i ];
		getPointLightInfo( pointLight, geometryPosition, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS )
		pointLightShadow = pointLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )
	SpotLight spotLight;
	vec4 spotColor;
	vec3 spotLightCoord;
	bool inSpotLightMap;
	#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {
		spotLight = spotLights[ i ];
		getSpotLightInfo( spotLight, geometryPosition, directLight );
		#if ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#define SPOT_LIGHT_MAP_INDEX UNROLLED_LOOP_INDEX
		#elif ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		#define SPOT_LIGHT_MAP_INDEX NUM_SPOT_LIGHT_MAPS
		#else
		#define SPOT_LIGHT_MAP_INDEX ( UNROLLED_LOOP_INDEX - NUM_SPOT_LIGHT_SHADOWS + NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#endif
		#if ( SPOT_LIGHT_MAP_INDEX < NUM_SPOT_LIGHT_MAPS )
			spotLightCoord = vSpotLightCoord[ i ].xyz / vSpotLightCoord[ i ].w;
			inSpotLightMap = all( lessThan( abs( spotLightCoord * 2. - 1. ), vec3( 1.0 ) ) );
			spotColor = texture2D( spotLightMap[ SPOT_LIGHT_MAP_INDEX ], spotLightCoord.xy );
			directLight.color = inSpotLightMap ? directLight.color * spotColor.rgb : directLight.color;
		#endif
		#undef SPOT_LIGHT_MAP_INDEX
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		spotLightShadow = spotLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )
	DirectionalLight directionalLight;
	#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {
		directionalLight = directionalLights[ i ];
		getDirectionalLightInfo( directionalLight, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )
		directionalLightShadow = directionalLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )
	RectAreaLight rectAreaLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {
		rectAreaLight = rectAreaLights[ i ];
		RE_Direct_RectArea( rectAreaLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if defined( RE_IndirectDiffuse )
	vec3 iblIrradiance = vec3( 0.0 );
	vec3 irradiance = getAmbientLightIrradiance( ambientLightColor );
	#if defined( USE_LIGHT_PROBES )
		irradiance += getLightProbeIrradiance( lightProbe, geometryNormal );
	#endif
	#if ( NUM_HEMI_LIGHTS > 0 )
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {
			irradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometryNormal );
		}
		#pragma unroll_loop_end
	#endif
#endif
#if defined( RE_IndirectSpecular )
	vec3 radiance = vec3( 0.0 );
	vec3 clearcoatRadiance = vec3( 0.0 );
#endif`,xpe=`#if defined( RE_IndirectDiffuse )
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
		vec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;
		irradiance += lightMapIrradiance;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )
		iblIrradiance += getIBLIrradiance( geometryNormal );
	#endif
#endif
#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )
	#ifdef USE_ANISOTROPY
		radiance += getIBLAnisotropyRadiance( geometryViewDir, geometryNormal, material.roughness, material.anisotropyB, material.anisotropy );
	#else
		radiance += getIBLRadiance( geometryViewDir, geometryNormal, material.roughness );
	#endif
	#ifdef USE_CLEARCOAT
		clearcoatRadiance += getIBLRadiance( geometryViewDir, geometryClearcoatNormal, material.clearcoatRoughness );
	#endif
#endif`,_pe=`#if defined( RE_IndirectDiffuse )
	RE_IndirectDiffuse( irradiance, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
#endif
#if defined( RE_IndirectSpecular )
	RE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
#endif`,bpe=`#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )
	gl_FragDepthEXT = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;
#endif`,Spe=`#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )
	uniform float logDepthBufFC;
	varying float vFragDepth;
	varying float vIsPerspective;
#endif`,wpe=`#ifdef USE_LOGDEPTHBUF
	#ifdef USE_LOGDEPTHBUF_EXT
		varying float vFragDepth;
		varying float vIsPerspective;
	#else
		uniform float logDepthBufFC;
	#endif
#endif`,Mpe=`#ifdef USE_LOGDEPTHBUF
	#ifdef USE_LOGDEPTHBUF_EXT
		vFragDepth = 1.0 + gl_Position.w;
		vIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );
	#else
		if ( isPerspectiveMatrix( projectionMatrix ) ) {
			gl_Position.z = log2( max( EPSILON, gl_Position.w + 1.0 ) ) * logDepthBufFC - 1.0;
			gl_Position.z *= gl_Position.w;
		}
	#endif
#endif`,Epe=`#ifdef USE_MAP
	vec4 sampledDiffuseColor = texture2D( map, vMapUv );
	#ifdef DECODE_VIDEO_TEXTURE
		sampledDiffuseColor = vec4( mix( pow( sampledDiffuseColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), sampledDiffuseColor.rgb * 0.0773993808, vec3( lessThanEqual( sampledDiffuseColor.rgb, vec3( 0.04045 ) ) ) ), sampledDiffuseColor.w );
	
	#endif
	diffuseColor *= sampledDiffuseColor;
#endif`,Tpe=`#ifdef USE_MAP
	uniform sampler2D map;
#endif`,Cpe=`#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
	#if defined( USE_POINTS_UV )
		vec2 uv = vUv;
	#else
		vec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;
	#endif
#endif
#ifdef USE_MAP
	diffuseColor *= texture2D( map, uv );
#endif
#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, uv ).g;
#endif`,Rpe=`#if defined( USE_POINTS_UV )
	varying vec2 vUv;
#else
	#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
		uniform mat3 uvTransform;
	#endif
#endif
#ifdef USE_MAP
	uniform sampler2D map;
#endif
#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,Ape=`float metalnessFactor = metalness;
#ifdef USE_METALNESSMAP
	vec4 texelMetalness = texture2D( metalnessMap, vMetalnessMapUv );
	metalnessFactor *= texelMetalness.b;
#endif`,Ppe=`#ifdef USE_METALNESSMAP
	uniform sampler2D metalnessMap;
#endif`,kpe=`#if defined( USE_MORPHCOLORS ) && defined( MORPHTARGETS_TEXTURE )
	vColor *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		#if defined( USE_COLOR_ALPHA )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ) * morphTargetInfluences[ i ];
		#elif defined( USE_COLOR )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ).rgb * morphTargetInfluences[ i ];
		#endif
	}
#endif`,Ipe=`#ifdef USE_MORPHNORMALS
	objectNormal *= morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
			if ( morphTargetInfluences[ i ] != 0.0 ) objectNormal += getMorph( gl_VertexID, i, 1 ).xyz * morphTargetInfluences[ i ];
		}
	#else
		objectNormal += morphNormal0 * morphTargetInfluences[ 0 ];
		objectNormal += morphNormal1 * morphTargetInfluences[ 1 ];
		objectNormal += morphNormal2 * morphTargetInfluences[ 2 ];
		objectNormal += morphNormal3 * morphTargetInfluences[ 3 ];
	#endif
#endif`,Lpe=`#ifdef USE_MORPHTARGETS
	uniform float morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		uniform float morphTargetInfluences[ MORPHTARGETS_COUNT ];
		uniform sampler2DArray morphTargetsTexture;
		uniform ivec2 morphTargetsTextureSize;
		vec4 getMorph( const in int vertexIndex, const in int morphTargetIndex, const in int offset ) {
			int texelIndex = vertexIndex * MORPHTARGETS_TEXTURE_STRIDE + offset;
			int y = texelIndex / morphTargetsTextureSize.x;
			int x = texelIndex - y * morphTargetsTextureSize.x;
			ivec3 morphUV = ivec3( x, y, morphTargetIndex );
			return texelFetch( morphTargetsTexture, morphUV, 0 );
		}
	#else
		#ifndef USE_MORPHNORMALS
			uniform float morphTargetInfluences[ 8 ];
		#else
			uniform float morphTargetInfluences[ 4 ];
		#endif
	#endif
#endif`,Dpe=`#ifdef USE_MORPHTARGETS
	transformed *= morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
			if ( morphTargetInfluences[ i ] != 0.0 ) transformed += getMorph( gl_VertexID, i, 0 ).xyz * morphTargetInfluences[ i ];
		}
	#else
		transformed += morphTarget0 * morphTargetInfluences[ 0 ];
		transformed += morphTarget1 * morphTargetInfluences[ 1 ];
		transformed += morphTarget2 * morphTargetInfluences[ 2 ];
		transformed += morphTarget3 * morphTargetInfluences[ 3 ];
		#ifndef USE_MORPHNORMALS
			transformed += morphTarget4 * morphTargetInfluences[ 4 ];
			transformed += morphTarget5 * morphTargetInfluences[ 5 ];
			transformed += morphTarget6 * morphTargetInfluences[ 6 ];
			transformed += morphTarget7 * morphTargetInfluences[ 7 ];
		#endif
	#endif
#endif`,Ope=`float faceDirection = gl_FrontFacing ? 1.0 : - 1.0;
#ifdef FLAT_SHADED
	vec3 fdx = dFdx( vViewPosition );
	vec3 fdy = dFdy( vViewPosition );
	vec3 normal = normalize( cross( fdx, fdy ) );
#else
	vec3 normal = normalize( vNormal );
	#ifdef DOUBLE_SIDED
		normal *= faceDirection;
	#endif
#endif
#if defined( USE_NORMALMAP_TANGENTSPACE ) || defined( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY )
	#ifdef USE_TANGENT
		mat3 tbn = mat3( normalize( vTangent ), normalize( vBitangent ), normal );
	#else
		mat3 tbn = getTangentFrame( - vViewPosition, normal,
		#if defined( USE_NORMALMAP )
			vNormalMapUv
		#elif defined( USE_CLEARCOAT_NORMALMAP )
			vClearcoatNormalMapUv
		#else
			vUv
		#endif
		);
	#endif
	#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )
		tbn[0] *= faceDirection;
		tbn[1] *= faceDirection;
	#endif
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	#ifdef USE_TANGENT
		mat3 tbn2 = mat3( normalize( vTangent ), normalize( vBitangent ), normal );
	#else
		mat3 tbn2 = getTangentFrame( - vViewPosition, normal, vClearcoatNormalMapUv );
	#endif
	#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )
		tbn2[0] *= faceDirection;
		tbn2[1] *= faceDirection;
	#endif
#endif
vec3 nonPerturbedNormal = normal;`,Npe=`#ifdef USE_NORMALMAP_OBJECTSPACE
	normal = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;
	#ifdef FLIP_SIDED
		normal = - normal;
	#endif
	#ifdef DOUBLE_SIDED
		normal = normal * faceDirection;
	#endif
	normal = normalize( normalMatrix * normal );
#elif defined( USE_NORMALMAP_TANGENTSPACE )
	vec3 mapN = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;
	mapN.xy *= normalScale;
	normal = normalize( tbn * mapN );
#elif defined( USE_BUMPMAP )
	normal = perturbNormalArb( - vViewPosition, normal, dHdxy_fwd(), faceDirection );
#endif`,Fpe=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,zpe=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,Upe=`#ifndef FLAT_SHADED
	vNormal = normalize( transformedNormal );
	#ifdef USE_TANGENT
		vTangent = normalize( transformedTangent );
		vBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );
	#endif
#endif`,Bpe=`#ifdef USE_NORMALMAP
	uniform sampler2D normalMap;
	uniform vec2 normalScale;
#endif
#ifdef USE_NORMALMAP_OBJECTSPACE
	uniform mat3 normalMatrix;
#endif
#if ! defined ( USE_TANGENT ) && ( defined ( USE_NORMALMAP_TANGENTSPACE ) || defined ( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY ) )
	mat3 getTangentFrame( vec3 eye_pos, vec3 surf_norm, vec2 uv ) {
		vec3 q0 = dFdx( eye_pos.xyz );
		vec3 q1 = dFdy( eye_pos.xyz );
		vec2 st0 = dFdx( uv.st );
		vec2 st1 = dFdy( uv.st );
		vec3 N = surf_norm;
		vec3 q1perp = cross( q1, N );
		vec3 q0perp = cross( N, q0 );
		vec3 T = q1perp * st0.x + q0perp * st1.x;
		vec3 B = q1perp * st0.y + q0perp * st1.y;
		float det = max( dot( T, T ), dot( B, B ) );
		float scale = ( det == 0.0 ) ? 0.0 : inversesqrt( det );
		return mat3( T * scale, B * scale, N );
	}
#endif`,Hpe=`#ifdef USE_CLEARCOAT
	vec3 clearcoatNormal = nonPerturbedNormal;
#endif`,Vpe=`#ifdef USE_CLEARCOAT_NORMALMAP
	vec3 clearcoatMapN = texture2D( clearcoatNormalMap, vClearcoatNormalMapUv ).xyz * 2.0 - 1.0;
	clearcoatMapN.xy *= clearcoatNormalScale;
	clearcoatNormal = normalize( tbn2 * clearcoatMapN );
#endif`,jpe=`#ifdef USE_CLEARCOATMAP
	uniform sampler2D clearcoatMap;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform sampler2D clearcoatNormalMap;
	uniform vec2 clearcoatNormalScale;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform sampler2D clearcoatRoughnessMap;
#endif`,Wpe=`#ifdef USE_IRIDESCENCEMAP
	uniform sampler2D iridescenceMap;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform sampler2D iridescenceThicknessMap;
#endif`,Gpe=`#ifdef OPAQUE
diffuseColor.a = 1.0;
#endif
#ifdef USE_TRANSMISSION
diffuseColor.a *= material.transmissionAlpha;
#endif
gl_FragColor = vec4( outgoingLight, diffuseColor.a );`,$pe=`vec3 packNormalToRGB( const in vec3 normal ) {
	return normalize( normal ) * 0.5 + 0.5;
}
vec3 unpackRGBToNormal( const in vec3 rgb ) {
	return 2.0 * rgb.xyz - 1.0;
}
const float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;
const vec3 PackFactors = vec3( 256. * 256. * 256., 256. * 256., 256. );
const vec4 UnpackFactors = UnpackDownscale / vec4( PackFactors, 1. );
const float ShiftRight8 = 1. / 256.;
vec4 packDepthToRGBA( const in float v ) {
	vec4 r = vec4( fract( v * PackFactors ), v );
	r.yzw -= r.xyz * ShiftRight8;	return r * PackUpscale;
}
float unpackRGBAToDepth( const in vec4 v ) {
	return dot( v, UnpackFactors );
}
vec2 packDepthToRG( in highp float v ) {
	return packDepthToRGBA( v ).yx;
}
float unpackRGToDepth( const in highp vec2 v ) {
	return unpackRGBAToDepth( vec4( v.xy, 0.0, 0.0 ) );
}
vec4 pack2HalfToRGBA( vec2 v ) {
	vec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ) );
	return vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w );
}
vec2 unpackRGBATo2Half( vec4 v ) {
	return vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );
}
float viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {
	return ( viewZ + near ) / ( near - far );
}
float orthographicDepthToViewZ( const in float depth, const in float near, const in float far ) {
	return depth * ( near - far ) - near;
}
float viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {
	return ( ( near + viewZ ) * far ) / ( ( far - near ) * viewZ );
}
float perspectiveDepthToViewZ( const in float depth, const in float near, const in float far ) {
	return ( near * far ) / ( ( far - near ) * depth - far );
}`,Xpe=`#ifdef PREMULTIPLIED_ALPHA
	gl_FragColor.rgb *= gl_FragColor.a;
#endif`,Ype=`vec4 mvPosition = vec4( transformed, 1.0 );
#ifdef USE_BATCHING
	mvPosition = batchingMatrix * mvPosition;
#endif
#ifdef USE_INSTANCING
	mvPosition = instanceMatrix * mvPosition;
#endif
mvPosition = modelViewMatrix * mvPosition;
gl_Position = projectionMatrix * mvPosition;`,qpe=`#ifdef DITHERING
	gl_FragColor.rgb = dithering( gl_FragColor.rgb );
#endif`,Kpe=`#ifdef DITHERING
	vec3 dithering( vec3 color ) {
		float grid_position = rand( gl_FragCoord.xy );
		vec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );
		dither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );
		return color + dither_shift_RGB;
	}
#endif`,Qpe=`float roughnessFactor = roughness;
#ifdef USE_ROUGHNESSMAP
	vec4 texelRoughness = texture2D( roughnessMap, vRoughnessMapUv );
	roughnessFactor *= texelRoughness.g;
#endif`,Zpe=`#ifdef USE_ROUGHNESSMAP
	uniform sampler2D roughnessMap;
#endif`,Jpe=`#if NUM_SPOT_LIGHT_COORDS > 0
	varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#if NUM_SPOT_LIGHT_MAPS > 0
	uniform sampler2D spotLightMap[ NUM_SPOT_LIGHT_MAPS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		uniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];
		struct SpotLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform sampler2D pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
	float texture2DCompare( sampler2D depths, vec2 uv, float compare ) {
		return step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );
	}
	vec2 texture2DDistribution( sampler2D shadow, vec2 uv ) {
		return unpackRGBATo2Half( texture2D( shadow, uv ) );
	}
	float VSMShadow (sampler2D shadow, vec2 uv, float compare ){
		float occlusion = 1.0;
		vec2 distribution = texture2DDistribution( shadow, uv );
		float hard_shadow = step( compare , distribution.x );
		if (hard_shadow != 1.0 ) {
			float distance = compare - distribution.x ;
			float variance = max( 0.00000, distribution.y * distribution.y );
			float softness_probability = variance / (variance + distance * distance );			softness_probability = clamp( ( softness_probability - 0.3 ) / ( 0.95 - 0.3 ), 0.0, 1.0 );			occlusion = clamp( max( hard_shadow, softness_probability ), 0.0, 1.0 );
		}
		return occlusion;
	}
	float getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord ) {
		float shadow = 1.0;
		shadowCoord.xyz /= shadowCoord.w;
		shadowCoord.z += shadowBias;
		bool inFrustum = shadowCoord.x >= 0.0 && shadowCoord.x <= 1.0 && shadowCoord.y >= 0.0 && shadowCoord.y <= 1.0;
		bool frustumTest = inFrustum && shadowCoord.z <= 1.0;
		if ( frustumTest ) {
		#if defined( SHADOWMAP_TYPE_PCF )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx0 = - texelSize.x * shadowRadius;
			float dy0 = - texelSize.y * shadowRadius;
			float dx1 = + texelSize.x * shadowRadius;
			float dy1 = + texelSize.y * shadowRadius;
			float dx2 = dx0 / 2.0;
			float dy2 = dy0 / 2.0;
			float dx3 = dx1 / 2.0;
			float dy3 = dy1 / 2.0;
			shadow = (
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )
			) * ( 1.0 / 17.0 );
		#elif defined( SHADOWMAP_TYPE_PCF_SOFT )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx = texelSize.x;
			float dy = texelSize.y;
			vec2 uv = shadowCoord.xy;
			vec2 f = fract( uv * shadowMapSize + 0.5 );
			uv -= f * texelSize;
			shadow = (
				texture2DCompare( shadowMap, uv, shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( dx, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( 0.0, dy ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + texelSize, shadowCoord.z ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, 0.0 ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 0.0 ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, dy ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( 0.0, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 0.0, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( texture2DCompare( shadowMap, uv + vec2( dx, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( dx, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( mix( texture2DCompare( shadowMap, uv + vec2( -dx, -dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, -dy ), shadowCoord.z ),
						  f.x ),
					 mix( texture2DCompare( shadowMap, uv + vec2( -dx, 2.0 * dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 2.0 * dy ), shadowCoord.z ),
						  f.x ),
					 f.y )
			) * ( 1.0 / 9.0 );
		#elif defined( SHADOWMAP_TYPE_VSM )
			shadow = VSMShadow( shadowMap, shadowCoord.xy, shadowCoord.z );
		#else
			shadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );
		#endif
		}
		return shadow;
	}
	vec2 cubeToUV( vec3 v, float texelSizeY ) {
		vec3 absV = abs( v );
		float scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );
		absV *= scaleToCube;
		v *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );
		vec2 planar = v.xy;
		float almostATexel = 1.5 * texelSizeY;
		float almostOne = 1.0 - almostATexel;
		if ( absV.z >= almostOne ) {
			if ( v.z > 0.0 )
				planar.x = 4.0 - v.x;
		} else if ( absV.x >= almostOne ) {
			float signX = sign( v.x );
			planar.x = v.z * signX + 2.0 * signX;
		} else if ( absV.y >= almostOne ) {
			float signY = sign( v.y );
			planar.x = v.x + 2.0 * signY + 2.0;
			planar.y = v.z * signY - 2.0;
		}
		return vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );
	}
	float getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {
		vec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );
		vec3 lightToPosition = shadowCoord.xyz;
		float dp = ( length( lightToPosition ) - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );		dp += shadowBias;
		vec3 bd3D = normalize( lightToPosition );
		#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT ) || defined( SHADOWMAP_TYPE_VSM )
			vec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;
			return (
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )
			) * ( 1.0 / 9.0 );
		#else
			return texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );
		#endif
	}
#endif`,eme=`#if NUM_SPOT_LIGHT_COORDS > 0
	uniform mat4 spotLightMatrix[ NUM_SPOT_LIGHT_COORDS ];
	varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		struct SpotLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
#endif`,tme=`#if ( defined( USE_SHADOWMAP ) && ( NUM_DIR_LIGHT_SHADOWS > 0 || NUM_POINT_LIGHT_SHADOWS > 0 ) ) || ( NUM_SPOT_LIGHT_COORDS > 0 )
	vec3 shadowWorldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
	vec4 shadowWorldPosition;
#endif
#if defined( USE_SHADOWMAP )
	#if NUM_DIR_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * directionalLightShadows[ i ].shadowNormalBias, 0 );
			vDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * pointLightShadows[ i ].shadowNormalBias, 0 );
			vPointShadowCoord[ i ] = pointShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
#endif
#if NUM_SPOT_LIGHT_COORDS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_COORDS; i ++ ) {
		shadowWorldPosition = worldPosition;
		#if ( defined( USE_SHADOWMAP ) && UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
			shadowWorldPosition.xyz += shadowWorldNormal * spotLightShadows[ i ].shadowNormalBias;
		#endif
		vSpotLightCoord[ i ] = spotLightMatrix[ i ] * shadowWorldPosition;
	}
	#pragma unroll_loop_end
#endif`,nme=`float getShadowMask() {
	float shadow = 1.0;
	#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
		directionalLight = directionalLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {
		spotLight = spotLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
		pointLight = pointLightShadows[ i ];
		shadow *= receiveShadow ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#endif
	return shadow;
}`,ime=`#ifdef USE_SKINNING
	mat4 boneMatX = getBoneMatrix( skinIndex.x );
	mat4 boneMatY = getBoneMatrix( skinIndex.y );
	mat4 boneMatZ = getBoneMatrix( skinIndex.z );
	mat4 boneMatW = getBoneMatrix( skinIndex.w );
#endif`,rme=`#ifdef USE_SKINNING
	uniform mat4 bindMatrix;
	uniform mat4 bindMatrixInverse;
	uniform highp sampler2D boneTexture;
	mat4 getBoneMatrix( const in float i ) {
		int size = textureSize( boneTexture, 0 ).x;
		int j = int( i ) * 4;
		int x = j % size;
		int y = j / size;
		vec4 v1 = texelFetch( boneTexture, ivec2( x, y ), 0 );
		vec4 v2 = texelFetch( boneTexture, ivec2( x + 1, y ), 0 );
		vec4 v3 = texelFetch( boneTexture, ivec2( x + 2, y ), 0 );
		vec4 v4 = texelFetch( boneTexture, ivec2( x + 3, y ), 0 );
		return mat4( v1, v2, v3, v4 );
	}
#endif`,sme=`#ifdef USE_SKINNING
	vec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );
	vec4 skinned = vec4( 0.0 );
	skinned += boneMatX * skinVertex * skinWeight.x;
	skinned += boneMatY * skinVertex * skinWeight.y;
	skinned += boneMatZ * skinVertex * skinWeight.z;
	skinned += boneMatW * skinVertex * skinWeight.w;
	transformed = ( bindMatrixInverse * skinned ).xyz;
#endif`,ome=`#ifdef USE_SKINNING
	mat4 skinMatrix = mat4( 0.0 );
	skinMatrix += skinWeight.x * boneMatX;
	skinMatrix += skinWeight.y * boneMatY;
	skinMatrix += skinWeight.z * boneMatZ;
	skinMatrix += skinWeight.w * boneMatW;
	skinMatrix = bindMatrixInverse * skinMatrix * bindMatrix;
	objectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;
	#ifdef USE_TANGENT
		objectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#endif
#endif`,ame=`float specularStrength;
#ifdef USE_SPECULARMAP
	vec4 texelSpecular = texture2D( specularMap, vSpecularMapUv );
	specularStrength = texelSpecular.r;
#else
	specularStrength = 1.0;
#endif`,lme=`#ifdef USE_SPECULARMAP
	uniform sampler2D specularMap;
#endif`,cme=`#if defined( TONE_MAPPING )
	gl_FragColor.rgb = toneMapping( gl_FragColor.rgb );
#endif`,ume=`#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
uniform float toneMappingExposure;
vec3 LinearToneMapping( vec3 color ) {
	return saturate( toneMappingExposure * color );
}
vec3 ReinhardToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	return saturate( color / ( vec3( 1.0 ) + color ) );
}
vec3 OptimizedCineonToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	color = max( vec3( 0.0 ), color - 0.004 );
	return pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );
}
vec3 RRTAndODTFit( vec3 v ) {
	vec3 a = v * ( v + 0.0245786 ) - 0.000090537;
	vec3 b = v * ( 0.983729 * v + 0.4329510 ) + 0.238081;
	return a / b;
}
vec3 ACESFilmicToneMapping( vec3 color ) {
	const mat3 ACESInputMat = mat3(
		vec3( 0.59719, 0.07600, 0.02840 ),		vec3( 0.35458, 0.90834, 0.13383 ),
		vec3( 0.04823, 0.01566, 0.83777 )
	);
	const mat3 ACESOutputMat = mat3(
		vec3(  1.60475, -0.10208, -0.00327 ),		vec3( -0.53108,  1.10813, -0.07276 ),
		vec3( -0.07367, -0.00605,  1.07602 )
	);
	color *= toneMappingExposure / 0.6;
	color = ACESInputMat * color;
	color = RRTAndODTFit( color );
	color = ACESOutputMat * color;
	return saturate( color );
}
vec3 CustomToneMapping( vec3 color ) { return color; }`,dme=`#ifdef USE_TRANSMISSION
	material.transmission = transmission;
	material.transmissionAlpha = 1.0;
	material.thickness = thickness;
	material.attenuationDistance = attenuationDistance;
	material.attenuationColor = attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		material.transmission *= texture2D( transmissionMap, vTransmissionMapUv ).r;
	#endif
	#ifdef USE_THICKNESSMAP
		material.thickness *= texture2D( thicknessMap, vThicknessMapUv ).g;
	#endif
	vec3 pos = vWorldPosition;
	vec3 v = normalize( cameraPosition - pos );
	vec3 n = inverseTransformDirection( normal, viewMatrix );
	vec4 transmitted = getIBLVolumeRefraction(
		n, v, material.roughness, material.diffuseColor, material.specularColor, material.specularF90,
		pos, modelMatrix, viewMatrix, projectionMatrix, material.ior, material.thickness,
		material.attenuationColor, material.attenuationDistance );
	material.transmissionAlpha = mix( material.transmissionAlpha, transmitted.a, material.transmission );
	totalDiffuse = mix( totalDiffuse, transmitted.rgb, material.transmission );
#endif`,fme=`#ifdef USE_TRANSMISSION
	uniform float transmission;
	uniform float thickness;
	uniform float attenuationDistance;
	uniform vec3 attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		uniform sampler2D transmissionMap;
	#endif
	#ifdef USE_THICKNESSMAP
		uniform sampler2D thicknessMap;
	#endif
	uniform vec2 transmissionSamplerSize;
	uniform sampler2D transmissionSamplerMap;
	uniform mat4 modelMatrix;
	uniform mat4 projectionMatrix;
	varying vec3 vWorldPosition;
	float w0( float a ) {
		return ( 1.0 / 6.0 ) * ( a * ( a * ( - a + 3.0 ) - 3.0 ) + 1.0 );
	}
	float w1( float a ) {
		return ( 1.0 / 6.0 ) * ( a *  a * ( 3.0 * a - 6.0 ) + 4.0 );
	}
	float w2( float a ){
		return ( 1.0 / 6.0 ) * ( a * ( a * ( - 3.0 * a + 3.0 ) + 3.0 ) + 1.0 );
	}
	float w3( float a ) {
		return ( 1.0 / 6.0 ) * ( a * a * a );
	}
	float g0( float a ) {
		return w0( a ) + w1( a );
	}
	float g1( float a ) {
		return w2( a ) + w3( a );
	}
	float h0( float a ) {
		return - 1.0 + w1( a ) / ( w0( a ) + w1( a ) );
	}
	float h1( float a ) {
		return 1.0 + w3( a ) / ( w2( a ) + w3( a ) );
	}
	vec4 bicubic( sampler2D tex, vec2 uv, vec4 texelSize, float lod ) {
		uv = uv * texelSize.zw + 0.5;
		vec2 iuv = floor( uv );
		vec2 fuv = fract( uv );
		float g0x = g0( fuv.x );
		float g1x = g1( fuv.x );
		float h0x = h0( fuv.x );
		float h1x = h1( fuv.x );
		float h0y = h0( fuv.y );
		float h1y = h1( fuv.y );
		vec2 p0 = ( vec2( iuv.x + h0x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;
		vec2 p1 = ( vec2( iuv.x + h1x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;
		vec2 p2 = ( vec2( iuv.x + h0x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;
		vec2 p3 = ( vec2( iuv.x + h1x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;
		return g0( fuv.y ) * ( g0x * textureLod( tex, p0, lod ) + g1x * textureLod( tex, p1, lod ) ) +
			g1( fuv.y ) * ( g0x * textureLod( tex, p2, lod ) + g1x * textureLod( tex, p3, lod ) );
	}
	vec4 textureBicubic( sampler2D sampler, vec2 uv, float lod ) {
		vec2 fLodSize = vec2( textureSize( sampler, int( lod ) ) );
		vec2 cLodSize = vec2( textureSize( sampler, int( lod + 1.0 ) ) );
		vec2 fLodSizeInv = 1.0 / fLodSize;
		vec2 cLodSizeInv = 1.0 / cLodSize;
		vec4 fSample = bicubic( sampler, uv, vec4( fLodSizeInv, fLodSize ), floor( lod ) );
		vec4 cSample = bicubic( sampler, uv, vec4( cLodSizeInv, cLodSize ), ceil( lod ) );
		return mix( fSample, cSample, fract( lod ) );
	}
	vec3 getVolumeTransmissionRay( const in vec3 n, const in vec3 v, const in float thickness, const in float ior, const in mat4 modelMatrix ) {
		vec3 refractionVector = refract( - v, normalize( n ), 1.0 / ior );
		vec3 modelScale;
		modelScale.x = length( vec3( modelMatrix[ 0 ].xyz ) );
		modelScale.y = length( vec3( modelMatrix[ 1 ].xyz ) );
		modelScale.z = length( vec3( modelMatrix[ 2 ].xyz ) );
		return normalize( refractionVector ) * thickness * modelScale;
	}
	float applyIorToRoughness( const in float roughness, const in float ior ) {
		return roughness * clamp( ior * 2.0 - 2.0, 0.0, 1.0 );
	}
	vec4 getTransmissionSample( const in vec2 fragCoord, const in float roughness, const in float ior ) {
		float lod = log2( transmissionSamplerSize.x ) * applyIorToRoughness( roughness, ior );
		return textureBicubic( transmissionSamplerMap, fragCoord.xy, lod );
	}
	vec3 volumeAttenuation( const in float transmissionDistance, const in vec3 attenuationColor, const in float attenuationDistance ) {
		if ( isinf( attenuationDistance ) ) {
			return vec3( 1.0 );
		} else {
			vec3 attenuationCoefficient = -log( attenuationColor ) / attenuationDistance;
			vec3 transmittance = exp( - attenuationCoefficient * transmissionDistance );			return transmittance;
		}
	}
	vec4 getIBLVolumeRefraction( const in vec3 n, const in vec3 v, const in float roughness, const in vec3 diffuseColor,
		const in vec3 specularColor, const in float specularF90, const in vec3 position, const in mat4 modelMatrix,
		const in mat4 viewMatrix, const in mat4 projMatrix, const in float ior, const in float thickness,
		const in vec3 attenuationColor, const in float attenuationDistance ) {
		vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, ior, modelMatrix );
		vec3 refractedRayExit = position + transmissionRay;
		vec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );
		vec2 refractionCoords = ndcPos.xy / ndcPos.w;
		refractionCoords += 1.0;
		refractionCoords /= 2.0;
		vec4 transmittedLight = getTransmissionSample( refractionCoords, roughness, ior );
		vec3 transmittance = diffuseColor * volumeAttenuation( length( transmissionRay ), attenuationColor, attenuationDistance );
		vec3 attenuatedColor = transmittance * transmittedLight.rgb;
		vec3 F = EnvironmentBRDF( n, v, specularColor, specularF90, roughness );
		float transmittanceFactor = ( transmittance.r + transmittance.g + transmittance.b ) / 3.0;
		return vec4( ( 1.0 - F ) * attenuatedColor, 1.0 - ( 1.0 - transmittedLight.a ) * transmittanceFactor );
	}
#endif`,hme=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	varying vec2 vUv;
#endif
#ifdef USE_MAP
	varying vec2 vMapUv;
#endif
#ifdef USE_ALPHAMAP
	varying vec2 vAlphaMapUv;
#endif
#ifdef USE_LIGHTMAP
	varying vec2 vLightMapUv;
#endif
#ifdef USE_AOMAP
	varying vec2 vAoMapUv;
#endif
#ifdef USE_BUMPMAP
	varying vec2 vBumpMapUv;
#endif
#ifdef USE_NORMALMAP
	varying vec2 vNormalMapUv;
#endif
#ifdef USE_EMISSIVEMAP
	varying vec2 vEmissiveMapUv;
#endif
#ifdef USE_METALNESSMAP
	varying vec2 vMetalnessMapUv;
#endif
#ifdef USE_ROUGHNESSMAP
	varying vec2 vRoughnessMapUv;
#endif
#ifdef USE_ANISOTROPYMAP
	varying vec2 vAnisotropyMapUv;
#endif
#ifdef USE_CLEARCOATMAP
	varying vec2 vClearcoatMapUv;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	varying vec2 vClearcoatNormalMapUv;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	varying vec2 vClearcoatRoughnessMapUv;
#endif
#ifdef USE_IRIDESCENCEMAP
	varying vec2 vIridescenceMapUv;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	varying vec2 vIridescenceThicknessMapUv;
#endif
#ifdef USE_SHEEN_COLORMAP
	varying vec2 vSheenColorMapUv;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	varying vec2 vSheenRoughnessMapUv;
#endif
#ifdef USE_SPECULARMAP
	varying vec2 vSpecularMapUv;
#endif
#ifdef USE_SPECULAR_COLORMAP
	varying vec2 vSpecularColorMapUv;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	varying vec2 vSpecularIntensityMapUv;
#endif
#ifdef USE_TRANSMISSIONMAP
	uniform mat3 transmissionMapTransform;
	varying vec2 vTransmissionMapUv;
#endif
#ifdef USE_THICKNESSMAP
	uniform mat3 thicknessMapTransform;
	varying vec2 vThicknessMapUv;
#endif`,pme=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	varying vec2 vUv;
#endif
#ifdef USE_MAP
	uniform mat3 mapTransform;
	varying vec2 vMapUv;
#endif
#ifdef USE_ALPHAMAP
	uniform mat3 alphaMapTransform;
	varying vec2 vAlphaMapUv;
#endif
#ifdef USE_LIGHTMAP
	uniform mat3 lightMapTransform;
	varying vec2 vLightMapUv;
#endif
#ifdef USE_AOMAP
	uniform mat3 aoMapTransform;
	varying vec2 vAoMapUv;
#endif
#ifdef USE_BUMPMAP
	uniform mat3 bumpMapTransform;
	varying vec2 vBumpMapUv;
#endif
#ifdef USE_NORMALMAP
	uniform mat3 normalMapTransform;
	varying vec2 vNormalMapUv;
#endif
#ifdef USE_DISPLACEMENTMAP
	uniform mat3 displacementMapTransform;
	varying vec2 vDisplacementMapUv;
#endif
#ifdef USE_EMISSIVEMAP
	uniform mat3 emissiveMapTransform;
	varying vec2 vEmissiveMapUv;
#endif
#ifdef USE_METALNESSMAP
	uniform mat3 metalnessMapTransform;
	varying vec2 vMetalnessMapUv;
#endif
#ifdef USE_ROUGHNESSMAP
	uniform mat3 roughnessMapTransform;
	varying vec2 vRoughnessMapUv;
#endif
#ifdef USE_ANISOTROPYMAP
	uniform mat3 anisotropyMapTransform;
	varying vec2 vAnisotropyMapUv;
#endif
#ifdef USE_CLEARCOATMAP
	uniform mat3 clearcoatMapTransform;
	varying vec2 vClearcoatMapUv;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform mat3 clearcoatNormalMapTransform;
	varying vec2 vClearcoatNormalMapUv;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform mat3 clearcoatRoughnessMapTransform;
	varying vec2 vClearcoatRoughnessMapUv;
#endif
#ifdef USE_SHEEN_COLORMAP
	uniform mat3 sheenColorMapTransform;
	varying vec2 vSheenColorMapUv;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	uniform mat3 sheenRoughnessMapTransform;
	varying vec2 vSheenRoughnessMapUv;
#endif
#ifdef USE_IRIDESCENCEMAP
	uniform mat3 iridescenceMapTransform;
	varying vec2 vIridescenceMapUv;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform mat3 iridescenceThicknessMapTransform;
	varying vec2 vIridescenceThicknessMapUv;
#endif
#ifdef USE_SPECULARMAP
	uniform mat3 specularMapTransform;
	varying vec2 vSpecularMapUv;
#endif
#ifdef USE_SPECULAR_COLORMAP
	uniform mat3 specularColorMapTransform;
	varying vec2 vSpecularColorMapUv;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	uniform mat3 specularIntensityMapTransform;
	varying vec2 vSpecularIntensityMapUv;
#endif
#ifdef USE_TRANSMISSIONMAP
	uniform mat3 transmissionMapTransform;
	varying vec2 vTransmissionMapUv;
#endif
#ifdef USE_THICKNESSMAP
	uniform mat3 thicknessMapTransform;
	varying vec2 vThicknessMapUv;
#endif`,mme=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	vUv = vec3( uv, 1 ).xy;
#endif
#ifdef USE_MAP
	vMapUv = ( mapTransform * vec3( MAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ALPHAMAP
	vAlphaMapUv = ( alphaMapTransform * vec3( ALPHAMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_LIGHTMAP
	vLightMapUv = ( lightMapTransform * vec3( LIGHTMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_AOMAP
	vAoMapUv = ( aoMapTransform * vec3( AOMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_BUMPMAP
	vBumpMapUv = ( bumpMapTransform * vec3( BUMPMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_NORMALMAP
	vNormalMapUv = ( normalMapTransform * vec3( NORMALMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_DISPLACEMENTMAP
	vDisplacementMapUv = ( displacementMapTransform * vec3( DISPLACEMENTMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_EMISSIVEMAP
	vEmissiveMapUv = ( emissiveMapTransform * vec3( EMISSIVEMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_METALNESSMAP
	vMetalnessMapUv = ( metalnessMapTransform * vec3( METALNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ROUGHNESSMAP
	vRoughnessMapUv = ( roughnessMapTransform * vec3( ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ANISOTROPYMAP
	vAnisotropyMapUv = ( anisotropyMapTransform * vec3( ANISOTROPYMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOATMAP
	vClearcoatMapUv = ( clearcoatMapTransform * vec3( CLEARCOATMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	vClearcoatNormalMapUv = ( clearcoatNormalMapTransform * vec3( CLEARCOAT_NORMALMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	vClearcoatRoughnessMapUv = ( clearcoatRoughnessMapTransform * vec3( CLEARCOAT_ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_IRIDESCENCEMAP
	vIridescenceMapUv = ( iridescenceMapTransform * vec3( IRIDESCENCEMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	vIridescenceThicknessMapUv = ( iridescenceThicknessMapTransform * vec3( IRIDESCENCE_THICKNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SHEEN_COLORMAP
	vSheenColorMapUv = ( sheenColorMapTransform * vec3( SHEEN_COLORMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	vSheenRoughnessMapUv = ( sheenRoughnessMapTransform * vec3( SHEEN_ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULARMAP
	vSpecularMapUv = ( specularMapTransform * vec3( SPECULARMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULAR_COLORMAP
	vSpecularColorMapUv = ( specularColorMapTransform * vec3( SPECULAR_COLORMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	vSpecularIntensityMapUv = ( specularIntensityMapTransform * vec3( SPECULAR_INTENSITYMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_TRANSMISSIONMAP
	vTransmissionMapUv = ( transmissionMapTransform * vec3( TRANSMISSIONMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_THICKNESSMAP
	vThicknessMapUv = ( thicknessMapTransform * vec3( THICKNESSMAP_UV, 1 ) ).xy;
#endif`,gme=`#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP ) || defined ( USE_TRANSMISSION ) || NUM_SPOT_LIGHT_COORDS > 0
	vec4 worldPosition = vec4( transformed, 1.0 );
	#ifdef USE_BATCHING
		worldPosition = batchingMatrix * worldPosition;
	#endif
	#ifdef USE_INSTANCING
		worldPosition = instanceMatrix * worldPosition;
	#endif
	worldPosition = modelMatrix * worldPosition;
#endif`;const vme=`varying vec2 vUv;
uniform mat3 uvTransform;
void main() {
	vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	gl_Position = vec4( position.xy, 1.0, 1.0 );
}`,yme=`uniform sampler2D t2D;
uniform float backgroundIntensity;
varying vec2 vUv;
void main() {
	vec4 texColor = texture2D( t2D, vUv );
	#ifdef DECODE_VIDEO_TEXTURE
		texColor = vec4( mix( pow( texColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), texColor.rgb * 0.0773993808, vec3( lessThanEqual( texColor.rgb, vec3( 0.04045 ) ) ) ), texColor.w );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,xme=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,_me=`#ifdef ENVMAP_TYPE_CUBE
	uniform samplerCube envMap;
#elif defined( ENVMAP_TYPE_CUBE_UV )
	uniform sampler2D envMap;
#endif
uniform float flipEnvMap;
uniform float backgroundBlurriness;
uniform float backgroundIntensity;
varying vec3 vWorldDirection;
#include <cube_uv_reflection_fragment>
void main() {
	#ifdef ENVMAP_TYPE_CUBE
		vec4 texColor = textureCube( envMap, vec3( flipEnvMap * vWorldDirection.x, vWorldDirection.yz ) );
	#elif defined( ENVMAP_TYPE_CUBE_UV )
		vec4 texColor = textureCubeUV( envMap, vWorldDirection, backgroundBlurriness );
	#else
		vec4 texColor = vec4( 0.0, 0.0, 0.0, 1.0 );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,bme=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,Sme=`uniform samplerCube tCube;
uniform float tFlip;
uniform float opacity;
varying vec3 vWorldDirection;
void main() {
	vec4 texColor = textureCube( tCube, vec3( tFlip * vWorldDirection.x, vWorldDirection.yz ) );
	gl_FragColor = texColor;
	gl_FragColor.a *= opacity;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,wme=`#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
varying vec2 vHighPrecisionZW;
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <skinbase_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vHighPrecisionZW = gl_Position.zw;
}`,Mme=`#if DEPTH_PACKING == 3200
	uniform float opacity;
#endif
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
varying vec2 vHighPrecisionZW;
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( 1.0 );
	#if DEPTH_PACKING == 3200
		diffuseColor.a = opacity;
	#endif
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <logdepthbuf_fragment>
	float fragCoordZ = 0.5 * vHighPrecisionZW[0] / vHighPrecisionZW[1] + 0.5;
	#if DEPTH_PACKING == 3200
		gl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );
	#elif DEPTH_PACKING == 3201
		gl_FragColor = packDepthToRGBA( fragCoordZ );
	#endif
}`,Eme=`#define DISTANCE
varying vec3 vWorldPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <skinbase_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <worldpos_vertex>
	#include <clipping_planes_vertex>
	vWorldPosition = worldPosition.xyz;
}`,Tme=`#define DISTANCE
uniform vec3 referencePosition;
uniform float nearDistance;
uniform float farDistance;
varying vec3 vWorldPosition;
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <clipping_planes_pars_fragment>
void main () {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( 1.0 );
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	float dist = length( vWorldPosition - referencePosition );
	dist = ( dist - nearDistance ) / ( farDistance - nearDistance );
	dist = saturate( dist );
	gl_FragColor = packDepthToRGBA( dist );
}`,Cme=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
}`,Rme=`uniform sampler2D tEquirect;
varying vec3 vWorldDirection;
#include <common>
void main() {
	vec3 direction = normalize( vWorldDirection );
	vec2 sampleUV = equirectUv( direction );
	gl_FragColor = texture2D( tEquirect, sampleUV );
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,Ame=`uniform float scale;
attribute float lineDistance;
varying float vLineDistance;
#include <common>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	vLineDistance = scale * lineDistance;
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,Pme=`uniform vec3 diffuse;
uniform float opacity;
uniform float dashSize;
uniform float totalSize;
varying float vLineDistance;
#include <common>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	if ( mod( vLineDistance, totalSize ) > dashSize ) {
		discard;
	}
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,kme=`#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#if defined ( USE_ENVMAP ) || defined ( USE_SKINNING )
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinbase_vertex>
		#include <skinnormal_vertex>
		#include <defaultnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <fog_vertex>
}`,Ime=`uniform vec3 diffuse;
uniform float opacity;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
#endif
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
		reflectedLight.indirectDiffuse += lightMapTexel.rgb * lightMapIntensity * RECIPROCAL_PI;
	#else
		reflectedLight.indirectDiffuse += vec3( 1.0 );
	#endif
	#include <aomap_fragment>
	reflectedLight.indirectDiffuse *= diffuseColor.rgb;
	vec3 outgoingLight = reflectedLight.indirectDiffuse;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,Lme=`#define LAMBERT
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,Dme=`#define LAMBERT
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_lambert_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_lambert_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,Ome=`#define MATCAP
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <displacementmap_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
	vViewPosition = - mvPosition.xyz;
}`,Nme=`#define MATCAP
uniform vec3 diffuse;
uniform float opacity;
uniform sampler2D matcap;
varying vec3 vViewPosition;
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	vec3 viewDir = normalize( vViewPosition );
	vec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );
	vec3 y = cross( viewDir, x );
	vec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;
	#ifdef USE_MATCAP
		vec4 matcapColor = texture2D( matcap, uv );
	#else
		vec4 matcapColor = vec4( vec3( mix( 0.2, 0.8, uv.y ) ), 1.0 );
	#endif
	vec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,Fme=`#define NORMAL
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	varying vec3 vViewPosition;
#endif
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	vViewPosition = - mvPosition.xyz;
#endif
}`,zme=`#define NORMAL
uniform float opacity;
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	varying vec3 vViewPosition;
#endif
#include <packing>
#include <uv_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	gl_FragColor = vec4( packNormalToRGB( normal ), opacity );
	#ifdef OPAQUE
		gl_FragColor.a = 1.0;
	#endif
}`,Ume=`#define PHONG
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,Bme=`#define PHONG
uniform vec3 diffuse;
uniform vec3 emissive;
uniform vec3 specular;
uniform float shininess;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_phong_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_phong_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,Hme=`#define STANDARD
varying vec3 vViewPosition;
#ifdef USE_TRANSMISSION
	varying vec3 vWorldPosition;
#endif
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
#ifdef USE_TRANSMISSION
	vWorldPosition = worldPosition.xyz;
#endif
}`,Vme=`#define STANDARD
#ifdef PHYSICAL
	#define IOR
	#define USE_SPECULAR
#endif
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float roughness;
uniform float metalness;
uniform float opacity;
#ifdef IOR
	uniform float ior;
#endif
#ifdef USE_SPECULAR
	uniform float specularIntensity;
	uniform vec3 specularColor;
	#ifdef USE_SPECULAR_COLORMAP
		uniform sampler2D specularColorMap;
	#endif
	#ifdef USE_SPECULAR_INTENSITYMAP
		uniform sampler2D specularIntensityMap;
	#endif
#endif
#ifdef USE_CLEARCOAT
	uniform float clearcoat;
	uniform float clearcoatRoughness;
#endif
#ifdef USE_IRIDESCENCE
	uniform float iridescence;
	uniform float iridescenceIOR;
	uniform float iridescenceThicknessMinimum;
	uniform float iridescenceThicknessMaximum;
#endif
#ifdef USE_SHEEN
	uniform vec3 sheenColor;
	uniform float sheenRoughness;
	#ifdef USE_SHEEN_COLORMAP
		uniform sampler2D sheenColorMap;
	#endif
	#ifdef USE_SHEEN_ROUGHNESSMAP
		uniform sampler2D sheenRoughnessMap;
	#endif
#endif
#ifdef USE_ANISOTROPY
	uniform vec2 anisotropyVector;
	#ifdef USE_ANISOTROPYMAP
		uniform sampler2D anisotropyMap;
	#endif
#endif
varying vec3 vViewPosition;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <iridescence_fragment>
#include <cube_uv_reflection_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_physical_pars_fragment>
#include <fog_pars_fragment>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_physical_pars_fragment>
#include <transmission_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <clearcoat_pars_fragment>
#include <iridescence_pars_fragment>
#include <roughnessmap_pars_fragment>
#include <metalnessmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <roughnessmap_fragment>
	#include <metalnessmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <clearcoat_normal_fragment_begin>
	#include <clearcoat_normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_physical_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 totalDiffuse = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse;
	vec3 totalSpecular = reflectedLight.directSpecular + reflectedLight.indirectSpecular;
	#include <transmission_fragment>
	vec3 outgoingLight = totalDiffuse + totalSpecular + totalEmissiveRadiance;
	#ifdef USE_SHEEN
		float sheenEnergyComp = 1.0 - 0.157 * max3( material.sheenColor );
		outgoingLight = outgoingLight * sheenEnergyComp + sheenSpecularDirect + sheenSpecularIndirect;
	#endif
	#ifdef USE_CLEARCOAT
		float dotNVcc = saturate( dot( geometryClearcoatNormal, geometryViewDir ) );
		vec3 Fcc = F_Schlick( material.clearcoatF0, material.clearcoatF90, dotNVcc );
		outgoingLight = outgoingLight * ( 1.0 - material.clearcoat * Fcc ) + ( clearcoatSpecularDirect + clearcoatSpecularIndirect ) * material.clearcoat;
	#endif
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,jme=`#define TOON
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,Wme=`#define TOON
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <gradientmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_toon_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_toon_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,Gme=`uniform float size;
uniform float scale;
#include <common>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
#ifdef USE_POINTS_UV
	varying vec2 vUv;
	uniform mat3 uvTransform;
#endif
void main() {
	#ifdef USE_POINTS_UV
		vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	#endif
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	gl_PointSize = size;
	#ifdef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );
	#endif
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <fog_vertex>
}`,$me=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <color_pars_fragment>
#include <map_particle_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_particle_fragment>
	#include <color_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,Xme=`#include <common>
#include <batching_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <shadowmap_pars_vertex>
void main() {
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,Yme=`uniform vec3 color;
uniform float opacity;
#include <common>
#include <packing>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <logdepthbuf_pars_fragment>
#include <shadowmap_pars_fragment>
#include <shadowmask_pars_fragment>
void main() {
	#include <logdepthbuf_fragment>
	gl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
}`,qme=`uniform float rotation;
uniform vec2 center;
#include <common>
#include <uv_pars_vertex>
#include <fog_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	vec4 mvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );
	vec2 scale;
	scale.x = length( vec3( modelMatrix[ 0 ].x, modelMatrix[ 0 ].y, modelMatrix[ 0 ].z ) );
	scale.y = length( vec3( modelMatrix[ 1 ].x, modelMatrix[ 1 ].y, modelMatrix[ 1 ].z ) );
	#ifndef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) scale *= - mvPosition.z;
	#endif
	vec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;
	vec2 rotatedPosition;
	rotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;
	rotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;
	mvPosition.xy += rotatedPosition;
	gl_Position = projectionMatrix * mvPosition;
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,Kme=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
}`,Yt={alphahash_fragment:yhe,alphahash_pars_fragment:xhe,alphamap_fragment:_he,alphamap_pars_fragment:bhe,alphatest_fragment:She,alphatest_pars_fragment:whe,aomap_fragment:Mhe,aomap_pars_fragment:Ehe,batching_pars_vertex:The,batching_vertex:Che,begin_vertex:Rhe,beginnormal_vertex:Ahe,bsdfs:Phe,iridescence_fragment:khe,bumpmap_pars_fragment:Ihe,clipping_planes_fragment:Lhe,clipping_planes_pars_fragment:Dhe,clipping_planes_pars_vertex:Ohe,clipping_planes_vertex:Nhe,color_fragment:Fhe,color_pars_fragment:zhe,color_pars_vertex:Uhe,color_vertex:Bhe,common:Hhe,cube_uv_reflection_fragment:Vhe,defaultnormal_vertex:jhe,displacementmap_pars_vertex:Whe,displacementmap_vertex:Ghe,emissivemap_fragment:$he,emissivemap_pars_fragment:Xhe,colorspace_fragment:Yhe,colorspace_pars_fragment:qhe,envmap_fragment:Khe,envmap_common_pars_fragment:Qhe,envmap_pars_fragment:Zhe,envmap_pars_vertex:Jhe,envmap_physical_pars_fragment:dpe,envmap_vertex:epe,fog_vertex:tpe,fog_pars_vertex:npe,fog_fragment:ipe,fog_pars_fragment:rpe,gradientmap_pars_fragment:spe,lightmap_fragment:ope,lightmap_pars_fragment:ape,lights_lambert_fragment:lpe,lights_lambert_pars_fragment:cpe,lights_pars_begin:upe,lights_toon_fragment:fpe,lights_toon_pars_fragment:hpe,lights_phong_fragment:ppe,lights_phong_pars_fragment:mpe,lights_physical_fragment:gpe,lights_physical_pars_fragment:vpe,lights_fragment_begin:ype,lights_fragment_maps:xpe,lights_fragment_end:_pe,logdepthbuf_fragment:bpe,logdepthbuf_pars_fragment:Spe,logdepthbuf_pars_vertex:wpe,logdepthbuf_vertex:Mpe,map_fragment:Epe,map_pars_fragment:Tpe,map_particle_fragment:Cpe,map_particle_pars_fragment:Rpe,metalnessmap_fragment:Ape,metalnessmap_pars_fragment:Ppe,morphcolor_vertex:kpe,morphnormal_vertex:Ipe,morphtarget_pars_vertex:Lpe,morphtarget_vertex:Dpe,normal_fragment_begin:Ope,normal_fragment_maps:Npe,normal_pars_fragment:Fpe,normal_pars_vertex:zpe,normal_vertex:Upe,normalmap_pars_fragment:Bpe,clearcoat_normal_fragment_begin:Hpe,clearcoat_normal_fragment_maps:Vpe,clearcoat_pars_fragment:jpe,iridescence_pars_fragment:Wpe,opaque_fragment:Gpe,packing:$pe,premultiplied_alpha_fragment:Xpe,project_vertex:Ype,dithering_fragment:qpe,dithering_pars_fragment:Kpe,roughnessmap_fragment:Qpe,roughnessmap_pars_fragment:Zpe,shadowmap_pars_fragment:Jpe,shadowmap_pars_vertex:eme,shadowmap_vertex:tme,shadowmask_pars_fragment:nme,skinbase_vertex:ime,skinning_pars_vertex:rme,skinning_vertex:sme,skinnormal_vertex:ome,specularmap_fragment:ame,specularmap_pars_fragment:lme,tonemapping_fragment:cme,tonemapping_pars_fragment:ume,transmission_fragment:dme,transmission_pars_fragment:fme,uv_pars_fragment:hme,uv_pars_vertex:pme,uv_vertex:mme,worldpos_vertex:gme,background_vert:vme,background_frag:yme,backgroundCube_vert:xme,backgroundCube_frag:_me,cube_vert:bme,cube_frag:Sme,depth_vert:wme,depth_frag:Mme,distanceRGBA_vert:Eme,distanceRGBA_frag:Tme,equirect_vert:Cme,equirect_frag:Rme,linedashed_vert:Ame,linedashed_frag:Pme,meshbasic_vert:kme,meshbasic_frag:Ime,meshlambert_vert:Lme,meshlambert_frag:Dme,meshmatcap_vert:Ome,meshmatcap_frag:Nme,meshnormal_vert:Fme,meshnormal_frag:zme,meshphong_vert:Ume,meshphong_frag:Bme,meshphysical_vert:Hme,meshphysical_frag:Vme,meshtoon_vert:jme,meshtoon_frag:Wme,points_vert:Gme,points_frag:$me,shadow_vert:Xme,shadow_frag:Yme,sprite_vert:qme,sprite_frag:Kme},et={common:{diffuse:{value:new Be(16777215)},opacity:{value:1},map:{value:null},mapTransform:{value:new Jt},alphaMap:{value:null},alphaMapTransform:{value:new Jt},alphaTest:{value:0}},specularmap:{specularMap:{value:null},specularMapTransform:{value:new Jt}},envmap:{envMap:{value:null},flipEnvMap:{value:-1},reflectivity:{value:1},ior:{value:1.5},refractionRatio:{value:.98}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1},aoMapTransform:{value:new Jt}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1},lightMapTransform:{value:new Jt}},bumpmap:{bumpMap:{value:null},bumpMapTransform:{value:new Jt},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalMapTransform:{value:new Jt},normalScale:{value:new Ae(1,1)}},displacementmap:{displacementMap:{value:null},displacementMapTransform:{value:new Jt},displacementScale:{value:1},displacementBias:{value:0}},emissivemap:{emissiveMap:{value:null},emissiveMapTransform:{value:new Jt}},metalnessmap:{metalnessMap:{value:null},metalnessMapTransform:{value:new Jt}},roughnessmap:{roughnessMap:{value:null},roughnessMapTransform:{value:new Jt}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new Be(16777215)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{}}},directionalLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{}}},spotLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},spotLightMap:{value:[]},spotShadowMap:{value:[]},spotLightMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{}}},pointLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}},ltc_1:{value:null},ltc_2:{value:null}},points:{diffuse:{value:new Be(16777215)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},alphaMap:{value:null},alphaMapTransform:{value:new Jt},alphaTest:{value:0},uvTransform:{value:new Jt}},sprite:{diffuse:{value:new Be(16777215)},opacity:{value:1},center:{value:new Ae(.5,.5)},rotation:{value:0},map:{value:null},mapTransform:{value:new Jt},alphaMap:{value:null},alphaMapTransform:{value:new Jt},alphaTest:{value:0}}},ea={basic:{uniforms:Jr([et.common,et.specularmap,et.envmap,et.aomap,et.lightmap,et.fog]),vertexShader:Yt.meshbasic_vert,fragmentShader:Yt.meshbasic_frag},lambert:{uniforms:Jr([et.common,et.specularmap,et.envmap,et.aomap,et.lightmap,et.emissivemap,et.bumpmap,et.normalmap,et.displacementmap,et.fog,et.lights,{emissive:{value:new Be(0)}}]),vertexShader:Yt.meshlambert_vert,fragmentShader:Yt.meshlambert_frag},phong:{uniforms:Jr([et.common,et.specularmap,et.envmap,et.aomap,et.lightmap,et.emissivemap,et.bumpmap,et.normalmap,et.displacementmap,et.fog,et.lights,{emissive:{value:new Be(0)},specular:{value:new Be(1118481)},shininess:{value:30}}]),vertexShader:Yt.meshphong_vert,fragmentShader:Yt.meshphong_frag},standard:{uniforms:Jr([et.common,et.envmap,et.aomap,et.lightmap,et.emissivemap,et.bumpmap,et.normalmap,et.displacementmap,et.roughnessmap,et.metalnessmap,et.fog,et.lights,{emissive:{value:new Be(0)},roughness:{value:1},metalness:{value:0},envMapIntensity:{value:1}}]),vertexShader:Yt.meshphysical_vert,fragmentShader:Yt.meshphysical_frag},toon:{uniforms:Jr([et.common,et.aomap,et.lightmap,et.emissivemap,et.bumpmap,et.normalmap,et.displacementmap,et.gradientmap,et.fog,et.lights,{emissive:{value:new Be(0)}}]),vertexShader:Yt.meshtoon_vert,fragmentShader:Yt.meshtoon_frag},matcap:{uniforms:Jr([et.common,et.bumpmap,et.normalmap,et.displacementmap,et.fog,{matcap:{value:null}}]),vertexShader:Yt.meshmatcap_vert,fragmentShader:Yt.meshmatcap_frag},points:{uniforms:Jr([et.points,et.fog]),vertexShader:Yt.points_vert,fragmentShader:Yt.points_frag},dashed:{uniforms:Jr([et.common,et.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:Yt.linedashed_vert,fragmentShader:Yt.linedashed_frag},depth:{uniforms:Jr([et.common,et.displacementmap]),vertexShader:Yt.depth_vert,fragmentShader:Yt.depth_frag},normal:{uniforms:Jr([et.common,et.bumpmap,et.normalmap,et.displacementmap,{opacity:{value:1}}]),vertexShader:Yt.meshnormal_vert,fragmentShader:Yt.meshnormal_frag},sprite:{uniforms:Jr([et.sprite,et.fog]),vertexShader:Yt.sprite_vert,fragmentShader:Yt.sprite_frag},background:{uniforms:{uvTransform:{value:new Jt},t2D:{value:null},backgroundIntensity:{value:1}},vertexShader:Yt.background_vert,fragmentShader:Yt.background_frag},backgroundCube:{uniforms:{envMap:{value:null},flipEnvMap:{value:-1},backgroundBlurriness:{value:0},backgroundIntensity:{value:1}},vertexShader:Yt.backgroundCube_vert,fragmentShader:Yt.backgroundCube_frag},cube:{uniforms:{tCube:{value:null},tFlip:{value:-1},opacity:{value:1}},vertexShader:Yt.cube_vert,fragmentShader:Yt.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:Yt.equirect_vert,fragmentShader:Yt.equirect_frag},distanceRGBA:{uniforms:Jr([et.common,et.displacementmap,{referencePosition:{value:new W},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:Yt.distanceRGBA_vert,fragmentShader:Yt.distanceRGBA_frag},shadow:{uniforms:Jr([et.lights,et.fog,{color:{value:new Be(0)},opacity:{value:1}}]),vertexShader:Yt.shadow_vert,fragmentShader:Yt.shadow_frag}};ea.physical={uniforms:Jr([ea.standard.uniforms,{clearcoat:{value:0},clearcoatMap:{value:null},clearcoatMapTransform:{value:new Jt},clearcoatNormalMap:{value:null},clearcoatNormalMapTransform:{value:new Jt},clearcoatNormalScale:{value:new Ae(1,1)},clearcoatRoughness:{value:0},clearcoatRoughnessMap:{value:null},clearcoatRoughnessMapTransform:{value:new Jt},iridescence:{value:0},iridescenceMap:{value:null},iridescenceMapTransform:{value:new Jt},iridescenceIOR:{value:1.3},iridescenceThicknessMinimum:{value:100},iridescenceThicknessMaximum:{value:400},iridescenceThicknessMap:{value:null},iridescenceThicknessMapTransform:{value:new Jt},sheen:{value:0},sheenColor:{value:new Be(0)},sheenColorMap:{value:null},sheenColorMapTransform:{value:new Jt},sheenRoughness:{value:1},sheenRoughnessMap:{value:null},sheenRoughnessMapTransform:{value:new Jt},transmission:{value:0},transmissionMap:{value:null},transmissionMapTransform:{value:new Jt},transmissionSamplerSize:{value:new Ae},transmissionSamplerMap:{value:null},thickness:{value:0},thicknessMap:{value:null},thicknessMapTransform:{value:new Jt},attenuationDistance:{value:0},attenuationColor:{value:new Be(0)},specularColor:{value:new Be(1,1,1)},specularColorMap:{value:null},specularColorMapTransform:{value:new Jt},specularIntensity:{value:1},specularIntensityMap:{value:null},specularIntensityMapTransform:{value:new Jt},anisotropyVector:{value:new Ae},anisotropyMap:{value:null},anisotropyMapTransform:{value:new Jt}}]),vertexShader:Yt.meshphysical_vert,fragmentShader:Yt.meshphysical_frag};const __={r:0,b:0,g:0};function Qme(t,e,n,i,r,s,o){const a=new Be(0);let l=s===!0?0:1,c,u,d=null,f=0,m=null;function g(x,v){let _=!1,b=v.isScene===!0?v.background:null;b&&b.isTexture&&(b=(v.backgroundBlurriness>0?n:e).get(b)),b===null?y(a,l):b&&b.isColor&&(y(b,1),_=!0);const w=t.xr.getEnvironmentBlendMode();w==="additive"?i.buffers.color.setClear(0,0,0,1,o):w==="alpha-blend"&&i.buffers.color.setClear(0,0,0,0,o),(t.autoClear||_)&&t.clear(t.autoClearColor,t.autoClearDepth,t.autoClearStencil),b&&(b.isCubeTexture||b.mapping===om)?(u===void 0&&(u=new Hi(new mf(1,1,1),new er({name:"BackgroundCubeMaterial",uniforms:Hp(ea.backgroundCube.uniforms),vertexShader:ea.backgroundCube.vertexShader,fragmentShader:ea.backgroundCube.fragmentShader,side:Zi,depthTest:!1,depthWrite:!1,fog:!1})),u.geometry.deleteAttribute("normal"),u.geometry.deleteAttribute("uv"),u.onBeforeRender=function(C,T,R){this.matrixWorld.copyPosition(R.matrixWorld)},Object.defineProperty(u.material,"envMap",{get:function(){return this.uniforms.envMap.value}}),r.update(u)),u.material.uniforms.envMap.value=b,u.material.uniforms.flipEnvMap.value=b.isCubeTexture&&b.isRenderTargetTexture===!1?-1:1,u.material.uniforms.backgroundBlurriness.value=v.backgroundBlurriness,u.material.uniforms.backgroundIntensity.value=v.backgroundIntensity,u.material.toneMapped=An.getTransfer(b.colorSpace)!==jn,(d!==b||f!==b.version||m!==t.toneMapping)&&(u.material.needsUpdate=!0,d=b,f=b.version,m=t.toneMapping),u.layers.enableAll(),x.unshift(u,u.geometry,u.material,0,0,null)):b&&b.isTexture&&(c===void 0&&(c=new Hi(new ay(2,2),new er({name:"BackgroundMaterial",uniforms:Hp(ea.background.uniforms),vertexShader:ea.background.vertexShader,fragmentShader:ea.background.fragmentShader,side:$a,depthTest:!1,depthWrite:!1,fog:!1})),c.geometry.deleteAttribute("normal"),Object.defineProperty(c.material,"map",{get:function(){return this.uniforms.t2D.value}}),r.update(c)),c.material.uniforms.t2D.value=b,c.material.uniforms.backgroundIntensity.value=v.backgroundIntensity,c.material.toneMapped=An.getTransfer(b.colorSpace)!==jn,b.matrixAutoUpdate===!0&&b.updateMatrix(),c.material.uniforms.uvTransform.value.copy(b.matrix),(d!==b||f!==b.version||m!==t.toneMapping)&&(c.material.needsUpdate=!0,d=b,f=b.version,m=t.toneMapping),c.layers.enableAll(),x.unshift(c,c.geometry,c.material,0,0,null))}function y(x,v){x.getRGB(__,g6(t)),i.buffers.color.setClear(__.r,__.g,__.b,v,o)}return{getClearColor:function(){return a},setClearColor:function(x,v=1){a.set(x),l=v,y(a,l)},getClearAlpha:function(){return l},setClearAlpha:function(x){l=x,y(a,l)},render:g}}function Zme(t,e,n,i){const r=t.getParameter(t.MAX_VERTEX_ATTRIBS),s=i.isWebGL2?null:e.get("OES_vertex_array_object"),o=i.isWebGL2||s!==null,a={},l=x(null);let c=l,u=!1;function d(U,G,Q,J,N){let B=!1;if(o){const j=y(J,Q,G);c!==j&&(c=j,m(c.object)),B=v(U,J,Q,N),B&&_(U,J,Q,N)}else{const j=G.wireframe===!0;(c.geometry!==J.id||c.program!==Q.id||c.wireframe!==j)&&(c.geometry=J.id,c.program=Q.id,c.wireframe=j,B=!0)}N!==null&&n.update(N,t.ELEMENT_ARRAY_BUFFER),(B||u)&&(u=!1,I(U,G,Q,J),N!==null&&t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,n.get(N).buffer))}function f(){return i.isWebGL2?t.createVertexArray():s.createVertexArrayOES()}function m(U){return i.isWebGL2?t.bindVertexArray(U):s.bindVertexArrayOES(U)}function g(U){return i.isWebGL2?t.deleteVertexArray(U):s.deleteVertexArrayOES(U)}function y(U,G,Q){const J=Q.wireframe===!0;let N=a[U.id];N===void 0&&(N={},a[U.id]=N);let B=N[G.id];B===void 0&&(B={},N[G.id]=B);let j=B[J];return j===void 0&&(j=x(f()),B[J]=j),j}function x(U){const G=[],Q=[],J=[];for(let N=0;N<r;N++)G[N]=0,Q[N]=0,J[N]=0;return{geometry:null,program:null,wireframe:!1,newAttributes:G,enabledAttributes:Q,attributeDivisors:J,object:U,attributes:{},index:null}}function v(U,G,Q,J){const N=c.attributes,B=G.attributes;let j=0;const te=Q.getAttributes();for(const se in te)if(te[se].location>=0){const ae=N[se];let xe=B[se];if(xe===void 0&&(se==="instanceMatrix"&&U.instanceMatrix&&(xe=U.instanceMatrix),se==="instanceColor"&&U.instanceColor&&(xe=U.instanceColor)),ae===void 0||ae.attribute!==xe||xe&&ae.data!==xe.data)return!0;j++}return c.attributesNum!==j||c.index!==J}function _(U,G,Q,J){const N={},B=G.attributes;let j=0;const te=Q.getAttributes();for(const se in te)if(te[se].location>=0){let ae=B[se];ae===void 0&&(se==="instanceMatrix"&&U.instanceMatrix&&(ae=U.instanceMatrix),se==="instanceColor"&&U.instanceColor&&(ae=U.instanceColor));const xe={};xe.attribute=ae,ae&&ae.data&&(xe.data=ae.data),N[se]=xe,j++}c.attributes=N,c.attributesNum=j,c.index=J}function b(){const U=c.newAttributes;for(let G=0,Q=U.length;G<Q;G++)U[G]=0}function w(U){C(U,0)}function C(U,G){const Q=c.newAttributes,J=c.enabledAttributes,N=c.attributeDivisors;Q[U]=1,J[U]===0&&(t.enableVertexAttribArray(U),J[U]=1),N[U]!==G&&((i.isWebGL2?t:e.get("ANGLE_instanced_arrays"))[i.isWebGL2?"vertexAttribDivisor":"vertexAttribDivisorANGLE"](U,G),N[U]=G)}function T(){const U=c.newAttributes,G=c.enabledAttributes;for(let Q=0,J=G.length;Q<J;Q++)G[Q]!==U[Q]&&(t.disableVertexAttribArray(Q),G[Q]=0)}function R(U,G,Q,J,N,B,j){j===!0?t.vertexAttribIPointer(U,G,Q,N,B):t.vertexAttribPointer(U,G,Q,J,N,B)}function I(U,G,Q,J){if(i.isWebGL2===!1&&(U.isInstancedMesh||J.isInstancedBufferGeometry)&&e.get("ANGLE_instanced_arrays")===null)return;b();const N=J.attributes,B=Q.getAttributes(),j=G.defaultAttributeValues;for(const te in B){const se=B[te];if(se.location>=0){let ne=N[te];if(ne===void 0&&(te==="instanceMatrix"&&U.instanceMatrix&&(ne=U.instanceMatrix),te==="instanceColor"&&U.instanceColor&&(ne=U.instanceColor)),ne!==void 0){const ae=ne.normalized,xe=ne.itemSize,Ee=n.get(ne);if(Ee===void 0)continue;const Oe=Ee.buffer,ut=Ee.type,qe=Ee.bytesPerElement,Xe=i.isWebGL2===!0&&(ut===t.INT||ut===t.UNSIGNED_INT||ne.gpuType===Vk);if(ne.isInterleavedBufferAttribute){const Ie=ne.data,Z=Ie.stride,_e=ne.offset;if(Ie.isInstancedInterleavedBuffer){for(let de=0;de<se.locationSize;de++)C(se.location+de,Ie.meshPerAttribute);U.isInstancedMesh!==!0&&J._maxInstanceCount===void 0&&(J._maxInstanceCount=Ie.meshPerAttribute*Ie.count)}else for(let de=0;de<se.locationSize;de++)w(se.location+de);t.bindBuffer(t.ARRAY_BUFFER,Oe);for(let de=0;de<se.locationSize;de++)R(se.location+de,xe/se.locationSize,ut,ae,Z*qe,(_e+xe/se.locationSize*de)*qe,Xe)}else{if(ne.isInstancedBufferAttribute){for(let Ie=0;Ie<se.locationSize;Ie++)C(se.location+Ie,ne.meshPerAttribute);U.isInstancedMesh!==!0&&J._maxInstanceCount===void 0&&(J._maxInstanceCount=ne.meshPerAttribute*ne.count)}else for(let Ie=0;Ie<se.locationSize;Ie++)w(se.location+Ie);t.bindBuffer(t.ARRAY_BUFFER,Oe);for(let Ie=0;Ie<se.locationSize;Ie++)R(se.location+Ie,xe/se.locationSize,ut,ae,xe*qe,xe/se.locationSize*Ie*qe,Xe)}}else if(j!==void 0){const ae=j[te];if(ae!==void 0)switch(ae.length){case 2:t.vertexAttrib2fv(se.location,ae);break;case 3:t.vertexAttrib3fv(se.location,ae);break;case 4:t.vertexAttrib4fv(se.location,ae);break;default:t.vertexAttrib1fv(se.location,ae)}}}}T()}function A(){H();for(const U in a){const G=a[U];for(const Q in G){const J=G[Q];for(const N in J)g(J[N].object),delete J[N];delete G[Q]}delete a[U]}}function L(U){if(a[U.id]===void 0)return;const G=a[U.id];for(const Q in G){const J=G[Q];for(const N in J)g(J[N].object),delete J[N];delete G[Q]}delete a[U.id]}function O(U){for(const G in a){const Q=a[G];if(Q[U.id]===void 0)continue;const J=Q[U.id];for(const N in J)g(J[N].object),delete J[N];delete Q[U.id]}}function H(){q(),u=!0,c!==l&&(c=l,m(c.object))}function q(){l.geometry=null,l.program=null,l.wireframe=!1}return{setup:d,reset:H,resetDefaultState:q,dispose:A,releaseStatesOfGeometry:L,releaseStatesOfProgram:O,initAttributes:b,enableAttribute:w,disableUnusedAttributes:T}}function Jme(t,e,n,i){const r=i.isWebGL2;let s;function o(u){s=u}function a(u,d){t.drawArrays(s,u,d),n.update(d,s,1)}function l(u,d,f){if(f===0)return;let m,g;if(r)m=t,g="drawArraysInstanced";else if(m=e.get("ANGLE_instanced_arrays"),g="drawArraysInstancedANGLE",m===null){console.error("THREE.WebGLBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");return}m[g](s,u,d,f),n.update(d,s,f)}function c(u,d,f){if(f===0)return;const m=e.get("WEBGL_multi_draw");if(m===null)for(let g=0;g<f;g++)this.render(u[g],d[g]);else{m.multiDrawArraysWEBGL(s,u,0,d,0,f);let g=0;for(let y=0;y<f;y++)g+=d[y];n.update(g,s,1)}}this.setMode=o,this.render=a,this.renderInstances=l,this.renderMultiDraw=c}function ege(t,e,n){let i;function r(){if(i!==void 0)return i;if(e.has("EXT_texture_filter_anisotropic")===!0){const R=e.get("EXT_texture_filter_anisotropic");i=t.getParameter(R.MAX_TEXTURE_MAX_ANISOTROPY_EXT)}else i=0;return i}function s(R){if(R==="highp"){if(t.getShaderPrecisionFormat(t.VERTEX_SHADER,t.HIGH_FLOAT).precision>0&&t.getShaderPrecisionFormat(t.FRAGMENT_SHADER,t.HIGH_FLOAT).precision>0)return"highp";R="mediump"}return R==="mediump"&&t.getShaderPrecisionFormat(t.VERTEX_SHADER,t.MEDIUM_FLOAT).precision>0&&t.getShaderPrecisionFormat(t.FRAGMENT_SHADER,t.MEDIUM_FLOAT).precision>0?"mediump":"lowp"}const o=typeof WebGL2RenderingContext<"u"&&t.constructor.name==="WebGL2RenderingContext";let a=n.precision!==void 0?n.precision:"highp";const l=s(a);l!==a&&(console.warn("THREE.WebGLRenderer:",a,"not supported, using",l,"instead."),a=l);const c=o||e.has("WEBGL_draw_buffers"),u=n.logarithmicDepthBuffer===!0,d=t.getParameter(t.MAX_TEXTURE_IMAGE_UNITS),f=t.getParameter(t.MAX_VERTEX_TEXTURE_IMAGE_UNITS),m=t.getParameter(t.MAX_TEXTURE_SIZE),g=t.getParameter(t.MAX_CUBE_MAP_TEXTURE_SIZE),y=t.getParameter(t.MAX_VERTEX_ATTRIBS),x=t.getParameter(t.MAX_VERTEX_UNIFORM_VECTORS),v=t.getParameter(t.MAX_VARYING_VECTORS),_=t.getParameter(t.MAX_FRAGMENT_UNIFORM_VECTORS),b=f>0,w=o||e.has("OES_texture_float"),C=b&&w,T=o?t.getParameter(t.MAX_SAMPLES):0;return{isWebGL2:o,drawBuffers:c,getMaxAnisotropy:r,getMaxPrecision:s,precision:a,logarithmicDepthBuffer:u,maxTextures:d,maxVertexTextures:f,maxTextureSize:m,maxCubemapSize:g,maxAttributes:y,maxVertexUniforms:x,maxVaryings:v,maxFragmentUniforms:_,vertexTextures:b,floatFragmentTextures:w,floatVertexTextures:C,maxSamples:T}}function tge(t){const e=this;let n=null,i=0,r=!1,s=!1;const o=new Mc,a=new Jt,l={value:null,needsUpdate:!1};this.uniform=l,this.numPlanes=0,this.numIntersection=0,this.init=function(d,f){const m=d.length!==0||f||i!==0||r;return r=f,i=d.length,m},this.beginShadows=function(){s=!0,u(null)},this.endShadows=function(){s=!1},this.setGlobalState=function(d,f){n=u(d,f,0)},this.setState=function(d,f,m){const g=d.clippingPlanes,y=d.clipIntersection,x=d.clipShadows,v=t.get(d);if(!r||g===null||g.length===0||s&&!x)s?u(null):c();else{const _=s?0:i,b=_*4;let w=v.clippingState||null;l.value=w,w=u(g,f,b,m);for(let C=0;C!==b;++C)w[C]=n[C];v.clippingState=w,this.numIntersection=y?this.numPlanes:0,this.numPlanes+=_}};function c(){l.value!==n&&(l.value=n,l.needsUpdate=i>0),e.numPlanes=i,e.numIntersection=0}function u(d,f,m,g){const y=d!==null?d.length:0;let x=null;if(y!==0){if(x=l.value,g!==!0||x===null){const v=m+y*4,_=f.matrixWorldInverse;a.getNormalMatrix(_),(x===null||x.length<v)&&(x=new Float32Array(v));for(let b=0,w=m;b!==y;++b,w+=4)o.copy(d[b]).applyMatrix4(_,a),o.normal.toArray(x,w),x[w+3]=o.constant}l.value=x,l.needsUpdate=!0}return e.numPlanes=y,e.numIntersection=0,x}}function nge(t){let e=new WeakMap;function n(o,a){return a===iv?o.mapping=Wl:a===rv&&(o.mapping=cu),o}function i(o){if(o&&o.isTexture){const a=o.mapping;if(a===iv||a===rv)if(e.has(o)){const l=e.get(o).texture;return n(l,o.mapping)}else{const l=o.image;if(l&&l.height>0){const c=new x6(l.height/2);return c.fromEquirectangularTexture(t,o),e.set(o,c),o.addEventListener("dispose",r),n(c.texture,o.mapping)}else return null}}return o}function r(o){const a=o.target;a.removeEventListener("dispose",r);const l=e.get(a);l!==void 0&&(e.delete(a),l.dispose())}function s(){e=new WeakMap}return{get:i,dispose:s}}class ly extends lm{constructor(e=-1,n=1,i=1,r=-1,s=.1,o=2e3){super(),this.isOrthographicCamera=!0,this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=e,this.right=n,this.top=i,this.bottom=r,this.near=s,this.far=o,this.updateProjectionMatrix()}copy(e,n){return super.copy(e,n),this.left=e.left,this.right=e.right,this.top=e.top,this.bottom=e.bottom,this.near=e.near,this.far=e.far,this.zoom=e.zoom,this.view=e.view===null?null:Object.assign({},e.view),this}setViewOffset(e,n,i,r,s,o){this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=n,this.view.offsetX=i,this.view.offsetY=r,this.view.width=s,this.view.height=o,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=(this.right-this.left)/(2*this.zoom),n=(this.top-this.bottom)/(2*this.zoom),i=(this.right+this.left)/2,r=(this.top+this.bottom)/2;let s=i-e,o=i+e,a=r+n,l=r-n;if(this.view!==null&&this.view.enabled){const c=(this.right-this.left)/this.view.fullWidth/this.zoom,u=(this.top-this.bottom)/this.view.fullHeight/this.zoom;s+=c*this.view.offsetX,o=s+c*this.view.width,a-=u*this.view.offsetY,l=a-u*this.view.height}this.projectionMatrix.makeOrthographic(s,o,a,l,this.near,this.far,this.coordinateSystem),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const n=super.toJSON(e);return n.object.zoom=this.zoom,n.object.left=this.left,n.object.right=this.right,n.object.top=this.top,n.object.bottom=this.bottom,n.object.near=this.near,n.object.far=this.far,this.view!==null&&(n.object.view=Object.assign({},this.view)),n}}const Wh=4,bF=[.125,.215,.35,.446,.526,.582],ud=20,UT=new ly,SF=new Be;let BT=null,HT=0,VT=0;const rd=(1+Math.sqrt(5))/2,ch=1/rd,wF=[new W(1,1,1),new W(-1,1,1),new W(1,1,-1),new W(-1,1,-1),new W(0,rd,ch),new W(0,rd,-ch),new W(ch,0,rd),new W(-ch,0,rd),new W(rd,ch,0),new W(-rd,ch,0)];class jR{constructor(e){this._renderer=e,this._pingPongRenderTarget=null,this._lodMax=0,this._cubeSize=0,this._lodPlanes=[],this._sizeLods=[],this._sigmas=[],this._blurMaterial=null,this._cubemapMaterial=null,this._equirectMaterial=null,this._compileMaterial(this._blurMaterial)}fromScene(e,n=0,i=.1,r=100){BT=this._renderer.getRenderTarget(),HT=this._renderer.getActiveCubeFace(),VT=this._renderer.getActiveMipmapLevel(),this._setSize(256);const s=this._allocateTargets();return s.depthBuffer=!0,this._sceneToCubeUV(e,i,r,s),n>0&&this._blur(s,0,0,n),this._applyPMREM(s),this._cleanup(s),s}fromEquirectangular(e,n=null){return this._fromTexture(e,n)}fromCubemap(e,n=null){return this._fromTexture(e,n)}compileCubemapShader(){this._cubemapMaterial===null&&(this._cubemapMaterial=TF(),this._compileMaterial(this._cubemapMaterial))}compileEquirectangularShader(){this._equirectMaterial===null&&(this._equirectMaterial=EF(),this._compileMaterial(this._equirectMaterial))}dispose(){this._dispose(),this._cubemapMaterial!==null&&this._cubemapMaterial.dispose(),this._equirectMaterial!==null&&this._equirectMaterial.dispose()}_setSize(e){this._lodMax=Math.floor(Math.log2(e)),this._cubeSize=Math.pow(2,this._lodMax)}_dispose(){this._blurMaterial!==null&&this._blurMaterial.dispose(),this._pingPongRenderTarget!==null&&this._pingPongRenderTarget.dispose();for(let e=0;e<this._lodPlanes.length;e++)this._lodPlanes[e].dispose()}_cleanup(e){this._renderer.setRenderTarget(BT,HT,VT),e.scissorTest=!1,b_(e,0,0,e.width,e.height)}_fromTexture(e,n){e.mapping===Wl||e.mapping===cu?this._setSize(e.image.length===0?16:e.image[0].width||e.image[0].image.width):this._setSize(e.image.width/4),BT=this._renderer.getRenderTarget(),HT=this._renderer.getActiveCubeFace(),VT=this._renderer.getActiveMipmapLevel();const i=n||this._allocateTargets();return this._textureToCubeUV(e,i),this._applyPMREM(i),this._cleanup(i),i}_allocateTargets(){const e=3*Math.max(this._cubeSize,112),n=4*this._cubeSize,i={magFilter:Bn,minFilter:Bn,generateMipmaps:!1,type:du,format:is,colorSpace:Xa,depthBuffer:!1},r=MF(e,n,i);if(this._pingPongRenderTarget===null||this._pingPongRenderTarget.width!==e||this._pingPongRenderTarget.height!==n){this._pingPongRenderTarget!==null&&this._dispose(),this._pingPongRenderTarget=MF(e,n,i);const{_lodMax:s}=this;({sizeLods:this._sizeLods,lodPlanes:this._lodPlanes,sigmas:this._sigmas}=ige(s)),this._blurMaterial=rge(s,e,n)}return r}_compileMaterial(e){const n=new Hi(this._lodPlanes[0],e);this._renderer.compile(n,UT)}_sceneToCubeUV(e,n,i,r){const a=new zi(90,1,n,i),l=[1,-1,1,1,1,1],c=[1,1,1,-1,-1,-1],u=this._renderer,d=u.autoClear,f=u.toneMapping;u.getClearColor(SF),u.toneMapping=Ha,u.autoClear=!1;const m=new Eu({name:"PMREM.Background",side:Zi,depthWrite:!1,depthTest:!1}),g=new Hi(new mf,m);let y=!1;const x=e.background;x?x.isColor&&(m.color.copy(x),e.background=null,y=!0):(m.color.copy(SF),y=!0);for(let v=0;v<6;v++){const _=v%3;_===0?(a.up.set(0,l[v],0),a.lookAt(c[v],0,0)):_===1?(a.up.set(0,0,l[v]),a.lookAt(0,c[v],0)):(a.up.set(0,l[v],0),a.lookAt(0,0,c[v]));const b=this._cubeSize;b_(r,_*b,v>2?b:0,b,b),u.setRenderTarget(r),y&&u.render(g,a),u.render(e,a)}g.geometry.dispose(),g.material.dispose(),u.toneMapping=f,u.autoClear=d,e.background=x}_textureToCubeUV(e,n){const i=this._renderer,r=e.mapping===Wl||e.mapping===cu;r?(this._cubemapMaterial===null&&(this._cubemapMaterial=TF()),this._cubemapMaterial.uniforms.flipEnvMap.value=e.isRenderTargetTexture===!1?-1:1):this._equirectMaterial===null&&(this._equirectMaterial=EF());const s=r?this._cubemapMaterial:this._equirectMaterial,o=new Hi(this._lodPlanes[0],s),a=s.uniforms;a.envMap.value=e;const l=this._cubeSize;b_(n,0,0,3*l,2*l),i.setRenderTarget(n),i.render(o,UT)}_applyPMREM(e){const n=this._renderer,i=n.autoClear;n.autoClear=!1;for(let r=1;r<this._lodPlanes.length;r++){const s=Math.sqrt(this._sigmas[r]*this._sigmas[r]-this._sigmas[r-1]*this._sigmas[r-1]),o=wF[(r-1)%wF.length];this._blur(e,r-1,r,s,o)}n.autoClear=i}_blur(e,n,i,r,s){const o=this._pingPongRenderTarget;this._halfBlur(e,o,n,i,r,"latitudinal",s),this._halfBlur(o,e,i,i,r,"longitudinal",s)}_halfBlur(e,n,i,r,s,o,a){const l=this._renderer,c=this._blurMaterial;o!=="latitudinal"&&o!=="longitudinal"&&console.error("blur direction must be either latitudinal or longitudinal!");const u=3,d=new Hi(this._lodPlanes[r],c),f=c.uniforms,m=this._sizeLods[i]-1,g=isFinite(s)?Math.PI/(2*m):2*Math.PI/(2*ud-1),y=s/g,x=isFinite(s)?1+Math.floor(u*y):ud;x>ud&&console.warn(`sigmaRadians, ${s}, is too large and will clip, as it requested ${x} samples when the maximum is set to ${ud}`);const v=[];let _=0;for(let R=0;R<ud;++R){const I=R/y,A=Math.exp(-I*I/2);v.push(A),R===0?_+=A:R<x&&(_+=2*A)}for(let R=0;R<v.length;R++)v[R]=v[R]/_;f.envMap.value=e.texture,f.samples.value=x,f.weights.value=v,f.latitudinal.value=o==="latitudinal",a&&(f.poleAxis.value=a);const{_lodMax:b}=this;f.dTheta.value=g,f.mipInt.value=b-i;const w=this._sizeLods[r],C=3*w*(r>b-Wh?r-b+Wh:0),T=4*(this._cubeSize-w);b_(n,C,T,3*w,2*w),l.setRenderTarget(n),l.render(d,UT)}}function ige(t){const e=[],n=[],i=[];let r=t;const s=t-Wh+1+bF.length;for(let o=0;o<s;o++){const a=Math.pow(2,r);n.push(a);let l=1/a;o>t-Wh?l=bF[o-t+Wh-1]:o===0&&(l=0),i.push(l);const c=1/(a-2),u=-c,d=1+c,f=[u,u,d,u,d,d,u,u,d,d,u,d],m=6,g=6,y=3,x=2,v=1,_=new Float32Array(y*g*m),b=new Float32Array(x*g*m),w=new Float32Array(v*g*m);for(let T=0;T<m;T++){const R=T%3*2/3-1,I=T>2?0:-1,A=[R,I,0,R+2/3,I,0,R+2/3,I+1,0,R,I,0,R+2/3,I+1,0,R,I+1,0];_.set(A,y*g*T),b.set(f,x*g*T);const L=[T,T,T,T,T,T];w.set(L,v*g*T)}const C=new $t;C.setAttribute("position",new hn(_,y)),C.setAttribute("uv",new hn(b,x)),C.setAttribute("faceIndex",new hn(w,v)),e.push(C),r>Wh&&r--}return{lodPlanes:e,sizeLods:n,sigmas:i}}function MF(t,e,n){const i=new ii(t,e,n);return i.texture.mapping=om,i.texture.name="PMREM.cubeUv",i.scissorTest=!0,i}function b_(t,e,n,i,r){t.viewport.set(e,n,i,r),t.scissor.set(e,n,i,r)}function rge(t,e,n){const i=new Float32Array(ud),r=new W(0,1,0);return new er({name:"SphericalGaussianBlur",defines:{n:ud,CUBEUV_TEXEL_WIDTH:1/e,CUBEUV_TEXEL_HEIGHT:1/n,CUBEUV_MAX_MIP:`${t}.0`},uniforms:{envMap:{value:null},samples:{value:1},weights:{value:i},latitudinal:{value:!1},dTheta:{value:0},mipInt:{value:0},poleAxis:{value:r}},vertexShader:nI(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;
			uniform int samples;
			uniform float weights[ n ];
			uniform bool latitudinal;
			uniform float dTheta;
			uniform float mipInt;
			uniform vec3 poleAxis;

			#define ENVMAP_TYPE_CUBE_UV
			#include <cube_uv_reflection_fragment>

			vec3 getSample( float theta, vec3 axis ) {

				float cosTheta = cos( theta );
				// Rodrigues' axis-angle rotation
				vec3 sampleDirection = vOutputDirection * cosTheta
					+ cross( axis, vOutputDirection ) * sin( theta )
					+ axis * dot( axis, vOutputDirection ) * ( 1.0 - cosTheta );

				return bilinearCubeUV( envMap, sampleDirection, mipInt );

			}

			void main() {

				vec3 axis = latitudinal ? poleAxis : cross( poleAxis, vOutputDirection );

				if ( all( equal( axis, vec3( 0.0 ) ) ) ) {

					axis = vec3( vOutputDirection.z, 0.0, - vOutputDirection.x );

				}

				axis = normalize( axis );

				gl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );
				gl_FragColor.rgb += weights[ 0 ] * getSample( 0.0, axis );

				for ( int i = 1; i < n; i++ ) {

					if ( i >= samples ) {

						break;

					}

					float theta = dTheta * float( i );
					gl_FragColor.rgb += weights[ i ] * getSample( -1.0 * theta, axis );
					gl_FragColor.rgb += weights[ i ] * getSample( theta, axis );

				}

			}
		`,blending:Er,depthTest:!1,depthWrite:!1})}function EF(){return new er({name:"EquirectangularToCubeUV",uniforms:{envMap:{value:null}},vertexShader:nI(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;

			#include <common>

			void main() {

				vec3 outputDirection = normalize( vOutputDirection );
				vec2 uv = equirectUv( outputDirection );

				gl_FragColor = vec4( texture2D ( envMap, uv ).rgb, 1.0 );

			}
		`,blending:Er,depthTest:!1,depthWrite:!1})}function TF(){return new er({name:"CubemapToCubeUV",uniforms:{envMap:{value:null},flipEnvMap:{value:-1}},vertexShader:nI(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			uniform float flipEnvMap;

			varying vec3 vOutputDirection;

			uniform samplerCube envMap;

			void main() {

				gl_FragColor = textureCube( envMap, vec3( flipEnvMap * vOutputDirection.x, vOutputDirection.yz ) );

			}
		`,blending:Er,depthTest:!1,depthWrite:!1})}function nI(){return`

		precision mediump float;
		precision mediump int;

		attribute float faceIndex;

		varying vec3 vOutputDirection;

		// RH coordinate system; PMREM face-indexing convention
		vec3 getDirection( vec2 uv, float face ) {

			uv = 2.0 * uv - 1.0;

			vec3 direction = vec3( uv, 1.0 );

			if ( face == 0.0 ) {

				direction = direction.zyx; // ( 1, v, u ) pos x

			} else if ( face == 1.0 ) {

				direction = direction.xzy;
				direction.xz *= -1.0; // ( -u, 1, -v ) pos y

			} else if ( face == 2.0 ) {

				direction.x *= -1.0; // ( -u, v, 1 ) pos z

			} else if ( face == 3.0 ) {

				direction = direction.zyx;
				direction.xz *= -1.0; // ( -1, v, -u ) neg x

			} else if ( face == 4.0 ) {

				direction = direction.xzy;
				direction.xy *= -1.0; // ( -u, -1, v ) neg y

			} else if ( face == 5.0 ) {

				direction.z *= -1.0; // ( u, v, -1 ) neg z

			}

			return direction;

		}

		void main() {

			vOutputDirection = getDirection( uv, faceIndex );
			gl_Position = vec4( position, 1.0 );

		}
	`}function sge(t){let e=new WeakMap,n=null;function i(a){if(a&&a.isTexture){const l=a.mapping,c=l===iv||l===rv,u=l===Wl||l===cu;if(c||u)if(a.isRenderTargetTexture&&a.needsPMREMUpdate===!0){a.needsPMREMUpdate=!1;let d=e.get(a);return n===null&&(n=new jR(t)),d=c?n.fromEquirectangular(a,d):n.fromCubemap(a,d),e.set(a,d),d.texture}else{if(e.has(a))return e.get(a).texture;{const d=a.image;if(c&&d&&d.height>0||u&&d&&r(d)){n===null&&(n=new jR(t));const f=c?n.fromEquirectangular(a):n.fromCubemap(a);return e.set(a,f),a.addEventListener("dispose",s),f.texture}else return null}}}return a}function r(a){let l=0;const c=6;for(let u=0;u<c;u++)a[u]!==void 0&&l++;return l===c}function s(a){const l=a.target;l.removeEventListener("dispose",s);const c=e.get(l);c!==void 0&&(e.delete(l),c.dispose())}function o(){e=new WeakMap,n!==null&&(n.dispose(),n=null)}return{get:i,dispose:o}}function oge(t){const e={};function n(i){if(e[i]!==void 0)return e[i];let r;switch(i){case"WEBGL_depth_texture":r=t.getExtension("WEBGL_depth_texture")||t.getExtension("MOZ_WEBGL_depth_texture")||t.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":r=t.getExtension("EXT_texture_filter_anisotropic")||t.getExtension("MOZ_EXT_texture_filter_anisotropic")||t.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":r=t.getExtension("WEBGL_compressed_texture_s3tc")||t.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||t.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":r=t.getExtension("WEBGL_compressed_texture_pvrtc")||t.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;default:r=t.getExtension(i)}return e[i]=r,r}return{has:function(i){return n(i)!==null},init:function(i){i.isWebGL2?n("EXT_color_buffer_float"):(n("WEBGL_depth_texture"),n("OES_texture_float"),n("OES_texture_half_float"),n("OES_texture_half_float_linear"),n("OES_standard_derivatives"),n("OES_element_index_uint"),n("OES_vertex_array_object"),n("ANGLE_instanced_arrays")),n("OES_texture_float_linear"),n("EXT_color_buffer_half_float"),n("WEBGL_multisampled_render_to_texture")},get:function(i){const r=n(i);return r===null&&console.warn("THREE.WebGLRenderer: "+i+" extension not supported."),r}}}function age(t,e,n,i){const r={},s=new WeakMap;function o(d){const f=d.target;f.index!==null&&e.remove(f.index);for(const g in f.attributes)e.remove(f.attributes[g]);for(const g in f.morphAttributes){const y=f.morphAttributes[g];for(let x=0,v=y.length;x<v;x++)e.remove(y[x])}f.removeEventListener("dispose",o),delete r[f.id];const m=s.get(f);m&&(e.remove(m),s.delete(f)),i.releaseStatesOfGeometry(f),f.isInstancedBufferGeometry===!0&&delete f._maxInstanceCount,n.memory.geometries--}function a(d,f){return r[f.id]===!0||(f.addEventListener("dispose",o),r[f.id]=!0,n.memory.geometries++),f}function l(d){const f=d.attributes;for(const g in f)e.update(f[g],t.ARRAY_BUFFER);const m=d.morphAttributes;for(const g in m){const y=m[g];for(let x=0,v=y.length;x<v;x++)e.update(y[x],t.ARRAY_BUFFER)}}function c(d){const f=[],m=d.index,g=d.attributes.position;let y=0;if(m!==null){const _=m.array;y=m.version;for(let b=0,w=_.length;b<w;b+=3){const C=_[b+0],T=_[b+1],R=_[b+2];f.push(C,T,T,R,R,C)}}else if(g!==void 0){const _=g.array;y=g.version;for(let b=0,w=_.length/3-1;b<w;b+=3){const C=b+0,T=b+1,R=b+2;f.push(C,T,T,R,R,C)}}else return;const x=new(f6(f)?tI:eI)(f,1);x.version=y;const v=s.get(d);v&&e.remove(v),s.set(d,x)}function u(d){const f=s.get(d);if(f){const m=d.index;m!==null&&f.version<m.version&&c(d)}else c(d);return s.get(d)}return{get:a,update:l,getWireframeAttribute:u}}function lge(t,e,n,i){const r=i.isWebGL2;let s;function o(m){s=m}let a,l;function c(m){a=m.type,l=m.bytesPerElement}function u(m,g){t.drawElements(s,g,a,m*l),n.update(g,s,1)}function d(m,g,y){if(y===0)return;let x,v;if(r)x=t,v="drawElementsInstanced";else if(x=e.get("ANGLE_instanced_arrays"),v="drawElementsInstancedANGLE",x===null){console.error("THREE.WebGLIndexedBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");return}x[v](s,g,a,m*l,y),n.update(g,s,y)}function f(m,g,y){if(y===0)return;const x=e.get("WEBGL_multi_draw");if(x===null)for(let v=0;v<y;v++)this.render(m[v]/l,g[v]);else{x.multiDrawElementsWEBGL(s,g,0,a,m,0,y);let v=0;for(let _=0;_<y;_++)v+=g[_];n.update(v,s,1)}}this.setMode=o,this.setIndex=c,this.render=u,this.renderInstances=d,this.renderMultiDraw=f}function cge(t){const e={geometries:0,textures:0},n={frame:0,calls:0,triangles:0,points:0,lines:0};function i(s,o,a){switch(n.calls++,o){case t.TRIANGLES:n.triangles+=a*(s/3);break;case t.LINES:n.lines+=a*(s/2);break;case t.LINE_STRIP:n.lines+=a*(s-1);break;case t.LINE_LOOP:n.lines+=a*s;break;case t.POINTS:n.points+=a*s;break;default:console.error("THREE.WebGLInfo: Unknown draw mode:",o);break}}function r(){n.calls=0,n.triangles=0,n.points=0,n.lines=0}return{memory:e,render:n,programs:null,autoReset:!0,reset:r,update:i}}function uge(t,e){return t[0]-e[0]}function dge(t,e){return Math.abs(e[1])-Math.abs(t[1])}function fge(t,e,n){const i={},r=new Float32Array(8),s=new WeakMap,o=new wn,a=[];for(let c=0;c<8;c++)a[c]=[c,0];function l(c,u,d){const f=c.morphTargetInfluences;if(e.isWebGL2===!0){const g=u.morphAttributes.position||u.morphAttributes.normal||u.morphAttributes.color,y=g!==void 0?g.length:0;let x=s.get(u);if(x===void 0||x.count!==y){let G=function(){q.dispose(),s.delete(u),u.removeEventListener("dispose",G)};var m=G;x!==void 0&&x.texture.dispose();const b=u.morphAttributes.position!==void 0,w=u.morphAttributes.normal!==void 0,C=u.morphAttributes.color!==void 0,T=u.morphAttributes.position||[],R=u.morphAttributes.normal||[],I=u.morphAttributes.color||[];let A=0;b===!0&&(A=1),w===!0&&(A=2),C===!0&&(A=3);let L=u.attributes.position.count*A,O=1;L>e.maxTextureSize&&(O=Math.ceil(L/e.maxTextureSize),L=e.maxTextureSize);const H=new Float32Array(L*O*4*y),q=new Fw(H,L,O,y);q.type=eo,q.needsUpdate=!0;const U=A*4;for(let Q=0;Q<y;Q++){const J=T[Q],N=R[Q],B=I[Q],j=L*O*4*Q;for(let te=0;te<J.count;te++){const se=te*U;b===!0&&(o.fromBufferAttribute(J,te),H[j+se+0]=o.x,H[j+se+1]=o.y,H[j+se+2]=o.z,H[j+se+3]=0),w===!0&&(o.fromBufferAttribute(N,te),H[j+se+4]=o.x,H[j+se+5]=o.y,H[j+se+6]=o.z,H[j+se+7]=0),C===!0&&(o.fromBufferAttribute(B,te),H[j+se+8]=o.x,H[j+se+9]=o.y,H[j+se+10]=o.z,H[j+se+11]=B.itemSize===4?o.w:1)}}x={count:y,texture:q,size:new Ae(L,O)},s.set(u,x),u.addEventListener("dispose",G)}let v=0;for(let b=0;b<f.length;b++)v+=f[b];const _=u.morphTargetsRelative?1:1-v;d.getUniforms().setValue(t,"morphTargetBaseInfluence",_),d.getUniforms().setValue(t,"morphTargetInfluences",f),d.getUniforms().setValue(t,"morphTargetsTexture",x.texture,n),d.getUniforms().setValue(t,"morphTargetsTextureSize",x.size)}else{const g=f===void 0?0:f.length;let y=i[u.id];if(y===void 0||y.length!==g){y=[];for(let w=0;w<g;w++)y[w]=[w,0];i[u.id]=y}for(let w=0;w<g;w++){const C=y[w];C[0]=w,C[1]=f[w]}y.sort(dge);for(let w=0;w<8;w++)w<g&&y[w][1]?(a[w][0]=y[w][0],a[w][1]=y[w][1]):(a[w][0]=Number.MAX_SAFE_INTEGER,a[w][1]=0);a.sort(uge);const x=u.morphAttributes.position,v=u.morphAttributes.normal;let _=0;for(let w=0;w<8;w++){const C=a[w],T=C[0],R=C[1];T!==Number.MAX_SAFE_INTEGER&&R?(x&&u.getAttribute("morphTarget"+w)!==x[T]&&u.setAttribute("morphTarget"+w,x[T]),v&&u.getAttribute("morphNormal"+w)!==v[T]&&u.setAttribute("morphNormal"+w,v[T]),r[w]=R,_+=R):(x&&u.hasAttribute("morphTarget"+w)===!0&&u.deleteAttribute("morphTarget"+w),v&&u.hasAttribute("morphNormal"+w)===!0&&u.deleteAttribute("morphNormal"+w),r[w]=0)}const b=u.morphTargetsRelative?1:1-_;d.getUniforms().setValue(t,"morphTargetBaseInfluence",b),d.getUniforms().setValue(t,"morphTargetInfluences",r)}}return{update:l}}function hge(t,e,n,i){let r=new WeakMap;function s(l){const c=i.render.frame,u=l.geometry,d=e.get(l,u);if(r.get(d)!==c&&(e.update(d),r.set(d,c)),l.isInstancedMesh&&(l.hasEventListener("dispose",a)===!1&&l.addEventListener("dispose",a),r.get(l)!==c&&(n.update(l.instanceMatrix,t.ARRAY_BUFFER),l.instanceColor!==null&&n.update(l.instanceColor,t.ARRAY_BUFFER),r.set(l,c))),l.isSkinnedMesh){const f=l.skeleton;r.get(f)!==c&&(f.update(),r.set(f,c))}return d}function o(){r=new WeakMap}function a(l){const c=l.target;c.removeEventListener("dispose",a),n.remove(c.instanceMatrix),c.instanceColor!==null&&n.remove(c.instanceColor)}return{update:s,dispose:o}}class cy extends ni{constructor(e,n,i,r,s,o,a,l,c,u){if(u=u!==void 0?u:eu,u!==eu&&u!==fu)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");i===void 0&&u===eu&&(i=Na),i===void 0&&u===fu&&(i=Ol),super(null,r,s,o,a,l,u,i,c),this.isDepthTexture=!0,this.image={width:e,height:n},this.magFilter=a!==void 0?a:Un,this.minFilter=l!==void 0?l:Un,this.flipY=!1,this.generateMipmaps=!1,this.compareFunction=null}copy(e){return super.copy(e),this.compareFunction=e.compareFunction,this}toJSON(e){const n=super.toJSON(e);return this.compareFunction!==null&&(n.compareFunction=this.compareFunction),n}}const b6=new ni,S6=new cy(1,1);S6.compareFunction=Kk;const w6=new Fw,M6=new Jk,E6=new sy,CF=[],RF=[],AF=new Float32Array(16),PF=new Float32Array(9),kF=new Float32Array(4);function cm(t,e,n){const i=t[0];if(i<=0||i>0)return t;const r=e*n;let s=CF[r];if(s===void 0&&(s=new Float32Array(r),CF[r]=s),e!==0){i.toArray(s,0);for(let o=1,a=0;o!==e;++o)a+=n,t[o].toArray(s,a)}return s}function tr(t,e){if(t.length!==e.length)return!1;for(let n=0,i=t.length;n<i;n++)if(t[n]!==e[n])return!1;return!0}function nr(t,e){for(let n=0,i=e.length;n<i;n++)t[n]=e[n]}function zw(t,e){let n=RF[e];n===void 0&&(n=new Int32Array(e),RF[e]=n);for(let i=0;i!==e;++i)n[i]=t.allocateTextureUnit();return n}function pge(t,e){const n=this.cache;n[0]!==e&&(t.uniform1f(this.addr,e),n[0]=e)}function mge(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y)&&(t.uniform2f(this.addr,e.x,e.y),n[0]=e.x,n[1]=e.y);else{if(tr(n,e))return;t.uniform2fv(this.addr,e),nr(n,e)}}function gge(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z)&&(t.uniform3f(this.addr,e.x,e.y,e.z),n[0]=e.x,n[1]=e.y,n[2]=e.z);else if(e.r!==void 0)(n[0]!==e.r||n[1]!==e.g||n[2]!==e.b)&&(t.uniform3f(this.addr,e.r,e.g,e.b),n[0]=e.r,n[1]=e.g,n[2]=e.b);else{if(tr(n,e))return;t.uniform3fv(this.addr,e),nr(n,e)}}function vge(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z||n[3]!==e.w)&&(t.uniform4f(this.addr,e.x,e.y,e.z,e.w),n[0]=e.x,n[1]=e.y,n[2]=e.z,n[3]=e.w);else{if(tr(n,e))return;t.uniform4fv(this.addr,e),nr(n,e)}}function yge(t,e){const n=this.cache,i=e.elements;if(i===void 0){if(tr(n,e))return;t.uniformMatrix2fv(this.addr,!1,e),nr(n,e)}else{if(tr(n,i))return;kF.set(i),t.uniformMatrix2fv(this.addr,!1,kF),nr(n,i)}}function xge(t,e){const n=this.cache,i=e.elements;if(i===void 0){if(tr(n,e))return;t.uniformMatrix3fv(this.addr,!1,e),nr(n,e)}else{if(tr(n,i))return;PF.set(i),t.uniformMatrix3fv(this.addr,!1,PF),nr(n,i)}}function _ge(t,e){const n=this.cache,i=e.elements;if(i===void 0){if(tr(n,e))return;t.uniformMatrix4fv(this.addr,!1,e),nr(n,e)}else{if(tr(n,i))return;AF.set(i),t.uniformMatrix4fv(this.addr,!1,AF),nr(n,i)}}function bge(t,e){const n=this.cache;n[0]!==e&&(t.uniform1i(this.addr,e),n[0]=e)}function Sge(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y)&&(t.uniform2i(this.addr,e.x,e.y),n[0]=e.x,n[1]=e.y);else{if(tr(n,e))return;t.uniform2iv(this.addr,e),nr(n,e)}}function wge(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z)&&(t.uniform3i(this.addr,e.x,e.y,e.z),n[0]=e.x,n[1]=e.y,n[2]=e.z);else{if(tr(n,e))return;t.uniform3iv(this.addr,e),nr(n,e)}}function Mge(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z||n[3]!==e.w)&&(t.uniform4i(this.addr,e.x,e.y,e.z,e.w),n[0]=e.x,n[1]=e.y,n[2]=e.z,n[3]=e.w);else{if(tr(n,e))return;t.uniform4iv(this.addr,e),nr(n,e)}}function Ege(t,e){const n=this.cache;n[0]!==e&&(t.uniform1ui(this.addr,e),n[0]=e)}function Tge(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y)&&(t.uniform2ui(this.addr,e.x,e.y),n[0]=e.x,n[1]=e.y);else{if(tr(n,e))return;t.uniform2uiv(this.addr,e),nr(n,e)}}function Cge(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z)&&(t.uniform3ui(this.addr,e.x,e.y,e.z),n[0]=e.x,n[1]=e.y,n[2]=e.z);else{if(tr(n,e))return;t.uniform3uiv(this.addr,e),nr(n,e)}}function Rge(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z||n[3]!==e.w)&&(t.uniform4ui(this.addr,e.x,e.y,e.z,e.w),n[0]=e.x,n[1]=e.y,n[2]=e.z,n[3]=e.w);else{if(tr(n,e))return;t.uniform4uiv(this.addr,e),nr(n,e)}}function Age(t,e,n){const i=this.cache,r=n.allocateTextureUnit();i[0]!==r&&(t.uniform1i(this.addr,r),i[0]=r);const s=this.type===t.SAMPLER_2D_SHADOW?S6:b6;n.setTexture2D(e||s,r)}function Pge(t,e,n){const i=this.cache,r=n.allocateTextureUnit();i[0]!==r&&(t.uniform1i(this.addr,r),i[0]=r),n.setTexture3D(e||M6,r)}function kge(t,e,n){const i=this.cache,r=n.allocateTextureUnit();i[0]!==r&&(t.uniform1i(this.addr,r),i[0]=r),n.setTextureCube(e||E6,r)}function Ige(t,e,n){const i=this.cache,r=n.allocateTextureUnit();i[0]!==r&&(t.uniform1i(this.addr,r),i[0]=r),n.setTexture2DArray(e||w6,r)}function Lge(t){switch(t){case 5126:return pge;case 35664:return mge;case 35665:return gge;case 35666:return vge;case 35674:return yge;case 35675:return xge;case 35676:return _ge;case 5124:case 35670:return bge;case 35667:case 35671:return Sge;case 35668:case 35672:return wge;case 35669:case 35673:return Mge;case 5125:return Ege;case 36294:return Tge;case 36295:return Cge;case 36296:return Rge;case 35678:case 36198:case 36298:case 36306:case 35682:return Age;case 35679:case 36299:case 36307:return Pge;case 35680:case 36300:case 36308:case 36293:return kge;case 36289:case 36303:case 36311:case 36292:return Ige}}function Dge(t,e){t.uniform1fv(this.addr,e)}function Oge(t,e){const n=cm(e,this.size,2);t.uniform2fv(this.addr,n)}function Nge(t,e){const n=cm(e,this.size,3);t.uniform3fv(this.addr,n)}function Fge(t,e){const n=cm(e,this.size,4);t.uniform4fv(this.addr,n)}function zge(t,e){const n=cm(e,this.size,4);t.uniformMatrix2fv(this.addr,!1,n)}function Uge(t,e){const n=cm(e,this.size,9);t.uniformMatrix3fv(this.addr,!1,n)}function Bge(t,e){const n=cm(e,this.size,16);t.uniformMatrix4fv(this.addr,!1,n)}function Hge(t,e){t.uniform1iv(this.addr,e)}function Vge(t,e){t.uniform2iv(this.addr,e)}function jge(t,e){t.uniform3iv(this.addr,e)}function Wge(t,e){t.uniform4iv(this.addr,e)}function Gge(t,e){t.uniform1uiv(this.addr,e)}function $ge(t,e){t.uniform2uiv(this.addr,e)}function Xge(t,e){t.uniform3uiv(this.addr,e)}function Yge(t,e){t.uniform4uiv(this.addr,e)}function qge(t,e,n){const i=this.cache,r=e.length,s=zw(n,r);tr(i,s)||(t.uniform1iv(this.addr,s),nr(i,s));for(let o=0;o!==r;++o)n.setTexture2D(e[o]||b6,s[o])}function Kge(t,e,n){const i=this.cache,r=e.length,s=zw(n,r);tr(i,s)||(t.uniform1iv(this.addr,s),nr(i,s));for(let o=0;o!==r;++o)n.setTexture3D(e[o]||M6,s[o])}function Qge(t,e,n){const i=this.cache,r=e.length,s=zw(n,r);tr(i,s)||(t.uniform1iv(this.addr,s),nr(i,s));for(let o=0;o!==r;++o)n.setTextureCube(e[o]||E6,s[o])}function Zge(t,e,n){const i=this.cache,r=e.length,s=zw(n,r);tr(i,s)||(t.uniform1iv(this.addr,s),nr(i,s));for(let o=0;o!==r;++o)n.setTexture2DArray(e[o]||w6,s[o])}function Jge(t){switch(t){case 5126:return Dge;case 35664:return Oge;case 35665:return Nge;case 35666:return Fge;case 35674:return zge;case 35675:return Uge;case 35676:return Bge;case 5124:case 35670:return Hge;case 35667:case 35671:return Vge;case 35668:case 35672:return jge;case 35669:case 35673:return Wge;case 5125:return Gge;case 36294:return $ge;case 36295:return Xge;case 36296:return Yge;case 35678:case 36198:case 36298:case 36306:case 35682:return qge;case 35679:case 36299:case 36307:return Kge;case 35680:case 36300:case 36308:case 36293:return Qge;case 36289:case 36303:case 36311:case 36292:return Zge}}class e0e{constructor(e,n,i){this.id=e,this.addr=i,this.cache=[],this.type=n.type,this.setValue=Lge(n.type)}}class t0e{constructor(e,n,i){this.id=e,this.addr=i,this.cache=[],this.type=n.type,this.size=n.size,this.setValue=Jge(n.type)}}class n0e{constructor(e){this.id=e,this.seq=[],this.map={}}setValue(e,n,i){const r=this.seq;for(let s=0,o=r.length;s!==o;++s){const a=r[s];a.setValue(e,n[a.id],i)}}}const jT=/(\w+)(\])?(\[|\.)?/g;function IF(t,e){t.seq.push(e),t.map[e.id]=e}function i0e(t,e,n){const i=t.name,r=i.length;for(jT.lastIndex=0;;){const s=jT.exec(i),o=jT.lastIndex;let a=s[1];const l=s[2]==="]",c=s[3];if(l&&(a=a|0),c===void 0||c==="["&&o+2===r){IF(n,c===void 0?new e0e(a,t,e):new t0e(a,t,e));break}else{let d=n.map[a];d===void 0&&(d=new n0e(a),IF(n,d)),n=d}}}class Wb{constructor(e,n){this.seq=[],this.map={};const i=e.getProgramParameter(n,e.ACTIVE_UNIFORMS);for(let r=0;r<i;++r){const s=e.getActiveUniform(n,r),o=e.getUniformLocation(n,s.name);i0e(s,o,this)}}setValue(e,n,i,r){const s=this.map[n];s!==void 0&&s.setValue(e,i,r)}setOptional(e,n,i){const r=n[i];r!==void 0&&this.setValue(e,i,r)}static upload(e,n,i,r){for(let s=0,o=n.length;s!==o;++s){const a=n[s],l=i[a.id];l.needsUpdate!==!1&&a.setValue(e,l.value,r)}}static seqWithValue(e,n){const i=[];for(let r=0,s=e.length;r!==s;++r){const o=e[r];o.id in n&&i.push(o)}return i}}function LF(t,e,n){const i=t.createShader(e);return t.shaderSource(i,n),t.compileShader(i),i}const r0e=37297;let s0e=0;function o0e(t,e){const n=t.split(`
`),i=[],r=Math.max(e-6,0),s=Math.min(e+6,n.length);for(let o=r;o<s;o++){const a=o+1;i.push(`${a===e?">":" "} ${a}: ${n[o]}`)}return i.join(`
`)}function a0e(t){const e=An.getPrimaries(An.workingColorSpace),n=An.getPrimaries(t);let i;switch(e===n?i="":e===dv&&n===uv?i="LinearDisplayP3ToLinearSRGB":e===uv&&n===dv&&(i="LinearSRGBToLinearDisplayP3"),t){case Xa:case ry:return[i,"LinearTransferOETF"];case qi:case Nw:return[i,"sRGBTransferOETF"];default:return console.warn("THREE.WebGLProgram: Unsupported color space:",t),[i,"LinearTransferOETF"]}}function DF(t,e,n){const i=t.getShaderParameter(e,t.COMPILE_STATUS),r=t.getShaderInfoLog(e).trim();if(i&&r==="")return"";const s=/ERROR: 0:(\d+)/.exec(r);if(s){const o=parseInt(s[1]);return n.toUpperCase()+`

`+r+`

`+o0e(t.getShaderSource(e),o)}else return r}function l0e(t,e){const n=a0e(e);return`vec4 ${t}( vec4 value ) { return ${n[0]}( ${n[1]}( value ) ); }`}function c0e(t,e){let n;switch(e){case VW:n="Linear";break;case jW:n="Reinhard";break;case WW:n="OptimizedCineon";break;case Bk:n="ACESFilmic";break;case GW:n="Custom";break;default:console.warn("THREE.WebGLProgram: Unsupported toneMapping:",e),n="Linear"}return"vec3 "+t+"( vec3 color ) { return "+n+"ToneMapping( color ); }"}function u0e(t){return[t.extensionDerivatives||t.envMapCubeUVHeight||t.bumpMap||t.normalMapTangentSpace||t.clearcoatNormalMap||t.flatShading||t.shaderID==="physical"?"#extension GL_OES_standard_derivatives : enable":"",(t.extensionFragDepth||t.logarithmicDepthBuffer)&&t.rendererExtensionFragDepth?"#extension GL_EXT_frag_depth : enable":"",t.extensionDrawBuffers&&t.rendererExtensionDrawBuffers?"#extension GL_EXT_draw_buffers : require":"",(t.extensionShaderTextureLOD||t.envMap||t.transmission)&&t.rendererExtensionShaderTextureLod?"#extension GL_EXT_shader_texture_lod : enable":""].filter(Ug).join(`
`)}function d0e(t){const e=[];for(const n in t){const i=t[n];i!==!1&&e.push("#define "+n+" "+i)}return e.join(`
`)}function f0e(t,e){const n={},i=t.getProgramParameter(e,t.ACTIVE_ATTRIBUTES);for(let r=0;r<i;r++){const s=t.getActiveAttrib(e,r),o=s.name;let a=1;s.type===t.FLOAT_MAT2&&(a=2),s.type===t.FLOAT_MAT3&&(a=3),s.type===t.FLOAT_MAT4&&(a=4),n[o]={type:s.type,location:t.getAttribLocation(e,o),locationSize:a}}return n}function Ug(t){return t!==""}function OF(t,e){const n=e.numSpotLightShadows+e.numSpotLightMaps-e.numSpotLightShadowsWithMaps;return t.replace(/NUM_DIR_LIGHTS/g,e.numDirLights).replace(/NUM_SPOT_LIGHTS/g,e.numSpotLights).replace(/NUM_SPOT_LIGHT_MAPS/g,e.numSpotLightMaps).replace(/NUM_SPOT_LIGHT_COORDS/g,n).replace(/NUM_RECT_AREA_LIGHTS/g,e.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,e.numPointLights).replace(/NUM_HEMI_LIGHTS/g,e.numHemiLights).replace(/NUM_DIR_LIGHT_SHADOWS/g,e.numDirLightShadows).replace(/NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS/g,e.numSpotLightShadowsWithMaps).replace(/NUM_SPOT_LIGHT_SHADOWS/g,e.numSpotLightShadows).replace(/NUM_POINT_LIGHT_SHADOWS/g,e.numPointLightShadows)}function NF(t,e){return t.replace(/NUM_CLIPPING_PLANES/g,e.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,e.numClippingPlanes-e.numClipIntersection)}const h0e=/^[ \t]*#include +<([\w\d./]+)>/gm;function WR(t){return t.replace(h0e,m0e)}const p0e=new Map([["encodings_fragment","colorspace_fragment"],["encodings_pars_fragment","colorspace_pars_fragment"],["output_fragment","opaque_fragment"]]);function m0e(t,e){let n=Yt[e];if(n===void 0){const i=p0e.get(e);if(i!==void 0)n=Yt[i],console.warn('THREE.WebGLRenderer: Shader chunk "%s" has been deprecated. Use "%s" instead.',e,i);else throw new Error("Can not resolve #include <"+e+">")}return WR(n)}const g0e=/#pragma unroll_loop_start\s+for\s*\(\s*int\s+i\s*=\s*(\d+)\s*;\s*i\s*<\s*(\d+)\s*;\s*i\s*\+\+\s*\)\s*{([\s\S]+?)}\s+#pragma unroll_loop_end/g;function FF(t){return t.replace(g0e,v0e)}function v0e(t,e,n,i){let r="";for(let s=parseInt(e);s<parseInt(n);s++)r+=i.replace(/\[\s*i\s*\]/g,"[ "+s+" ]").replace(/UNROLLED_LOOP_INDEX/g,s);return r}function zF(t){let e="precision "+t.precision+` float;
precision `+t.precision+" int;";return t.precision==="highp"?e+=`
#define HIGH_PRECISION`:t.precision==="mediump"?e+=`
#define MEDIUM_PRECISION`:t.precision==="lowp"&&(e+=`
#define LOW_PRECISION`),e}function y0e(t){let e="SHADOWMAP_TYPE_BASIC";return t.shadowMapType===Pw?e="SHADOWMAP_TYPE_PCF":t.shadowMapType===p0?e="SHADOWMAP_TYPE_PCF_SOFT":t.shadowMapType===qo&&(e="SHADOWMAP_TYPE_VSM"),e}function x0e(t){let e="ENVMAP_TYPE_CUBE";if(t.envMap)switch(t.envMapMode){case Wl:case cu:e="ENVMAP_TYPE_CUBE";break;case om:e="ENVMAP_TYPE_CUBE_UV";break}return e}function _0e(t){let e="ENVMAP_MODE_REFLECTION";if(t.envMap)switch(t.envMapMode){case cu:e="ENVMAP_MODE_REFRACTION";break}return e}function b0e(t){let e="ENVMAP_BLENDING_NONE";if(t.envMap)switch(t.combine){case ny:e="ENVMAP_BLENDING_MULTIPLY";break;case BW:e="ENVMAP_BLENDING_MIX";break;case HW:e="ENVMAP_BLENDING_ADD";break}return e}function S0e(t){const e=t.envMapCubeUVHeight;if(e===null)return null;const n=Math.log2(e)-2,i=1/e;return{texelWidth:1/(3*Math.max(Math.pow(2,n),7*16)),texelHeight:i,maxMip:n}}function w0e(t,e,n,i){const r=t.getContext(),s=n.defines;let o=n.vertexShader,a=n.fragmentShader;const l=y0e(n),c=x0e(n),u=_0e(n),d=b0e(n),f=S0e(n),m=n.isWebGL2?"":u0e(n),g=d0e(s),y=r.createProgram();let x,v,_=n.glslVersion?"#version "+n.glslVersion+`
`:"";n.isRawShaderMaterial?(x=["#define SHADER_TYPE "+n.shaderType,"#define SHADER_NAME "+n.shaderName,g].filter(Ug).join(`
`),x.length>0&&(x+=`
`),v=[m,"#define SHADER_TYPE "+n.shaderType,"#define SHADER_NAME "+n.shaderName,g].filter(Ug).join(`
`),v.length>0&&(v+=`
`)):(x=[zF(n),"#define SHADER_TYPE "+n.shaderType,"#define SHADER_NAME "+n.shaderName,g,n.batching?"#define USE_BATCHING":"",n.instancing?"#define USE_INSTANCING":"",n.instancingColor?"#define USE_INSTANCING_COLOR":"",n.useFog&&n.fog?"#define USE_FOG":"",n.useFog&&n.fogExp2?"#define FOG_EXP2":"",n.map?"#define USE_MAP":"",n.envMap?"#define USE_ENVMAP":"",n.envMap?"#define "+u:"",n.lightMap?"#define USE_LIGHTMAP":"",n.aoMap?"#define USE_AOMAP":"",n.bumpMap?"#define USE_BUMPMAP":"",n.normalMap?"#define USE_NORMALMAP":"",n.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",n.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",n.displacementMap?"#define USE_DISPLACEMENTMAP":"",n.emissiveMap?"#define USE_EMISSIVEMAP":"",n.anisotropy?"#define USE_ANISOTROPY":"",n.anisotropyMap?"#define USE_ANISOTROPYMAP":"",n.clearcoatMap?"#define USE_CLEARCOATMAP":"",n.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",n.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",n.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",n.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",n.specularMap?"#define USE_SPECULARMAP":"",n.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",n.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",n.roughnessMap?"#define USE_ROUGHNESSMAP":"",n.metalnessMap?"#define USE_METALNESSMAP":"",n.alphaMap?"#define USE_ALPHAMAP":"",n.alphaHash?"#define USE_ALPHAHASH":"",n.transmission?"#define USE_TRANSMISSION":"",n.transmissionMap?"#define USE_TRANSMISSIONMAP":"",n.thicknessMap?"#define USE_THICKNESSMAP":"",n.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",n.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",n.mapUv?"#define MAP_UV "+n.mapUv:"",n.alphaMapUv?"#define ALPHAMAP_UV "+n.alphaMapUv:"",n.lightMapUv?"#define LIGHTMAP_UV "+n.lightMapUv:"",n.aoMapUv?"#define AOMAP_UV "+n.aoMapUv:"",n.emissiveMapUv?"#define EMISSIVEMAP_UV "+n.emissiveMapUv:"",n.bumpMapUv?"#define BUMPMAP_UV "+n.bumpMapUv:"",n.normalMapUv?"#define NORMALMAP_UV "+n.normalMapUv:"",n.displacementMapUv?"#define DISPLACEMENTMAP_UV "+n.displacementMapUv:"",n.metalnessMapUv?"#define METALNESSMAP_UV "+n.metalnessMapUv:"",n.roughnessMapUv?"#define ROUGHNESSMAP_UV "+n.roughnessMapUv:"",n.anisotropyMapUv?"#define ANISOTROPYMAP_UV "+n.anisotropyMapUv:"",n.clearcoatMapUv?"#define CLEARCOATMAP_UV "+n.clearcoatMapUv:"",n.clearcoatNormalMapUv?"#define CLEARCOAT_NORMALMAP_UV "+n.clearcoatNormalMapUv:"",n.clearcoatRoughnessMapUv?"#define CLEARCOAT_ROUGHNESSMAP_UV "+n.clearcoatRoughnessMapUv:"",n.iridescenceMapUv?"#define IRIDESCENCEMAP_UV "+n.iridescenceMapUv:"",n.iridescenceThicknessMapUv?"#define IRIDESCENCE_THICKNESSMAP_UV "+n.iridescenceThicknessMapUv:"",n.sheenColorMapUv?"#define SHEEN_COLORMAP_UV "+n.sheenColorMapUv:"",n.sheenRoughnessMapUv?"#define SHEEN_ROUGHNESSMAP_UV "+n.sheenRoughnessMapUv:"",n.specularMapUv?"#define SPECULARMAP_UV "+n.specularMapUv:"",n.specularColorMapUv?"#define SPECULAR_COLORMAP_UV "+n.specularColorMapUv:"",n.specularIntensityMapUv?"#define SPECULAR_INTENSITYMAP_UV "+n.specularIntensityMapUv:"",n.transmissionMapUv?"#define TRANSMISSIONMAP_UV "+n.transmissionMapUv:"",n.thicknessMapUv?"#define THICKNESSMAP_UV "+n.thicknessMapUv:"",n.vertexTangents&&n.flatShading===!1?"#define USE_TANGENT":"",n.vertexColors?"#define USE_COLOR":"",n.vertexAlphas?"#define USE_COLOR_ALPHA":"",n.vertexUv1s?"#define USE_UV1":"",n.vertexUv2s?"#define USE_UV2":"",n.vertexUv3s?"#define USE_UV3":"",n.pointsUvs?"#define USE_POINTS_UV":"",n.flatShading?"#define FLAT_SHADED":"",n.skinning?"#define USE_SKINNING":"",n.morphTargets?"#define USE_MORPHTARGETS":"",n.morphNormals&&n.flatShading===!1?"#define USE_MORPHNORMALS":"",n.morphColors&&n.isWebGL2?"#define USE_MORPHCOLORS":"",n.morphTargetsCount>0&&n.isWebGL2?"#define MORPHTARGETS_TEXTURE":"",n.morphTargetsCount>0&&n.isWebGL2?"#define MORPHTARGETS_TEXTURE_STRIDE "+n.morphTextureStride:"",n.morphTargetsCount>0&&n.isWebGL2?"#define MORPHTARGETS_COUNT "+n.morphTargetsCount:"",n.doubleSided?"#define DOUBLE_SIDED":"",n.flipSided?"#define FLIP_SIDED":"",n.shadowMapEnabled?"#define USE_SHADOWMAP":"",n.shadowMapEnabled?"#define "+l:"",n.sizeAttenuation?"#define USE_SIZEATTENUATION":"",n.numLightProbes>0?"#define USE_LIGHT_PROBES":"",n.useLegacyLights?"#define LEGACY_LIGHTS":"",n.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",n.logarithmicDepthBuffer&&n.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;","#ifdef USE_INSTANCING","	attribute mat4 instanceMatrix;","#endif","#ifdef USE_INSTANCING_COLOR","	attribute vec3 instanceColor;","#endif","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_UV1","	attribute vec2 uv1;","#endif","#ifdef USE_UV2","	attribute vec2 uv2;","#endif","#ifdef USE_UV3","	attribute vec2 uv3;","#endif","#ifdef USE_TANGENT","	attribute vec4 tangent;","#endif","#if defined( USE_COLOR_ALPHA )","	attribute vec4 color;","#elif defined( USE_COLOR )","	attribute vec3 color;","#endif","#if ( defined( USE_MORPHTARGETS ) && ! defined( MORPHTARGETS_TEXTURE ) )","	attribute vec3 morphTarget0;","	attribute vec3 morphTarget1;","	attribute vec3 morphTarget2;","	attribute vec3 morphTarget3;","	#ifdef USE_MORPHNORMALS","		attribute vec3 morphNormal0;","		attribute vec3 morphNormal1;","		attribute vec3 morphNormal2;","		attribute vec3 morphNormal3;","	#else","		attribute vec3 morphTarget4;","		attribute vec3 morphTarget5;","		attribute vec3 morphTarget6;","		attribute vec3 morphTarget7;","	#endif","#endif","#ifdef USE_SKINNING","	attribute vec4 skinIndex;","	attribute vec4 skinWeight;","#endif",`
`].filter(Ug).join(`
`),v=[m,zF(n),"#define SHADER_TYPE "+n.shaderType,"#define SHADER_NAME "+n.shaderName,g,n.useFog&&n.fog?"#define USE_FOG":"",n.useFog&&n.fogExp2?"#define FOG_EXP2":"",n.map?"#define USE_MAP":"",n.matcap?"#define USE_MATCAP":"",n.envMap?"#define USE_ENVMAP":"",n.envMap?"#define "+c:"",n.envMap?"#define "+u:"",n.envMap?"#define "+d:"",f?"#define CUBEUV_TEXEL_WIDTH "+f.texelWidth:"",f?"#define CUBEUV_TEXEL_HEIGHT "+f.texelHeight:"",f?"#define CUBEUV_MAX_MIP "+f.maxMip+".0":"",n.lightMap?"#define USE_LIGHTMAP":"",n.aoMap?"#define USE_AOMAP":"",n.bumpMap?"#define USE_BUMPMAP":"",n.normalMap?"#define USE_NORMALMAP":"",n.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",n.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",n.emissiveMap?"#define USE_EMISSIVEMAP":"",n.anisotropy?"#define USE_ANISOTROPY":"",n.anisotropyMap?"#define USE_ANISOTROPYMAP":"",n.clearcoat?"#define USE_CLEARCOAT":"",n.clearcoatMap?"#define USE_CLEARCOATMAP":"",n.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",n.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",n.iridescence?"#define USE_IRIDESCENCE":"",n.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",n.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",n.specularMap?"#define USE_SPECULARMAP":"",n.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",n.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",n.roughnessMap?"#define USE_ROUGHNESSMAP":"",n.metalnessMap?"#define USE_METALNESSMAP":"",n.alphaMap?"#define USE_ALPHAMAP":"",n.alphaTest?"#define USE_ALPHATEST":"",n.alphaHash?"#define USE_ALPHAHASH":"",n.sheen?"#define USE_SHEEN":"",n.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",n.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",n.transmission?"#define USE_TRANSMISSION":"",n.transmissionMap?"#define USE_TRANSMISSIONMAP":"",n.thicknessMap?"#define USE_THICKNESSMAP":"",n.vertexTangents&&n.flatShading===!1?"#define USE_TANGENT":"",n.vertexColors||n.instancingColor?"#define USE_COLOR":"",n.vertexAlphas?"#define USE_COLOR_ALPHA":"",n.vertexUv1s?"#define USE_UV1":"",n.vertexUv2s?"#define USE_UV2":"",n.vertexUv3s?"#define USE_UV3":"",n.pointsUvs?"#define USE_POINTS_UV":"",n.gradientMap?"#define USE_GRADIENTMAP":"",n.flatShading?"#define FLAT_SHADED":"",n.doubleSided?"#define DOUBLE_SIDED":"",n.flipSided?"#define FLIP_SIDED":"",n.shadowMapEnabled?"#define USE_SHADOWMAP":"",n.shadowMapEnabled?"#define "+l:"",n.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",n.numLightProbes>0?"#define USE_LIGHT_PROBES":"",n.useLegacyLights?"#define LEGACY_LIGHTS":"",n.decodeVideoTexture?"#define DECODE_VIDEO_TEXTURE":"",n.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",n.logarithmicDepthBuffer&&n.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;",n.toneMapping!==Ha?"#define TONE_MAPPING":"",n.toneMapping!==Ha?Yt.tonemapping_pars_fragment:"",n.toneMapping!==Ha?c0e("toneMapping",n.toneMapping):"",n.dithering?"#define DITHERING":"",n.opaque?"#define OPAQUE":"",Yt.colorspace_pars_fragment,l0e("linearToOutputTexel",n.outputColorSpace),n.useDepthPacking?"#define DEPTH_PACKING "+n.depthPacking:"",`
`].filter(Ug).join(`
`)),o=WR(o),o=OF(o,n),o=NF(o,n),a=WR(a),a=OF(a,n),a=NF(a,n),o=FF(o),a=FF(a),n.isWebGL2&&n.isRawShaderMaterial!==!0&&(_=`#version 300 es
`,x=["precision mediump sampler2DArray;","#define attribute in","#define varying out","#define texture2D texture"].join(`
`)+`
`+x,v=["precision mediump sampler2DArray;","#define varying in",n.glslVersion===HR?"":"layout(location = 0) out highp vec4 pc_fragColor;",n.glslVersion===HR?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth","#define texture2D texture","#define textureCube texture","#define texture2DProj textureProj","#define texture2DLodEXT textureLod","#define texture2DProjLodEXT textureProjLod","#define textureCubeLodEXT textureLod","#define texture2DGradEXT textureGrad","#define texture2DProjGradEXT textureProjGrad","#define textureCubeGradEXT textureGrad"].join(`
`)+`
`+v);const b=_+x+o,w=_+v+a,C=LF(r,r.VERTEX_SHADER,b),T=LF(r,r.FRAGMENT_SHADER,w);r.attachShader(y,C),r.attachShader(y,T),n.index0AttributeName!==void 0?r.bindAttribLocation(y,0,n.index0AttributeName):n.morphTargets===!0&&r.bindAttribLocation(y,0,"position"),r.linkProgram(y);function R(O){if(t.debug.checkShaderErrors){const H=r.getProgramInfoLog(y).trim(),q=r.getShaderInfoLog(C).trim(),U=r.getShaderInfoLog(T).trim();let G=!0,Q=!0;if(r.getProgramParameter(y,r.LINK_STATUS)===!1)if(G=!1,typeof t.debug.onShaderError=="function")t.debug.onShaderError(r,y,C,T);else{const J=DF(r,C,"vertex"),N=DF(r,T,"fragment");console.error("THREE.WebGLProgram: Shader Error "+r.getError()+" - VALIDATE_STATUS "+r.getProgramParameter(y,r.VALIDATE_STATUS)+`

Program Info Log: `+H+`
`+J+`
`+N)}else H!==""?console.warn("THREE.WebGLProgram: Program Info Log:",H):(q===""||U==="")&&(Q=!1);Q&&(O.diagnostics={runnable:G,programLog:H,vertexShader:{log:q,prefix:x},fragmentShader:{log:U,prefix:v}})}r.deleteShader(C),r.deleteShader(T),I=new Wb(r,y),A=f0e(r,y)}let I;this.getUniforms=function(){return I===void 0&&R(this),I};let A;this.getAttributes=function(){return A===void 0&&R(this),A};let L=n.rendererExtensionParallelShaderCompile===!1;return this.isReady=function(){return L===!1&&(L=r.getProgramParameter(y,r0e)),L},this.destroy=function(){i.releaseStatesOfProgram(this),r.deleteProgram(y),this.program=void 0},this.type=n.shaderType,this.name=n.shaderName,this.id=s0e++,this.cacheKey=e,this.usedTimes=1,this.program=y,this.vertexShader=C,this.fragmentShader=T,this}let M0e=0;class E0e{constructor(){this.shaderCache=new Map,this.materialCache=new Map}update(e){const n=e.vertexShader,i=e.fragmentShader,r=this._getShaderStage(n),s=this._getShaderStage(i),o=this._getShaderCacheForMaterial(e);return o.has(r)===!1&&(o.add(r),r.usedTimes++),o.has(s)===!1&&(o.add(s),s.usedTimes++),this}remove(e){const n=this.materialCache.get(e);for(const i of n)i.usedTimes--,i.usedTimes===0&&this.shaderCache.delete(i.code);return this.materialCache.delete(e),this}getVertexShaderID(e){return this._getShaderStage(e.vertexShader).id}getFragmentShaderID(e){return this._getShaderStage(e.fragmentShader).id}dispose(){this.shaderCache.clear(),this.materialCache.clear()}_getShaderCacheForMaterial(e){const n=this.materialCache;let i=n.get(e);return i===void 0&&(i=new Set,n.set(e,i)),i}_getShaderStage(e){const n=this.shaderCache;let i=n.get(e);return i===void 0&&(i=new T0e(e),n.set(e,i)),i}}class T0e{constructor(e){this.id=M0e++,this.code=e,this.usedTimes=0}}function C0e(t,e,n,i,r,s,o){const a=new zd,l=new E0e,c=[],u=r.isWebGL2,d=r.logarithmicDepthBuffer,f=r.vertexTextures;let m=r.precision;const g={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"toon",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"};function y(A){return A===0?"uv":`uv${A}`}function x(A,L,O,H,q){const U=H.fog,G=q.geometry,Q=A.isMeshStandardMaterial?H.environment:null,J=(A.isMeshStandardMaterial?n:e).get(A.envMap||Q),N=J&&J.mapping===om?J.image.height:null,B=g[A.type];A.precision!==null&&(m=r.getMaxPrecision(A.precision),m!==A.precision&&console.warn("THREE.WebGLProgram.getParameters:",A.precision,"not supported, using",m,"instead."));const j=G.morphAttributes.position||G.morphAttributes.normal||G.morphAttributes.color,te=j!==void 0?j.length:0;let se=0;G.morphAttributes.position!==void 0&&(se=1),G.morphAttributes.normal!==void 0&&(se=2),G.morphAttributes.color!==void 0&&(se=3);let ne,ae,xe,Ee;if(B){const ht=ea[B];ne=ht.vertexShader,ae=ht.fragmentShader}else ne=A.vertexShader,ae=A.fragmentShader,l.update(A),xe=l.getVertexShaderID(A),Ee=l.getFragmentShaderID(A);const Oe=t.getRenderTarget(),ut=q.isInstancedMesh===!0,qe=q.isBatchedMesh===!0,Xe=!!A.map,Ie=!!A.matcap,Z=!!J,_e=!!A.aoMap,de=!!A.lightMap,be=!!A.bumpMap,Pe=!!A.normalMap,Ke=!!A.displacementMap,ze=!!A.emissiveMap,Ge=!!A.metalnessMap,Ye=!!A.roughnessMap,st=A.anisotropy>0,Xt=A.clearcoat>0,$=A.iridescence>0,F=A.sheen>0,ee=A.transmission>0,fe=st&&!!A.anisotropyMap,he=Xt&&!!A.clearcoatMap,me=Xt&&!!A.clearcoatNormalMap,we=Xt&&!!A.clearcoatRoughnessMap,Le=$&&!!A.iridescenceMap,De=$&&!!A.iridescenceThicknessMap,Qe=F&&!!A.sheenColorMap,Ne=F&&!!A.sheenRoughnessMap,Ce=!!A.specularMap,wt=!!A.specularColorMap,pt=!!A.specularIntensityMap,Mt=ee&&!!A.transmissionMap,Et=ee&&!!A.thicknessMap,ft=!!A.gradientMap,Vt=!!A.alphaMap,oe=A.alphaTest>0,nt=!!A.alphaHash,Y=!!A.extensions,X=!!G.attributes.uv1,re=!!G.attributes.uv2,Re=!!G.attributes.uv3;let Fe=Ha;return A.toneMapped&&(Oe===null||Oe.isXRRenderTarget===!0)&&(Fe=t.toneMapping),{isWebGL2:u,shaderID:B,shaderType:A.type,shaderName:A.name,vertexShader:ne,fragmentShader:ae,defines:A.defines,customVertexShaderID:xe,customFragmentShaderID:Ee,isRawShaderMaterial:A.isRawShaderMaterial===!0,glslVersion:A.glslVersion,precision:m,batching:qe,instancing:ut,instancingColor:ut&&q.instanceColor!==null,supportsVertexTextures:f,outputColorSpace:Oe===null?t.outputColorSpace:Oe.isXRRenderTarget===!0?Oe.texture.colorSpace:Xa,map:Xe,matcap:Ie,envMap:Z,envMapMode:Z&&J.mapping,envMapCubeUVHeight:N,aoMap:_e,lightMap:de,bumpMap:be,normalMap:Pe,displacementMap:f&&Ke,emissiveMap:ze,normalMapObjectSpace:Pe&&A.normalMapType===r6,normalMapTangentSpace:Pe&&A.normalMapType===Mu,metalnessMap:Ge,roughnessMap:Ye,anisotropy:st,anisotropyMap:fe,clearcoat:Xt,clearcoatMap:he,clearcoatNormalMap:me,clearcoatRoughnessMap:we,iridescence:$,iridescenceMap:Le,iridescenceThicknessMap:De,sheen:F,sheenColorMap:Qe,sheenRoughnessMap:Ne,specularMap:Ce,specularColorMap:wt,specularIntensityMap:pt,transmission:ee,transmissionMap:Mt,thicknessMap:Et,gradientMap:ft,opaque:A.transparent===!1&&A.blending===Nd,alphaMap:Vt,alphaTest:oe,alphaHash:nt,combine:A.combine,mapUv:Xe&&y(A.map.channel),aoMapUv:_e&&y(A.aoMap.channel),lightMapUv:de&&y(A.lightMap.channel),bumpMapUv:be&&y(A.bumpMap.channel),normalMapUv:Pe&&y(A.normalMap.channel),displacementMapUv:Ke&&y(A.displacementMap.channel),emissiveMapUv:ze&&y(A.emissiveMap.channel),metalnessMapUv:Ge&&y(A.metalnessMap.channel),roughnessMapUv:Ye&&y(A.roughnessMap.channel),anisotropyMapUv:fe&&y(A.anisotropyMap.channel),clearcoatMapUv:he&&y(A.clearcoatMap.channel),clearcoatNormalMapUv:me&&y(A.clearcoatNormalMap.channel),clearcoatRoughnessMapUv:we&&y(A.clearcoatRoughnessMap.channel),iridescenceMapUv:Le&&y(A.iridescenceMap.channel),iridescenceThicknessMapUv:De&&y(A.iridescenceThicknessMap.channel),sheenColorMapUv:Qe&&y(A.sheenColorMap.channel),sheenRoughnessMapUv:Ne&&y(A.sheenRoughnessMap.channel),specularMapUv:Ce&&y(A.specularMap.channel),specularColorMapUv:wt&&y(A.specularColorMap.channel),specularIntensityMapUv:pt&&y(A.specularIntensityMap.channel),transmissionMapUv:Mt&&y(A.transmissionMap.channel),thicknessMapUv:Et&&y(A.thicknessMap.channel),alphaMapUv:Vt&&y(A.alphaMap.channel),vertexTangents:!!G.attributes.tangent&&(Pe||st),vertexColors:A.vertexColors,vertexAlphas:A.vertexColors===!0&&!!G.attributes.color&&G.attributes.color.itemSize===4,vertexUv1s:X,vertexUv2s:re,vertexUv3s:Re,pointsUvs:q.isPoints===!0&&!!G.attributes.uv&&(Xe||Vt),fog:!!U,useFog:A.fog===!0,fogExp2:U&&U.isFogExp2,flatShading:A.flatShading===!0,sizeAttenuation:A.sizeAttenuation===!0,logarithmicDepthBuffer:d,skinning:q.isSkinnedMesh===!0,morphTargets:G.morphAttributes.position!==void 0,morphNormals:G.morphAttributes.normal!==void 0,morphColors:G.morphAttributes.color!==void 0,morphTargetsCount:te,morphTextureStride:se,numDirLights:L.directional.length,numPointLights:L.point.length,numSpotLights:L.spot.length,numSpotLightMaps:L.spotLightMap.length,numRectAreaLights:L.rectArea.length,numHemiLights:L.hemi.length,numDirLightShadows:L.directionalShadowMap.length,numPointLightShadows:L.pointShadowMap.length,numSpotLightShadows:L.spotShadowMap.length,numSpotLightShadowsWithMaps:L.numSpotLightShadowsWithMaps,numLightProbes:L.numLightProbes,numClippingPlanes:o.numPlanes,numClipIntersection:o.numIntersection,dithering:A.dithering,shadowMapEnabled:t.shadowMap.enabled&&O.length>0,shadowMapType:t.shadowMap.type,toneMapping:Fe,useLegacyLights:t._useLegacyLights,decodeVideoTexture:Xe&&A.map.isVideoTexture===!0&&An.getTransfer(A.map.colorSpace)===jn,premultipliedAlpha:A.premultipliedAlpha,doubleSided:A.side===Es,flipSided:A.side===Zi,useDepthPacking:A.depthPacking>=0,depthPacking:A.depthPacking||0,index0AttributeName:A.index0AttributeName,extensionDerivatives:Y&&A.extensions.derivatives===!0,extensionFragDepth:Y&&A.extensions.fragDepth===!0,extensionDrawBuffers:Y&&A.extensions.drawBuffers===!0,extensionShaderTextureLOD:Y&&A.extensions.shaderTextureLOD===!0,rendererExtensionFragDepth:u||i.has("EXT_frag_depth"),rendererExtensionDrawBuffers:u||i.has("WEBGL_draw_buffers"),rendererExtensionShaderTextureLod:u||i.has("EXT_shader_texture_lod"),rendererExtensionParallelShaderCompile:i.has("KHR_parallel_shader_compile"),customProgramCacheKey:A.customProgramCacheKey()}}function v(A){const L=[];if(A.shaderID?L.push(A.shaderID):(L.push(A.customVertexShaderID),L.push(A.customFragmentShaderID)),A.defines!==void 0)for(const O in A.defines)L.push(O),L.push(A.defines[O]);return A.isRawShaderMaterial===!1&&(_(L,A),b(L,A),L.push(t.outputColorSpace)),L.push(A.customProgramCacheKey),L.join()}function _(A,L){A.push(L.precision),A.push(L.outputColorSpace),A.push(L.envMapMode),A.push(L.envMapCubeUVHeight),A.push(L.mapUv),A.push(L.alphaMapUv),A.push(L.lightMapUv),A.push(L.aoMapUv),A.push(L.bumpMapUv),A.push(L.normalMapUv),A.push(L.displacementMapUv),A.push(L.emissiveMapUv),A.push(L.metalnessMapUv),A.push(L.roughnessMapUv),A.push(L.anisotropyMapUv),A.push(L.clearcoatMapUv),A.push(L.clearcoatNormalMapUv),A.push(L.clearcoatRoughnessMapUv),A.push(L.iridescenceMapUv),A.push(L.iridescenceThicknessMapUv),A.push(L.sheenColorMapUv),A.push(L.sheenRoughnessMapUv),A.push(L.specularMapUv),A.push(L.specularColorMapUv),A.push(L.specularIntensityMapUv),A.push(L.transmissionMapUv),A.push(L.thicknessMapUv),A.push(L.combine),A.push(L.fogExp2),A.push(L.sizeAttenuation),A.push(L.morphTargetsCount),A.push(L.morphAttributeCount),A.push(L.numDirLights),A.push(L.numPointLights),A.push(L.numSpotLights),A.push(L.numSpotLightMaps),A.push(L.numHemiLights),A.push(L.numRectAreaLights),A.push(L.numDirLightShadows),A.push(L.numPointLightShadows),A.push(L.numSpotLightShadows),A.push(L.numSpotLightShadowsWithMaps),A.push(L.numLightProbes),A.push(L.shadowMapType),A.push(L.toneMapping),A.push(L.numClippingPlanes),A.push(L.numClipIntersection),A.push(L.depthPacking)}function b(A,L){a.disableAll(),L.isWebGL2&&a.enable(0),L.supportsVertexTextures&&a.enable(1),L.instancing&&a.enable(2),L.instancingColor&&a.enable(3),L.matcap&&a.enable(4),L.envMap&&a.enable(5),L.normalMapObjectSpace&&a.enable(6),L.normalMapTangentSpace&&a.enable(7),L.clearcoat&&a.enable(8),L.iridescence&&a.enable(9),L.alphaTest&&a.enable(10),L.vertexColors&&a.enable(11),L.vertexAlphas&&a.enable(12),L.vertexUv1s&&a.enable(13),L.vertexUv2s&&a.enable(14),L.vertexUv3s&&a.enable(15),L.vertexTangents&&a.enable(16),L.anisotropy&&a.enable(17),L.alphaHash&&a.enable(18),L.batching&&a.enable(19),A.push(a.mask),a.disableAll(),L.fog&&a.enable(0),L.useFog&&a.enable(1),L.flatShading&&a.enable(2),L.logarithmicDepthBuffer&&a.enable(3),L.skinning&&a.enable(4),L.morphTargets&&a.enable(5),L.morphNormals&&a.enable(6),L.morphColors&&a.enable(7),L.premultipliedAlpha&&a.enable(8),L.shadowMapEnabled&&a.enable(9),L.useLegacyLights&&a.enable(10),L.doubleSided&&a.enable(11),L.flipSided&&a.enable(12),L.useDepthPacking&&a.enable(13),L.dithering&&a.enable(14),L.transmission&&a.enable(15),L.sheen&&a.enable(16),L.opaque&&a.enable(17),L.pointsUvs&&a.enable(18),L.decodeVideoTexture&&a.enable(19),A.push(a.mask)}function w(A){const L=g[A.type];let O;if(L){const H=ea[L];O=v6.clone(H.uniforms)}else O=A.uniforms;return O}function C(A,L){let O;for(let H=0,q=c.length;H<q;H++){const U=c[H];if(U.cacheKey===L){O=U,++O.usedTimes;break}}return O===void 0&&(O=new w0e(t,L,A,s),c.push(O)),O}function T(A){if(--A.usedTimes===0){const L=c.indexOf(A);c[L]=c[c.length-1],c.pop(),A.destroy()}}function R(A){l.remove(A)}function I(){l.dispose()}return{getParameters:x,getProgramCacheKey:v,getUniforms:w,acquireProgram:C,releaseProgram:T,releaseShaderCache:R,programs:c,dispose:I}}function R0e(){let t=new WeakMap;function e(s){let o=t.get(s);return o===void 0&&(o={},t.set(s,o)),o}function n(s){t.delete(s)}function i(s,o,a){t.get(s)[o]=a}function r(){t=new WeakMap}return{get:e,remove:n,update:i,dispose:r}}function A0e(t,e){return t.groupOrder!==e.groupOrder?t.groupOrder-e.groupOrder:t.renderOrder!==e.renderOrder?t.renderOrder-e.renderOrder:t.material.id!==e.material.id?t.material.id-e.material.id:t.z!==e.z?t.z-e.z:t.id-e.id}function UF(t,e){return t.groupOrder!==e.groupOrder?t.groupOrder-e.groupOrder:t.renderOrder!==e.renderOrder?t.renderOrder-e.renderOrder:t.z!==e.z?e.z-t.z:t.id-e.id}function BF(){const t=[];let e=0;const n=[],i=[],r=[];function s(){e=0,n.length=0,i.length=0,r.length=0}function o(d,f,m,g,y,x){let v=t[e];return v===void 0?(v={id:d.id,object:d,geometry:f,material:m,groupOrder:g,renderOrder:d.renderOrder,z:y,group:x},t[e]=v):(v.id=d.id,v.object=d,v.geometry=f,v.material=m,v.groupOrder=g,v.renderOrder=d.renderOrder,v.z=y,v.group=x),e++,v}function a(d,f,m,g,y,x){const v=o(d,f,m,g,y,x);m.transmission>0?i.push(v):m.transparent===!0?r.push(v):n.push(v)}function l(d,f,m,g,y,x){const v=o(d,f,m,g,y,x);m.transmission>0?i.unshift(v):m.transparent===!0?r.unshift(v):n.unshift(v)}function c(d,f){n.length>1&&n.sort(d||A0e),i.length>1&&i.sort(f||UF),r.length>1&&r.sort(f||UF)}function u(){for(let d=e,f=t.length;d<f;d++){const m=t[d];if(m.id===null)break;m.id=null,m.object=null,m.geometry=null,m.material=null,m.group=null}}return{opaque:n,transmissive:i,transparent:r,init:s,push:a,unshift:l,finish:u,sort:c}}function P0e(){let t=new WeakMap;function e(i,r){const s=t.get(i);let o;return s===void 0?(o=new BF,t.set(i,[o])):r>=s.length?(o=new BF,s.push(o)):o=s[r],o}function n(){t=new WeakMap}return{get:e,dispose:n}}function k0e(){const t={};return{get:function(e){if(t[e.id]!==void 0)return t[e.id];let n;switch(e.type){case"DirectionalLight":n={direction:new W,color:new Be};break;case"SpotLight":n={position:new W,direction:new W,color:new Be,distance:0,coneCos:0,penumbraCos:0,decay:0};break;case"PointLight":n={position:new W,color:new Be,distance:0,decay:0};break;case"HemisphereLight":n={direction:new W,skyColor:new Be,groundColor:new Be};break;case"RectAreaLight":n={color:new Be,position:new W,halfWidth:new W,halfHeight:new W};break}return t[e.id]=n,n}}}function I0e(){const t={};return{get:function(e){if(t[e.id]!==void 0)return t[e.id];let n;switch(e.type){case"DirectionalLight":n={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Ae};break;case"SpotLight":n={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Ae};break;case"PointLight":n={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Ae,shadowCameraNear:1,shadowCameraFar:1e3};break}return t[e.id]=n,n}}}let L0e=0;function D0e(t,e){return(e.castShadow?2:0)-(t.castShadow?2:0)+(e.map?1:0)-(t.map?1:0)}function O0e(t,e){const n=new k0e,i=I0e(),r={version:0,hash:{directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1,numSpotMaps:-1,numLightProbes:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadow:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotLightMap:[],spotShadow:[],spotShadowMap:[],spotLightMatrix:[],rectArea:[],rectAreaLTC1:null,rectAreaLTC2:null,point:[],pointShadow:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[],numSpotLightShadowsWithMaps:0,numLightProbes:0};for(let u=0;u<9;u++)r.probe.push(new W);const s=new W,o=new Ut,a=new Ut;function l(u,d){let f=0,m=0,g=0;for(let H=0;H<9;H++)r.probe[H].set(0,0,0);let y=0,x=0,v=0,_=0,b=0,w=0,C=0,T=0,R=0,I=0,A=0;u.sort(D0e);const L=d===!0?Math.PI:1;for(let H=0,q=u.length;H<q;H++){const U=u[H],G=U.color,Q=U.intensity,J=U.distance,N=U.shadow&&U.shadow.map?U.shadow.map.texture:null;if(U.isAmbientLight)f+=G.r*Q*L,m+=G.g*Q*L,g+=G.b*Q*L;else if(U.isLightProbe){for(let B=0;B<9;B++)r.probe[B].addScaledVector(U.sh.coefficients[B],Q);A++}else if(U.isDirectionalLight){const B=n.get(U);if(B.color.copy(U.color).multiplyScalar(U.intensity*L),U.castShadow){const j=U.shadow,te=i.get(U);te.shadowBias=j.bias,te.shadowNormalBias=j.normalBias,te.shadowRadius=j.radius,te.shadowMapSize=j.mapSize,r.directionalShadow[y]=te,r.directionalShadowMap[y]=N,r.directionalShadowMatrix[y]=U.shadow.matrix,w++}r.directional[y]=B,y++}else if(U.isSpotLight){const B=n.get(U);B.position.setFromMatrixPosition(U.matrixWorld),B.color.copy(G).multiplyScalar(Q*L),B.distance=J,B.coneCos=Math.cos(U.angle),B.penumbraCos=Math.cos(U.angle*(1-U.penumbra)),B.decay=U.decay,r.spot[v]=B;const j=U.shadow;if(U.map&&(r.spotLightMap[R]=U.map,R++,j.updateMatrices(U),U.castShadow&&I++),r.spotLightMatrix[v]=j.matrix,U.castShadow){const te=i.get(U);te.shadowBias=j.bias,te.shadowNormalBias=j.normalBias,te.shadowRadius=j.radius,te.shadowMapSize=j.mapSize,r.spotShadow[v]=te,r.spotShadowMap[v]=N,T++}v++}else if(U.isRectAreaLight){const B=n.get(U);B.color.copy(G).multiplyScalar(Q),B.halfWidth.set(U.width*.5,0,0),B.halfHeight.set(0,U.height*.5,0),r.rectArea[_]=B,_++}else if(U.isPointLight){const B=n.get(U);if(B.color.copy(U.color).multiplyScalar(U.intensity*L),B.distance=U.distance,B.decay=U.decay,U.castShadow){const j=U.shadow,te=i.get(U);te.shadowBias=j.bias,te.shadowNormalBias=j.normalBias,te.shadowRadius=j.radius,te.shadowMapSize=j.mapSize,te.shadowCameraNear=j.camera.near,te.shadowCameraFar=j.camera.far,r.pointShadow[x]=te,r.pointShadowMap[x]=N,r.pointShadowMatrix[x]=U.shadow.matrix,C++}r.point[x]=B,x++}else if(U.isHemisphereLight){const B=n.get(U);B.skyColor.copy(U.color).multiplyScalar(Q*L),B.groundColor.copy(U.groundColor).multiplyScalar(Q*L),r.hemi[b]=B,b++}}_>0&&(e.isWebGL2||t.has("OES_texture_float_linear")===!0?(r.rectAreaLTC1=et.LTC_FLOAT_1,r.rectAreaLTC2=et.LTC_FLOAT_2):t.has("OES_texture_half_float_linear")===!0?(r.rectAreaLTC1=et.LTC_HALF_1,r.rectAreaLTC2=et.LTC_HALF_2):console.error("THREE.WebGLRenderer: Unable to use RectAreaLight. Missing WebGL extensions.")),r.ambient[0]=f,r.ambient[1]=m,r.ambient[2]=g;const O=r.hash;(O.directionalLength!==y||O.pointLength!==x||O.spotLength!==v||O.rectAreaLength!==_||O.hemiLength!==b||O.numDirectionalShadows!==w||O.numPointShadows!==C||O.numSpotShadows!==T||O.numSpotMaps!==R||O.numLightProbes!==A)&&(r.directional.length=y,r.spot.length=v,r.rectArea.length=_,r.point.length=x,r.hemi.length=b,r.directionalShadow.length=w,r.directionalShadowMap.length=w,r.pointShadow.length=C,r.pointShadowMap.length=C,r.spotShadow.length=T,r.spotShadowMap.length=T,r.directionalShadowMatrix.length=w,r.pointShadowMatrix.length=C,r.spotLightMatrix.length=T+R-I,r.spotLightMap.length=R,r.numSpotLightShadowsWithMaps=I,r.numLightProbes=A,O.directionalLength=y,O.pointLength=x,O.spotLength=v,O.rectAreaLength=_,O.hemiLength=b,O.numDirectionalShadows=w,O.numPointShadows=C,O.numSpotShadows=T,O.numSpotMaps=R,O.numLightProbes=A,r.version=L0e++)}function c(u,d){let f=0,m=0,g=0,y=0,x=0;const v=d.matrixWorldInverse;for(let _=0,b=u.length;_<b;_++){const w=u[_];if(w.isDirectionalLight){const C=r.directional[f];C.direction.setFromMatrixPosition(w.matrixWorld),s.setFromMatrixPosition(w.target.matrixWorld),C.direction.sub(s),C.direction.transformDirection(v),f++}else if(w.isSpotLight){const C=r.spot[g];C.position.setFromMatrixPosition(w.matrixWorld),C.position.applyMatrix4(v),C.direction.setFromMatrixPosition(w.matrixWorld),s.setFromMatrixPosition(w.target.matrixWorld),C.direction.sub(s),C.direction.transformDirection(v),g++}else if(w.isRectAreaLight){const C=r.rectArea[y];C.position.setFromMatrixPosition(w.matrixWorld),C.position.applyMatrix4(v),a.identity(),o.copy(w.matrixWorld),o.premultiply(v),a.extractRotation(o),C.halfWidth.set(w.width*.5,0,0),C.halfHeight.set(0,w.height*.5,0),C.halfWidth.applyMatrix4(a),C.halfHeight.applyMatrix4(a),y++}else if(w.isPointLight){const C=r.point[m];C.position.setFromMatrixPosition(w.matrixWorld),C.position.applyMatrix4(v),m++}else if(w.isHemisphereLight){const C=r.hemi[x];C.direction.setFromMatrixPosition(w.matrixWorld),C.direction.transformDirection(v),x++}}}return{setup:l,setupView:c,state:r}}function HF(t,e){const n=new O0e(t,e),i=[],r=[];function s(){i.length=0,r.length=0}function o(d){i.push(d)}function a(d){r.push(d)}function l(d){n.setup(i,d)}function c(d){n.setupView(i,d)}return{init:s,state:{lightsArray:i,shadowsArray:r,lights:n},setupLights:l,setupLightsView:c,pushLight:o,pushShadow:a}}function N0e(t,e){let n=new WeakMap;function i(s,o=0){const a=n.get(s);let l;return a===void 0?(l=new HF(t,e),n.set(s,[l])):o>=a.length?(l=new HF(t,e),a.push(l)):l=a[o],l}function r(){n=new WeakMap}return{get:i,dispose:r}}class Uw extends ir{constructor(e){super(),this.isMeshDepthMaterial=!0,this.type="MeshDepthMaterial",this.depthPacking=la,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.setValues(e)}copy(e){return super.copy(e),this.depthPacking=e.depthPacking,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this}}class iI extends ir{constructor(e){super(),this.isMeshDistanceMaterial=!0,this.type="MeshDistanceMaterial",this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.setValues(e)}copy(e){return super.copy(e),this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this}}const F0e=`void main() {
	gl_Position = vec4( position, 1.0 );
}`,z0e=`uniform sampler2D shadow_pass;
uniform vec2 resolution;
uniform float radius;
#include <packing>
void main() {
	const float samples = float( VSM_SAMPLES );
	float mean = 0.0;
	float squared_mean = 0.0;
	float uvStride = samples <= 1.0 ? 0.0 : 2.0 / ( samples - 1.0 );
	float uvStart = samples <= 1.0 ? 0.0 : - 1.0;
	for ( float i = 0.0; i < samples; i ++ ) {
		float uvOffset = uvStart + i * uvStride;
		#ifdef HORIZONTAL_PASS
			vec2 distribution = unpackRGBATo2Half( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( uvOffset, 0.0 ) * radius ) / resolution ) );
			mean += distribution.x;
			squared_mean += distribution.y * distribution.y + distribution.x * distribution.x;
		#else
			float depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0, uvOffset ) * radius ) / resolution ) );
			mean += depth;
			squared_mean += depth * depth;
		#endif
	}
	mean = mean / samples;
	squared_mean = squared_mean / samples;
	float std_dev = sqrt( squared_mean - mean * mean );
	gl_FragColor = pack2HalfToRGBA( vec2( mean, std_dev ) );
}`;function U0e(t,e,n){let i=new oy;const r=new Ae,s=new Ae,o=new wn,a=new Uw({depthPacking:Ow}),l=new iI,c={},u=n.maxTextureSize,d={[$a]:Zi,[Zi]:$a,[Es]:Es},f=new er({defines:{VSM_SAMPLES:8},uniforms:{shadow_pass:{value:null},resolution:{value:new Ae},radius:{value:4}},vertexShader:F0e,fragmentShader:z0e}),m=f.clone();m.defines.HORIZONTAL_PASS=1;const g=new $t;g.setAttribute("position",new hn(new Float32Array([-1,-1,.5,3,-1,.5,-1,3,.5]),3));const y=new Hi(g,f),x=this;this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=Pw;let v=this.type;this.render=function(C,T,R){if(x.enabled===!1||x.autoUpdate===!1&&x.needsUpdate===!1||C.length===0)return;const I=t.getRenderTarget(),A=t.getActiveCubeFace(),L=t.getActiveMipmapLevel(),O=t.state;O.setBlending(Er),O.buffers.color.setClear(1,1,1,1),O.buffers.depth.setTest(!0),O.setScissorTest(!1);const H=v!==qo&&this.type===qo,q=v===qo&&this.type!==qo;for(let U=0,G=C.length;U<G;U++){const Q=C[U],J=Q.shadow;if(J===void 0){console.warn("THREE.WebGLShadowMap:",Q,"has no shadow.");continue}if(J.autoUpdate===!1&&J.needsUpdate===!1)continue;r.copy(J.mapSize);const N=J.getFrameExtents();if(r.multiply(N),s.copy(J.mapSize),(r.x>u||r.y>u)&&(r.x>u&&(s.x=Math.floor(u/N.x),r.x=s.x*N.x,J.mapSize.x=s.x),r.y>u&&(s.y=Math.floor(u/N.y),r.y=s.y*N.y,J.mapSize.y=s.y)),J.map===null||H===!0||q===!0){const j=this.type!==qo?{minFilter:Un,magFilter:Un}:{};J.map!==null&&J.map.dispose(),J.map=new ii(r.x,r.y,j),J.map.texture.name=Q.name+".shadowMap",J.camera.updateProjectionMatrix()}t.setRenderTarget(J.map),t.clear();const B=J.getViewportCount();for(let j=0;j<B;j++){const te=J.getViewport(j);o.set(s.x*te.x,s.y*te.y,s.x*te.z,s.y*te.w),O.viewport(o),J.updateMatrices(Q,j),i=J.getFrustum(),w(T,R,J.camera,Q,this.type)}J.isPointLightShadow!==!0&&this.type===qo&&_(J,R),J.needsUpdate=!1}v=this.type,x.needsUpdate=!1,t.setRenderTarget(I,A,L)};function _(C,T){const R=e.update(y);f.defines.VSM_SAMPLES!==C.blurSamples&&(f.defines.VSM_SAMPLES=C.blurSamples,m.defines.VSM_SAMPLES=C.blurSamples,f.needsUpdate=!0,m.needsUpdate=!0),C.mapPass===null&&(C.mapPass=new ii(r.x,r.y)),f.uniforms.shadow_pass.value=C.map.texture,f.uniforms.resolution.value=C.mapSize,f.uniforms.radius.value=C.radius,t.setRenderTarget(C.mapPass),t.clear(),t.renderBufferDirect(T,null,R,f,y,null),m.uniforms.shadow_pass.value=C.mapPass.texture,m.uniforms.resolution.value=C.mapSize,m.uniforms.radius.value=C.radius,t.setRenderTarget(C.map),t.clear(),t.renderBufferDirect(T,null,R,m,y,null)}function b(C,T,R,I){let A=null;const L=R.isPointLight===!0?C.customDistanceMaterial:C.customDepthMaterial;if(L!==void 0)A=L;else if(A=R.isPointLight===!0?l:a,t.localClippingEnabled&&T.clipShadows===!0&&Array.isArray(T.clippingPlanes)&&T.clippingPlanes.length!==0||T.displacementMap&&T.displacementScale!==0||T.alphaMap&&T.alphaTest>0||T.map&&T.alphaTest>0){const O=A.uuid,H=T.uuid;let q=c[O];q===void 0&&(q={},c[O]=q);let U=q[H];U===void 0&&(U=A.clone(),q[H]=U),A=U}if(A.visible=T.visible,A.wireframe=T.wireframe,I===qo?A.side=T.shadowSide!==null?T.shadowSide:T.side:A.side=T.shadowSide!==null?T.shadowSide:d[T.side],A.alphaMap=T.alphaMap,A.alphaTest=T.alphaTest,A.map=T.map,A.clipShadows=T.clipShadows,A.clippingPlanes=T.clippingPlanes,A.clipIntersection=T.clipIntersection,A.displacementMap=T.displacementMap,A.displacementScale=T.displacementScale,A.displacementBias=T.displacementBias,A.wireframeLinewidth=T.wireframeLinewidth,A.linewidth=T.linewidth,R.isPointLight===!0&&A.isMeshDistanceMaterial===!0){const O=t.properties.get(A);O.light=R}return A}function w(C,T,R,I,A){if(C.visible===!1)return;if(C.layers.test(T.layers)&&(C.isMesh||C.isLine||C.isPoints)&&(C.castShadow||C.receiveShadow&&A===qo)&&(!C.frustumCulled||i.intersectsObject(C))){C.modelViewMatrix.multiplyMatrices(R.matrixWorldInverse,C.matrixWorld);const H=e.update(C),q=C.material;if(Array.isArray(q)){const U=H.groups;for(let G=0,Q=U.length;G<Q;G++){const J=U[G],N=q[J.materialIndex];if(N&&N.visible){const B=b(C,N,I,A);C.onBeforeShadow(t,C,T,R,H,B,J),t.renderBufferDirect(R,null,H,B,C,J),C.onAfterShadow(t,C,T,R,H,B,J)}}}else if(q.visible){const U=b(C,q,I,A);C.onBeforeShadow(t,C,T,R,H,U,null),t.renderBufferDirect(R,null,H,U,C,null),C.onAfterShadow(t,C,T,R,H,U,null)}}const O=C.children;for(let H=0,q=O.length;H<q;H++)w(O[H],T,R,I,A)}}function B0e(t,e,n){const i=n.isWebGL2;function r(){let oe=!1;const nt=new wn;let Y=null;const X=new wn(0,0,0,0);return{setMask:function(re){Y!==re&&!oe&&(t.colorMask(re,re,re,re),Y=re)},setLocked:function(re){oe=re},setClear:function(re,Re,Fe,xt,ht){ht===!0&&(re*=xt,Re*=xt,Fe*=xt),nt.set(re,Re,Fe,xt),X.equals(nt)===!1&&(t.clearColor(re,Re,Fe,xt),X.copy(nt))},reset:function(){oe=!1,Y=null,X.set(-1,0,0,0)}}}function s(){let oe=!1,nt=null,Y=null,X=null;return{setTest:function(re){re?qe(t.DEPTH_TEST):Xe(t.DEPTH_TEST)},setMask:function(re){nt!==re&&!oe&&(t.depthMask(re),nt=re)},setFunc:function(re){if(Y!==re){switch(re){case Nk:t.depthFunc(t.NEVER);break;case Fk:t.depthFunc(t.ALWAYS);break;case V1:t.depthFunc(t.LESS);break;case zp:t.depthFunc(t.LEQUAL);break;case nv:t.depthFunc(t.EQUAL);break;case zk:t.depthFunc(t.GEQUAL);break;case Uk:t.depthFunc(t.GREATER);break;case kw:t.depthFunc(t.NOTEQUAL);break;default:t.depthFunc(t.LEQUAL)}Y=re}},setLocked:function(re){oe=re},setClear:function(re){X!==re&&(t.clearDepth(re),X=re)},reset:function(){oe=!1,nt=null,Y=null,X=null}}}function o(){let oe=!1,nt=null,Y=null,X=null,re=null,Re=null,Fe=null,xt=null,ht=null;return{setTest:function(Ze){oe||(Ze?qe(t.STENCIL_TEST):Xe(t.STENCIL_TEST))},setMask:function(Ze){nt!==Ze&&!oe&&(t.stencilMask(Ze),nt=Ze)},setFunc:function(Ze,ct,Pt){(Y!==Ze||X!==ct||re!==Pt)&&(t.stencilFunc(Ze,ct,Pt),Y=Ze,X=ct,re=Pt)},setOp:function(Ze,ct,Pt){(Re!==Ze||Fe!==ct||xt!==Pt)&&(t.stencilOp(Ze,ct,Pt),Re=Ze,Fe=ct,xt=Pt)},setLocked:function(Ze){oe=Ze},setClear:function(Ze){ht!==Ze&&(t.clearStencil(Ze),ht=Ze)},reset:function(){oe=!1,nt=null,Y=null,X=null,re=null,Re=null,Fe=null,xt=null,ht=null}}}const a=new r,l=new s,c=new o,u=new WeakMap,d=new WeakMap;let f={},m={},g=new WeakMap,y=[],x=null,v=!1,_=null,b=null,w=null,C=null,T=null,R=null,I=null,A=new Be(0,0,0),L=0,O=!1,H=null,q=null,U=null,G=null,Q=null;const J=t.getParameter(t.MAX_COMBINED_TEXTURE_IMAGE_UNITS);let N=!1,B=0;const j=t.getParameter(t.VERSION);j.indexOf("WebGL")!==-1?(B=parseFloat(/^WebGL (\d)/.exec(j)[1]),N=B>=1):j.indexOf("OpenGL ES")!==-1&&(B=parseFloat(/^OpenGL ES (\d)/.exec(j)[1]),N=B>=2);let te=null,se={};const ne=t.getParameter(t.SCISSOR_BOX),ae=t.getParameter(t.VIEWPORT),xe=new wn().fromArray(ne),Ee=new wn().fromArray(ae);function Oe(oe,nt,Y,X){const re=new Uint8Array(4),Re=t.createTexture();t.bindTexture(oe,Re),t.texParameteri(oe,t.TEXTURE_MIN_FILTER,t.NEAREST),t.texParameteri(oe,t.TEXTURE_MAG_FILTER,t.NEAREST);for(let Fe=0;Fe<Y;Fe++)i&&(oe===t.TEXTURE_3D||oe===t.TEXTURE_2D_ARRAY)?t.texImage3D(nt,0,t.RGBA,1,1,X,0,t.RGBA,t.UNSIGNED_BYTE,re):t.texImage2D(nt+Fe,0,t.RGBA,1,1,0,t.RGBA,t.UNSIGNED_BYTE,re);return Re}const ut={};ut[t.TEXTURE_2D]=Oe(t.TEXTURE_2D,t.TEXTURE_2D,1),ut[t.TEXTURE_CUBE_MAP]=Oe(t.TEXTURE_CUBE_MAP,t.TEXTURE_CUBE_MAP_POSITIVE_X,6),i&&(ut[t.TEXTURE_2D_ARRAY]=Oe(t.TEXTURE_2D_ARRAY,t.TEXTURE_2D_ARRAY,1,1),ut[t.TEXTURE_3D]=Oe(t.TEXTURE_3D,t.TEXTURE_3D,1,1)),a.setClear(0,0,0,1),l.setClear(1),c.setClear(0),qe(t.DEPTH_TEST),l.setFunc(zp),ze(!1),Ge(lR),qe(t.CULL_FACE),Pe(Er);function qe(oe){f[oe]!==!0&&(t.enable(oe),f[oe]=!0)}function Xe(oe){f[oe]!==!1&&(t.disable(oe),f[oe]=!1)}function Ie(oe,nt){return m[oe]!==nt?(t.bindFramebuffer(oe,nt),m[oe]=nt,i&&(oe===t.DRAW_FRAMEBUFFER&&(m[t.FRAMEBUFFER]=nt),oe===t.FRAMEBUFFER&&(m[t.DRAW_FRAMEBUFFER]=nt)),!0):!1}function Z(oe,nt){let Y=y,X=!1;if(oe)if(Y=g.get(nt),Y===void 0&&(Y=[],g.set(nt,Y)),oe.isWebGLMultipleRenderTargets){const re=oe.texture;if(Y.length!==re.length||Y[0]!==t.COLOR_ATTACHMENT0){for(let Re=0,Fe=re.length;Re<Fe;Re++)Y[Re]=t.COLOR_ATTACHMENT0+Re;Y.length=re.length,X=!0}}else Y[0]!==t.COLOR_ATTACHMENT0&&(Y[0]=t.COLOR_ATTACHMENT0,X=!0);else Y[0]!==t.BACK&&(Y[0]=t.BACK,X=!0);X&&(n.isWebGL2?t.drawBuffers(Y):e.get("WEBGL_draw_buffers").drawBuffersWEBGL(Y))}function _e(oe){return x!==oe?(t.useProgram(oe),x=oe,!0):!1}const de={[Rc]:t.FUNC_ADD,[EW]:t.FUNC_SUBTRACT,[TW]:t.FUNC_REVERSE_SUBTRACT};if(i)de[fR]=t.MIN,de[hR]=t.MAX;else{const oe=e.get("EXT_blend_minmax");oe!==null&&(de[fR]=oe.MIN_EXT,de[hR]=oe.MAX_EXT)}const be={[CW]:t.ZERO,[RW]:t.ONE,[AW]:t.SRC_COLOR,[B1]:t.SRC_ALPHA,[OW]:t.SRC_ALPHA_SATURATE,[LW]:t.DST_COLOR,[kW]:t.DST_ALPHA,[PW]:t.ONE_MINUS_SRC_COLOR,[H1]:t.ONE_MINUS_SRC_ALPHA,[DW]:t.ONE_MINUS_DST_COLOR,[IW]:t.ONE_MINUS_DST_ALPHA,[NW]:t.CONSTANT_COLOR,[FW]:t.ONE_MINUS_CONSTANT_COLOR,[zW]:t.CONSTANT_ALPHA,[UW]:t.ONE_MINUS_CONSTANT_ALPHA};function Pe(oe,nt,Y,X,re,Re,Fe,xt,ht,Ze){if(oe===Er){v===!0&&(Xe(t.BLEND),v=!1);return}if(v===!1&&(qe(t.BLEND),v=!0),oe!==MW){if(oe!==_||Ze!==O){if((b!==Rc||T!==Rc)&&(t.blendEquation(t.FUNC_ADD),b=Rc,T=Rc),Ze)switch(oe){case Nd:t.blendFuncSeparate(t.ONE,t.ONE_MINUS_SRC_ALPHA,t.ONE,t.ONE_MINUS_SRC_ALPHA);break;case cR:t.blendFunc(t.ONE,t.ONE);break;case uR:t.blendFuncSeparate(t.ZERO,t.ONE_MINUS_SRC_COLOR,t.ZERO,t.ONE);break;case dR:t.blendFuncSeparate(t.ZERO,t.SRC_COLOR,t.ZERO,t.SRC_ALPHA);break;default:console.error("THREE.WebGLState: Invalid blending: ",oe);break}else switch(oe){case Nd:t.blendFuncSeparate(t.SRC_ALPHA,t.ONE_MINUS_SRC_ALPHA,t.ONE,t.ONE_MINUS_SRC_ALPHA);break;case cR:t.blendFunc(t.SRC_ALPHA,t.ONE);break;case uR:t.blendFuncSeparate(t.ZERO,t.ONE_MINUS_SRC_COLOR,t.ZERO,t.ONE);break;case dR:t.blendFunc(t.ZERO,t.SRC_COLOR);break;default:console.error("THREE.WebGLState: Invalid blending: ",oe);break}w=null,C=null,R=null,I=null,A.set(0,0,0),L=0,_=oe,O=Ze}return}re=re||nt,Re=Re||Y,Fe=Fe||X,(nt!==b||re!==T)&&(t.blendEquationSeparate(de[nt],de[re]),b=nt,T=re),(Y!==w||X!==C||Re!==R||Fe!==I)&&(t.blendFuncSeparate(be[Y],be[X],be[Re],be[Fe]),w=Y,C=X,R=Re,I=Fe),(xt.equals(A)===!1||ht!==L)&&(t.blendColor(xt.r,xt.g,xt.b,ht),A.copy(xt),L=ht),_=oe,O=!1}function Ke(oe,nt){oe.side===Es?Xe(t.CULL_FACE):qe(t.CULL_FACE);let Y=oe.side===Zi;nt&&(Y=!Y),ze(Y),oe.blending===Nd&&oe.transparent===!1?Pe(Er):Pe(oe.blending,oe.blendEquation,oe.blendSrc,oe.blendDst,oe.blendEquationAlpha,oe.blendSrcAlpha,oe.blendDstAlpha,oe.blendColor,oe.blendAlpha,oe.premultipliedAlpha),l.setFunc(oe.depthFunc),l.setTest(oe.depthTest),l.setMask(oe.depthWrite),a.setMask(oe.colorWrite);const X=oe.stencilWrite;c.setTest(X),X&&(c.setMask(oe.stencilWriteMask),c.setFunc(oe.stencilFunc,oe.stencilRef,oe.stencilFuncMask),c.setOp(oe.stencilFail,oe.stencilZFail,oe.stencilZPass)),st(oe.polygonOffset,oe.polygonOffsetFactor,oe.polygonOffsetUnits),oe.alphaToCoverage===!0?qe(t.SAMPLE_ALPHA_TO_COVERAGE):Xe(t.SAMPLE_ALPHA_TO_COVERAGE)}function ze(oe){H!==oe&&(oe?t.frontFace(t.CW):t.frontFace(t.CCW),H=oe)}function Ge(oe){oe!==bW?(qe(t.CULL_FACE),oe!==q&&(oe===lR?t.cullFace(t.BACK):oe===SW?t.cullFace(t.FRONT):t.cullFace(t.FRONT_AND_BACK))):Xe(t.CULL_FACE),q=oe}function Ye(oe){oe!==U&&(N&&t.lineWidth(oe),U=oe)}function st(oe,nt,Y){oe?(qe(t.POLYGON_OFFSET_FILL),(G!==nt||Q!==Y)&&(t.polygonOffset(nt,Y),G=nt,Q=Y)):Xe(t.POLYGON_OFFSET_FILL)}function Xt(oe){oe?qe(t.SCISSOR_TEST):Xe(t.SCISSOR_TEST)}function $(oe){oe===void 0&&(oe=t.TEXTURE0+J-1),te!==oe&&(t.activeTexture(oe),te=oe)}function F(oe,nt,Y){Y===void 0&&(te===null?Y=t.TEXTURE0+J-1:Y=te);let X=se[Y];X===void 0&&(X={type:void 0,texture:void 0},se[Y]=X),(X.type!==oe||X.texture!==nt)&&(te!==Y&&(t.activeTexture(Y),te=Y),t.bindTexture(oe,nt||ut[oe]),X.type=oe,X.texture=nt)}function ee(){const oe=se[te];oe!==void 0&&oe.type!==void 0&&(t.bindTexture(oe.type,null),oe.type=void 0,oe.texture=void 0)}function fe(){try{t.compressedTexImage2D.apply(t,arguments)}catch(oe){console.error("THREE.WebGLState:",oe)}}function he(){try{t.compressedTexImage3D.apply(t,arguments)}catch(oe){console.error("THREE.WebGLState:",oe)}}function me(){try{t.texSubImage2D.apply(t,arguments)}catch(oe){console.error("THREE.WebGLState:",oe)}}function we(){try{t.texSubImage3D.apply(t,arguments)}catch(oe){console.error("THREE.WebGLState:",oe)}}function Le(){try{t.compressedTexSubImage2D.apply(t,arguments)}catch(oe){console.error("THREE.WebGLState:",oe)}}function De(){try{t.compressedTexSubImage3D.apply(t,arguments)}catch(oe){console.error("THREE.WebGLState:",oe)}}function Qe(){try{t.texStorage2D.apply(t,arguments)}catch(oe){console.error("THREE.WebGLState:",oe)}}function Ne(){try{t.texStorage3D.apply(t,arguments)}catch(oe){console.error("THREE.WebGLState:",oe)}}function Ce(){try{t.texImage2D.apply(t,arguments)}catch(oe){console.error("THREE.WebGLState:",oe)}}function wt(){try{t.texImage3D.apply(t,arguments)}catch(oe){console.error("THREE.WebGLState:",oe)}}function pt(oe){xe.equals(oe)===!1&&(t.scissor(oe.x,oe.y,oe.z,oe.w),xe.copy(oe))}function Mt(oe){Ee.equals(oe)===!1&&(t.viewport(oe.x,oe.y,oe.z,oe.w),Ee.copy(oe))}function Et(oe,nt){let Y=d.get(nt);Y===void 0&&(Y=new WeakMap,d.set(nt,Y));let X=Y.get(oe);X===void 0&&(X=t.getUniformBlockIndex(nt,oe.name),Y.set(oe,X))}function ft(oe,nt){const X=d.get(nt).get(oe);u.get(nt)!==X&&(t.uniformBlockBinding(nt,X,oe.__bindingPointIndex),u.set(nt,X))}function Vt(){t.disable(t.BLEND),t.disable(t.CULL_FACE),t.disable(t.DEPTH_TEST),t.disable(t.POLYGON_OFFSET_FILL),t.disable(t.SCISSOR_TEST),t.disable(t.STENCIL_TEST),t.disable(t.SAMPLE_ALPHA_TO_COVERAGE),t.blendEquation(t.FUNC_ADD),t.blendFunc(t.ONE,t.ZERO),t.blendFuncSeparate(t.ONE,t.ZERO,t.ONE,t.ZERO),t.blendColor(0,0,0,0),t.colorMask(!0,!0,!0,!0),t.clearColor(0,0,0,0),t.depthMask(!0),t.depthFunc(t.LESS),t.clearDepth(1),t.stencilMask(4294967295),t.stencilFunc(t.ALWAYS,0,4294967295),t.stencilOp(t.KEEP,t.KEEP,t.KEEP),t.clearStencil(0),t.cullFace(t.BACK),t.frontFace(t.CCW),t.polygonOffset(0,0),t.activeTexture(t.TEXTURE0),t.bindFramebuffer(t.FRAMEBUFFER,null),i===!0&&(t.bindFramebuffer(t.DRAW_FRAMEBUFFER,null),t.bindFramebuffer(t.READ_FRAMEBUFFER,null)),t.useProgram(null),t.lineWidth(1),t.scissor(0,0,t.canvas.width,t.canvas.height),t.viewport(0,0,t.canvas.width,t.canvas.height),f={},te=null,se={},m={},g=new WeakMap,y=[],x=null,v=!1,_=null,b=null,w=null,C=null,T=null,R=null,I=null,A=new Be(0,0,0),L=0,O=!1,H=null,q=null,U=null,G=null,Q=null,xe.set(0,0,t.canvas.width,t.canvas.height),Ee.set(0,0,t.canvas.width,t.canvas.height),a.reset(),l.reset(),c.reset()}return{buffers:{color:a,depth:l,stencil:c},enable:qe,disable:Xe,bindFramebuffer:Ie,drawBuffers:Z,useProgram:_e,setBlending:Pe,setMaterial:Ke,setFlipSided:ze,setCullFace:Ge,setLineWidth:Ye,setPolygonOffset:st,setScissorTest:Xt,activeTexture:$,bindTexture:F,unbindTexture:ee,compressedTexImage2D:fe,compressedTexImage3D:he,texImage2D:Ce,texImage3D:wt,updateUBOMapping:Et,uniformBlockBinding:ft,texStorage2D:Qe,texStorage3D:Ne,texSubImage2D:me,texSubImage3D:we,compressedTexSubImage2D:Le,compressedTexSubImage3D:De,scissor:pt,viewport:Mt,reset:Vt}}function H0e(t,e,n,i,r,s,o){const a=r.isWebGL2,l=r.maxTextures,c=r.maxCubemapSize,u=r.maxTextureSize,d=r.maxSamples,f=e.has("WEBGL_multisampled_render_to_texture")?e.get("WEBGL_multisampled_render_to_texture"):null,m=typeof navigator>"u"?!1:/OculusBrowser/g.test(navigator.userAgent),g=new WeakMap;let y;const x=new WeakMap;let v=!1;try{v=typeof OffscreenCanvas<"u"&&new OffscreenCanvas(1,1).getContext("2d")!==null}catch{}function _($,F){return v?new OffscreenCanvas($,F):hv("canvas")}function b($,F,ee,fe){let he=1;if(($.width>fe||$.height>fe)&&(he=fe/Math.max($.width,$.height)),he<1||F===!0)if(typeof HTMLImageElement<"u"&&$ instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&$ instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&$ instanceof ImageBitmap){const me=F?G1:Math.floor,we=me(he*$.width),Le=me(he*$.height);y===void 0&&(y=_(we,Le));const De=ee?_(we,Le):y;return De.width=we,De.height=Le,De.getContext("2d").drawImage($,0,0,we,Le),console.warn("THREE.WebGLRenderer: Texture has been resized from ("+$.width+"x"+$.height+") to ("+we+"x"+Le+")."),De}else return"data"in $&&console.warn("THREE.WebGLRenderer: Image in DataTexture is too big ("+$.width+"x"+$.height+")."),$;return $}function w($){return VR($.width)&&VR($.height)}function C($){return a?!1:$.wrapS!==jr||$.wrapT!==jr||$.minFilter!==Un&&$.minFilter!==Bn}function T($,F){return $.generateMipmaps&&F&&$.minFilter!==Un&&$.minFilter!==Bn}function R($){t.generateMipmap($)}function I($,F,ee,fe,he=!1){if(a===!1)return F;if($!==null){if(t[$]!==void 0)return t[$];console.warn("THREE.WebGLRenderer: Attempt to use non-existing WebGL internal format '"+$+"'")}let me=F;if(F===t.RED&&(ee===t.FLOAT&&(me=t.R32F),ee===t.HALF_FLOAT&&(me=t.R16F),ee===t.UNSIGNED_BYTE&&(me=t.R8)),F===t.RED_INTEGER&&(ee===t.UNSIGNED_BYTE&&(me=t.R8UI),ee===t.UNSIGNED_SHORT&&(me=t.R16UI),ee===t.UNSIGNED_INT&&(me=t.R32UI),ee===t.BYTE&&(me=t.R8I),ee===t.SHORT&&(me=t.R16I),ee===t.INT&&(me=t.R32I)),F===t.RG&&(ee===t.FLOAT&&(me=t.RG32F),ee===t.HALF_FLOAT&&(me=t.RG16F),ee===t.UNSIGNED_BYTE&&(me=t.RG8)),F===t.RGBA){const we=he?cv:An.getTransfer(fe);ee===t.FLOAT&&(me=t.RGBA32F),ee===t.HALF_FLOAT&&(me=t.RGBA16F),ee===t.UNSIGNED_BYTE&&(me=we===jn?t.SRGB8_ALPHA8:t.RGBA8),ee===t.UNSIGNED_SHORT_4_4_4_4&&(me=t.RGBA4),ee===t.UNSIGNED_SHORT_5_5_5_1&&(me=t.RGB5_A1)}return(me===t.R16F||me===t.R32F||me===t.RG16F||me===t.RG32F||me===t.RGBA16F||me===t.RGBA32F)&&e.get("EXT_color_buffer_float"),me}function A($,F,ee){return T($,ee)===!0||$.isFramebufferTexture&&$.minFilter!==Un&&$.minFilter!==Bn?Math.log2(Math.max(F.width,F.height))+1:$.mipmaps!==void 0&&$.mipmaps.length>0?$.mipmaps.length:$.isCompressedTexture&&Array.isArray($.image)?F.mipmaps.length:1}function L($){return $===Un||$===j1||$===m0?t.NEAREST:t.LINEAR}function O($){const F=$.target;F.removeEventListener("dispose",O),q(F),F.isVideoTexture&&g.delete(F)}function H($){const F=$.target;F.removeEventListener("dispose",H),G(F)}function q($){const F=i.get($);if(F.__webglInit===void 0)return;const ee=$.source,fe=x.get(ee);if(fe){const he=fe[F.__cacheKey];he.usedTimes--,he.usedTimes===0&&U($),Object.keys(fe).length===0&&x.delete(ee)}i.remove($)}function U($){const F=i.get($);t.deleteTexture(F.__webglTexture);const ee=$.source,fe=x.get(ee);delete fe[F.__cacheKey],o.memory.textures--}function G($){const F=$.texture,ee=i.get($),fe=i.get(F);if(fe.__webglTexture!==void 0&&(t.deleteTexture(fe.__webglTexture),o.memory.textures--),$.depthTexture&&$.depthTexture.dispose(),$.isWebGLCubeRenderTarget)for(let he=0;he<6;he++){if(Array.isArray(ee.__webglFramebuffer[he]))for(let me=0;me<ee.__webglFramebuffer[he].length;me++)t.deleteFramebuffer(ee.__webglFramebuffer[he][me]);else t.deleteFramebuffer(ee.__webglFramebuffer[he]);ee.__webglDepthbuffer&&t.deleteRenderbuffer(ee.__webglDepthbuffer[he])}else{if(Array.isArray(ee.__webglFramebuffer))for(let he=0;he<ee.__webglFramebuffer.length;he++)t.deleteFramebuffer(ee.__webglFramebuffer[he]);else t.deleteFramebuffer(ee.__webglFramebuffer);if(ee.__webglDepthbuffer&&t.deleteRenderbuffer(ee.__webglDepthbuffer),ee.__webglMultisampledFramebuffer&&t.deleteFramebuffer(ee.__webglMultisampledFramebuffer),ee.__webglColorRenderbuffer)for(let he=0;he<ee.__webglColorRenderbuffer.length;he++)ee.__webglColorRenderbuffer[he]&&t.deleteRenderbuffer(ee.__webglColorRenderbuffer[he]);ee.__webglDepthRenderbuffer&&t.deleteRenderbuffer(ee.__webglDepthRenderbuffer)}if($.isWebGLMultipleRenderTargets)for(let he=0,me=F.length;he<me;he++){const we=i.get(F[he]);we.__webglTexture&&(t.deleteTexture(we.__webglTexture),o.memory.textures--),i.remove(F[he])}i.remove(F),i.remove($)}let Q=0;function J(){Q=0}function N(){const $=Q;return $>=l&&console.warn("THREE.WebGLTextures: Trying to use "+$+" texture units while this GPU supports only "+l),Q+=1,$}function B($){const F=[];return F.push($.wrapS),F.push($.wrapT),F.push($.wrapR||0),F.push($.magFilter),F.push($.minFilter),F.push($.anisotropy),F.push($.internalFormat),F.push($.format),F.push($.type),F.push($.generateMipmaps),F.push($.premultiplyAlpha),F.push($.flipY),F.push($.unpackAlignment),F.push($.colorSpace),F.join()}function j($,F){const ee=i.get($);if($.isVideoTexture&&st($),$.isRenderTargetTexture===!1&&$.version>0&&ee.__version!==$.version){const fe=$.image;if(fe===null)console.warn("THREE.WebGLRenderer: Texture marked for update but no image data found.");else if(fe.complete===!1)console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete");else{qe(ee,$,F);return}}n.bindTexture(t.TEXTURE_2D,ee.__webglTexture,t.TEXTURE0+F)}function te($,F){const ee=i.get($);if($.version>0&&ee.__version!==$.version){qe(ee,$,F);return}n.bindTexture(t.TEXTURE_2D_ARRAY,ee.__webglTexture,t.TEXTURE0+F)}function se($,F){const ee=i.get($);if($.version>0&&ee.__version!==$.version){qe(ee,$,F);return}n.bindTexture(t.TEXTURE_3D,ee.__webglTexture,t.TEXTURE0+F)}function ne($,F){const ee=i.get($);if($.version>0&&ee.__version!==$.version){Xe(ee,$,F);return}n.bindTexture(t.TEXTURE_CUBE_MAP,ee.__webglTexture,t.TEXTURE0+F)}const ae={[wr]:t.REPEAT,[jr]:t.CLAMP_TO_EDGE,[sv]:t.MIRRORED_REPEAT},xe={[Un]:t.NEAREST,[j1]:t.NEAREST_MIPMAP_NEAREST,[m0]:t.NEAREST_MIPMAP_LINEAR,[Bn]:t.LINEAR,[Hk]:t.LINEAR_MIPMAP_NEAREST,[uu]:t.LINEAR_MIPMAP_LINEAR},Ee={[s6]:t.NEVER,[d6]:t.ALWAYS,[o6]:t.LESS,[Kk]:t.LEQUAL,[a6]:t.EQUAL,[u6]:t.GEQUAL,[l6]:t.GREATER,[c6]:t.NOTEQUAL};function Oe($,F,ee){if(ee?(t.texParameteri($,t.TEXTURE_WRAP_S,ae[F.wrapS]),t.texParameteri($,t.TEXTURE_WRAP_T,ae[F.wrapT]),($===t.TEXTURE_3D||$===t.TEXTURE_2D_ARRAY)&&t.texParameteri($,t.TEXTURE_WRAP_R,ae[F.wrapR]),t.texParameteri($,t.TEXTURE_MAG_FILTER,xe[F.magFilter]),t.texParameteri($,t.TEXTURE_MIN_FILTER,xe[F.minFilter])):(t.texParameteri($,t.TEXTURE_WRAP_S,t.CLAMP_TO_EDGE),t.texParameteri($,t.TEXTURE_WRAP_T,t.CLAMP_TO_EDGE),($===t.TEXTURE_3D||$===t.TEXTURE_2D_ARRAY)&&t.texParameteri($,t.TEXTURE_WRAP_R,t.CLAMP_TO_EDGE),(F.wrapS!==jr||F.wrapT!==jr)&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.wrapS and Texture.wrapT should be set to THREE.ClampToEdgeWrapping."),t.texParameteri($,t.TEXTURE_MAG_FILTER,L(F.magFilter)),t.texParameteri($,t.TEXTURE_MIN_FILTER,L(F.minFilter)),F.minFilter!==Un&&F.minFilter!==Bn&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.minFilter should be set to THREE.NearestFilter or THREE.LinearFilter.")),F.compareFunction&&(t.texParameteri($,t.TEXTURE_COMPARE_MODE,t.COMPARE_REF_TO_TEXTURE),t.texParameteri($,t.TEXTURE_COMPARE_FUNC,Ee[F.compareFunction])),e.has("EXT_texture_filter_anisotropic")===!0){const fe=e.get("EXT_texture_filter_anisotropic");if(F.magFilter===Un||F.minFilter!==m0&&F.minFilter!==uu||F.type===eo&&e.has("OES_texture_float_linear")===!1||a===!1&&F.type===du&&e.has("OES_texture_half_float_linear")===!1)return;(F.anisotropy>1||i.get(F).__currentAnisotropy)&&(t.texParameterf($,fe.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(F.anisotropy,r.getMaxAnisotropy())),i.get(F).__currentAnisotropy=F.anisotropy)}}function ut($,F){let ee=!1;$.__webglInit===void 0&&($.__webglInit=!0,F.addEventListener("dispose",O));const fe=F.source;let he=x.get(fe);he===void 0&&(he={},x.set(fe,he));const me=B(F);if(me!==$.__cacheKey){he[me]===void 0&&(he[me]={texture:t.createTexture(),usedTimes:0},o.memory.textures++,ee=!0),he[me].usedTimes++;const we=he[$.__cacheKey];we!==void 0&&(he[$.__cacheKey].usedTimes--,we.usedTimes===0&&U(F)),$.__cacheKey=me,$.__webglTexture=he[me].texture}return ee}function qe($,F,ee){let fe=t.TEXTURE_2D;(F.isDataArrayTexture||F.isCompressedArrayTexture)&&(fe=t.TEXTURE_2D_ARRAY),F.isData3DTexture&&(fe=t.TEXTURE_3D);const he=ut($,F),me=F.source;n.bindTexture(fe,$.__webglTexture,t.TEXTURE0+ee);const we=i.get(me);if(me.version!==we.__version||he===!0){n.activeTexture(t.TEXTURE0+ee);const Le=An.getPrimaries(An.workingColorSpace),De=F.colorSpace===Zs?null:An.getPrimaries(F.colorSpace),Qe=F.colorSpace===Zs||Le===De?t.NONE:t.BROWSER_DEFAULT_WEBGL;t.pixelStorei(t.UNPACK_FLIP_Y_WEBGL,F.flipY),t.pixelStorei(t.UNPACK_PREMULTIPLY_ALPHA_WEBGL,F.premultiplyAlpha),t.pixelStorei(t.UNPACK_ALIGNMENT,F.unpackAlignment),t.pixelStorei(t.UNPACK_COLORSPACE_CONVERSION_WEBGL,Qe);const Ne=C(F)&&w(F.image)===!1;let Ce=b(F.image,Ne,!1,u);Ce=Xt(F,Ce);const wt=w(Ce)||a,pt=s.convert(F.format,F.colorSpace);let Mt=s.convert(F.type),Et=I(F.internalFormat,pt,Mt,F.colorSpace,F.isVideoTexture);Oe(fe,F,wt);let ft;const Vt=F.mipmaps,oe=a&&F.isVideoTexture!==!0&&Et!==Yk,nt=we.__version===void 0||he===!0,Y=A(F,Ce,wt);if(F.isDepthTexture)Et=t.DEPTH_COMPONENT,a?F.type===eo?Et=t.DEPTH_COMPONENT32F:F.type===Na?Et=t.DEPTH_COMPONENT24:F.type===Ol?Et=t.DEPTH24_STENCIL8:Et=t.DEPTH_COMPONENT16:F.type===eo&&console.error("WebGLRenderer: Floating point depth texture requires WebGL2."),F.format===eu&&Et===t.DEPTH_COMPONENT&&F.type!==Lw&&F.type!==Na&&(console.warn("THREE.WebGLRenderer: Use UnsignedShortType or UnsignedIntType for DepthFormat DepthTexture."),F.type=Na,Mt=s.convert(F.type)),F.format===fu&&Et===t.DEPTH_COMPONENT&&(Et=t.DEPTH_STENCIL,F.type!==Ol&&(console.warn("THREE.WebGLRenderer: Use UnsignedInt248Type for DepthStencilFormat DepthTexture."),F.type=Ol,Mt=s.convert(F.type))),nt&&(oe?n.texStorage2D(t.TEXTURE_2D,1,Et,Ce.width,Ce.height):n.texImage2D(t.TEXTURE_2D,0,Et,Ce.width,Ce.height,0,pt,Mt,null));else if(F.isDataTexture)if(Vt.length>0&&wt){oe&&nt&&n.texStorage2D(t.TEXTURE_2D,Y,Et,Vt[0].width,Vt[0].height);for(let X=0,re=Vt.length;X<re;X++)ft=Vt[X],oe?n.texSubImage2D(t.TEXTURE_2D,X,0,0,ft.width,ft.height,pt,Mt,ft.data):n.texImage2D(t.TEXTURE_2D,X,Et,ft.width,ft.height,0,pt,Mt,ft.data);F.generateMipmaps=!1}else oe?(nt&&n.texStorage2D(t.TEXTURE_2D,Y,Et,Ce.width,Ce.height),n.texSubImage2D(t.TEXTURE_2D,0,0,0,Ce.width,Ce.height,pt,Mt,Ce.data)):n.texImage2D(t.TEXTURE_2D,0,Et,Ce.width,Ce.height,0,pt,Mt,Ce.data);else if(F.isCompressedTexture)if(F.isCompressedArrayTexture){oe&&nt&&n.texStorage3D(t.TEXTURE_2D_ARRAY,Y,Et,Vt[0].width,Vt[0].height,Ce.depth);for(let X=0,re=Vt.length;X<re;X++)ft=Vt[X],F.format!==is?pt!==null?oe?n.compressedTexSubImage3D(t.TEXTURE_2D_ARRAY,X,0,0,0,ft.width,ft.height,Ce.depth,pt,ft.data,0,0):n.compressedTexImage3D(t.TEXTURE_2D_ARRAY,X,Et,ft.width,ft.height,Ce.depth,0,ft.data,0,0):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):oe?n.texSubImage3D(t.TEXTURE_2D_ARRAY,X,0,0,0,ft.width,ft.height,Ce.depth,pt,Mt,ft.data):n.texImage3D(t.TEXTURE_2D_ARRAY,X,Et,ft.width,ft.height,Ce.depth,0,pt,Mt,ft.data)}else{oe&&nt&&n.texStorage2D(t.TEXTURE_2D,Y,Et,Vt[0].width,Vt[0].height);for(let X=0,re=Vt.length;X<re;X++)ft=Vt[X],F.format!==is?pt!==null?oe?n.compressedTexSubImage2D(t.TEXTURE_2D,X,0,0,ft.width,ft.height,pt,ft.data):n.compressedTexImage2D(t.TEXTURE_2D,X,Et,ft.width,ft.height,0,ft.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):oe?n.texSubImage2D(t.TEXTURE_2D,X,0,0,ft.width,ft.height,pt,Mt,ft.data):n.texImage2D(t.TEXTURE_2D,X,Et,ft.width,ft.height,0,pt,Mt,ft.data)}else if(F.isDataArrayTexture)oe?(nt&&n.texStorage3D(t.TEXTURE_2D_ARRAY,Y,Et,Ce.width,Ce.height,Ce.depth),n.texSubImage3D(t.TEXTURE_2D_ARRAY,0,0,0,0,Ce.width,Ce.height,Ce.depth,pt,Mt,Ce.data)):n.texImage3D(t.TEXTURE_2D_ARRAY,0,Et,Ce.width,Ce.height,Ce.depth,0,pt,Mt,Ce.data);else if(F.isData3DTexture)oe?(nt&&n.texStorage3D(t.TEXTURE_3D,Y,Et,Ce.width,Ce.height,Ce.depth),n.texSubImage3D(t.TEXTURE_3D,0,0,0,0,Ce.width,Ce.height,Ce.depth,pt,Mt,Ce.data)):n.texImage3D(t.TEXTURE_3D,0,Et,Ce.width,Ce.height,Ce.depth,0,pt,Mt,Ce.data);else if(F.isFramebufferTexture){if(nt)if(oe)n.texStorage2D(t.TEXTURE_2D,Y,Et,Ce.width,Ce.height);else{let X=Ce.width,re=Ce.height;for(let Re=0;Re<Y;Re++)n.texImage2D(t.TEXTURE_2D,Re,Et,X,re,0,pt,Mt,null),X>>=1,re>>=1}}else if(Vt.length>0&&wt){oe&&nt&&n.texStorage2D(t.TEXTURE_2D,Y,Et,Vt[0].width,Vt[0].height);for(let X=0,re=Vt.length;X<re;X++)ft=Vt[X],oe?n.texSubImage2D(t.TEXTURE_2D,X,0,0,pt,Mt,ft):n.texImage2D(t.TEXTURE_2D,X,Et,pt,Mt,ft);F.generateMipmaps=!1}else oe?(nt&&n.texStorage2D(t.TEXTURE_2D,Y,Et,Ce.width,Ce.height),n.texSubImage2D(t.TEXTURE_2D,0,0,0,pt,Mt,Ce)):n.texImage2D(t.TEXTURE_2D,0,Et,pt,Mt,Ce);T(F,wt)&&R(fe),we.__version=me.version,F.onUpdate&&F.onUpdate(F)}$.__version=F.version}function Xe($,F,ee){if(F.image.length!==6)return;const fe=ut($,F),he=F.source;n.bindTexture(t.TEXTURE_CUBE_MAP,$.__webglTexture,t.TEXTURE0+ee);const me=i.get(he);if(he.version!==me.__version||fe===!0){n.activeTexture(t.TEXTURE0+ee);const we=An.getPrimaries(An.workingColorSpace),Le=F.colorSpace===Zs?null:An.getPrimaries(F.colorSpace),De=F.colorSpace===Zs||we===Le?t.NONE:t.BROWSER_DEFAULT_WEBGL;t.pixelStorei(t.UNPACK_FLIP_Y_WEBGL,F.flipY),t.pixelStorei(t.UNPACK_PREMULTIPLY_ALPHA_WEBGL,F.premultiplyAlpha),t.pixelStorei(t.UNPACK_ALIGNMENT,F.unpackAlignment),t.pixelStorei(t.UNPACK_COLORSPACE_CONVERSION_WEBGL,De);const Qe=F.isCompressedTexture||F.image[0].isCompressedTexture,Ne=F.image[0]&&F.image[0].isDataTexture,Ce=[];for(let X=0;X<6;X++)!Qe&&!Ne?Ce[X]=b(F.image[X],!1,!0,c):Ce[X]=Ne?F.image[X].image:F.image[X],Ce[X]=Xt(F,Ce[X]);const wt=Ce[0],pt=w(wt)||a,Mt=s.convert(F.format,F.colorSpace),Et=s.convert(F.type),ft=I(F.internalFormat,Mt,Et,F.colorSpace),Vt=a&&F.isVideoTexture!==!0,oe=me.__version===void 0||fe===!0;let nt=A(F,wt,pt);Oe(t.TEXTURE_CUBE_MAP,F,pt);let Y;if(Qe){Vt&&oe&&n.texStorage2D(t.TEXTURE_CUBE_MAP,nt,ft,wt.width,wt.height);for(let X=0;X<6;X++){Y=Ce[X].mipmaps;for(let re=0;re<Y.length;re++){const Re=Y[re];F.format!==is?Mt!==null?Vt?n.compressedTexSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+X,re,0,0,Re.width,Re.height,Mt,Re.data):n.compressedTexImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+X,re,ft,Re.width,Re.height,0,Re.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):Vt?n.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+X,re,0,0,Re.width,Re.height,Mt,Et,Re.data):n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+X,re,ft,Re.width,Re.height,0,Mt,Et,Re.data)}}}else{Y=F.mipmaps,Vt&&oe&&(Y.length>0&&nt++,n.texStorage2D(t.TEXTURE_CUBE_MAP,nt,ft,Ce[0].width,Ce[0].height));for(let X=0;X<6;X++)if(Ne){Vt?n.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+X,0,0,0,Ce[X].width,Ce[X].height,Mt,Et,Ce[X].data):n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+X,0,ft,Ce[X].width,Ce[X].height,0,Mt,Et,Ce[X].data);for(let re=0;re<Y.length;re++){const Fe=Y[re].image[X].image;Vt?n.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+X,re+1,0,0,Fe.width,Fe.height,Mt,Et,Fe.data):n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+X,re+1,ft,Fe.width,Fe.height,0,Mt,Et,Fe.data)}}else{Vt?n.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+X,0,0,0,Mt,Et,Ce[X]):n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+X,0,ft,Mt,Et,Ce[X]);for(let re=0;re<Y.length;re++){const Re=Y[re];Vt?n.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+X,re+1,0,0,Mt,Et,Re.image[X]):n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+X,re+1,ft,Mt,Et,Re.image[X])}}}T(F,pt)&&R(t.TEXTURE_CUBE_MAP),me.__version=he.version,F.onUpdate&&F.onUpdate(F)}$.__version=F.version}function Ie($,F,ee,fe,he,me){const we=s.convert(ee.format,ee.colorSpace),Le=s.convert(ee.type),De=I(ee.internalFormat,we,Le,ee.colorSpace);if(!i.get(F).__hasExternalTextures){const Ne=Math.max(1,F.width>>me),Ce=Math.max(1,F.height>>me);he===t.TEXTURE_3D||he===t.TEXTURE_2D_ARRAY?n.texImage3D(he,me,De,Ne,Ce,F.depth,0,we,Le,null):n.texImage2D(he,me,De,Ne,Ce,0,we,Le,null)}n.bindFramebuffer(t.FRAMEBUFFER,$),Ye(F)?f.framebufferTexture2DMultisampleEXT(t.FRAMEBUFFER,fe,he,i.get(ee).__webglTexture,0,Ge(F)):(he===t.TEXTURE_2D||he>=t.TEXTURE_CUBE_MAP_POSITIVE_X&&he<=t.TEXTURE_CUBE_MAP_NEGATIVE_Z)&&t.framebufferTexture2D(t.FRAMEBUFFER,fe,he,i.get(ee).__webglTexture,me),n.bindFramebuffer(t.FRAMEBUFFER,null)}function Z($,F,ee){if(t.bindRenderbuffer(t.RENDERBUFFER,$),F.depthBuffer&&!F.stencilBuffer){let fe=a===!0?t.DEPTH_COMPONENT24:t.DEPTH_COMPONENT16;if(ee||Ye(F)){const he=F.depthTexture;he&&he.isDepthTexture&&(he.type===eo?fe=t.DEPTH_COMPONENT32F:he.type===Na&&(fe=t.DEPTH_COMPONENT24));const me=Ge(F);Ye(F)?f.renderbufferStorageMultisampleEXT(t.RENDERBUFFER,me,fe,F.width,F.height):t.renderbufferStorageMultisample(t.RENDERBUFFER,me,fe,F.width,F.height)}else t.renderbufferStorage(t.RENDERBUFFER,fe,F.width,F.height);t.framebufferRenderbuffer(t.FRAMEBUFFER,t.DEPTH_ATTACHMENT,t.RENDERBUFFER,$)}else if(F.depthBuffer&&F.stencilBuffer){const fe=Ge(F);ee&&Ye(F)===!1?t.renderbufferStorageMultisample(t.RENDERBUFFER,fe,t.DEPTH24_STENCIL8,F.width,F.height):Ye(F)?f.renderbufferStorageMultisampleEXT(t.RENDERBUFFER,fe,t.DEPTH24_STENCIL8,F.width,F.height):t.renderbufferStorage(t.RENDERBUFFER,t.DEPTH_STENCIL,F.width,F.height),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.DEPTH_STENCIL_ATTACHMENT,t.RENDERBUFFER,$)}else{const fe=F.isWebGLMultipleRenderTargets===!0?F.texture:[F.texture];for(let he=0;he<fe.length;he++){const me=fe[he],we=s.convert(me.format,me.colorSpace),Le=s.convert(me.type),De=I(me.internalFormat,we,Le,me.colorSpace),Qe=Ge(F);ee&&Ye(F)===!1?t.renderbufferStorageMultisample(t.RENDERBUFFER,Qe,De,F.width,F.height):Ye(F)?f.renderbufferStorageMultisampleEXT(t.RENDERBUFFER,Qe,De,F.width,F.height):t.renderbufferStorage(t.RENDERBUFFER,De,F.width,F.height)}}t.bindRenderbuffer(t.RENDERBUFFER,null)}function _e($,F){if(F&&F.isWebGLCubeRenderTarget)throw new Error("Depth Texture with cube render targets is not supported");if(n.bindFramebuffer(t.FRAMEBUFFER,$),!(F.depthTexture&&F.depthTexture.isDepthTexture))throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");(!i.get(F.depthTexture).__webglTexture||F.depthTexture.image.width!==F.width||F.depthTexture.image.height!==F.height)&&(F.depthTexture.image.width=F.width,F.depthTexture.image.height=F.height,F.depthTexture.needsUpdate=!0),j(F.depthTexture,0);const fe=i.get(F.depthTexture).__webglTexture,he=Ge(F);if(F.depthTexture.format===eu)Ye(F)?f.framebufferTexture2DMultisampleEXT(t.FRAMEBUFFER,t.DEPTH_ATTACHMENT,t.TEXTURE_2D,fe,0,he):t.framebufferTexture2D(t.FRAMEBUFFER,t.DEPTH_ATTACHMENT,t.TEXTURE_2D,fe,0);else if(F.depthTexture.format===fu)Ye(F)?f.framebufferTexture2DMultisampleEXT(t.FRAMEBUFFER,t.DEPTH_STENCIL_ATTACHMENT,t.TEXTURE_2D,fe,0,he):t.framebufferTexture2D(t.FRAMEBUFFER,t.DEPTH_STENCIL_ATTACHMENT,t.TEXTURE_2D,fe,0);else throw new Error("Unknown depthTexture format")}function de($){const F=i.get($),ee=$.isWebGLCubeRenderTarget===!0;if($.depthTexture&&!F.__autoAllocateDepthBuffer){if(ee)throw new Error("target.depthTexture not supported in Cube render targets");_e(F.__webglFramebuffer,$)}else if(ee){F.__webglDepthbuffer=[];for(let fe=0;fe<6;fe++)n.bindFramebuffer(t.FRAMEBUFFER,F.__webglFramebuffer[fe]),F.__webglDepthbuffer[fe]=t.createRenderbuffer(),Z(F.__webglDepthbuffer[fe],$,!1)}else n.bindFramebuffer(t.FRAMEBUFFER,F.__webglFramebuffer),F.__webglDepthbuffer=t.createRenderbuffer(),Z(F.__webglDepthbuffer,$,!1);n.bindFramebuffer(t.FRAMEBUFFER,null)}function be($,F,ee){const fe=i.get($);F!==void 0&&Ie(fe.__webglFramebuffer,$,$.texture,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,0),ee!==void 0&&de($)}function Pe($){const F=$.texture,ee=i.get($),fe=i.get(F);$.addEventListener("dispose",H),$.isWebGLMultipleRenderTargets!==!0&&(fe.__webglTexture===void 0&&(fe.__webglTexture=t.createTexture()),fe.__version=F.version,o.memory.textures++);const he=$.isWebGLCubeRenderTarget===!0,me=$.isWebGLMultipleRenderTargets===!0,we=w($)||a;if(he){ee.__webglFramebuffer=[];for(let Le=0;Le<6;Le++)if(a&&F.mipmaps&&F.mipmaps.length>0){ee.__webglFramebuffer[Le]=[];for(let De=0;De<F.mipmaps.length;De++)ee.__webglFramebuffer[Le][De]=t.createFramebuffer()}else ee.__webglFramebuffer[Le]=t.createFramebuffer()}else{if(a&&F.mipmaps&&F.mipmaps.length>0){ee.__webglFramebuffer=[];for(let Le=0;Le<F.mipmaps.length;Le++)ee.__webglFramebuffer[Le]=t.createFramebuffer()}else ee.__webglFramebuffer=t.createFramebuffer();if(me)if(r.drawBuffers){const Le=$.texture;for(let De=0,Qe=Le.length;De<Qe;De++){const Ne=i.get(Le[De]);Ne.__webglTexture===void 0&&(Ne.__webglTexture=t.createTexture(),o.memory.textures++)}}else console.warn("THREE.WebGLRenderer: WebGLMultipleRenderTargets can only be used with WebGL2 or WEBGL_draw_buffers extension.");if(a&&$.samples>0&&Ye($)===!1){const Le=me?F:[F];ee.__webglMultisampledFramebuffer=t.createFramebuffer(),ee.__webglColorRenderbuffer=[],n.bindFramebuffer(t.FRAMEBUFFER,ee.__webglMultisampledFramebuffer);for(let De=0;De<Le.length;De++){const Qe=Le[De];ee.__webglColorRenderbuffer[De]=t.createRenderbuffer(),t.bindRenderbuffer(t.RENDERBUFFER,ee.__webglColorRenderbuffer[De]);const Ne=s.convert(Qe.format,Qe.colorSpace),Ce=s.convert(Qe.type),wt=I(Qe.internalFormat,Ne,Ce,Qe.colorSpace,$.isXRRenderTarget===!0),pt=Ge($);t.renderbufferStorageMultisample(t.RENDERBUFFER,pt,wt,$.width,$.height),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0+De,t.RENDERBUFFER,ee.__webglColorRenderbuffer[De])}t.bindRenderbuffer(t.RENDERBUFFER,null),$.depthBuffer&&(ee.__webglDepthRenderbuffer=t.createRenderbuffer(),Z(ee.__webglDepthRenderbuffer,$,!0)),n.bindFramebuffer(t.FRAMEBUFFER,null)}}if(he){n.bindTexture(t.TEXTURE_CUBE_MAP,fe.__webglTexture),Oe(t.TEXTURE_CUBE_MAP,F,we);for(let Le=0;Le<6;Le++)if(a&&F.mipmaps&&F.mipmaps.length>0)for(let De=0;De<F.mipmaps.length;De++)Ie(ee.__webglFramebuffer[Le][De],$,F,t.COLOR_ATTACHMENT0,t.TEXTURE_CUBE_MAP_POSITIVE_X+Le,De);else Ie(ee.__webglFramebuffer[Le],$,F,t.COLOR_ATTACHMENT0,t.TEXTURE_CUBE_MAP_POSITIVE_X+Le,0);T(F,we)&&R(t.TEXTURE_CUBE_MAP),n.unbindTexture()}else if(me){const Le=$.texture;for(let De=0,Qe=Le.length;De<Qe;De++){const Ne=Le[De],Ce=i.get(Ne);n.bindTexture(t.TEXTURE_2D,Ce.__webglTexture),Oe(t.TEXTURE_2D,Ne,we),Ie(ee.__webglFramebuffer,$,Ne,t.COLOR_ATTACHMENT0+De,t.TEXTURE_2D,0),T(Ne,we)&&R(t.TEXTURE_2D)}n.unbindTexture()}else{let Le=t.TEXTURE_2D;if(($.isWebGL3DRenderTarget||$.isWebGLArrayRenderTarget)&&(a?Le=$.isWebGL3DRenderTarget?t.TEXTURE_3D:t.TEXTURE_2D_ARRAY:console.error("THREE.WebGLTextures: THREE.Data3DTexture and THREE.DataArrayTexture only supported with WebGL2.")),n.bindTexture(Le,fe.__webglTexture),Oe(Le,F,we),a&&F.mipmaps&&F.mipmaps.length>0)for(let De=0;De<F.mipmaps.length;De++)Ie(ee.__webglFramebuffer[De],$,F,t.COLOR_ATTACHMENT0,Le,De);else Ie(ee.__webglFramebuffer,$,F,t.COLOR_ATTACHMENT0,Le,0);T(F,we)&&R(Le),n.unbindTexture()}$.depthBuffer&&de($)}function Ke($){const F=w($)||a,ee=$.isWebGLMultipleRenderTargets===!0?$.texture:[$.texture];for(let fe=0,he=ee.length;fe<he;fe++){const me=ee[fe];if(T(me,F)){const we=$.isWebGLCubeRenderTarget?t.TEXTURE_CUBE_MAP:t.TEXTURE_2D,Le=i.get(me).__webglTexture;n.bindTexture(we,Le),R(we),n.unbindTexture()}}}function ze($){if(a&&$.samples>0&&Ye($)===!1){const F=$.isWebGLMultipleRenderTargets?$.texture:[$.texture],ee=$.width,fe=$.height;let he=t.COLOR_BUFFER_BIT;const me=[],we=$.stencilBuffer?t.DEPTH_STENCIL_ATTACHMENT:t.DEPTH_ATTACHMENT,Le=i.get($),De=$.isWebGLMultipleRenderTargets===!0;if(De)for(let Qe=0;Qe<F.length;Qe++)n.bindFramebuffer(t.FRAMEBUFFER,Le.__webglMultisampledFramebuffer),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0+Qe,t.RENDERBUFFER,null),n.bindFramebuffer(t.FRAMEBUFFER,Le.__webglFramebuffer),t.framebufferTexture2D(t.DRAW_FRAMEBUFFER,t.COLOR_ATTACHMENT0+Qe,t.TEXTURE_2D,null,0);n.bindFramebuffer(t.READ_FRAMEBUFFER,Le.__webglMultisampledFramebuffer),n.bindFramebuffer(t.DRAW_FRAMEBUFFER,Le.__webglFramebuffer);for(let Qe=0;Qe<F.length;Qe++){me.push(t.COLOR_ATTACHMENT0+Qe),$.depthBuffer&&me.push(we);const Ne=Le.__ignoreDepthValues!==void 0?Le.__ignoreDepthValues:!1;if(Ne===!1&&($.depthBuffer&&(he|=t.DEPTH_BUFFER_BIT),$.stencilBuffer&&(he|=t.STENCIL_BUFFER_BIT)),De&&t.framebufferRenderbuffer(t.READ_FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.RENDERBUFFER,Le.__webglColorRenderbuffer[Qe]),Ne===!0&&(t.invalidateFramebuffer(t.READ_FRAMEBUFFER,[we]),t.invalidateFramebuffer(t.DRAW_FRAMEBUFFER,[we])),De){const Ce=i.get(F[Qe]).__webglTexture;t.framebufferTexture2D(t.DRAW_FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,Ce,0)}t.blitFramebuffer(0,0,ee,fe,0,0,ee,fe,he,t.NEAREST),m&&t.invalidateFramebuffer(t.READ_FRAMEBUFFER,me)}if(n.bindFramebuffer(t.READ_FRAMEBUFFER,null),n.bindFramebuffer(t.DRAW_FRAMEBUFFER,null),De)for(let Qe=0;Qe<F.length;Qe++){n.bindFramebuffer(t.FRAMEBUFFER,Le.__webglMultisampledFramebuffer),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0+Qe,t.RENDERBUFFER,Le.__webglColorRenderbuffer[Qe]);const Ne=i.get(F[Qe]).__webglTexture;n.bindFramebuffer(t.FRAMEBUFFER,Le.__webglFramebuffer),t.framebufferTexture2D(t.DRAW_FRAMEBUFFER,t.COLOR_ATTACHMENT0+Qe,t.TEXTURE_2D,Ne,0)}n.bindFramebuffer(t.DRAW_FRAMEBUFFER,Le.__webglMultisampledFramebuffer)}}function Ge($){return Math.min(d,$.samples)}function Ye($){const F=i.get($);return a&&$.samples>0&&e.has("WEBGL_multisampled_render_to_texture")===!0&&F.__useRenderToTexture!==!1}function st($){const F=o.render.frame;g.get($)!==F&&(g.set($,F),$.update())}function Xt($,F){const ee=$.colorSpace,fe=$.format,he=$.type;return $.isCompressedTexture===!0||$.isVideoTexture===!0||$.format===W1||ee!==Xa&&ee!==Zs&&(An.getTransfer(ee)===jn?a===!1?e.has("EXT_sRGB")===!0&&fe===is?($.format=W1,$.minFilter=Bn,$.generateMipmaps=!1):F=Zk.sRGBToLinear(F):(fe!==is||he!==mr)&&console.warn("THREE.WebGLTextures: sRGB encoded textures have to use RGBAFormat and UnsignedByteType."):console.error("THREE.WebGLTextures: Unsupported texture color space:",ee)),F}this.allocateTextureUnit=N,this.resetTextureUnits=J,this.setTexture2D=j,this.setTexture2DArray=te,this.setTexture3D=se,this.setTextureCube=ne,this.rebindTextures=be,this.setupRenderTarget=Pe,this.updateRenderTargetMipmap=Ke,this.updateMultisampleRenderTarget=ze,this.setupDepthRenderbuffer=de,this.setupFrameBufferTexture=Ie,this.useMultisampledRTT=Ye}function T6(t,e,n){const i=n.isWebGL2;function r(s,o=Zs){let a;const l=An.getTransfer(o);if(s===mr)return t.UNSIGNED_BYTE;if(s===jk)return t.UNSIGNED_SHORT_4_4_4_4;if(s===Wk)return t.UNSIGNED_SHORT_5_5_5_1;if(s===XW)return t.BYTE;if(s===YW)return t.SHORT;if(s===Lw)return t.UNSIGNED_SHORT;if(s===Vk)return t.INT;if(s===Na)return t.UNSIGNED_INT;if(s===eo)return t.FLOAT;if(s===du)return i?t.HALF_FLOAT:(a=e.get("OES_texture_half_float"),a!==null?a.HALF_FLOAT_OES:null);if(s===qW)return t.ALPHA;if(s===is)return t.RGBA;if(s===KW)return t.LUMINANCE;if(s===QW)return t.LUMINANCE_ALPHA;if(s===eu)return t.DEPTH_COMPONENT;if(s===fu)return t.DEPTH_STENCIL;if(s===W1)return a=e.get("EXT_sRGB"),a!==null?a.SRGB_ALPHA_EXT:null;if(s===ZW)return t.RED;if(s===Gk)return t.RED_INTEGER;if(s===JW)return t.RG;if(s===$k)return t.RG_INTEGER;if(s===Xk)return t.RGBA_INTEGER;if(s===zb||s===Ub||s===Bb||s===Hb)if(l===jn)if(a=e.get("WEBGL_compressed_texture_s3tc_srgb"),a!==null){if(s===zb)return a.COMPRESSED_SRGB_S3TC_DXT1_EXT;if(s===Ub)return a.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT;if(s===Bb)return a.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT;if(s===Hb)return a.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT}else return null;else if(a=e.get("WEBGL_compressed_texture_s3tc"),a!==null){if(s===zb)return a.COMPRESSED_RGB_S3TC_DXT1_EXT;if(s===Ub)return a.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(s===Bb)return a.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(s===Hb)return a.COMPRESSED_RGBA_S3TC_DXT5_EXT}else return null;if(s===mR||s===gR||s===vR||s===yR)if(a=e.get("WEBGL_compressed_texture_pvrtc"),a!==null){if(s===mR)return a.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(s===gR)return a.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(s===vR)return a.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(s===yR)return a.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}else return null;if(s===Yk)return a=e.get("WEBGL_compressed_texture_etc1"),a!==null?a.COMPRESSED_RGB_ETC1_WEBGL:null;if(s===xR||s===_R)if(a=e.get("WEBGL_compressed_texture_etc"),a!==null){if(s===xR)return l===jn?a.COMPRESSED_SRGB8_ETC2:a.COMPRESSED_RGB8_ETC2;if(s===_R)return l===jn?a.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC:a.COMPRESSED_RGBA8_ETC2_EAC}else return null;if(s===bR||s===SR||s===wR||s===MR||s===ER||s===TR||s===CR||s===RR||s===AR||s===PR||s===kR||s===IR||s===LR||s===DR)if(a=e.get("WEBGL_compressed_texture_astc"),a!==null){if(s===bR)return l===jn?a.COMPRESSED_SRGB8_ALPHA8_ASTC_4x4_KHR:a.COMPRESSED_RGBA_ASTC_4x4_KHR;if(s===SR)return l===jn?a.COMPRESSED_SRGB8_ALPHA8_ASTC_5x4_KHR:a.COMPRESSED_RGBA_ASTC_5x4_KHR;if(s===wR)return l===jn?a.COMPRESSED_SRGB8_ALPHA8_ASTC_5x5_KHR:a.COMPRESSED_RGBA_ASTC_5x5_KHR;if(s===MR)return l===jn?a.COMPRESSED_SRGB8_ALPHA8_ASTC_6x5_KHR:a.COMPRESSED_RGBA_ASTC_6x5_KHR;if(s===ER)return l===jn?a.COMPRESSED_SRGB8_ALPHA8_ASTC_6x6_KHR:a.COMPRESSED_RGBA_ASTC_6x6_KHR;if(s===TR)return l===jn?a.COMPRESSED_SRGB8_ALPHA8_ASTC_8x5_KHR:a.COMPRESSED_RGBA_ASTC_8x5_KHR;if(s===CR)return l===jn?a.COMPRESSED_SRGB8_ALPHA8_ASTC_8x6_KHR:a.COMPRESSED_RGBA_ASTC_8x6_KHR;if(s===RR)return l===jn?a.COMPRESSED_SRGB8_ALPHA8_ASTC_8x8_KHR:a.COMPRESSED_RGBA_ASTC_8x8_KHR;if(s===AR)return l===jn?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x5_KHR:a.COMPRESSED_RGBA_ASTC_10x5_KHR;if(s===PR)return l===jn?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x6_KHR:a.COMPRESSED_RGBA_ASTC_10x6_KHR;if(s===kR)return l===jn?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x8_KHR:a.COMPRESSED_RGBA_ASTC_10x8_KHR;if(s===IR)return l===jn?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x10_KHR:a.COMPRESSED_RGBA_ASTC_10x10_KHR;if(s===LR)return l===jn?a.COMPRESSED_SRGB8_ALPHA8_ASTC_12x10_KHR:a.COMPRESSED_RGBA_ASTC_12x10_KHR;if(s===DR)return l===jn?a.COMPRESSED_SRGB8_ALPHA8_ASTC_12x12_KHR:a.COMPRESSED_RGBA_ASTC_12x12_KHR}else return null;if(s===Vb||s===OR||s===NR)if(a=e.get("EXT_texture_compression_bptc"),a!==null){if(s===Vb)return l===jn?a.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT:a.COMPRESSED_RGBA_BPTC_UNORM_EXT;if(s===OR)return a.COMPRESSED_RGB_BPTC_SIGNED_FLOAT_EXT;if(s===NR)return a.COMPRESSED_RGB_BPTC_UNSIGNED_FLOAT_EXT}else return null;if(s===e6||s===FR||s===zR||s===UR)if(a=e.get("EXT_texture_compression_rgtc"),a!==null){if(s===Vb)return a.COMPRESSED_RED_RGTC1_EXT;if(s===FR)return a.COMPRESSED_SIGNED_RED_RGTC1_EXT;if(s===zR)return a.COMPRESSED_RED_GREEN_RGTC2_EXT;if(s===UR)return a.COMPRESSED_SIGNED_RED_GREEN_RGTC2_EXT}else return null;return s===Ol?i?t.UNSIGNED_INT_24_8:(a=e.get("WEBGL_depth_texture"),a!==null?a.UNSIGNED_INT_24_8_WEBGL:null):t[s]!==void 0?t[s]:null}return{convert:r}}class C6 extends zi{constructor(e=[]){super(),this.isArrayCamera=!0,this.cameras=e}}class Gh extends xn{constructor(){super(),this.isGroup=!0,this.type="Group"}}const V0e={type:"move"};class WT{constructor(){this._targetRay=null,this._grip=null,this._hand=null}getHandSpace(){return this._hand===null&&(this._hand=new Gh,this._hand.matrixAutoUpdate=!1,this._hand.visible=!1,this._hand.joints={},this._hand.inputState={pinching:!1}),this._hand}getTargetRaySpace(){return this._targetRay===null&&(this._targetRay=new Gh,this._targetRay.matrixAutoUpdate=!1,this._targetRay.visible=!1,this._targetRay.hasLinearVelocity=!1,this._targetRay.linearVelocity=new W,this._targetRay.hasAngularVelocity=!1,this._targetRay.angularVelocity=new W),this._targetRay}getGripSpace(){return this._grip===null&&(this._grip=new Gh,this._grip.matrixAutoUpdate=!1,this._grip.visible=!1,this._grip.hasLinearVelocity=!1,this._grip.linearVelocity=new W,this._grip.hasAngularVelocity=!1,this._grip.angularVelocity=new W),this._grip}dispatchEvent(e){return this._targetRay!==null&&this._targetRay.dispatchEvent(e),this._grip!==null&&this._grip.dispatchEvent(e),this._hand!==null&&this._hand.dispatchEvent(e),this}connect(e){if(e&&e.hand){const n=this._hand;if(n)for(const i of e.hand.values())this._getHandJoint(n,i)}return this.dispatchEvent({type:"connected",data:e}),this}disconnect(e){return this.dispatchEvent({type:"disconnected",data:e}),this._targetRay!==null&&(this._targetRay.visible=!1),this._grip!==null&&(this._grip.visible=!1),this._hand!==null&&(this._hand.visible=!1),this}update(e,n,i){let r=null,s=null,o=null;const a=this._targetRay,l=this._grip,c=this._hand;if(e&&n.session.visibilityState!=="visible-blurred"){if(c&&e.hand){o=!0;for(const y of e.hand.values()){const x=n.getJointPose(y,i),v=this._getHandJoint(c,y);x!==null&&(v.matrix.fromArray(x.transform.matrix),v.matrix.decompose(v.position,v.rotation,v.scale),v.matrixWorldNeedsUpdate=!0,v.jointRadius=x.radius),v.visible=x!==null}const u=c.joints["index-finger-tip"],d=c.joints["thumb-tip"],f=u.position.distanceTo(d.position),m=.02,g=.005;c.inputState.pinching&&f>m+g?(c.inputState.pinching=!1,this.dispatchEvent({type:"pinchend",handedness:e.handedness,target:this})):!c.inputState.pinching&&f<=m-g&&(c.inputState.pinching=!0,this.dispatchEvent({type:"pinchstart",handedness:e.handedness,target:this}))}else l!==null&&e.gripSpace&&(s=n.getPose(e.gripSpace,i),s!==null&&(l.matrix.fromArray(s.transform.matrix),l.matrix.decompose(l.position,l.rotation,l.scale),l.matrixWorldNeedsUpdate=!0,s.linearVelocity?(l.hasLinearVelocity=!0,l.linearVelocity.copy(s.linearVelocity)):l.hasLinearVelocity=!1,s.angularVelocity?(l.hasAngularVelocity=!0,l.angularVelocity.copy(s.angularVelocity)):l.hasAngularVelocity=!1));a!==null&&(r=n.getPose(e.targetRaySpace,i),r===null&&s!==null&&(r=s),r!==null&&(a.matrix.fromArray(r.transform.matrix),a.matrix.decompose(a.position,a.rotation,a.scale),a.matrixWorldNeedsUpdate=!0,r.linearVelocity?(a.hasLinearVelocity=!0,a.linearVelocity.copy(r.linearVelocity)):a.hasLinearVelocity=!1,r.angularVelocity?(a.hasAngularVelocity=!0,a.angularVelocity.copy(r.angularVelocity)):a.hasAngularVelocity=!1,this.dispatchEvent(V0e)))}return a!==null&&(a.visible=r!==null),l!==null&&(l.visible=s!==null),c!==null&&(c.visible=o!==null),this}_getHandJoint(e,n){if(e.joints[n.jointName]===void 0){const i=new Gh;i.matrixAutoUpdate=!1,i.visible=!1,e.joints[n.jointName]=i,e.add(i)}return e.joints[n.jointName]}}class j0e extends lo{constructor(e,n){super();const i=this;let r=null,s=1,o=null,a="local-floor",l=1,c=null,u=null,d=null,f=null,m=null,g=null;const y=n.getContextAttributes();let x=null,v=null;const _=[],b=[],w=new Ae;let C=null;const T=new zi;T.layers.enable(1),T.viewport=new wn;const R=new zi;R.layers.enable(2),R.viewport=new wn;const I=[T,R],A=new C6;A.layers.enable(1),A.layers.enable(2);let L=null,O=null;this.cameraAutoUpdate=!0,this.enabled=!1,this.isPresenting=!1,this.getController=function(ne){let ae=_[ne];return ae===void 0&&(ae=new WT,_[ne]=ae),ae.getTargetRaySpace()},this.getControllerGrip=function(ne){let ae=_[ne];return ae===void 0&&(ae=new WT,_[ne]=ae),ae.getGripSpace()},this.getHand=function(ne){let ae=_[ne];return ae===void 0&&(ae=new WT,_[ne]=ae),ae.getHandSpace()};function H(ne){const ae=b.indexOf(ne.inputSource);if(ae===-1)return;const xe=_[ae];xe!==void 0&&(xe.update(ne.inputSource,ne.frame,c||o),xe.dispatchEvent({type:ne.type,data:ne.inputSource}))}function q(){r.removeEventListener("select",H),r.removeEventListener("selectstart",H),r.removeEventListener("selectend",H),r.removeEventListener("squeeze",H),r.removeEventListener("squeezestart",H),r.removeEventListener("squeezeend",H),r.removeEventListener("end",q),r.removeEventListener("inputsourceschange",U);for(let ne=0;ne<_.length;ne++){const ae=b[ne];ae!==null&&(b[ne]=null,_[ne].disconnect(ae))}L=null,O=null,e.setRenderTarget(x),m=null,f=null,d=null,r=null,v=null,se.stop(),i.isPresenting=!1,e.setPixelRatio(C),e.setSize(w.width,w.height,!1),i.dispatchEvent({type:"sessionend"})}this.setFramebufferScaleFactor=function(ne){s=ne,i.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change framebuffer scale while presenting.")},this.setReferenceSpaceType=function(ne){a=ne,i.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change reference space type while presenting.")},this.getReferenceSpace=function(){return c||o},this.setReferenceSpace=function(ne){c=ne},this.getBaseLayer=function(){return f!==null?f:m},this.getBinding=function(){return d},this.getFrame=function(){return g},this.getSession=function(){return r},this.setSession=async function(ne){if(r=ne,r!==null){if(x=e.getRenderTarget(),r.addEventListener("select",H),r.addEventListener("selectstart",H),r.addEventListener("selectend",H),r.addEventListener("squeeze",H),r.addEventListener("squeezestart",H),r.addEventListener("squeezeend",H),r.addEventListener("end",q),r.addEventListener("inputsourceschange",U),y.xrCompatible!==!0&&await n.makeXRCompatible(),C=e.getPixelRatio(),e.getSize(w),r.renderState.layers===void 0||e.capabilities.isWebGL2===!1){const ae={antialias:r.renderState.layers===void 0?y.antialias:!0,alpha:!0,depth:y.depth,stencil:y.stencil,framebufferScaleFactor:s};m=new XRWebGLLayer(r,n,ae),r.updateRenderState({baseLayer:m}),e.setPixelRatio(1),e.setSize(m.framebufferWidth,m.framebufferHeight,!1),v=new ii(m.framebufferWidth,m.framebufferHeight,{format:is,type:mr,colorSpace:e.outputColorSpace,stencilBuffer:y.stencil})}else{let ae=null,xe=null,Ee=null;y.depth&&(Ee=y.stencil?n.DEPTH24_STENCIL8:n.DEPTH_COMPONENT24,ae=y.stencil?fu:eu,xe=y.stencil?Ol:Na);const Oe={colorFormat:n.RGBA8,depthFormat:Ee,scaleFactor:s};d=new XRWebGLBinding(r,n),f=d.createProjectionLayer(Oe),r.updateRenderState({layers:[f]}),e.setPixelRatio(1),e.setSize(f.textureWidth,f.textureHeight,!1),v=new ii(f.textureWidth,f.textureHeight,{format:is,type:mr,depthTexture:new cy(f.textureWidth,f.textureHeight,xe,void 0,void 0,void 0,void 0,void 0,void 0,ae),stencilBuffer:y.stencil,colorSpace:e.outputColorSpace,samples:y.antialias?4:0});const ut=e.properties.get(v);ut.__ignoreDepthValues=f.ignoreDepthValues}v.isXRRenderTarget=!0,this.setFoveation(l),c=null,o=await r.requestReferenceSpace(a),se.setContext(r),se.start(),i.isPresenting=!0,i.dispatchEvent({type:"sessionstart"})}},this.getEnvironmentBlendMode=function(){if(r!==null)return r.environmentBlendMode};function U(ne){for(let ae=0;ae<ne.removed.length;ae++){const xe=ne.removed[ae],Ee=b.indexOf(xe);Ee>=0&&(b[Ee]=null,_[Ee].disconnect(xe))}for(let ae=0;ae<ne.added.length;ae++){const xe=ne.added[ae];let Ee=b.indexOf(xe);if(Ee===-1){for(let ut=0;ut<_.length;ut++)if(ut>=b.length){b.push(xe),Ee=ut;break}else if(b[ut]===null){b[ut]=xe,Ee=ut;break}if(Ee===-1)break}const Oe=_[Ee];Oe&&Oe.connect(xe)}}const G=new W,Q=new W;function J(ne,ae,xe){G.setFromMatrixPosition(ae.matrixWorld),Q.setFromMatrixPosition(xe.matrixWorld);const Ee=G.distanceTo(Q),Oe=ae.projectionMatrix.elements,ut=xe.projectionMatrix.elements,qe=Oe[14]/(Oe[10]-1),Xe=Oe[14]/(Oe[10]+1),Ie=(Oe[9]+1)/Oe[5],Z=(Oe[9]-1)/Oe[5],_e=(Oe[8]-1)/Oe[0],de=(ut[8]+1)/ut[0],be=qe*_e,Pe=qe*de,Ke=Ee/(-_e+de),ze=Ke*-_e;ae.matrixWorld.decompose(ne.position,ne.quaternion,ne.scale),ne.translateX(ze),ne.translateZ(Ke),ne.matrixWorld.compose(ne.position,ne.quaternion,ne.scale),ne.matrixWorldInverse.copy(ne.matrixWorld).invert();const Ge=qe+Ke,Ye=Xe+Ke,st=be-ze,Xt=Pe+(Ee-ze),$=Ie*Xe/Ye*Ge,F=Z*Xe/Ye*Ge;ne.projectionMatrix.makePerspective(st,Xt,$,F,Ge,Ye),ne.projectionMatrixInverse.copy(ne.projectionMatrix).invert()}function N(ne,ae){ae===null?ne.matrixWorld.copy(ne.matrix):ne.matrixWorld.multiplyMatrices(ae.matrixWorld,ne.matrix),ne.matrixWorldInverse.copy(ne.matrixWorld).invert()}this.updateCamera=function(ne){if(r===null)return;A.near=R.near=T.near=ne.near,A.far=R.far=T.far=ne.far,(L!==A.near||O!==A.far)&&(r.updateRenderState({depthNear:A.near,depthFar:A.far}),L=A.near,O=A.far);const ae=ne.parent,xe=A.cameras;N(A,ae);for(let Ee=0;Ee<xe.length;Ee++)N(xe[Ee],ae);xe.length===2?J(A,T,R):A.projectionMatrix.copy(T.projectionMatrix),B(ne,A,ae)};function B(ne,ae,xe){xe===null?ne.matrix.copy(ae.matrixWorld):(ne.matrix.copy(xe.matrixWorld),ne.matrix.invert(),ne.matrix.multiply(ae.matrixWorld)),ne.matrix.decompose(ne.position,ne.quaternion,ne.scale),ne.updateMatrixWorld(!0),ne.projectionMatrix.copy(ae.projectionMatrix),ne.projectionMatrixInverse.copy(ae.projectionMatrixInverse),ne.isPerspectiveCamera&&(ne.fov=Bp*2*Math.atan(1/ne.projectionMatrix.elements[5]),ne.zoom=1)}this.getCamera=function(){return A},this.getFoveation=function(){if(!(f===null&&m===null))return l},this.setFoveation=function(ne){l=ne,f!==null&&(f.fixedFoveation=ne),m!==null&&m.fixedFoveation!==void 0&&(m.fixedFoveation=ne)};let j=null;function te(ne,ae){if(u=ae.getViewerPose(c||o),g=ae,u!==null){const xe=u.views;m!==null&&(e.setRenderTargetFramebuffer(v,m.framebuffer),e.setRenderTarget(v));let Ee=!1;xe.length!==A.cameras.length&&(A.cameras.length=0,Ee=!0);for(let Oe=0;Oe<xe.length;Oe++){const ut=xe[Oe];let qe=null;if(m!==null)qe=m.getViewport(ut);else{const Ie=d.getViewSubImage(f,ut);qe=Ie.viewport,Oe===0&&(e.setRenderTargetTextures(v,Ie.colorTexture,f.ignoreDepthValues?void 0:Ie.depthStencilTexture),e.setRenderTarget(v))}let Xe=I[Oe];Xe===void 0&&(Xe=new zi,Xe.layers.enable(Oe),Xe.viewport=new wn,I[Oe]=Xe),Xe.matrix.fromArray(ut.transform.matrix),Xe.matrix.decompose(Xe.position,Xe.quaternion,Xe.scale),Xe.projectionMatrix.fromArray(ut.projectionMatrix),Xe.projectionMatrixInverse.copy(Xe.projectionMatrix).invert(),Xe.viewport.set(qe.x,qe.y,qe.width,qe.height),Oe===0&&(A.matrix.copy(Xe.matrix),A.matrix.decompose(A.position,A.quaternion,A.scale)),Ee===!0&&A.cameras.push(Xe)}}for(let xe=0;xe<_.length;xe++){const Ee=b[xe],Oe=_[xe];Ee!==null&&Oe!==void 0&&Oe.update(Ee,ae,c||o)}j&&j(ne,ae),ae.detectedPlanes&&i.dispatchEvent({type:"planesdetected",data:ae}),g=null}const se=new _6;se.setAnimationLoop(te),this.setAnimationLoop=function(ne){j=ne},this.dispose=function(){}}}function W0e(t,e){function n(x,v){x.matrixAutoUpdate===!0&&x.updateMatrix(),v.value.copy(x.matrix)}function i(x,v){v.color.getRGB(x.fogColor.value,g6(t)),v.isFog?(x.fogNear.value=v.near,x.fogFar.value=v.far):v.isFogExp2&&(x.fogDensity.value=v.density)}function r(x,v,_,b,w){v.isMeshBasicMaterial||v.isMeshLambertMaterial?s(x,v):v.isMeshToonMaterial?(s(x,v),d(x,v)):v.isMeshPhongMaterial?(s(x,v),u(x,v)):v.isMeshStandardMaterial?(s(x,v),f(x,v),v.isMeshPhysicalMaterial&&m(x,v,w)):v.isMeshMatcapMaterial?(s(x,v),g(x,v)):v.isMeshDepthMaterial?s(x,v):v.isMeshDistanceMaterial?(s(x,v),y(x,v)):v.isMeshNormalMaterial?s(x,v):v.isLineBasicMaterial?(o(x,v),v.isLineDashedMaterial&&a(x,v)):v.isPointsMaterial?l(x,v,_,b):v.isSpriteMaterial?c(x,v):v.isShadowMaterial?(x.color.value.copy(v.color),x.opacity.value=v.opacity):v.isShaderMaterial&&(v.uniformsNeedUpdate=!1)}function s(x,v){x.opacity.value=v.opacity,v.color&&x.diffuse.value.copy(v.color),v.emissive&&x.emissive.value.copy(v.emissive).multiplyScalar(v.emissiveIntensity),v.map&&(x.map.value=v.map,n(v.map,x.mapTransform)),v.alphaMap&&(x.alphaMap.value=v.alphaMap,n(v.alphaMap,x.alphaMapTransform)),v.bumpMap&&(x.bumpMap.value=v.bumpMap,n(v.bumpMap,x.bumpMapTransform),x.bumpScale.value=v.bumpScale,v.side===Zi&&(x.bumpScale.value*=-1)),v.normalMap&&(x.normalMap.value=v.normalMap,n(v.normalMap,x.normalMapTransform),x.normalScale.value.copy(v.normalScale),v.side===Zi&&x.normalScale.value.negate()),v.displacementMap&&(x.displacementMap.value=v.displacementMap,n(v.displacementMap,x.displacementMapTransform),x.displacementScale.value=v.displacementScale,x.displacementBias.value=v.displacementBias),v.emissiveMap&&(x.emissiveMap.value=v.emissiveMap,n(v.emissiveMap,x.emissiveMapTransform)),v.specularMap&&(x.specularMap.value=v.specularMap,n(v.specularMap,x.specularMapTransform)),v.alphaTest>0&&(x.alphaTest.value=v.alphaTest);const _=e.get(v).envMap;if(_&&(x.envMap.value=_,x.flipEnvMap.value=_.isCubeTexture&&_.isRenderTargetTexture===!1?-1:1,x.reflectivity.value=v.reflectivity,x.ior.value=v.ior,x.refractionRatio.value=v.refractionRatio),v.lightMap){x.lightMap.value=v.lightMap;const b=t._useLegacyLights===!0?Math.PI:1;x.lightMapIntensity.value=v.lightMapIntensity*b,n(v.lightMap,x.lightMapTransform)}v.aoMap&&(x.aoMap.value=v.aoMap,x.aoMapIntensity.value=v.aoMapIntensity,n(v.aoMap,x.aoMapTransform))}function o(x,v){x.diffuse.value.copy(v.color),x.opacity.value=v.opacity,v.map&&(x.map.value=v.map,n(v.map,x.mapTransform))}function a(x,v){x.dashSize.value=v.dashSize,x.totalSize.value=v.dashSize+v.gapSize,x.scale.value=v.scale}function l(x,v,_,b){x.diffuse.value.copy(v.color),x.opacity.value=v.opacity,x.size.value=v.size*_,x.scale.value=b*.5,v.map&&(x.map.value=v.map,n(v.map,x.uvTransform)),v.alphaMap&&(x.alphaMap.value=v.alphaMap,n(v.alphaMap,x.alphaMapTransform)),v.alphaTest>0&&(x.alphaTest.value=v.alphaTest)}function c(x,v){x.diffuse.value.copy(v.color),x.opacity.value=v.opacity,x.rotation.value=v.rotation,v.map&&(x.map.value=v.map,n(v.map,x.mapTransform)),v.alphaMap&&(x.alphaMap.value=v.alphaMap,n(v.alphaMap,x.alphaMapTransform)),v.alphaTest>0&&(x.alphaTest.value=v.alphaTest)}function u(x,v){x.specular.value.copy(v.specular),x.shininess.value=Math.max(v.shininess,1e-4)}function d(x,v){v.gradientMap&&(x.gradientMap.value=v.gradientMap)}function f(x,v){x.metalness.value=v.metalness,v.metalnessMap&&(x.metalnessMap.value=v.metalnessMap,n(v.metalnessMap,x.metalnessMapTransform)),x.roughness.value=v.roughness,v.roughnessMap&&(x.roughnessMap.value=v.roughnessMap,n(v.roughnessMap,x.roughnessMapTransform)),e.get(v).envMap&&(x.envMapIntensity.value=v.envMapIntensity)}function m(x,v,_){x.ior.value=v.ior,v.sheen>0&&(x.sheenColor.value.copy(v.sheenColor).multiplyScalar(v.sheen),x.sheenRoughness.value=v.sheenRoughness,v.sheenColorMap&&(x.sheenColorMap.value=v.sheenColorMap,n(v.sheenColorMap,x.sheenColorMapTransform)),v.sheenRoughnessMap&&(x.sheenRoughnessMap.value=v.sheenRoughnessMap,n(v.sheenRoughnessMap,x.sheenRoughnessMapTransform))),v.clearcoat>0&&(x.clearcoat.value=v.clearcoat,x.clearcoatRoughness.value=v.clearcoatRoughness,v.clearcoatMap&&(x.clearcoatMap.value=v.clearcoatMap,n(v.clearcoatMap,x.clearcoatMapTransform)),v.clearcoatRoughnessMap&&(x.clearcoatRoughnessMap.value=v.clearcoatRoughnessMap,n(v.clearcoatRoughnessMap,x.clearcoatRoughnessMapTransform)),v.clearcoatNormalMap&&(x.clearcoatNormalMap.value=v.clearcoatNormalMap,n(v.clearcoatNormalMap,x.clearcoatNormalMapTransform),x.clearcoatNormalScale.value.copy(v.clearcoatNormalScale),v.side===Zi&&x.clearcoatNormalScale.value.negate())),v.iridescence>0&&(x.iridescence.value=v.iridescence,x.iridescenceIOR.value=v.iridescenceIOR,x.iridescenceThicknessMinimum.value=v.iridescenceThicknessRange[0],x.iridescenceThicknessMaximum.value=v.iridescenceThicknessRange[1],v.iridescenceMap&&(x.iridescenceMap.value=v.iridescenceMap,n(v.iridescenceMap,x.iridescenceMapTransform)),v.iridescenceThicknessMap&&(x.iridescenceThicknessMap.value=v.iridescenceThicknessMap,n(v.iridescenceThicknessMap,x.iridescenceThicknessMapTransform))),v.transmission>0&&(x.transmission.value=v.transmission,x.transmissionSamplerMap.value=_.texture,x.transmissionSamplerSize.value.set(_.width,_.height),v.transmissionMap&&(x.transmissionMap.value=v.transmissionMap,n(v.transmissionMap,x.transmissionMapTransform)),x.thickness.value=v.thickness,v.thicknessMap&&(x.thicknessMap.value=v.thicknessMap,n(v.thicknessMap,x.thicknessMapTransform)),x.attenuationDistance.value=v.attenuationDistance,x.attenuationColor.value.copy(v.attenuationColor)),v.anisotropy>0&&(x.anisotropyVector.value.set(v.anisotropy*Math.cos(v.anisotropyRotation),v.anisotropy*Math.sin(v.anisotropyRotation)),v.anisotropyMap&&(x.anisotropyMap.value=v.anisotropyMap,n(v.anisotropyMap,x.anisotropyMapTransform))),x.specularIntensity.value=v.specularIntensity,x.specularColor.value.copy(v.specularColor),v.specularColorMap&&(x.specularColorMap.value=v.specularColorMap,n(v.specularColorMap,x.specularColorMapTransform)),v.specularIntensityMap&&(x.specularIntensityMap.value=v.specularIntensityMap,n(v.specularIntensityMap,x.specularIntensityMapTransform))}function g(x,v){v.matcap&&(x.matcap.value=v.matcap)}function y(x,v){const _=e.get(v).light;x.referencePosition.value.setFromMatrixPosition(_.matrixWorld),x.nearDistance.value=_.shadow.camera.near,x.farDistance.value=_.shadow.camera.far}return{refreshFogUniforms:i,refreshMaterialUniforms:r}}function G0e(t,e,n,i){let r={},s={},o=[];const a=n.isWebGL2?t.getParameter(t.MAX_UNIFORM_BUFFER_BINDINGS):0;function l(_,b){const w=b.program;i.uniformBlockBinding(_,w)}function c(_,b){let w=r[_.id];w===void 0&&(g(_),w=u(_),r[_.id]=w,_.addEventListener("dispose",x));const C=b.program;i.updateUBOMapping(_,C);const T=e.render.frame;s[_.id]!==T&&(f(_),s[_.id]=T)}function u(_){const b=d();_.__bindingPointIndex=b;const w=t.createBuffer(),C=_.__size,T=_.usage;return t.bindBuffer(t.UNIFORM_BUFFER,w),t.bufferData(t.UNIFORM_BUFFER,C,T),t.bindBuffer(t.UNIFORM_BUFFER,null),t.bindBufferBase(t.UNIFORM_BUFFER,b,w),w}function d(){for(let _=0;_<a;_++)if(o.indexOf(_)===-1)return o.push(_),_;return console.error("THREE.WebGLRenderer: Maximum number of simultaneously usable uniforms groups reached."),0}function f(_){const b=r[_.id],w=_.uniforms,C=_.__cache;t.bindBuffer(t.UNIFORM_BUFFER,b);for(let T=0,R=w.length;T<R;T++){const I=w[T];if(m(I,T,C)===!0){const A=I.__offset,L=Array.isArray(I.value)?I.value:[I.value];let O=0;for(let H=0;H<L.length;H++){const q=L[H],U=y(q);typeof q=="number"?(I.__data[0]=q,t.bufferSubData(t.UNIFORM_BUFFER,A+O,I.__data)):q.isMatrix3?(I.__data[0]=q.elements[0],I.__data[1]=q.elements[1],I.__data[2]=q.elements[2],I.__data[3]=q.elements[0],I.__data[4]=q.elements[3],I.__data[5]=q.elements[4],I.__data[6]=q.elements[5],I.__data[7]=q.elements[0],I.__data[8]=q.elements[6],I.__data[9]=q.elements[7],I.__data[10]=q.elements[8],I.__data[11]=q.elements[0]):(q.toArray(I.__data,O),O+=U.storage/Float32Array.BYTES_PER_ELEMENT)}t.bufferSubData(t.UNIFORM_BUFFER,A,I.__data)}}t.bindBuffer(t.UNIFORM_BUFFER,null)}function m(_,b,w){const C=_.value;if(w[b]===void 0){if(typeof C=="number")w[b]=C;else{const T=Array.isArray(C)?C:[C],R=[];for(let I=0;I<T.length;I++)R.push(T[I].clone());w[b]=R}return!0}else if(typeof C=="number"){if(w[b]!==C)return w[b]=C,!0}else{const T=Array.isArray(w[b])?w[b]:[w[b]],R=Array.isArray(C)?C:[C];for(let I=0;I<T.length;I++){const A=T[I];if(A.equals(R[I])===!1)return A.copy(R[I]),!0}}return!1}function g(_){const b=_.uniforms;let w=0;const C=16;let T=0;for(let R=0,I=b.length;R<I;R++){const A=b[R],L={boundary:0,storage:0},O=Array.isArray(A.value)?A.value:[A.value];for(let H=0,q=O.length;H<q;H++){const U=O[H],G=y(U);L.boundary+=G.boundary,L.storage+=G.storage}if(A.__data=new Float32Array(L.storage/Float32Array.BYTES_PER_ELEMENT),A.__offset=w,R>0){T=w%C;const H=C-T;T!==0&&H-L.boundary<0&&(w+=C-T,A.__offset=w)}w+=L.storage}return T=w%C,T>0&&(w+=C-T),_.__size=w,_.__cache={},this}function y(_){const b={boundary:0,storage:0};return typeof _=="number"?(b.boundary=4,b.storage=4):_.isVector2?(b.boundary=8,b.storage=8):_.isVector3||_.isColor?(b.boundary=16,b.storage=12):_.isVector4?(b.boundary=16,b.storage=16):_.isMatrix3?(b.boundary=48,b.storage=48):_.isMatrix4?(b.boundary=64,b.storage=64):_.isTexture?console.warn("THREE.WebGLRenderer: Texture samplers can not be part of an uniforms group."):console.warn("THREE.WebGLRenderer: Unsupported uniform value type.",_),b}function x(_){const b=_.target;b.removeEventListener("dispose",x);const w=o.indexOf(b.__bindingPointIndex);o.splice(w,1),t.deleteBuffer(r[b.id]),delete r[b.id],delete s[b.id]}function v(){for(const _ in r)t.deleteBuffer(r[_]);o=[],r={},s={}}return{bind:l,update:c,dispose:v}}class rI{constructor(e={}){const{canvas:n=h6(),context:i=null,depth:r=!0,stencil:s=!0,alpha:o=!1,antialias:a=!1,premultipliedAlpha:l=!0,preserveDrawingBuffer:c=!1,powerPreference:u="default",failIfMajorPerformanceCaveat:d=!1}=e;this.isWebGLRenderer=!0;let f;i!==null?f=i.getContextAttributes().alpha:f=o;const m=new Uint32Array(4),g=new Int32Array(4);let y=null,x=null;const v=[],_=[];this.domElement=n,this.debug={checkShaderErrors:!0,onShaderError:null},this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this._outputColorSpace=qi,this._useLegacyLights=!1,this.toneMapping=Ha,this.toneMappingExposure=1;const b=this;let w=!1,C=0,T=0,R=null,I=-1,A=null;const L=new wn,O=new wn;let H=null;const q=new Be(0);let U=0,G=n.width,Q=n.height,J=1,N=null,B=null;const j=new wn(0,0,G,Q),te=new wn(0,0,G,Q);let se=!1;const ne=new oy;let ae=!1,xe=!1,Ee=null;const Oe=new Ut,ut=new Ae,qe=new W,Xe={background:null,fog:null,environment:null,overrideMaterial:null,isScene:!0};function Ie(){return R===null?J:1}let Z=i;function _e(V,ue){for(let pe=0;pe<V.length;pe++){const Se=V[pe],ve=n.getContext(Se,ue);if(ve!==null)return ve}return null}try{const V={alpha:!0,depth:r,stencil:s,antialias:a,premultipliedAlpha:l,preserveDrawingBuffer:c,powerPreference:u,failIfMajorPerformanceCaveat:d};if("setAttribute"in n&&n.setAttribute("data-engine",`three.js r${pf}`),n.addEventListener("webglcontextlost",Vt,!1),n.addEventListener("webglcontextrestored",oe,!1),n.addEventListener("webglcontextcreationerror",nt,!1),Z===null){const ue=["webgl2","webgl","experimental-webgl"];if(b.isWebGL1Renderer===!0&&ue.shift(),Z=_e(ue,V),Z===null)throw _e(ue)?new Error("Error creating WebGL context with your selected attributes."):new Error("Error creating WebGL context.")}typeof WebGLRenderingContext<"u"&&Z instanceof WebGLRenderingContext&&console.warn("THREE.WebGLRenderer: WebGL 1 support was deprecated in r153 and will be removed in r163."),Z.getShaderPrecisionFormat===void 0&&(Z.getShaderPrecisionFormat=function(){return{rangeMin:1,rangeMax:1,precision:1}})}catch(V){throw console.error("THREE.WebGLRenderer: "+V.message),V}let de,be,Pe,Ke,ze,Ge,Ye,st,Xt,$,F,ee,fe,he,me,we,Le,De,Qe,Ne,Ce,wt,pt,Mt;function Et(){de=new oge(Z),be=new ege(Z,de,e),de.init(be),wt=new T6(Z,de,be),Pe=new B0e(Z,de,be),Ke=new cge(Z),ze=new R0e,Ge=new H0e(Z,de,Pe,ze,be,wt,Ke),Ye=new nge(b),st=new sge(b),Xt=new vhe(Z,be),pt=new Zme(Z,de,Xt,be),$=new age(Z,Xt,Ke,pt),F=new hge(Z,$,Xt,Ke),Qe=new fge(Z,be,Ge),we=new tge(ze),ee=new C0e(b,Ye,st,de,be,pt,we),fe=new W0e(b,ze),he=new P0e,me=new N0e(de,be),De=new Qme(b,Ye,st,Pe,F,f,l),Le=new U0e(b,F,be),Mt=new G0e(Z,Ke,be,Pe),Ne=new Jme(Z,de,Ke,be),Ce=new lge(Z,de,Ke,be),Ke.programs=ee.programs,b.capabilities=be,b.extensions=de,b.properties=ze,b.renderLists=he,b.shadowMap=Le,b.state=Pe,b.info=Ke}Et();const ft=new j0e(b,Z);this.xr=ft,this.getContext=function(){return Z},this.getContextAttributes=function(){return Z.getContextAttributes()},this.forceContextLoss=function(){const V=de.get("WEBGL_lose_context");V&&V.loseContext()},this.forceContextRestore=function(){const V=de.get("WEBGL_lose_context");V&&V.restoreContext()},this.getPixelRatio=function(){return J},this.setPixelRatio=function(V){V!==void 0&&(J=V,this.setSize(G,Q,!1))},this.getSize=function(V){return V.set(G,Q)},this.setSize=function(V,ue,pe=!0){if(ft.isPresenting){console.warn("THREE.WebGLRenderer: Can't change size while VR device is presenting.");return}G=V,Q=ue,n.width=Math.floor(V*J),n.height=Math.floor(ue*J),pe===!0&&(n.style.width=V+"px",n.style.height=ue+"px"),this.setViewport(0,0,V,ue)},this.getDrawingBufferSize=function(V){return V.set(G*J,Q*J).floor()},this.setDrawingBufferSize=function(V,ue,pe){G=V,Q=ue,J=pe,n.width=Math.floor(V*pe),n.height=Math.floor(ue*pe),this.setViewport(0,0,V,ue)},this.getCurrentViewport=function(V){return V.copy(L)},this.getViewport=function(V){return V.copy(j)},this.setViewport=function(V,ue,pe,Se){V.isVector4?j.set(V.x,V.y,V.z,V.w):j.set(V,ue,pe,Se),Pe.viewport(L.copy(j).multiplyScalar(J).floor())},this.getScissor=function(V){return V.copy(te)},this.setScissor=function(V,ue,pe,Se){V.isVector4?te.set(V.x,V.y,V.z,V.w):te.set(V,ue,pe,Se),Pe.scissor(O.copy(te).multiplyScalar(J).floor())},this.getScissorTest=function(){return se},this.setScissorTest=function(V){Pe.setScissorTest(se=V)},this.setOpaqueSort=function(V){N=V},this.setTransparentSort=function(V){B=V},this.getClearColor=function(V){return V.copy(De.getClearColor())},this.setClearColor=function(){De.setClearColor.apply(De,arguments)},this.getClearAlpha=function(){return De.getClearAlpha()},this.setClearAlpha=function(){De.setClearAlpha.apply(De,arguments)},this.clear=function(V=!0,ue=!0,pe=!0){let Se=0;if(V){let ve=!1;if(R!==null){const ot=R.texture.format;ve=ot===Xk||ot===$k||ot===Gk}if(ve){const ot=R.texture.type,We=ot===mr||ot===Na||ot===Lw||ot===Ol||ot===jk||ot===Wk,it=De.getClearColor(),St=De.getClearAlpha(),kt=it.r,Ft=it.g,Ht=it.b;We?(m[0]=kt,m[1]=Ft,m[2]=Ht,m[3]=St,Z.clearBufferuiv(Z.COLOR,0,m)):(g[0]=kt,g[1]=Ft,g[2]=Ht,g[3]=St,Z.clearBufferiv(Z.COLOR,0,g))}else Se|=Z.COLOR_BUFFER_BIT}ue&&(Se|=Z.DEPTH_BUFFER_BIT),pe&&(Se|=Z.STENCIL_BUFFER_BIT,this.state.buffers.stencil.setMask(4294967295)),Z.clear(Se)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){n.removeEventListener("webglcontextlost",Vt,!1),n.removeEventListener("webglcontextrestored",oe,!1),n.removeEventListener("webglcontextcreationerror",nt,!1),he.dispose(),me.dispose(),ze.dispose(),Ye.dispose(),st.dispose(),F.dispose(),pt.dispose(),Mt.dispose(),ee.dispose(),ft.dispose(),ft.removeEventListener("sessionstart",ht),ft.removeEventListener("sessionend",Ze),Ee&&(Ee.dispose(),Ee=null),ct.stop()};function Vt(V){V.preventDefault(),console.log("THREE.WebGLRenderer: Context Lost."),w=!0}function oe(){console.log("THREE.WebGLRenderer: Context Restored."),w=!1;const V=Ke.autoReset,ue=Le.enabled,pe=Le.autoUpdate,Se=Le.needsUpdate,ve=Le.type;Et(),Ke.autoReset=V,Le.enabled=ue,Le.autoUpdate=pe,Le.needsUpdate=Se,Le.type=ve}function nt(V){console.error("THREE.WebGLRenderer: A WebGL context could not be created. Reason: ",V.statusMessage)}function Y(V){const ue=V.target;ue.removeEventListener("dispose",Y),X(ue)}function X(V){re(V),ze.remove(V)}function re(V){const ue=ze.get(V).programs;ue!==void 0&&(ue.forEach(function(pe){ee.releaseProgram(pe)}),V.isShaderMaterial&&ee.releaseShaderCache(V))}this.renderBufferDirect=function(V,ue,pe,Se,ve,ot){ue===null&&(ue=Xe);const We=ve.isMesh&&ve.matrixWorld.determinant()<0,it=Za(V,ue,pe,Se,ve);Pe.setMaterial(Se,We);let St=pe.index,kt=1;if(Se.wireframe===!0){if(St=$.getWireframeAttribute(pe),St===void 0)return;kt=2}const Ft=pe.drawRange,Ht=pe.attributes.position;let ri=Ft.start*kt,yr=(Ft.start+Ft.count)*kt;ot!==null&&(ri=Math.max(ri,ot.start*kt),yr=Math.min(yr,(ot.start+ot.count)*kt)),St!==null?(ri=Math.max(ri,0),yr=Math.min(yr,St.count)):Ht!=null&&(ri=Math.max(ri,0),yr=Math.min(yr,Ht.count));const $n=yr-ri;if($n<0||$n===1/0)return;pt.setup(ve,Se,it,pe,St);let rr,Nt=Ne;if(St!==null&&(rr=Xt.get(St),Nt=Ce,Nt.setIndex(rr)),ve.isMesh)Se.wireframe===!0?(Pe.setLineWidth(Se.wireframeLinewidth*Ie()),Nt.setMode(Z.LINES)):Nt.setMode(Z.TRIANGLES);else if(ve.isLine){let vt=Se.linewidth;vt===void 0&&(vt=1),Pe.setLineWidth(vt*Ie()),ve.isLineSegments?Nt.setMode(Z.LINES):ve.isLineLoop?Nt.setMode(Z.LINE_LOOP):Nt.setMode(Z.LINE_STRIP)}else ve.isPoints?Nt.setMode(Z.POINTS):ve.isSprite&&Nt.setMode(Z.TRIANGLES);if(ve.isBatchedMesh)Nt.renderMultiDraw(ve._multiDrawStarts,ve._multiDrawCounts,ve._multiDrawCount);else if(ve.isInstancedMesh)Nt.renderInstances(ri,$n,ve.count);else if(pe.isInstancedBufferGeometry){const vt=pe._maxInstanceCount!==void 0?pe._maxInstanceCount:1/0,co=Math.min(pe.instanceCount,vt);Nt.renderInstances(ri,$n,co)}else Nt.render(ri,$n)};function Re(V,ue,pe){V.transparent===!0&&V.side===Es&&V.forceSinglePass===!1?(V.side=Zi,V.needsUpdate=!0,Mi(V,ue,pe),V.side=$a,V.needsUpdate=!0,Mi(V,ue,pe),V.side=Es):Mi(V,ue,pe)}this.compile=function(V,ue,pe=null){pe===null&&(pe=V),x=me.get(pe),x.init(),_.push(x),pe.traverseVisible(function(ve){ve.isLight&&ve.layers.test(ue.layers)&&(x.pushLight(ve),ve.castShadow&&x.pushShadow(ve))}),V!==pe&&V.traverseVisible(function(ve){ve.isLight&&ve.layers.test(ue.layers)&&(x.pushLight(ve),ve.castShadow&&x.pushShadow(ve))}),x.setupLights(b._useLegacyLights);const Se=new Set;return V.traverse(function(ve){const ot=ve.material;if(ot)if(Array.isArray(ot))for(let We=0;We<ot.length;We++){const it=ot[We];Re(it,pe,ve),Se.add(it)}else Re(ot,pe,ve),Se.add(ot)}),_.pop(),x=null,Se},this.compileAsync=function(V,ue,pe=null){const Se=this.compile(V,ue,pe);return new Promise(ve=>{function ot(){if(Se.forEach(function(We){ze.get(We).currentProgram.isReady()&&Se.delete(We)}),Se.size===0){ve(V);return}setTimeout(ot,10)}de.get("KHR_parallel_shader_compile")!==null?ot():setTimeout(ot,10)})};let Fe=null;function xt(V){Fe&&Fe(V)}function ht(){ct.stop()}function Ze(){ct.start()}const ct=new _6;ct.setAnimationLoop(xt),typeof self<"u"&&ct.setContext(self),this.setAnimationLoop=function(V){Fe=V,ft.setAnimationLoop(V),V===null?ct.stop():ct.start()},ft.addEventListener("sessionstart",ht),ft.addEventListener("sessionend",Ze),this.render=function(V,ue){if(ue!==void 0&&ue.isCamera!==!0){console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.");return}if(w===!0)return;V.matrixWorldAutoUpdate===!0&&V.updateMatrixWorld(),ue.parent===null&&ue.matrixWorldAutoUpdate===!0&&ue.updateMatrixWorld(),ft.enabled===!0&&ft.isPresenting===!0&&(ft.cameraAutoUpdate===!0&&ft.updateCamera(ue),ue=ft.getCamera()),V.isScene===!0&&V.onBeforeRender(b,V,ue,R),x=me.get(V,_.length),x.init(),_.push(x),Oe.multiplyMatrices(ue.projectionMatrix,ue.matrixWorldInverse),ne.setFromProjectionMatrix(Oe),xe=this.localClippingEnabled,ae=we.init(this.clippingPlanes,xe),y=he.get(V,v.length),y.init(),v.push(y),Pt(V,ue,0,b.sortObjects),y.finish(),b.sortObjects===!0&&y.sort(N,B),this.info.render.frame++,ae===!0&&we.beginShadows();const pe=x.state.shadowsArray;if(Le.render(pe,V,ue),ae===!0&&we.endShadows(),this.info.autoReset===!0&&this.info.reset(),De.render(y,V),x.setupLights(b._useLegacyLights),ue.isArrayCamera){const Se=ue.cameras;for(let ve=0,ot=Se.length;ve<ot;ve++){const We=Se[ve];Hn(y,V,We,We.viewport)}}else Hn(y,V,ue);R!==null&&(Ge.updateMultisampleRenderTarget(R),Ge.updateRenderTargetMipmap(R)),V.isScene===!0&&V.onAfterRender(b,V,ue),pt.resetDefaultState(),I=-1,A=null,_.pop(),_.length>0?x=_[_.length-1]:x=null,v.pop(),v.length>0?y=v[v.length-1]:y=null};function Pt(V,ue,pe,Se){if(V.visible===!1)return;if(V.layers.test(ue.layers)){if(V.isGroup)pe=V.renderOrder;else if(V.isLOD)V.autoUpdate===!0&&V.update(ue);else if(V.isLight)x.pushLight(V),V.castShadow&&x.pushShadow(V);else if(V.isSprite){if(!V.frustumCulled||ne.intersectsSprite(V)){Se&&qe.setFromMatrixPosition(V.matrixWorld).applyMatrix4(Oe);const We=F.update(V),it=V.material;it.visible&&y.push(V,We,it,pe,qe.z,null)}}else if((V.isMesh||V.isLine||V.isPoints)&&(!V.frustumCulled||ne.intersectsObject(V))){const We=F.update(V),it=V.material;if(Se&&(V.boundingSphere!==void 0?(V.boundingSphere===null&&V.computeBoundingSphere(),qe.copy(V.boundingSphere.center)):(We.boundingSphere===null&&We.computeBoundingSphere(),qe.copy(We.boundingSphere.center)),qe.applyMatrix4(V.matrixWorld).applyMatrix4(Oe)),Array.isArray(it)){const St=We.groups;for(let kt=0,Ft=St.length;kt<Ft;kt++){const Ht=St[kt],ri=it[Ht.materialIndex];ri&&ri.visible&&y.push(V,We,ri,pe,qe.z,Ht)}}else it.visible&&y.push(V,We,it,pe,qe.z,null)}}const ot=V.children;for(let We=0,it=ot.length;We<it;We++)Pt(ot[We],ue,pe,Se)}function Hn(V,ue,pe,Se){const ve=V.opaque,ot=V.transmissive,We=V.transparent;x.setupLightsView(pe),ae===!0&&we.setGlobalState(b.clippingPlanes,pe),ot.length>0&&Bt(ve,ot,ue,pe),Se&&Pe.viewport(L.copy(Se)),ve.length>0&&ln(ve,ue,pe),ot.length>0&&ln(ot,ue,pe),We.length>0&&ln(We,ue,pe),Pe.buffers.depth.setTest(!0),Pe.buffers.depth.setMask(!0),Pe.buffers.color.setMask(!0),Pe.setPolygonOffset(!1)}function Bt(V,ue,pe,Se){if((pe.isScene===!0?pe.overrideMaterial:null)!==null)return;const ot=be.isWebGL2;Ee===null&&(Ee=new ii(1,1,{generateMipmaps:!0,type:de.has("EXT_color_buffer_half_float")?du:mr,minFilter:uu,samples:ot?4:0})),b.getDrawingBufferSize(ut),ot?Ee.setSize(ut.x,ut.y):Ee.setSize(G1(ut.x),G1(ut.y));const We=b.getRenderTarget();b.setRenderTarget(Ee),b.getClearColor(q),U=b.getClearAlpha(),U<1&&b.setClearColor(16777215,.5),b.clear();const it=b.toneMapping;b.toneMapping=Ha,ln(V,pe,Se),Ge.updateMultisampleRenderTarget(Ee),Ge.updateRenderTargetMipmap(Ee);let St=!1;for(let kt=0,Ft=ue.length;kt<Ft;kt++){const Ht=ue[kt],ri=Ht.object,yr=Ht.geometry,$n=Ht.material,rr=Ht.group;if($n.side===Es&&ri.layers.test(Se.layers)){const Nt=$n.side;$n.side=Zi,$n.needsUpdate=!0,En(ri,pe,Se,yr,$n,rr),$n.side=Nt,$n.needsUpdate=!0,St=!0}}St===!0&&(Ge.updateMultisampleRenderTarget(Ee),Ge.updateRenderTargetMipmap(Ee)),b.setRenderTarget(We),b.setClearColor(q,U),b.toneMapping=it}function ln(V,ue,pe){const Se=ue.isScene===!0?ue.overrideMaterial:null;for(let ve=0,ot=V.length;ve<ot;ve++){const We=V[ve],it=We.object,St=We.geometry,kt=Se===null?We.material:Se,Ft=We.group;it.layers.test(pe.layers)&&En(it,ue,pe,St,kt,Ft)}}function En(V,ue,pe,Se,ve,ot){V.onBeforeRender(b,ue,pe,Se,ve,ot),V.modelViewMatrix.multiplyMatrices(pe.matrixWorldInverse,V.matrixWorld),V.normalMatrix.getNormalMatrix(V.modelViewMatrix),ve.onBeforeRender(b,ue,pe,Se,V,ot),ve.transparent===!0&&ve.side===Es&&ve.forceSinglePass===!1?(ve.side=Zi,ve.needsUpdate=!0,b.renderBufferDirect(pe,ue,Se,ve,V,ot),ve.side=$a,ve.needsUpdate=!0,b.renderBufferDirect(pe,ue,Se,ve,V,ot),ve.side=Es):b.renderBufferDirect(pe,ue,Se,ve,V,ot),V.onAfterRender(b,ue,pe,Se,ve,ot)}function Mi(V,ue,pe){ue.isScene!==!0&&(ue=Xe);const Se=ze.get(V),ve=x.state.lights,ot=x.state.shadowsArray,We=ve.state.version,it=ee.getParameters(V,ve.state,ot,ue,pe),St=ee.getProgramCacheKey(it);let kt=Se.programs;Se.environment=V.isMeshStandardMaterial?ue.environment:null,Se.fog=ue.fog,Se.envMap=(V.isMeshStandardMaterial?st:Ye).get(V.envMap||Se.environment),kt===void 0&&(V.addEventListener("dispose",Y),kt=new Map,Se.programs=kt);let Ft=kt.get(St);if(Ft!==void 0){if(Se.currentProgram===Ft&&Se.lightsStateVersion===We)return Yr(V,it),Ft}else it.uniforms=ee.getUniforms(V),V.onBuild(pe,it,b),V.onBeforeCompile(it,b),Ft=ee.acquireProgram(it,St),kt.set(St,Ft),Se.uniforms=it.uniforms;const Ht=Se.uniforms;return(!V.isShaderMaterial&&!V.isRawShaderMaterial||V.clipping===!0)&&(Ht.clippingPlanes=we.uniform),Yr(V,it),Se.needsLights=Tn(V),Se.lightsStateVersion=We,Se.needsLights&&(Ht.ambientLightColor.value=ve.state.ambient,Ht.lightProbe.value=ve.state.probe,Ht.directionalLights.value=ve.state.directional,Ht.directionalLightShadows.value=ve.state.directionalShadow,Ht.spotLights.value=ve.state.spot,Ht.spotLightShadows.value=ve.state.spotShadow,Ht.rectAreaLights.value=ve.state.rectArea,Ht.ltc_1.value=ve.state.rectAreaLTC1,Ht.ltc_2.value=ve.state.rectAreaLTC2,Ht.pointLights.value=ve.state.point,Ht.pointLightShadows.value=ve.state.pointShadow,Ht.hemisphereLights.value=ve.state.hemi,Ht.directionalShadowMap.value=ve.state.directionalShadowMap,Ht.directionalShadowMatrix.value=ve.state.directionalShadowMatrix,Ht.spotShadowMap.value=ve.state.spotShadowMap,Ht.spotLightMatrix.value=ve.state.spotLightMatrix,Ht.spotLightMap.value=ve.state.spotLightMap,Ht.pointShadowMap.value=ve.state.pointShadowMap,Ht.pointShadowMatrix.value=ve.state.pointShadowMatrix),Se.currentProgram=Ft,Se.uniformsList=null,Ft}function Fn(V){if(V.uniformsList===null){const ue=V.currentProgram.getUniforms();V.uniformsList=Wb.seqWithValue(ue.seq,V.uniforms)}return V.uniformsList}function Yr(V,ue){const pe=ze.get(V);pe.outputColorSpace=ue.outputColorSpace,pe.batching=ue.batching,pe.instancing=ue.instancing,pe.instancingColor=ue.instancingColor,pe.skinning=ue.skinning,pe.morphTargets=ue.morphTargets,pe.morphNormals=ue.morphNormals,pe.morphColors=ue.morphColors,pe.morphTargetsCount=ue.morphTargetsCount,pe.numClippingPlanes=ue.numClippingPlanes,pe.numIntersection=ue.numClipIntersection,pe.vertexAlphas=ue.vertexAlphas,pe.vertexTangents=ue.vertexTangents,pe.toneMapping=ue.toneMapping}function Za(V,ue,pe,Se,ve){ue.isScene!==!0&&(ue=Xe),Ge.resetTextureUnits();const ot=ue.fog,We=Se.isMeshStandardMaterial?ue.environment:null,it=R===null?b.outputColorSpace:R.isXRRenderTarget===!0?R.texture.colorSpace:Xa,St=(Se.isMeshStandardMaterial?st:Ye).get(Se.envMap||We),kt=Se.vertexColors===!0&&!!pe.attributes.color&&pe.attributes.color.itemSize===4,Ft=!!pe.attributes.tangent&&(!!Se.normalMap||Se.anisotropy>0),Ht=!!pe.morphAttributes.position,ri=!!pe.morphAttributes.normal,yr=!!pe.morphAttributes.color;let $n=Ha;Se.toneMapped&&(R===null||R.isXRRenderTarget===!0)&&($n=b.toneMapping);const rr=pe.morphAttributes.position||pe.morphAttributes.normal||pe.morphAttributes.color,Nt=rr!==void 0?rr.length:0,vt=ze.get(Se),co=x.state.lights;if(ae===!0&&(xe===!0||V!==A)){const xr=V===A&&Se.id===I;we.setState(Se,V,xr)}let en=!1;Se.version===vt.__version?(vt.needsLights&&vt.lightsStateVersion!==co.state.version||vt.outputColorSpace!==it||ve.isBatchedMesh&&vt.batching===!1||!ve.isBatchedMesh&&vt.batching===!0||ve.isInstancedMesh&&vt.instancing===!1||!ve.isInstancedMesh&&vt.instancing===!0||ve.isSkinnedMesh&&vt.skinning===!1||!ve.isSkinnedMesh&&vt.skinning===!0||ve.isInstancedMesh&&vt.instancingColor===!0&&ve.instanceColor===null||ve.isInstancedMesh&&vt.instancingColor===!1&&ve.instanceColor!==null||vt.envMap!==St||Se.fog===!0&&vt.fog!==ot||vt.numClippingPlanes!==void 0&&(vt.numClippingPlanes!==we.numPlanes||vt.numIntersection!==we.numIntersection)||vt.vertexAlphas!==kt||vt.vertexTangents!==Ft||vt.morphTargets!==Ht||vt.morphNormals!==ri||vt.morphColors!==yr||vt.toneMapping!==$n||be.isWebGL2===!0&&vt.morphTargetsCount!==Nt)&&(en=!0):(en=!0,vt.__version=Se.version);let pi=vt.currentProgram;en===!0&&(pi=Mi(Se,ue,ve));let fa=!1,uo=!1,sr=!1;const Ei=pi.getUniforms(),ha=vt.uniforms;if(Pe.useProgram(pi.program)&&(fa=!0,uo=!0,sr=!0),Se.id!==I&&(I=Se.id,uo=!0),fa||A!==V){Ei.setValue(Z,"projectionMatrix",V.projectionMatrix),Ei.setValue(Z,"viewMatrix",V.matrixWorldInverse);const xr=Ei.map.cameraPosition;xr!==void 0&&xr.setValue(Z,qe.setFromMatrixPosition(V.matrixWorld)),be.logarithmicDepthBuffer&&Ei.setValue(Z,"logDepthBufFC",2/(Math.log(V.far+1)/Math.LN2)),(Se.isMeshPhongMaterial||Se.isMeshToonMaterial||Se.isMeshLambertMaterial||Se.isMeshBasicMaterial||Se.isMeshStandardMaterial||Se.isShaderMaterial)&&Ei.setValue(Z,"isOrthographic",V.isOrthographicCamera===!0),A!==V&&(A=V,uo=!0,sr=!0)}if(ve.isSkinnedMesh){Ei.setOptional(Z,ve,"bindMatrix"),Ei.setOptional(Z,ve,"bindMatrixInverse");const xr=ve.skeleton;xr&&(be.floatVertexTextures?(xr.boneTexture===null&&xr.computeBoneTexture(),Ei.setValue(Z,"boneTexture",xr.boneTexture,Ge)):console.warn("THREE.WebGLRenderer: SkinnedMesh can only be used with WebGL 2. With WebGL 1 OES_texture_float and vertex textures support is required."))}ve.isBatchedMesh&&(Ei.setOptional(Z,ve,"batchingTexture"),Ei.setValue(Z,"batchingTexture",ve._matricesTexture,Ge));const Mf=pe.morphAttributes;if((Mf.position!==void 0||Mf.normal!==void 0||Mf.color!==void 0&&be.isWebGL2===!0)&&Qe.update(ve,pe,pi),(uo||vt.receiveShadow!==ve.receiveShadow)&&(vt.receiveShadow=ve.receiveShadow,Ei.setValue(Z,"receiveShadow",ve.receiveShadow)),Se.isMeshGouraudMaterial&&Se.envMap!==null&&(ha.envMap.value=St,ha.flipEnvMap.value=St.isCubeTexture&&St.isRenderTargetTexture===!1?-1:1),uo&&(Ei.setValue(Z,"toneMappingExposure",b.toneMappingExposure),vt.needsLights&&_n(ha,sr),ot&&Se.fog===!0&&fe.refreshFogUniforms(ha,ot),fe.refreshMaterialUniforms(ha,Se,J,Q,Ee),Wb.upload(Z,Fn(vt),ha,Ge)),Se.isShaderMaterial&&Se.uniformsNeedUpdate===!0&&(Wb.upload(Z,Fn(vt),ha,Ge),Se.uniformsNeedUpdate=!1),Se.isSpriteMaterial&&Ei.setValue(Z,"center",ve.center),Ei.setValue(Z,"modelViewMatrix",ve.modelViewMatrix),Ei.setValue(Z,"normalMatrix",ve.normalMatrix),Ei.setValue(Z,"modelMatrix",ve.matrixWorld),Se.isShaderMaterial||Se.isRawShaderMaterial){const xr=Se.uniformsGroups;for(let Ef=0,zs=xr.length;Ef<zs;Ef++)if(be.isWebGL2){const Ry=xr[Ef];Mt.update(Ry,pi),Mt.bind(Ry,pi)}else console.warn("THREE.WebGLRenderer: Uniform Buffer Objects can only be used with WebGL 2.")}return pi}function _n(V,ue){V.ambientLightColor.needsUpdate=ue,V.lightProbe.needsUpdate=ue,V.directionalLights.needsUpdate=ue,V.directionalLightShadows.needsUpdate=ue,V.pointLights.needsUpdate=ue,V.pointLightShadows.needsUpdate=ue,V.spotLights.needsUpdate=ue,V.spotLightShadows.needsUpdate=ue,V.rectAreaLights.needsUpdate=ue,V.hemisphereLights.needsUpdate=ue}function Tn(V){return V.isMeshLambertMaterial||V.isMeshToonMaterial||V.isMeshPhongMaterial||V.isMeshStandardMaterial||V.isShadowMaterial||V.isShaderMaterial&&V.lights===!0}this.getActiveCubeFace=function(){return C},this.getActiveMipmapLevel=function(){return T},this.getRenderTarget=function(){return R},this.setRenderTargetTextures=function(V,ue,pe){ze.get(V.texture).__webglTexture=ue,ze.get(V.depthTexture).__webglTexture=pe;const Se=ze.get(V);Se.__hasExternalTextures=!0,Se.__hasExternalTextures&&(Se.__autoAllocateDepthBuffer=pe===void 0,Se.__autoAllocateDepthBuffer||de.has("WEBGL_multisampled_render_to_texture")===!0&&(console.warn("THREE.WebGLRenderer: Render-to-texture extension was disabled because an external texture was provided"),Se.__useRenderToTexture=!1))},this.setRenderTargetFramebuffer=function(V,ue){const pe=ze.get(V);pe.__webglFramebuffer=ue,pe.__useDefaultFramebuffer=ue===void 0},this.setRenderTarget=function(V,ue=0,pe=0){R=V,C=ue,T=pe;let Se=!0,ve=null,ot=!1,We=!1;if(V){const St=ze.get(V);St.__useDefaultFramebuffer!==void 0?(Pe.bindFramebuffer(Z.FRAMEBUFFER,null),Se=!1):St.__webglFramebuffer===void 0?Ge.setupRenderTarget(V):St.__hasExternalTextures&&Ge.rebindTextures(V,ze.get(V.texture).__webglTexture,ze.get(V.depthTexture).__webglTexture);const kt=V.texture;(kt.isData3DTexture||kt.isDataArrayTexture||kt.isCompressedArrayTexture)&&(We=!0);const Ft=ze.get(V).__webglFramebuffer;V.isWebGLCubeRenderTarget?(Array.isArray(Ft[ue])?ve=Ft[ue][pe]:ve=Ft[ue],ot=!0):be.isWebGL2&&V.samples>0&&Ge.useMultisampledRTT(V)===!1?ve=ze.get(V).__webglMultisampledFramebuffer:Array.isArray(Ft)?ve=Ft[pe]:ve=Ft,L.copy(V.viewport),O.copy(V.scissor),H=V.scissorTest}else L.copy(j).multiplyScalar(J).floor(),O.copy(te).multiplyScalar(J).floor(),H=se;if(Pe.bindFramebuffer(Z.FRAMEBUFFER,ve)&&be.drawBuffers&&Se&&Pe.drawBuffers(V,ve),Pe.viewport(L),Pe.scissor(O),Pe.setScissorTest(H),ot){const St=ze.get(V.texture);Z.framebufferTexture2D(Z.FRAMEBUFFER,Z.COLOR_ATTACHMENT0,Z.TEXTURE_CUBE_MAP_POSITIVE_X+ue,St.__webglTexture,pe)}else if(We){const St=ze.get(V.texture),kt=ue||0;Z.framebufferTextureLayer(Z.FRAMEBUFFER,Z.COLOR_ATTACHMENT0,St.__webglTexture,pe||0,kt)}I=-1},this.readRenderTargetPixels=function(V,ue,pe,Se,ve,ot,We){if(!(V&&V.isWebGLRenderTarget)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");return}let it=ze.get(V).__webglFramebuffer;if(V.isWebGLCubeRenderTarget&&We!==void 0&&(it=it[We]),it){Pe.bindFramebuffer(Z.FRAMEBUFFER,it);try{const St=V.texture,kt=St.format,Ft=St.type;if(kt!==is&&wt.convert(kt)!==Z.getParameter(Z.IMPLEMENTATION_COLOR_READ_FORMAT)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");return}const Ht=Ft===du&&(de.has("EXT_color_buffer_half_float")||be.isWebGL2&&de.has("EXT_color_buffer_float"));if(Ft!==mr&&wt.convert(Ft)!==Z.getParameter(Z.IMPLEMENTATION_COLOR_READ_TYPE)&&!(Ft===eo&&(be.isWebGL2||de.has("OES_texture_float")||de.has("WEBGL_color_buffer_float")))&&!Ht){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");return}ue>=0&&ue<=V.width-Se&&pe>=0&&pe<=V.height-ve&&Z.readPixels(ue,pe,Se,ve,wt.convert(kt),wt.convert(Ft),ot)}finally{const St=R!==null?ze.get(R).__webglFramebuffer:null;Pe.bindFramebuffer(Z.FRAMEBUFFER,St)}}},this.copyFramebufferToTexture=function(V,ue,pe=0){const Se=Math.pow(2,-pe),ve=Math.floor(ue.image.width*Se),ot=Math.floor(ue.image.height*Se);Ge.setTexture2D(ue,0),Z.copyTexSubImage2D(Z.TEXTURE_2D,pe,0,0,V.x,V.y,ve,ot),Pe.unbindTexture()},this.copyTextureToTexture=function(V,ue,pe,Se=0){const ve=ue.image.width,ot=ue.image.height,We=wt.convert(pe.format),it=wt.convert(pe.type);Ge.setTexture2D(pe,0),Z.pixelStorei(Z.UNPACK_FLIP_Y_WEBGL,pe.flipY),Z.pixelStorei(Z.UNPACK_PREMULTIPLY_ALPHA_WEBGL,pe.premultiplyAlpha),Z.pixelStorei(Z.UNPACK_ALIGNMENT,pe.unpackAlignment),ue.isDataTexture?Z.texSubImage2D(Z.TEXTURE_2D,Se,V.x,V.y,ve,ot,We,it,ue.image.data):ue.isCompressedTexture?Z.compressedTexSubImage2D(Z.TEXTURE_2D,Se,V.x,V.y,ue.mipmaps[0].width,ue.mipmaps[0].height,We,ue.mipmaps[0].data):Z.texSubImage2D(Z.TEXTURE_2D,Se,V.x,V.y,We,it,ue.image),Se===0&&pe.generateMipmaps&&Z.generateMipmap(Z.TEXTURE_2D),Pe.unbindTexture()},this.copyTextureToTexture3D=function(V,ue,pe,Se,ve=0){if(b.isWebGL1Renderer){console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: can only be used with WebGL2.");return}const ot=V.max.x-V.min.x+1,We=V.max.y-V.min.y+1,it=V.max.z-V.min.z+1,St=wt.convert(Se.format),kt=wt.convert(Se.type);let Ft;if(Se.isData3DTexture)Ge.setTexture3D(Se,0),Ft=Z.TEXTURE_3D;else if(Se.isDataArrayTexture)Ge.setTexture2DArray(Se,0),Ft=Z.TEXTURE_2D_ARRAY;else{console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: only supports THREE.DataTexture3D and THREE.DataTexture2DArray.");return}Z.pixelStorei(Z.UNPACK_FLIP_Y_WEBGL,Se.flipY),Z.pixelStorei(Z.UNPACK_PREMULTIPLY_ALPHA_WEBGL,Se.premultiplyAlpha),Z.pixelStorei(Z.UNPACK_ALIGNMENT,Se.unpackAlignment);const Ht=Z.getParameter(Z.UNPACK_ROW_LENGTH),ri=Z.getParameter(Z.UNPACK_IMAGE_HEIGHT),yr=Z.getParameter(Z.UNPACK_SKIP_PIXELS),$n=Z.getParameter(Z.UNPACK_SKIP_ROWS),rr=Z.getParameter(Z.UNPACK_SKIP_IMAGES),Nt=pe.isCompressedTexture?pe.mipmaps[0]:pe.image;Z.pixelStorei(Z.UNPACK_ROW_LENGTH,Nt.width),Z.pixelStorei(Z.UNPACK_IMAGE_HEIGHT,Nt.height),Z.pixelStorei(Z.UNPACK_SKIP_PIXELS,V.min.x),Z.pixelStorei(Z.UNPACK_SKIP_ROWS,V.min.y),Z.pixelStorei(Z.UNPACK_SKIP_IMAGES,V.min.z),pe.isDataTexture||pe.isData3DTexture?Z.texSubImage3D(Ft,ve,ue.x,ue.y,ue.z,ot,We,it,St,kt,Nt.data):pe.isCompressedArrayTexture?(console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: untested support for compressed srcTexture."),Z.compressedTexSubImage3D(Ft,ve,ue.x,ue.y,ue.z,ot,We,it,St,Nt.data)):Z.texSubImage3D(Ft,ve,ue.x,ue.y,ue.z,ot,We,it,St,kt,Nt),Z.pixelStorei(Z.UNPACK_ROW_LENGTH,Ht),Z.pixelStorei(Z.UNPACK_IMAGE_HEIGHT,ri),Z.pixelStorei(Z.UNPACK_SKIP_PIXELS,yr),Z.pixelStorei(Z.UNPACK_SKIP_ROWS,$n),Z.pixelStorei(Z.UNPACK_SKIP_IMAGES,rr),ve===0&&Se.generateMipmaps&&Z.generateMipmap(Ft),Pe.unbindTexture()},this.initTexture=function(V){V.isCubeTexture?Ge.setTextureCube(V,0):V.isData3DTexture?Ge.setTexture3D(V,0):V.isDataArrayTexture||V.isCompressedArrayTexture?Ge.setTexture2DArray(V,0):Ge.setTexture2D(V,0),Pe.unbindTexture()},this.resetState=function(){C=0,T=0,R=null,Pe.reset(),pt.reset()},typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}get coordinateSystem(){return na}get outputColorSpace(){return this._outputColorSpace}set outputColorSpace(e){this._outputColorSpace=e;const n=this.getContext();n.drawingBufferColorSpace=e===Nw?"display-p3":"srgb",n.unpackColorSpace=An.workingColorSpace===ry?"display-p3":"srgb"}get physicallyCorrectLights(){return console.warn("THREE.WebGLRenderer: The property .physicallyCorrectLights has been removed. Set renderer.useLegacyLights instead."),!this.useLegacyLights}set physicallyCorrectLights(e){console.warn("THREE.WebGLRenderer: The property .physicallyCorrectLights has been removed. Set renderer.useLegacyLights instead."),this.useLegacyLights=!e}get outputEncoding(){return console.warn("THREE.WebGLRenderer: Property .outputEncoding has been removed. Use .outputColorSpace instead."),this.outputColorSpace===qi?Va:iy}set outputEncoding(e){console.warn("THREE.WebGLRenderer: Property .outputEncoding has been removed. Use .outputColorSpace instead."),this.outputColorSpace=e===Va?qi:Xa}get useLegacyLights(){return console.warn("THREE.WebGLRenderer: The property .useLegacyLights has been deprecated. Migrate your lighting according to the following guide: https://discourse.threejs.org/t/updates-to-lighting-in-three-js-r155/53733."),this._useLegacyLights}set useLegacyLights(e){console.warn("THREE.WebGLRenderer: The property .useLegacyLights has been deprecated. Migrate your lighting according to the following guide: https://discourse.threejs.org/t/updates-to-lighting-in-three-js-r155/53733."),this._useLegacyLights=e}}class R6 extends rI{}R6.prototype.isWebGL1Renderer=!0;class Bw{constructor(e,n=25e-5){this.isFogExp2=!0,this.name="",this.color=new Be(e),this.density=n}clone(){return new Bw(this.color,this.density)}toJSON(){return{type:"FogExp2",name:this.name,color:this.color.getHex(),density:this.density}}}class Hw{constructor(e,n=1,i=1e3){this.isFog=!0,this.name="",this.color=new Be(e),this.near=n,this.far=i}clone(){return new Hw(this.color,this.near,this.far)}toJSON(){return{type:"Fog",name:this.name,color:this.color.getHex(),near:this.near,far:this.far}}}class Vp extends xn{constructor(){super(),this.isScene=!0,this.type="Scene",this.background=null,this.environment=null,this.fog=null,this.backgroundBlurriness=0,this.backgroundIntensity=1,this.overrideMaterial=null,typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}copy(e,n){return super.copy(e,n),e.background!==null&&(this.background=e.background.clone()),e.environment!==null&&(this.environment=e.environment.clone()),e.fog!==null&&(this.fog=e.fog.clone()),this.backgroundBlurriness=e.backgroundBlurriness,this.backgroundIntensity=e.backgroundIntensity,e.overrideMaterial!==null&&(this.overrideMaterial=e.overrideMaterial.clone()),this.matrixAutoUpdate=e.matrixAutoUpdate,this}toJSON(e){const n=super.toJSON(e);return this.fog!==null&&(n.object.fog=this.fog.toJSON()),this.backgroundBlurriness>0&&(n.object.backgroundBlurriness=this.backgroundBlurriness),this.backgroundIntensity!==1&&(n.object.backgroundIntensity=this.backgroundIntensity),n}}class Vw{constructor(e,n){this.isInterleavedBuffer=!0,this.array=e,this.stride=n,this.count=e!==void 0?e.length/n:0,this.usage=fv,this._updateRange={offset:0,count:-1},this.updateRanges=[],this.version=0,this.uuid=io()}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}get updateRange(){return console.warn('THREE.InterleavedBuffer: "updateRange" is deprecated and removed in r169. Use "addUpdateRange()" instead.'),this._updateRange}setUsage(e){return this.usage=e,this}addUpdateRange(e,n){this.updateRanges.push({start:e,count:n})}clearUpdateRanges(){this.updateRanges.length=0}copy(e){return this.array=new e.array.constructor(e.array),this.count=e.count,this.stride=e.stride,this.usage=e.usage,this}copyAt(e,n,i){e*=this.stride,i*=n.stride;for(let r=0,s=this.stride;r<s;r++)this.array[e+r]=n.array[i+r];return this}set(e,n=0){return this.array.set(e,n),this}clone(e){e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=io()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=this.array.slice(0).buffer);const n=new this.array.constructor(e.arrayBuffers[this.array.buffer._uuid]),i=new this.constructor(n,this.stride);return i.setUsage(this.usage),i}onUpload(e){return this.onUploadCallback=e,this}toJSON(e){return e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=io()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=Array.from(new Uint32Array(this.array.buffer))),{uuid:this.uuid,buffer:this.array.buffer._uuid,type:this.array.constructor.name,stride:this.stride}}}const Zr=new W;class Jd{constructor(e,n,i,r=!1){this.isInterleavedBufferAttribute=!0,this.name="",this.data=e,this.itemSize=n,this.offset=i,this.normalized=r}get count(){return this.data.count}get array(){return this.data.array}set needsUpdate(e){this.data.needsUpdate=e}applyMatrix4(e){for(let n=0,i=this.data.count;n<i;n++)Zr.fromBufferAttribute(this,n),Zr.applyMatrix4(e),this.setXYZ(n,Zr.x,Zr.y,Zr.z);return this}applyNormalMatrix(e){for(let n=0,i=this.count;n<i;n++)Zr.fromBufferAttribute(this,n),Zr.applyNormalMatrix(e),this.setXYZ(n,Zr.x,Zr.y,Zr.z);return this}transformDirection(e){for(let n=0,i=this.count;n<i;n++)Zr.fromBufferAttribute(this,n),Zr.transformDirection(e),this.setXYZ(n,Zr.x,Zr.y,Zr.z);return this}setX(e,n){return this.normalized&&(n=qt(n,this.array)),this.data.array[e*this.data.stride+this.offset]=n,this}setY(e,n){return this.normalized&&(n=qt(n,this.array)),this.data.array[e*this.data.stride+this.offset+1]=n,this}setZ(e,n){return this.normalized&&(n=qt(n,this.array)),this.data.array[e*this.data.stride+this.offset+2]=n,this}setW(e,n){return this.normalized&&(n=qt(n,this.array)),this.data.array[e*this.data.stride+this.offset+3]=n,this}getX(e){let n=this.data.array[e*this.data.stride+this.offset];return this.normalized&&(n=Ts(n,this.array)),n}getY(e){let n=this.data.array[e*this.data.stride+this.offset+1];return this.normalized&&(n=Ts(n,this.array)),n}getZ(e){let n=this.data.array[e*this.data.stride+this.offset+2];return this.normalized&&(n=Ts(n,this.array)),n}getW(e){let n=this.data.array[e*this.data.stride+this.offset+3];return this.normalized&&(n=Ts(n,this.array)),n}setXY(e,n,i){return e=e*this.data.stride+this.offset,this.normalized&&(n=qt(n,this.array),i=qt(i,this.array)),this.data.array[e+0]=n,this.data.array[e+1]=i,this}setXYZ(e,n,i,r){return e=e*this.data.stride+this.offset,this.normalized&&(n=qt(n,this.array),i=qt(i,this.array),r=qt(r,this.array)),this.data.array[e+0]=n,this.data.array[e+1]=i,this.data.array[e+2]=r,this}setXYZW(e,n,i,r,s){return e=e*this.data.stride+this.offset,this.normalized&&(n=qt(n,this.array),i=qt(i,this.array),r=qt(r,this.array),s=qt(s,this.array)),this.data.array[e+0]=n,this.data.array[e+1]=i,this.data.array[e+2]=r,this.data.array[e+3]=s,this}clone(e){if(e===void 0){console.log("THREE.InterleavedBufferAttribute.clone(): Cloning an interleaved buffer attribute will de-interleave buffer data.");const n=[];for(let i=0;i<this.count;i++){const r=i*this.data.stride+this.offset;for(let s=0;s<this.itemSize;s++)n.push(this.data.array[r+s])}return new hn(new this.array.constructor(n),this.itemSize,this.normalized)}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.clone(e)),new Jd(e.interleavedBuffers[this.data.uuid],this.itemSize,this.offset,this.normalized)}toJSON(e){if(e===void 0){console.log("THREE.InterleavedBufferAttribute.toJSON(): Serializing an interleaved buffer attribute will de-interleave buffer data.");const n=[];for(let i=0;i<this.count;i++){const r=i*this.data.stride+this.offset;for(let s=0;s<this.itemSize;s++)n.push(this.data.array[r+s])}return{itemSize:this.itemSize,type:this.array.constructor.name,array:n,normalized:this.normalized}}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.toJSON(e)),{isInterleavedBufferAttribute:!0,itemSize:this.itemSize,data:this.data.uuid,offset:this.offset,normalized:this.normalized}}}class sI extends ir{constructor(e){super(),this.isSpriteMaterial=!0,this.type="SpriteMaterial",this.color=new Be(16777215),this.map=null,this.alphaMap=null,this.rotation=0,this.sizeAttenuation=!0,this.transparent=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.rotation=e.rotation,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}let uh;const ug=new W,dh=new W,fh=new W,hh=new Ae,dg=new Ae,A6=new Ut,S_=new W,fg=new W,w_=new W,VF=new Ae,GT=new Ae,jF=new Ae;class P6 extends xn{constructor(e=new sI){if(super(),this.isSprite=!0,this.type="Sprite",uh===void 0){uh=new $t;const n=new Float32Array([-.5,-.5,0,0,0,.5,-.5,0,1,0,.5,.5,0,1,1,-.5,.5,0,0,1]),i=new Vw(n,5);uh.setIndex([0,1,2,0,2,3]),uh.setAttribute("position",new Jd(i,3,0,!1)),uh.setAttribute("uv",new Jd(i,2,3,!1))}this.geometry=uh,this.material=e,this.center=new Ae(.5,.5)}raycast(e,n){e.camera===null&&console.error('THREE.Sprite: "Raycaster.camera" needs to be set in order to raycast against sprites.'),dh.setFromMatrixScale(this.matrixWorld),A6.copy(e.camera.matrixWorld),this.modelViewMatrix.multiplyMatrices(e.camera.matrixWorldInverse,this.matrixWorld),fh.setFromMatrixPosition(this.modelViewMatrix),e.camera.isPerspectiveCamera&&this.material.sizeAttenuation===!1&&dh.multiplyScalar(-fh.z);const i=this.material.rotation;let r,s;i!==0&&(s=Math.cos(i),r=Math.sin(i));const o=this.center;M_(S_.set(-.5,-.5,0),fh,o,dh,r,s),M_(fg.set(.5,-.5,0),fh,o,dh,r,s),M_(w_.set(.5,.5,0),fh,o,dh,r,s),VF.set(0,0),GT.set(1,0),jF.set(1,1);let a=e.ray.intersectTriangle(S_,fg,w_,!1,ug);if(a===null&&(M_(fg.set(-.5,.5,0),fh,o,dh,r,s),GT.set(0,1),a=e.ray.intersectTriangle(S_,w_,fg,!1,ug),a===null))return;const l=e.ray.origin.distanceTo(ug);l<e.near||l>e.far||n.push({distance:l,point:ug.clone(),uv:ws.getInterpolation(ug,S_,fg,w_,VF,GT,jF,new Ae),face:null,object:this})}copy(e,n){return super.copy(e,n),e.center!==void 0&&this.center.copy(e.center),this.material=e.material,this}}function M_(t,e,n,i,r,s){hh.subVectors(t,n).addScalar(.5).multiply(i),r!==void 0?(dg.x=s*hh.x-r*hh.y,dg.y=r*hh.x+s*hh.y):dg.copy(hh),t.copy(e),t.x+=dg.x,t.y+=dg.y,t.applyMatrix4(A6)}const E_=new W,WF=new W;class k6 extends xn{constructor(){super(),this._currentLevel=0,this.type="LOD",Object.defineProperties(this,{levels:{enumerable:!0,value:[]},isLOD:{value:!0}}),this.autoUpdate=!0}copy(e){super.copy(e,!1);const n=e.levels;for(let i=0,r=n.length;i<r;i++){const s=n[i];this.addLevel(s.object.clone(),s.distance,s.hysteresis)}return this.autoUpdate=e.autoUpdate,this}addLevel(e,n=0,i=0){n=Math.abs(n);const r=this.levels;let s;for(s=0;s<r.length&&!(n<r[s].distance);s++);return r.splice(s,0,{distance:n,hysteresis:i,object:e}),this.add(e),this}getCurrentLevel(){return this._currentLevel}getObjectForDistance(e){const n=this.levels;if(n.length>0){let i,r;for(i=1,r=n.length;i<r;i++){let s=n[i].distance;if(n[i].object.visible&&(s-=s*n[i].hysteresis),e<s)break}return n[i-1].object}return null}raycast(e,n){if(this.levels.length>0){E_.setFromMatrixPosition(this.matrixWorld);const r=e.ray.origin.distanceTo(E_);this.getObjectForDistance(r).raycast(e,n)}}update(e){const n=this.levels;if(n.length>1){E_.setFromMatrixPosition(e.matrixWorld),WF.setFromMatrixPosition(this.matrixWorld);const i=E_.distanceTo(WF)/e.zoom;n[0].object.visible=!0;let r,s;for(r=1,s=n.length;r<s;r++){let o=n[r].distance;if(n[r].object.visible&&(o-=o*n[r].hysteresis),i>=o)n[r-1].object.visible=!1,n[r].object.visible=!0;else break}for(this._currentLevel=r-1;r<s;r++)n[r].object.visible=!1}}toJSON(e){const n=super.toJSON(e);this.autoUpdate===!1&&(n.object.autoUpdate=!1),n.object.levels=[];const i=this.levels;for(let r=0,s=i.length;r<s;r++){const o=i[r];n.object.levels.push({object:o.object.uuid,distance:o.distance,hysteresis:o.hysteresis})}return n}}const GF=new W,$F=new wn,XF=new wn,$0e=new W,YF=new Ut,T_=new W,$T=new $r,qF=new Ut,XT=new am;class I6 extends Hi{constructor(e,n){super(e,n),this.isSkinnedMesh=!0,this.type="SkinnedMesh",this.bindMode=pR,this.bindMatrix=new Ut,this.bindMatrixInverse=new Ut,this.boundingBox=null,this.boundingSphere=null}computeBoundingBox(){const e=this.geometry;this.boundingBox===null&&(this.boundingBox=new ss),this.boundingBox.makeEmpty();const n=e.getAttribute("position");for(let i=0;i<n.count;i++)this.getVertexPosition(i,T_),this.boundingBox.expandByPoint(T_)}computeBoundingSphere(){const e=this.geometry;this.boundingSphere===null&&(this.boundingSphere=new $r),this.boundingSphere.makeEmpty();const n=e.getAttribute("position");for(let i=0;i<n.count;i++)this.getVertexPosition(i,T_),this.boundingSphere.expandByPoint(T_)}copy(e,n){return super.copy(e,n),this.bindMode=e.bindMode,this.bindMatrix.copy(e.bindMatrix),this.bindMatrixInverse.copy(e.bindMatrixInverse),this.skeleton=e.skeleton,e.boundingBox!==null&&(this.boundingBox=e.boundingBox.clone()),e.boundingSphere!==null&&(this.boundingSphere=e.boundingSphere.clone()),this}raycast(e,n){const i=this.material,r=this.matrixWorld;i!==void 0&&(this.boundingSphere===null&&this.computeBoundingSphere(),$T.copy(this.boundingSphere),$T.applyMatrix4(r),e.ray.intersectsSphere($T)!==!1&&(qF.copy(r).invert(),XT.copy(e.ray).applyMatrix4(qF),!(this.boundingBox!==null&&XT.intersectsBox(this.boundingBox)===!1)&&this._computeIntersections(e,n,XT)))}getVertexPosition(e,n){return super.getVertexPosition(e,n),this.applyBoneTransform(e,n),n}bind(e,n){this.skeleton=e,n===void 0&&(this.updateMatrixWorld(!0),this.skeleton.calculateInverses(),n=this.matrixWorld),this.bindMatrix.copy(n),this.bindMatrixInverse.copy(n).invert()}pose(){this.skeleton.pose()}normalizeSkinWeights(){const e=new wn,n=this.geometry.attributes.skinWeight;for(let i=0,r=n.count;i<r;i++){e.fromBufferAttribute(n,i);const s=1/e.manhattanLength();s!==1/0?e.multiplyScalar(s):e.set(1,0,0,0),n.setXYZW(i,e.x,e.y,e.z,e.w)}}updateMatrixWorld(e){super.updateMatrixWorld(e),this.bindMode===pR?this.bindMatrixInverse.copy(this.matrixWorld).invert():this.bindMode===$W?this.bindMatrixInverse.copy(this.bindMatrix).invert():console.warn("THREE.SkinnedMesh: Unrecognized bindMode: "+this.bindMode)}applyBoneTransform(e,n){const i=this.skeleton,r=this.geometry;$F.fromBufferAttribute(r.attributes.skinIndex,e),XF.fromBufferAttribute(r.attributes.skinWeight,e),GF.copy(n).applyMatrix4(this.bindMatrix),n.set(0,0,0);for(let s=0;s<4;s++){const o=XF.getComponent(s);if(o!==0){const a=$F.getComponent(s);YF.multiplyMatrices(i.bones[a].matrixWorld,i.boneInverses[a]),n.addScaledVector($0e.copy(GF).applyMatrix4(YF),o)}}return n.applyMatrix4(this.bindMatrixInverse)}boneTransform(e,n){return console.warn("THREE.SkinnedMesh: .boneTransform() was renamed to .applyBoneTransform() in r151."),this.applyBoneTransform(e,n)}}class oI extends xn{constructor(){super(),this.isBone=!0,this.type="Bone"}}class Ud extends ni{constructor(e=null,n=1,i=1,r,s,o,a,l,c=Un,u=Un,d,f){super(null,o,a,l,c,u,r,s,d,f),this.isDataTexture=!0,this.image={data:e,width:n,height:i},this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}const KF=new Ut,X0e=new Ut;class jw{constructor(e=[],n=[]){this.uuid=io(),this.bones=e.slice(0),this.boneInverses=n,this.boneMatrices=null,this.boneTexture=null,this.init()}init(){const e=this.bones,n=this.boneInverses;if(this.boneMatrices=new Float32Array(e.length*16),n.length===0)this.calculateInverses();else if(e.length!==n.length){console.warn("THREE.Skeleton: Number of inverse bone matrices does not match amount of bones."),this.boneInverses=[];for(let i=0,r=this.bones.length;i<r;i++)this.boneInverses.push(new Ut)}}calculateInverses(){this.boneInverses.length=0;for(let e=0,n=this.bones.length;e<n;e++){const i=new Ut;this.bones[e]&&i.copy(this.bones[e].matrixWorld).invert(),this.boneInverses.push(i)}}pose(){for(let e=0,n=this.bones.length;e<n;e++){const i=this.bones[e];i&&i.matrixWorld.copy(this.boneInverses[e]).invert()}for(let e=0,n=this.bones.length;e<n;e++){const i=this.bones[e];i&&(i.parent&&i.parent.isBone?(i.matrix.copy(i.parent.matrixWorld).invert(),i.matrix.multiply(i.matrixWorld)):i.matrix.copy(i.matrixWorld),i.matrix.decompose(i.position,i.quaternion,i.scale))}}update(){const e=this.bones,n=this.boneInverses,i=this.boneMatrices,r=this.boneTexture;for(let s=0,o=e.length;s<o;s++){const a=e[s]?e[s].matrixWorld:X0e;KF.multiplyMatrices(a,n[s]),KF.toArray(i,s*16)}r!==null&&(r.needsUpdate=!0)}clone(){return new jw(this.bones,this.boneInverses)}computeBoneTexture(){let e=Math.sqrt(this.bones.length*4);e=Math.ceil(e/4)*4,e=Math.max(e,4);const n=new Float32Array(e*e*4);n.set(this.boneMatrices);const i=new Ud(n,e,e,is,eo);return i.needsUpdate=!0,this.boneMatrices=n,this.boneTexture=i,this}getBoneByName(e){for(let n=0,i=this.bones.length;n<i;n++){const r=this.bones[n];if(r.name===e)return r}}dispose(){this.boneTexture!==null&&(this.boneTexture.dispose(),this.boneTexture=null)}fromJSON(e,n){this.uuid=e.uuid;for(let i=0,r=e.bones.length;i<r;i++){const s=e.bones[i];let o=n[s];o===void 0&&(console.warn("THREE.Skeleton: No bone found with UUID:",s),o=new oI),this.bones.push(o),this.boneInverses.push(new Ut().fromArray(e.boneInverses[i]))}return this.init(),this}toJSON(){const e={metadata:{version:4.6,type:"Skeleton",generator:"Skeleton.toJSON"},bones:[],boneInverses:[]};e.uuid=this.uuid;const n=this.bones,i=this.boneInverses;for(let r=0,s=n.length;r<s;r++){const o=n[r];e.bones.push(o.uuid);const a=i[r];e.boneInverses.push(a.toArray())}return e}}class jp extends hn{constructor(e,n,i,r=1){super(e,n,i),this.isInstancedBufferAttribute=!0,this.meshPerAttribute=r}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}toJSON(){const e=super.toJSON();return e.meshPerAttribute=this.meshPerAttribute,e.isInstancedBufferAttribute=!0,e}}const ph=new Ut,QF=new Ut,C_=[],ZF=new ss,Y0e=new Ut,hg=new Hi,pg=new $r;class L6 extends Hi{constructor(e,n,i){super(e,n),this.isInstancedMesh=!0,this.instanceMatrix=new jp(new Float32Array(i*16),16),this.instanceColor=null,this.count=i,this.boundingBox=null,this.boundingSphere=null;for(let r=0;r<i;r++)this.setMatrixAt(r,Y0e)}computeBoundingBox(){const e=this.geometry,n=this.count;this.boundingBox===null&&(this.boundingBox=new ss),e.boundingBox===null&&e.computeBoundingBox(),this.boundingBox.makeEmpty();for(let i=0;i<n;i++)this.getMatrixAt(i,ph),ZF.copy(e.boundingBox).applyMatrix4(ph),this.boundingBox.union(ZF)}computeBoundingSphere(){const e=this.geometry,n=this.count;this.boundingSphere===null&&(this.boundingSphere=new $r),e.boundingSphere===null&&e.computeBoundingSphere(),this.boundingSphere.makeEmpty();for(let i=0;i<n;i++)this.getMatrixAt(i,ph),pg.copy(e.boundingSphere).applyMatrix4(ph),this.boundingSphere.union(pg)}copy(e,n){return super.copy(e,n),this.instanceMatrix.copy(e.instanceMatrix),e.instanceColor!==null&&(this.instanceColor=e.instanceColor.clone()),this.count=e.count,e.boundingBox!==null&&(this.boundingBox=e.boundingBox.clone()),e.boundingSphere!==null&&(this.boundingSphere=e.boundingSphere.clone()),this}getColorAt(e,n){n.fromArray(this.instanceColor.array,e*3)}getMatrixAt(e,n){n.fromArray(this.instanceMatrix.array,e*16)}raycast(e,n){const i=this.matrixWorld,r=this.count;if(hg.geometry=this.geometry,hg.material=this.material,hg.material!==void 0&&(this.boundingSphere===null&&this.computeBoundingSphere(),pg.copy(this.boundingSphere),pg.applyMatrix4(i),e.ray.intersectsSphere(pg)!==!1))for(let s=0;s<r;s++){this.getMatrixAt(s,ph),QF.multiplyMatrices(i,ph),hg.matrixWorld=QF,hg.raycast(e,C_);for(let o=0,a=C_.length;o<a;o++){const l=C_[o];l.instanceId=s,l.object=this,n.push(l)}C_.length=0}}setColorAt(e,n){this.instanceColor===null&&(this.instanceColor=new jp(new Float32Array(this.instanceMatrix.count*3),3)),n.toArray(this.instanceColor.array,e*3)}setMatrixAt(e,n){n.toArray(this.instanceMatrix.array,e*16)}updateMorphTargets(){}dispose(){this.dispatchEvent({type:"dispose"})}}function q0e(t,e){return t.z-e.z}function K0e(t,e){return e.z-t.z}class Q0e{constructor(){this.index=0,this.pool=[],this.list=[]}push(e,n){const i=this.pool,r=this.list;this.index>=i.length&&i.push({start:-1,count:-1,z:-1});const s=i[this.index];r.push(s),this.index++,s.start=e.start,s.count=e.count,s.z=n}reset(){this.list.length=0,this.index=0}}const mh="batchId",hc=new Ut,JF=new Ut,Z0e=new Ut,ez=new Ut,YT=new oy,R_=new ss,ju=new $r,mg=new W,qT=new Q0e,Nr=new Hi,A_=[];function J0e(t,e,n=0){const i=e.itemSize;if(t.isInterleavedBufferAttribute||t.array.constructor!==e.array.constructor){const r=t.count;for(let s=0;s<r;s++)for(let o=0;o<i;o++)e.setComponent(s+n,o,t.getComponent(s,o))}else e.array.set(t.array,n*i);e.needsUpdate=!0}class D6 extends Hi{get maxGeometryCount(){return this._maxGeometryCount}constructor(e,n,i=n*2,r){super(new $t,r),this.isBatchedMesh=!0,this.perObjectFrustumCulled=!0,this.sortObjects=!0,this.boundingBox=null,this.boundingSphere=null,this.customSort=null,this._drawRanges=[],this._reservedRanges=[],this._visibility=[],this._active=[],this._bounds=[],this._maxGeometryCount=e,this._maxVertexCount=n,this._maxIndexCount=i,this._geometryInitialized=!1,this._geometryCount=0,this._multiDrawCounts=new Int32Array(e),this._multiDrawStarts=new Int32Array(e),this._multiDrawCount=0,this._visibilityChanged=!0,this._matricesTexture=null,this._initMatricesTexture()}_initMatricesTexture(){let e=Math.sqrt(this._maxGeometryCount*4);e=Math.ceil(e/4)*4,e=Math.max(e,4);const n=new Float32Array(e*e*4),i=new Ud(n,e,e,is,eo);this._matricesTexture=i}_initializeGeometry(e){const n=this.geometry,i=this._maxVertexCount,r=this._maxGeometryCount,s=this._maxIndexCount;if(this._geometryInitialized===!1){for(const a in e.attributes){const l=e.getAttribute(a),{array:c,itemSize:u,normalized:d}=l,f=new c.constructor(i*u),m=new l.constructor(f,u,d);m.setUsage(l.usage),n.setAttribute(a,m)}if(e.getIndex()!==null){const a=i>65536?new Uint32Array(s):new Uint16Array(s);n.setIndex(new hn(a,1))}const o=r>65536?new Uint32Array(i):new Uint16Array(i);n.setAttribute(mh,new hn(o,1)),this._geometryInitialized=!0}}_validateGeometry(e){if(e.getAttribute(mh))throw new Error(`BatchedMesh: Geometry cannot use attribute "${mh}"`);const n=this.geometry;if(!!e.getIndex()!=!!n.getIndex())throw new Error('BatchedMesh: All geometries must consistently have "index".');for(const i in n.attributes){if(i===mh)continue;if(!e.hasAttribute(i))throw new Error(`BatchedMesh: Added geometry missing "${i}". All geometries must have consistent attributes.`);const r=e.getAttribute(i),s=n.getAttribute(i);if(r.itemSize!==s.itemSize||r.normalized!==s.normalized)throw new Error("BatchedMesh: All attributes must have a consistent itemSize and normalized value.")}}setCustomSort(e){return this.customSort=e,this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new ss);const e=this._geometryCount,n=this.boundingBox,i=this._active;n.makeEmpty();for(let r=0;r<e;r++)i[r]!==!1&&(this.getMatrixAt(r,hc),this.getBoundingBoxAt(r,R_).applyMatrix4(hc),n.union(R_))}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new $r);const e=this._geometryCount,n=this.boundingSphere,i=this._active;n.makeEmpty();for(let r=0;r<e;r++)i[r]!==!1&&(this.getMatrixAt(r,hc),this.getBoundingSphereAt(r,ju).applyMatrix4(hc),n.union(ju))}addGeometry(e,n=-1,i=-1){if(this._initializeGeometry(e),this._validateGeometry(e),this._geometryCount>=this._maxGeometryCount)throw new Error("BatchedMesh: Maximum geometry count reached.");const r={vertexStart:-1,vertexCount:-1,indexStart:-1,indexCount:-1};let s=null;const o=this._reservedRanges,a=this._drawRanges,l=this._bounds;this._geometryCount!==0&&(s=o[o.length-1]),n===-1?r.vertexCount=e.getAttribute("position").count:r.vertexCount=n,s===null?r.vertexStart=0:r.vertexStart=s.vertexStart+s.vertexCount;const c=e.getIndex(),u=c!==null;if(u&&(i===-1?r.indexCount=c.count:r.indexCount=i,s===null?r.indexStart=0:r.indexStart=s.indexStart+s.indexCount),r.indexStart!==-1&&r.indexStart+r.indexCount>this._maxIndexCount||r.vertexStart+r.vertexCount>this._maxVertexCount)throw new Error("BatchedMesh: Reserved space request exceeds the maximum buffer size.");const d=this._visibility,f=this._active,m=this._matricesTexture,g=this._matricesTexture.image.data;d.push(!0),f.push(!0);const y=this._geometryCount;this._geometryCount++,Z0e.toArray(g,y*16),m.needsUpdate=!0,o.push(r),a.push({start:u?r.indexStart:r.vertexStart,count:-1}),l.push({boxInitialized:!1,box:new ss,sphereInitialized:!1,sphere:new $r});const x=this.geometry.getAttribute(mh);for(let v=0;v<r.vertexCount;v++)x.setX(r.vertexStart+v,y);return x.needsUpdate=!0,this.setGeometryAt(y,e),y}setGeometryAt(e,n){if(e>=this._geometryCount)throw new Error("BatchedMesh: Maximum geometry count reached.");this._validateGeometry(n);const i=this.geometry,r=i.getIndex()!==null,s=i.getIndex(),o=n.getIndex(),a=this._reservedRanges[e];if(r&&o.count>a.indexCount||n.attributes.position.count>a.vertexCount)throw new Error("BatchedMesh: Reserved space not large enough for provided geometry.");const l=a.vertexStart,c=a.vertexCount;for(const m in i.attributes){if(m===mh)continue;const g=n.getAttribute(m),y=i.getAttribute(m);J0e(g,y,l);const x=g.itemSize;for(let v=g.count,_=c;v<_;v++){const b=l+v;for(let w=0;w<x;w++)y.setComponent(b,w,0)}y.needsUpdate=!0}if(r){const m=a.indexStart;for(let g=0;g<o.count;g++)s.setX(m+g,l+o.getX(g));for(let g=o.count,y=a.indexCount;g<y;g++)s.setX(m+g,l);s.needsUpdate=!0}const u=this._bounds[e];n.boundingBox!==null?(u.box.copy(n.boundingBox),u.boxInitialized=!0):u.boxInitialized=!1,n.boundingSphere!==null?(u.sphere.copy(n.boundingSphere),u.sphereInitialized=!0):u.sphereInitialized=!1;const d=this._drawRanges[e],f=n.getAttribute("position");return d.count=r?o.count:f.count,this._visibilityChanged=!0,e}deleteGeometry(e){const n=this._active;return e>=n.length||n[e]===!1?this:(n[e]=!1,this._visibilityChanged=!0,this)}getBoundingBoxAt(e,n){if(this._active[e]===!1)return this;const r=this._bounds[e],s=r.box,o=this.geometry;if(r.boxInitialized===!1){s.makeEmpty();const a=o.index,l=o.attributes.position,c=this._drawRanges[e];for(let u=c.start,d=c.start+c.count;u<d;u++){let f=u;a&&(f=a.getX(f)),s.expandByPoint(mg.fromBufferAttribute(l,f))}r.boxInitialized=!0}return n.copy(s),n}getBoundingSphereAt(e,n){if(this._active[e]===!1)return this;const r=this._bounds[e],s=r.sphere,o=this.geometry;if(r.sphereInitialized===!1){s.makeEmpty(),this.getBoundingBoxAt(e,R_),R_.getCenter(s.center);const a=o.index,l=o.attributes.position,c=this._drawRanges[e];let u=0;for(let d=c.start,f=c.start+c.count;d<f;d++){let m=d;a&&(m=a.getX(m)),mg.fromBufferAttribute(l,m),u=Math.max(u,s.center.distanceToSquared(mg))}s.radius=Math.sqrt(u),r.sphereInitialized=!0}return n.copy(s),n}setMatrixAt(e,n){const i=this._active,r=this._matricesTexture,s=this._matricesTexture.image.data,o=this._geometryCount;return e>=o||i[e]===!1?this:(n.toArray(s,e*16),r.needsUpdate=!0,this)}getMatrixAt(e,n){const i=this._active,r=this._matricesTexture.image.data,s=this._geometryCount;return e>=s||i[e]===!1?null:n.fromArray(r,e*16)}setVisibleAt(e,n){const i=this._visibility,r=this._active,s=this._geometryCount;return e>=s||r[e]===!1||i[e]===n?this:(i[e]=n,this._visibilityChanged=!0,this)}getVisibleAt(e){const n=this._visibility,i=this._active,r=this._geometryCount;return e>=r||i[e]===!1?!1:n[e]}raycast(e,n){const i=this._visibility,r=this._active,s=this._drawRanges,o=this._geometryCount,a=this.matrixWorld,l=this.geometry;Nr.material=this.material,Nr.geometry.index=l.index,Nr.geometry.attributes=l.attributes,Nr.geometry.boundingBox===null&&(Nr.geometry.boundingBox=new ss),Nr.geometry.boundingSphere===null&&(Nr.geometry.boundingSphere=new $r);for(let c=0;c<o;c++){if(!i[c]||!r[c])continue;const u=s[c];Nr.geometry.setDrawRange(u.start,u.count),this.getMatrixAt(c,Nr.matrixWorld).premultiply(a),this.getBoundingBoxAt(c,Nr.geometry.boundingBox),this.getBoundingSphereAt(c,Nr.geometry.boundingSphere),Nr.raycast(e,A_);for(let d=0,f=A_.length;d<f;d++){const m=A_[d];m.object=this,m.batchId=c,n.push(m)}A_.length=0}Nr.material=null,Nr.geometry.index=null,Nr.geometry.attributes={},Nr.geometry.setDrawRange(0,1/0)}copy(e){return super.copy(e),this.geometry=e.geometry.clone(),this.perObjectFrustumCulled=e.perObjectFrustumCulled,this.sortObjects=e.sortObjects,this.boundingBox=e.boundingBox!==null?e.boundingBox.clone():null,this.boundingSphere=e.boundingSphere!==null?e.boundingSphere.clone():null,this._drawRanges=e._drawRanges.map(n=>({...n})),this._reservedRanges=e._reservedRanges.map(n=>({...n})),this._visibility=e._visibility.slice(),this._active=e._active.slice(),this._bounds=e._bounds.map(n=>({boxInitialized:n.boxInitialized,box:n.box.clone(),sphereInitialized:n.sphereInitialized,sphere:n.sphere.clone()})),this._maxGeometryCount=e._maxGeometryCount,this._maxVertexCount=e._maxVertexCount,this._maxIndexCount=e._maxIndexCount,this._geometryInitialized=e._geometryInitialized,this._geometryCount=e._geometryCount,this._multiDrawCounts=e._multiDrawCounts.slice(),this._multiDrawStarts=e._multiDrawStarts.slice(),this._matricesTexture=e._matricesTexture.clone(),this._matricesTexture.image.data=this._matricesTexture.image.slice(),this}dispose(){return this.geometry.dispose(),this._matricesTexture.dispose(),this._matricesTexture=null,this}onBeforeRender(e,n,i,r,s){if(!this._visibilityChanged&&!this.perObjectFrustumCulled&&!this.sortObjects)return;const o=r.getIndex(),a=o===null?1:o.array.BYTES_PER_ELEMENT,l=this._visibility,c=this._multiDrawStarts,u=this._multiDrawCounts,d=this._drawRanges,f=this.perObjectFrustumCulled;f&&(ez.multiplyMatrices(i.projectionMatrix,i.matrixWorldInverse).multiply(this.matrixWorld),YT.setFromProjectionMatrix(ez,e.isWebGPURenderer?Up:na));let m=0;if(this.sortObjects){JF.copy(this.matrixWorld).invert(),mg.setFromMatrixPosition(i.matrixWorld).applyMatrix4(JF);for(let x=0,v=l.length;x<v;x++)if(l[x]){this.getMatrixAt(x,hc),this.getBoundingSphereAt(x,ju).applyMatrix4(hc);let _=!1;if(f&&(_=!YT.intersectsSphere(ju)),!_){const b=mg.distanceTo(ju.center);qT.push(d[x],b)}}const g=qT.list,y=this.customSort;y===null?g.sort(s.transparent?K0e:q0e):y.call(this,g,i);for(let x=0,v=g.length;x<v;x++){const _=g[x];c[m]=_.start*a,u[m]=_.count,m++}qT.reset()}else for(let g=0,y=l.length;g<y;g++)if(l[g]){let x=!1;if(f&&(this.getMatrixAt(g,hc),this.getBoundingSphereAt(g,ju).applyMatrix4(hc),x=!YT.intersectsSphere(ju)),!x){const v=d[g];c[m]=v.start*a,u[m]=v.count,m++}}this._multiDrawCount=m,this._visibilityChanged=!1}onBeforeShadow(e,n,i,r,s,o){this.onBeforeRender(e,null,r,s,o)}}class ds extends ir{constructor(e){super(),this.isLineBasicMaterial=!0,this.type="LineBasicMaterial",this.color=new Be(16777215),this.map=null,this.linewidth=1,this.linecap="round",this.linejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.linewidth=e.linewidth,this.linecap=e.linecap,this.linejoin=e.linejoin,this.fog=e.fog,this}}const tz=new W,nz=new W,iz=new Ut,KT=new am,P_=new $r;let hu=class extends xn{constructor(e=new $t,n=new ds){super(),this.isLine=!0,this.type="Line",this.geometry=e,this.material=n,this.updateMorphTargets()}copy(e,n){return super.copy(e,n),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}computeLineDistances(){const e=this.geometry;if(e.index===null){const n=e.attributes.position,i=[0];for(let r=1,s=n.count;r<s;r++)tz.fromBufferAttribute(n,r-1),nz.fromBufferAttribute(n,r),i[r]=i[r-1],i[r]+=tz.distanceTo(nz);e.setAttribute("lineDistance",new bt(i,1))}else console.warn("THREE.Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}raycast(e,n){const i=this.geometry,r=this.matrixWorld,s=e.params.Line.threshold,o=i.drawRange;if(i.boundingSphere===null&&i.computeBoundingSphere(),P_.copy(i.boundingSphere),P_.applyMatrix4(r),P_.radius+=s,e.ray.intersectsSphere(P_)===!1)return;iz.copy(r).invert(),KT.copy(e.ray).applyMatrix4(iz);const a=s/((this.scale.x+this.scale.y+this.scale.z)/3),l=a*a,c=new W,u=new W,d=new W,f=new W,m=this.isLineSegments?2:1,g=i.index,x=i.attributes.position;if(g!==null){const v=Math.max(0,o.start),_=Math.min(g.count,o.start+o.count);for(let b=v,w=_-1;b<w;b+=m){const C=g.getX(b),T=g.getX(b+1);if(c.fromBufferAttribute(x,C),u.fromBufferAttribute(x,T),KT.distanceSqToSegment(c,u,f,d)>l)continue;f.applyMatrix4(this.matrixWorld);const I=e.ray.origin.distanceTo(f);I<e.near||I>e.far||n.push({distance:I,point:d.clone().applyMatrix4(this.matrixWorld),index:b,face:null,faceIndex:null,object:this})}}else{const v=Math.max(0,o.start),_=Math.min(x.count,o.start+o.count);for(let b=v,w=_-1;b<w;b+=m){if(c.fromBufferAttribute(x,b),u.fromBufferAttribute(x,b+1),KT.distanceSqToSegment(c,u,f,d)>l)continue;f.applyMatrix4(this.matrixWorld);const T=e.ray.origin.distanceTo(f);T<e.near||T>e.far||n.push({distance:T,point:d.clone().applyMatrix4(this.matrixWorld),index:b,face:null,faceIndex:null,object:this})}}}updateMorphTargets(){const n=this.geometry.morphAttributes,i=Object.keys(n);if(i.length>0){const r=n[i[0]];if(r!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let s=0,o=r.length;s<o;s++){const a=r[s].name||String(s);this.morphTargetInfluences.push(0),this.morphTargetDictionary[a]=s}}}}};const rz=new W,sz=new W;class Qa extends hu{constructor(e,n){super(e,n),this.isLineSegments=!0,this.type="LineSegments"}computeLineDistances(){const e=this.geometry;if(e.index===null){const n=e.attributes.position,i=[];for(let r=0,s=n.count;r<s;r+=2)rz.fromBufferAttribute(n,r),sz.fromBufferAttribute(n,r+1),i[r]=r===0?0:i[r-1],i[r+1]=i[r]+rz.distanceTo(sz);e.setAttribute("lineDistance",new bt(i,1))}else console.warn("THREE.LineSegments.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}}class O6 extends hu{constructor(e,n){super(e,n),this.isLineLoop=!0,this.type="LineLoop"}}class aI extends ir{constructor(e){super(),this.isPointsMaterial=!0,this.type="PointsMaterial",this.color=new Be(16777215),this.map=null,this.alphaMap=null,this.size=1,this.sizeAttenuation=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.size=e.size,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}const oz=new Ut,GR=new am,k_=new $r,I_=new W;class N6 extends xn{constructor(e=new $t,n=new aI){super(),this.isPoints=!0,this.type="Points",this.geometry=e,this.material=n,this.updateMorphTargets()}copy(e,n){return super.copy(e,n),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}raycast(e,n){const i=this.geometry,r=this.matrixWorld,s=e.params.Points.threshold,o=i.drawRange;if(i.boundingSphere===null&&i.computeBoundingSphere(),k_.copy(i.boundingSphere),k_.applyMatrix4(r),k_.radius+=s,e.ray.intersectsSphere(k_)===!1)return;oz.copy(r).invert(),GR.copy(e.ray).applyMatrix4(oz);const a=s/((this.scale.x+this.scale.y+this.scale.z)/3),l=a*a,c=i.index,d=i.attributes.position;if(c!==null){const f=Math.max(0,o.start),m=Math.min(c.count,o.start+o.count);for(let g=f,y=m;g<y;g++){const x=c.getX(g);I_.fromBufferAttribute(d,x),az(I_,x,l,r,e,n,this)}}else{const f=Math.max(0,o.start),m=Math.min(d.count,o.start+o.count);for(let g=f,y=m;g<y;g++)I_.fromBufferAttribute(d,g),az(I_,g,l,r,e,n,this)}}updateMorphTargets(){const n=this.geometry.morphAttributes,i=Object.keys(n);if(i.length>0){const r=n[i[0]];if(r!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let s=0,o=r.length;s<o;s++){const a=r[s].name||String(s);this.morphTargetInfluences.push(0),this.morphTargetDictionary[a]=s}}}}}function az(t,e,n,i,r,s,o){const a=GR.distanceSqToPoint(t);if(a<n){const l=new W;GR.closestPointToPoint(t,l),l.applyMatrix4(i);const c=r.ray.origin.distanceTo(l);if(c<r.near||c>r.far)return;s.push({distance:c,distanceToRay:Math.sqrt(a),point:l,index:e,face:null,object:o})}}class eve extends ni{constructor(e,n,i,r,s,o,a,l,c){super(e,n,i,r,s,o,a,l,c),this.isVideoTexture=!0,this.minFilter=o!==void 0?o:Bn,this.magFilter=s!==void 0?s:Bn,this.generateMipmaps=!1;const u=this;function d(){u.needsUpdate=!0,e.requestVideoFrameCallback(d)}"requestVideoFrameCallback"in e&&e.requestVideoFrameCallback(d)}clone(){return new this.constructor(this.image).copy(this)}update(){const e=this.image;"requestVideoFrameCallback"in e===!1&&e.readyState>=e.HAVE_CURRENT_DATA&&(this.needsUpdate=!0)}}class tve extends ni{constructor(e,n){super({width:e,height:n}),this.isFramebufferTexture=!0,this.magFilter=Un,this.minFilter=Un,this.generateMipmaps=!1,this.needsUpdate=!0}}class Ww extends ni{constructor(e,n,i,r,s,o,a,l,c,u,d,f){super(null,o,a,l,c,u,r,s,d,f),this.isCompressedTexture=!0,this.image={width:n,height:i},this.mipmaps=e,this.flipY=!1,this.generateMipmaps=!1}}class nve extends Ww{constructor(e,n,i,r,s,o){super(e,n,i,s,o),this.isCompressedArrayTexture=!0,this.image.depth=r,this.wrapR=jr}}class ive extends Ww{constructor(e,n,i){super(void 0,e[0].width,e[0].height,n,i,Wl),this.isCompressedCubeTexture=!0,this.isCubeTexture=!0,this.image=e}}class rve extends ni{constructor(e,n,i,r,s,o,a,l,c){super(e,n,i,r,s,o,a,l,c),this.isCanvasTexture=!0,this.needsUpdate=!0}}class ua{constructor(){this.type="Curve",this.arcLengthDivisions=200}getPoint(){return console.warn("THREE.Curve: .getPoint() not implemented."),null}getPointAt(e,n){const i=this.getUtoTmapping(e);return this.getPoint(i,n)}getPoints(e=5){const n=[];for(let i=0;i<=e;i++)n.push(this.getPoint(i/e));return n}getSpacedPoints(e=5){const n=[];for(let i=0;i<=e;i++)n.push(this.getPointAt(i/e));return n}getLength(){const e=this.getLengths();return e[e.length-1]}getLengths(e=this.arcLengthDivisions){if(this.cacheArcLengths&&this.cacheArcLengths.length===e+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;const n=[];let i,r=this.getPoint(0),s=0;n.push(0);for(let o=1;o<=e;o++)i=this.getPoint(o/e),s+=i.distanceTo(r),n.push(s),r=i;return this.cacheArcLengths=n,n}updateArcLengths(){this.needsUpdate=!0,this.getLengths()}getUtoTmapping(e,n){const i=this.getLengths();let r=0;const s=i.length;let o;n?o=n:o=e*i[s-1];let a=0,l=s-1,c;for(;a<=l;)if(r=Math.floor(a+(l-a)/2),c=i[r]-o,c<0)a=r+1;else if(c>0)l=r-1;else{l=r;break}if(r=l,i[r]===o)return r/(s-1);const u=i[r],f=i[r+1]-u,m=(o-u)/f;return(r+m)/(s-1)}getTangent(e,n){let r=e-1e-4,s=e+1e-4;r<0&&(r=0),s>1&&(s=1);const o=this.getPoint(r),a=this.getPoint(s),l=n||(o.isVector2?new Ae:new W);return l.copy(a).sub(o).normalize(),l}getTangentAt(e,n){const i=this.getUtoTmapping(e);return this.getTangent(i,n)}computeFrenetFrames(e,n){const i=new W,r=[],s=[],o=[],a=new W,l=new Ut;for(let m=0;m<=e;m++){const g=m/e;r[m]=this.getTangentAt(g,new W)}s[0]=new W,o[0]=new W;let c=Number.MAX_VALUE;const u=Math.abs(r[0].x),d=Math.abs(r[0].y),f=Math.abs(r[0].z);u<=c&&(c=u,i.set(1,0,0)),d<=c&&(c=d,i.set(0,1,0)),f<=c&&i.set(0,0,1),a.crossVectors(r[0],i).normalize(),s[0].crossVectors(r[0],a),o[0].crossVectors(r[0],s[0]);for(let m=1;m<=e;m++){if(s[m]=s[m-1].clone(),o[m]=o[m-1].clone(),a.crossVectors(r[m-1],r[m]),a.length()>Number.EPSILON){a.normalize();const g=Math.acos(Si(r[m-1].dot(r[m]),-1,1));s[m].applyMatrix4(l.makeRotationAxis(a,g))}o[m].crossVectors(r[m],s[m])}if(n===!0){let m=Math.acos(Si(s[0].dot(s[e]),-1,1));m/=e,r[0].dot(a.crossVectors(s[0],s[e]))>0&&(m=-m);for(let g=1;g<=e;g++)s[g].applyMatrix4(l.makeRotationAxis(r[g],m*g)),o[g].crossVectors(r[g],s[g])}return{tangents:r,normals:s,binormals:o}}clone(){return new this.constructor().copy(this)}copy(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}toJSON(){const e={metadata:{version:4.6,type:"Curve",generator:"Curve.toJSON"}};return e.arcLengthDivisions=this.arcLengthDivisions,e.type=this.type,e}fromJSON(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}}class Gw extends ua{constructor(e=0,n=0,i=1,r=1,s=0,o=Math.PI*2,a=!1,l=0){super(),this.isEllipseCurve=!0,this.type="EllipseCurve",this.aX=e,this.aY=n,this.xRadius=i,this.yRadius=r,this.aStartAngle=s,this.aEndAngle=o,this.aClockwise=a,this.aRotation=l}getPoint(e,n){const i=n||new Ae,r=Math.PI*2;let s=this.aEndAngle-this.aStartAngle;const o=Math.abs(s)<Number.EPSILON;for(;s<0;)s+=r;for(;s>r;)s-=r;s<Number.EPSILON&&(o?s=0:s=r),this.aClockwise===!0&&!o&&(s===r?s=-r:s=s-r);const a=this.aStartAngle+e*s;let l=this.aX+this.xRadius*Math.cos(a),c=this.aY+this.yRadius*Math.sin(a);if(this.aRotation!==0){const u=Math.cos(this.aRotation),d=Math.sin(this.aRotation),f=l-this.aX,m=c-this.aY;l=f*u-m*d+this.aX,c=f*d+m*u+this.aY}return i.set(l,c)}copy(e){return super.copy(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}toJSON(){const e=super.toJSON();return e.aX=this.aX,e.aY=this.aY,e.xRadius=this.xRadius,e.yRadius=this.yRadius,e.aStartAngle=this.aStartAngle,e.aEndAngle=this.aEndAngle,e.aClockwise=this.aClockwise,e.aRotation=this.aRotation,e}fromJSON(e){return super.fromJSON(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}}class F6 extends Gw{constructor(e,n,i,r,s,o){super(e,n,i,i,r,s,o),this.isArcCurve=!0,this.type="ArcCurve"}}function lI(){let t=0,e=0,n=0,i=0;function r(s,o,a,l){t=s,e=a,n=-3*s+3*o-2*a-l,i=2*s-2*o+a+l}return{initCatmullRom:function(s,o,a,l,c){r(o,a,c*(a-s),c*(l-o))},initNonuniformCatmullRom:function(s,o,a,l,c,u,d){let f=(o-s)/c-(a-s)/(c+u)+(a-o)/u,m=(a-o)/u-(l-o)/(u+d)+(l-a)/d;f*=u,m*=u,r(o,a,f,m)},calc:function(s){const o=s*s,a=o*s;return t+e*s+n*o+i*a}}}const L_=new W,QT=new lI,ZT=new lI,JT=new lI;class z6 extends ua{constructor(e=[],n=!1,i="centripetal",r=.5){super(),this.isCatmullRomCurve3=!0,this.type="CatmullRomCurve3",this.points=e,this.closed=n,this.curveType=i,this.tension=r}getPoint(e,n=new W){const i=n,r=this.points,s=r.length,o=(s-(this.closed?0:1))*e;let a=Math.floor(o),l=o-a;this.closed?a+=a>0?0:(Math.floor(Math.abs(a)/s)+1)*s:l===0&&a===s-1&&(a=s-2,l=1);let c,u;this.closed||a>0?c=r[(a-1)%s]:(L_.subVectors(r[0],r[1]).add(r[0]),c=L_);const d=r[a%s],f=r[(a+1)%s];if(this.closed||a+2<s?u=r[(a+2)%s]:(L_.subVectors(r[s-1],r[s-2]).add(r[s-1]),u=L_),this.curveType==="centripetal"||this.curveType==="chordal"){const m=this.curveType==="chordal"?.5:.25;let g=Math.pow(c.distanceToSquared(d),m),y=Math.pow(d.distanceToSquared(f),m),x=Math.pow(f.distanceToSquared(u),m);y<1e-4&&(y=1),g<1e-4&&(g=y),x<1e-4&&(x=y),QT.initNonuniformCatmullRom(c.x,d.x,f.x,u.x,g,y,x),ZT.initNonuniformCatmullRom(c.y,d.y,f.y,u.y,g,y,x),JT.initNonuniformCatmullRom(c.z,d.z,f.z,u.z,g,y,x)}else this.curveType==="catmullrom"&&(QT.initCatmullRom(c.x,d.x,f.x,u.x,this.tension),ZT.initCatmullRom(c.y,d.y,f.y,u.y,this.tension),JT.initCatmullRom(c.z,d.z,f.z,u.z,this.tension));return i.set(QT.calc(l),ZT.calc(l),JT.calc(l)),i}copy(e){super.copy(e),this.points=[];for(let n=0,i=e.points.length;n<i;n++){const r=e.points[n];this.points.push(r.clone())}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}toJSON(){const e=super.toJSON();e.points=[];for(let n=0,i=this.points.length;n<i;n++){const r=this.points[n];e.points.push(r.toArray())}return e.closed=this.closed,e.curveType=this.curveType,e.tension=this.tension,e}fromJSON(e){super.fromJSON(e),this.points=[];for(let n=0,i=e.points.length;n<i;n++){const r=e.points[n];this.points.push(new W().fromArray(r))}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}}function lz(t,e,n,i,r){const s=(i-e)*.5,o=(r-n)*.5,a=t*t,l=t*a;return(2*n-2*i+s+o)*l+(-3*n+3*i-2*s-o)*a+s*t+n}function sve(t,e){const n=1-t;return n*n*e}function ove(t,e){return 2*(1-t)*t*e}function ave(t,e){return t*t*e}function y0(t,e,n,i){return sve(t,e)+ove(t,n)+ave(t,i)}function lve(t,e){const n=1-t;return n*n*n*e}function cve(t,e){const n=1-t;return 3*n*n*t*e}function uve(t,e){return 3*(1-t)*t*t*e}function dve(t,e){return t*t*t*e}function x0(t,e,n,i,r){return lve(t,e)+cve(t,n)+uve(t,i)+dve(t,r)}class cI extends ua{constructor(e=new Ae,n=new Ae,i=new Ae,r=new Ae){super(),this.isCubicBezierCurve=!0,this.type="CubicBezierCurve",this.v0=e,this.v1=n,this.v2=i,this.v3=r}getPoint(e,n=new Ae){const i=n,r=this.v0,s=this.v1,o=this.v2,a=this.v3;return i.set(x0(e,r.x,s.x,o.x,a.x),x0(e,r.y,s.y,o.y,a.y)),i}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}class U6 extends ua{constructor(e=new W,n=new W,i=new W,r=new W){super(),this.isCubicBezierCurve3=!0,this.type="CubicBezierCurve3",this.v0=e,this.v1=n,this.v2=i,this.v3=r}getPoint(e,n=new W){const i=n,r=this.v0,s=this.v1,o=this.v2,a=this.v3;return i.set(x0(e,r.x,s.x,o.x,a.x),x0(e,r.y,s.y,o.y,a.y),x0(e,r.z,s.z,o.z,a.z)),i}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}class uI extends ua{constructor(e=new Ae,n=new Ae){super(),this.isLineCurve=!0,this.type="LineCurve",this.v1=e,this.v2=n}getPoint(e,n=new Ae){const i=n;return e===1?i.copy(this.v2):(i.copy(this.v2).sub(this.v1),i.multiplyScalar(e).add(this.v1)),i}getPointAt(e,n){return this.getPoint(e,n)}getTangent(e,n=new Ae){return n.subVectors(this.v2,this.v1).normalize()}getTangentAt(e,n){return this.getTangent(e,n)}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class B6 extends ua{constructor(e=new W,n=new W){super(),this.isLineCurve3=!0,this.type="LineCurve3",this.v1=e,this.v2=n}getPoint(e,n=new W){const i=n;return e===1?i.copy(this.v2):(i.copy(this.v2).sub(this.v1),i.multiplyScalar(e).add(this.v1)),i}getPointAt(e,n){return this.getPoint(e,n)}getTangent(e,n=new W){return n.subVectors(this.v2,this.v1).normalize()}getTangentAt(e,n){return this.getTangent(e,n)}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class dI extends ua{constructor(e=new Ae,n=new Ae,i=new Ae){super(),this.isQuadraticBezierCurve=!0,this.type="QuadraticBezierCurve",this.v0=e,this.v1=n,this.v2=i}getPoint(e,n=new Ae){const i=n,r=this.v0,s=this.v1,o=this.v2;return i.set(y0(e,r.x,s.x,o.x),y0(e,r.y,s.y,o.y)),i}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class fI extends ua{constructor(e=new W,n=new W,i=new W){super(),this.isQuadraticBezierCurve3=!0,this.type="QuadraticBezierCurve3",this.v0=e,this.v1=n,this.v2=i}getPoint(e,n=new W){const i=n,r=this.v0,s=this.v1,o=this.v2;return i.set(y0(e,r.x,s.x,o.x),y0(e,r.y,s.y,o.y),y0(e,r.z,s.z,o.z)),i}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class hI extends ua{constructor(e=[]){super(),this.isSplineCurve=!0,this.type="SplineCurve",this.points=e}getPoint(e,n=new Ae){const i=n,r=this.points,s=(r.length-1)*e,o=Math.floor(s),a=s-o,l=r[o===0?o:o-1],c=r[o],u=r[o>r.length-2?r.length-1:o+1],d=r[o>r.length-3?r.length-1:o+2];return i.set(lz(a,l.x,c.x,u.x,d.x),lz(a,l.y,c.y,u.y,d.y)),i}copy(e){super.copy(e),this.points=[];for(let n=0,i=e.points.length;n<i;n++){const r=e.points[n];this.points.push(r.clone())}return this}toJSON(){const e=super.toJSON();e.points=[];for(let n=0,i=this.points.length;n<i;n++){const r=this.points[n];e.points.push(r.toArray())}return e}fromJSON(e){super.fromJSON(e),this.points=[];for(let n=0,i=e.points.length;n<i;n++){const r=e.points[n];this.points.push(new Ae().fromArray(r))}return this}}var $1=Object.freeze({__proto__:null,ArcCurve:F6,CatmullRomCurve3:z6,CubicBezierCurve:cI,CubicBezierCurve3:U6,EllipseCurve:Gw,LineCurve:uI,LineCurve3:B6,QuadraticBezierCurve:dI,QuadraticBezierCurve3:fI,SplineCurve:hI});class H6 extends ua{constructor(){super(),this.type="CurvePath",this.curves=[],this.autoClose=!1}add(e){this.curves.push(e)}closePath(){const e=this.curves[0].getPoint(0),n=this.curves[this.curves.length-1].getPoint(1);if(!e.equals(n)){const i=e.isVector2===!0?"LineCurve":"LineCurve3";this.curves.push(new $1[i](n,e))}return this}getPoint(e,n){const i=e*this.getLength(),r=this.getCurveLengths();let s=0;for(;s<r.length;){if(r[s]>=i){const o=r[s]-i,a=this.curves[s],l=a.getLength(),c=l===0?0:1-o/l;return a.getPointAt(c,n)}s++}return null}getLength(){const e=this.getCurveLengths();return e[e.length-1]}updateArcLengths(){this.needsUpdate=!0,this.cacheLengths=null,this.getCurveLengths()}getCurveLengths(){if(this.cacheLengths&&this.cacheLengths.length===this.curves.length)return this.cacheLengths;const e=[];let n=0;for(let i=0,r=this.curves.length;i<r;i++)n+=this.curves[i].getLength(),e.push(n);return this.cacheLengths=e,e}getSpacedPoints(e=40){const n=[];for(let i=0;i<=e;i++)n.push(this.getPoint(i/e));return this.autoClose&&n.push(n[0]),n}getPoints(e=12){const n=[];let i;for(let r=0,s=this.curves;r<s.length;r++){const o=s[r],a=o.isEllipseCurve?e*2:o.isLineCurve||o.isLineCurve3?1:o.isSplineCurve?e*o.points.length:e,l=o.getPoints(a);for(let c=0;c<l.length;c++){const u=l[c];i&&i.equals(u)||(n.push(u),i=u)}}return this.autoClose&&n.length>1&&!n[n.length-1].equals(n[0])&&n.push(n[0]),n}copy(e){super.copy(e),this.curves=[];for(let n=0,i=e.curves.length;n<i;n++){const r=e.curves[n];this.curves.push(r.clone())}return this.autoClose=e.autoClose,this}toJSON(){const e=super.toJSON();e.autoClose=this.autoClose,e.curves=[];for(let n=0,i=this.curves.length;n<i;n++){const r=this.curves[n];e.curves.push(r.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.autoClose=e.autoClose,this.curves=[];for(let n=0,i=e.curves.length;n<i;n++){const r=e.curves[n];this.curves.push(new $1[r.type]().fromJSON(r))}return this}}class pv extends H6{constructor(e){super(),this.type="Path",this.currentPoint=new Ae,e&&this.setFromPoints(e)}setFromPoints(e){this.moveTo(e[0].x,e[0].y);for(let n=1,i=e.length;n<i;n++)this.lineTo(e[n].x,e[n].y);return this}moveTo(e,n){return this.currentPoint.set(e,n),this}lineTo(e,n){const i=new uI(this.currentPoint.clone(),new Ae(e,n));return this.curves.push(i),this.currentPoint.set(e,n),this}quadraticCurveTo(e,n,i,r){const s=new dI(this.currentPoint.clone(),new Ae(e,n),new Ae(i,r));return this.curves.push(s),this.currentPoint.set(i,r),this}bezierCurveTo(e,n,i,r,s,o){const a=new cI(this.currentPoint.clone(),new Ae(e,n),new Ae(i,r),new Ae(s,o));return this.curves.push(a),this.currentPoint.set(s,o),this}splineThru(e){const n=[this.currentPoint.clone()].concat(e),i=new hI(n);return this.curves.push(i),this.currentPoint.copy(e[e.length-1]),this}arc(e,n,i,r,s,o){const a=this.currentPoint.x,l=this.currentPoint.y;return this.absarc(e+a,n+l,i,r,s,o),this}absarc(e,n,i,r,s,o){return this.absellipse(e,n,i,i,r,s,o),this}ellipse(e,n,i,r,s,o,a,l){const c=this.currentPoint.x,u=this.currentPoint.y;return this.absellipse(e+c,n+u,i,r,s,o,a,l),this}absellipse(e,n,i,r,s,o,a,l){const c=new Gw(e,n,i,r,s,o,a,l);if(this.curves.length>0){const d=c.getPoint(0);d.equals(this.currentPoint)||this.lineTo(d.x,d.y)}this.curves.push(c);const u=c.getPoint(1);return this.currentPoint.copy(u),this}copy(e){return super.copy(e),this.currentPoint.copy(e.currentPoint),this}toJSON(){const e=super.toJSON();return e.currentPoint=this.currentPoint.toArray(),e}fromJSON(e){return super.fromJSON(e),this.currentPoint.fromArray(e.currentPoint),this}}class uy extends $t{constructor(e=[new Ae(0,-.5),new Ae(.5,0),new Ae(0,.5)],n=12,i=0,r=Math.PI*2){super(),this.type="LatheGeometry",this.parameters={points:e,segments:n,phiStart:i,phiLength:r},n=Math.floor(n),r=Si(r,0,Math.PI*2);const s=[],o=[],a=[],l=[],c=[],u=1/n,d=new W,f=new Ae,m=new W,g=new W,y=new W;let x=0,v=0;for(let _=0;_<=e.length-1;_++)switch(_){case 0:x=e[_+1].x-e[_].x,v=e[_+1].y-e[_].y,m.x=v*1,m.y=-x,m.z=v*0,y.copy(m),m.normalize(),l.push(m.x,m.y,m.z);break;case e.length-1:l.push(y.x,y.y,y.z);break;default:x=e[_+1].x-e[_].x,v=e[_+1].y-e[_].y,m.x=v*1,m.y=-x,m.z=v*0,g.copy(m),m.x+=y.x,m.y+=y.y,m.z+=y.z,m.normalize(),l.push(m.x,m.y,m.z),y.copy(g)}for(let _=0;_<=n;_++){const b=i+_*u*r,w=Math.sin(b),C=Math.cos(b);for(let T=0;T<=e.length-1;T++){d.x=e[T].x*w,d.y=e[T].y,d.z=e[T].x*C,o.push(d.x,d.y,d.z),f.x=_/n,f.y=T/(e.length-1),a.push(f.x,f.y);const R=l[3*T+0]*w,I=l[3*T+1],A=l[3*T+0]*C;c.push(R,I,A)}}for(let _=0;_<n;_++)for(let b=0;b<e.length-1;b++){const w=b+_*e.length,C=w,T=w+e.length,R=w+e.length+1,I=w+1;s.push(C,T,I),s.push(R,I,T)}this.setIndex(s),this.setAttribute("position",new bt(o,3)),this.setAttribute("uv",new bt(a,2)),this.setAttribute("normal",new bt(c,3))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new uy(e.points,e.segments,e.phiStart,e.phiLength)}}class $w extends uy{constructor(e=1,n=1,i=4,r=8){const s=new pv;s.absarc(0,-n/2,e,Math.PI*1.5,0),s.absarc(0,n/2,e,0,Math.PI*.5),super(s.getPoints(i),r),this.type="CapsuleGeometry",this.parameters={radius:e,length:n,capSegments:i,radialSegments:r}}static fromJSON(e){return new $w(e.radius,e.length,e.capSegments,e.radialSegments)}}class Xw extends $t{constructor(e=1,n=32,i=0,r=Math.PI*2){super(),this.type="CircleGeometry",this.parameters={radius:e,segments:n,thetaStart:i,thetaLength:r},n=Math.max(3,n);const s=[],o=[],a=[],l=[],c=new W,u=new Ae;o.push(0,0,0),a.push(0,0,1),l.push(.5,.5);for(let d=0,f=3;d<=n;d++,f+=3){const m=i+d/n*r;c.x=e*Math.cos(m),c.y=e*Math.sin(m),o.push(c.x,c.y,c.z),a.push(0,0,1),u.x=(o[f]/e+1)/2,u.y=(o[f+1]/e+1)/2,l.push(u.x,u.y)}for(let d=1;d<=n;d++)s.push(d,d+1,0);this.setIndex(s),this.setAttribute("position",new bt(o,3)),this.setAttribute("normal",new bt(a,3)),this.setAttribute("uv",new bt(l,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Xw(e.radius,e.segments,e.thetaStart,e.thetaLength)}}class um extends $t{constructor(e=1,n=1,i=1,r=32,s=1,o=!1,a=0,l=Math.PI*2){super(),this.type="CylinderGeometry",this.parameters={radiusTop:e,radiusBottom:n,height:i,radialSegments:r,heightSegments:s,openEnded:o,thetaStart:a,thetaLength:l};const c=this;r=Math.floor(r),s=Math.floor(s);const u=[],d=[],f=[],m=[];let g=0;const y=[],x=i/2;let v=0;_(),o===!1&&(e>0&&b(!0),n>0&&b(!1)),this.setIndex(u),this.setAttribute("position",new bt(d,3)),this.setAttribute("normal",new bt(f,3)),this.setAttribute("uv",new bt(m,2));function _(){const w=new W,C=new W;let T=0;const R=(n-e)/i;for(let I=0;I<=s;I++){const A=[],L=I/s,O=L*(n-e)+e;for(let H=0;H<=r;H++){const q=H/r,U=q*l+a,G=Math.sin(U),Q=Math.cos(U);C.x=O*G,C.y=-L*i+x,C.z=O*Q,d.push(C.x,C.y,C.z),w.set(G,R,Q).normalize(),f.push(w.x,w.y,w.z),m.push(q,1-L),A.push(g++)}y.push(A)}for(let I=0;I<r;I++)for(let A=0;A<s;A++){const L=y[A][I],O=y[A+1][I],H=y[A+1][I+1],q=y[A][I+1];u.push(L,O,q),u.push(O,H,q),T+=6}c.addGroup(v,T,0),v+=T}function b(w){const C=g,T=new Ae,R=new W;let I=0;const A=w===!0?e:n,L=w===!0?1:-1;for(let H=1;H<=r;H++)d.push(0,x*L,0),f.push(0,L,0),m.push(.5,.5),g++;const O=g;for(let H=0;H<=r;H++){const U=H/r*l+a,G=Math.cos(U),Q=Math.sin(U);R.x=A*Q,R.y=x*L,R.z=A*G,d.push(R.x,R.y,R.z),f.push(0,L,0),T.x=G*.5+.5,T.y=Q*.5*L+.5,m.push(T.x,T.y),g++}for(let H=0;H<r;H++){const q=C+H,U=O+H;w===!0?u.push(U,U+1,q):u.push(U+1,U,q),I+=3}c.addGroup(v,I,w===!0?1:2),v+=I}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new um(e.radiusTop,e.radiusBottom,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}class Yw extends um{constructor(e=1,n=1,i=32,r=1,s=!1,o=0,a=Math.PI*2){super(0,e,n,i,r,s,o,a),this.type="ConeGeometry",this.parameters={radius:e,height:n,radialSegments:i,heightSegments:r,openEnded:s,thetaStart:o,thetaLength:a}}static fromJSON(e){return new Yw(e.radius,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}class Tu extends $t{constructor(e=[],n=[],i=1,r=0){super(),this.type="PolyhedronGeometry",this.parameters={vertices:e,indices:n,radius:i,detail:r};const s=[],o=[];a(r),c(i),u(),this.setAttribute("position",new bt(s,3)),this.setAttribute("normal",new bt(s.slice(),3)),this.setAttribute("uv",new bt(o,2)),r===0?this.computeVertexNormals():this.normalizeNormals();function a(_){const b=new W,w=new W,C=new W;for(let T=0;T<n.length;T+=3)m(n[T+0],b),m(n[T+1],w),m(n[T+2],C),l(b,w,C,_)}function l(_,b,w,C){const T=C+1,R=[];for(let I=0;I<=T;I++){R[I]=[];const A=_.clone().lerp(w,I/T),L=b.clone().lerp(w,I/T),O=T-I;for(let H=0;H<=O;H++)H===0&&I===T?R[I][H]=A:R[I][H]=A.clone().lerp(L,H/O)}for(let I=0;I<T;I++)for(let A=0;A<2*(T-I)-1;A++){const L=Math.floor(A/2);A%2===0?(f(R[I][L+1]),f(R[I+1][L]),f(R[I][L])):(f(R[I][L+1]),f(R[I+1][L+1]),f(R[I+1][L]))}}function c(_){const b=new W;for(let w=0;w<s.length;w+=3)b.x=s[w+0],b.y=s[w+1],b.z=s[w+2],b.normalize().multiplyScalar(_),s[w+0]=b.x,s[w+1]=b.y,s[w+2]=b.z}function u(){const _=new W;for(let b=0;b<s.length;b+=3){_.x=s[b+0],_.y=s[b+1],_.z=s[b+2];const w=x(_)/2/Math.PI+.5,C=v(_)/Math.PI+.5;o.push(w,1-C)}g(),d()}function d(){for(let _=0;_<o.length;_+=6){const b=o[_+0],w=o[_+2],C=o[_+4],T=Math.max(b,w,C),R=Math.min(b,w,C);T>.9&&R<.1&&(b<.2&&(o[_+0]+=1),w<.2&&(o[_+2]+=1),C<.2&&(o[_+4]+=1))}}function f(_){s.push(_.x,_.y,_.z)}function m(_,b){const w=_*3;b.x=e[w+0],b.y=e[w+1],b.z=e[w+2]}function g(){const _=new W,b=new W,w=new W,C=new W,T=new Ae,R=new Ae,I=new Ae;for(let A=0,L=0;A<s.length;A+=9,L+=6){_.set(s[A+0],s[A+1],s[A+2]),b.set(s[A+3],s[A+4],s[A+5]),w.set(s[A+6],s[A+7],s[A+8]),T.set(o[L+0],o[L+1]),R.set(o[L+2],o[L+3]),I.set(o[L+4],o[L+5]),C.copy(_).add(b).add(w).divideScalar(3);const O=x(C);y(T,L+0,_,O),y(R,L+2,b,O),y(I,L+4,w,O)}}function y(_,b,w,C){C<0&&_.x===1&&(o[b]=_.x-1),w.x===0&&w.z===0&&(o[b]=C/2/Math.PI+.5)}function x(_){return Math.atan2(_.z,-_.x)}function v(_){return Math.atan2(-_.y,Math.sqrt(_.x*_.x+_.z*_.z))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Tu(e.vertices,e.indices,e.radius,e.details)}}class qw extends Tu{constructor(e=1,n=0){const i=(1+Math.sqrt(5))/2,r=1/i,s=[-1,-1,-1,-1,-1,1,-1,1,-1,-1,1,1,1,-1,-1,1,-1,1,1,1,-1,1,1,1,0,-r,-i,0,-r,i,0,r,-i,0,r,i,-r,-i,0,-r,i,0,r,-i,0,r,i,0,-i,0,-r,i,0,-r,-i,0,r,i,0,r],o=[3,11,7,3,7,15,3,15,13,7,19,17,7,17,6,7,6,15,17,4,8,17,8,10,17,10,6,8,0,16,8,16,2,8,2,10,0,12,1,0,1,18,0,18,16,6,10,2,6,2,13,6,13,15,2,16,18,2,18,3,2,3,13,18,1,9,18,9,11,18,11,3,4,14,12,4,12,0,4,0,8,11,9,5,11,5,19,11,19,7,19,5,14,19,14,4,19,4,17,1,12,14,1,14,5,1,5,9];super(s,o,e,n),this.type="DodecahedronGeometry",this.parameters={radius:e,detail:n}}static fromJSON(e){return new qw(e.radius,e.detail)}}const D_=new W,O_=new W,eC=new W,N_=new ws;class V6 extends $t{constructor(e=null,n=1){if(super(),this.type="EdgesGeometry",this.parameters={geometry:e,thresholdAngle:n},e!==null){const r=Math.pow(10,4),s=Math.cos(Fd*n),o=e.getIndex(),a=e.getAttribute("position"),l=o?o.count:a.count,c=[0,0,0],u=["a","b","c"],d=new Array(3),f={},m=[];for(let g=0;g<l;g+=3){o?(c[0]=o.getX(g),c[1]=o.getX(g+1),c[2]=o.getX(g+2)):(c[0]=g,c[1]=g+1,c[2]=g+2);const{a:y,b:x,c:v}=N_;if(y.fromBufferAttribute(a,c[0]),x.fromBufferAttribute(a,c[1]),v.fromBufferAttribute(a,c[2]),N_.getNormal(eC),d[0]=`${Math.round(y.x*r)},${Math.round(y.y*r)},${Math.round(y.z*r)}`,d[1]=`${Math.round(x.x*r)},${Math.round(x.y*r)},${Math.round(x.z*r)}`,d[2]=`${Math.round(v.x*r)},${Math.round(v.y*r)},${Math.round(v.z*r)}`,!(d[0]===d[1]||d[1]===d[2]||d[2]===d[0]))for(let _=0;_<3;_++){const b=(_+1)%3,w=d[_],C=d[b],T=N_[u[_]],R=N_[u[b]],I=`${w}_${C}`,A=`${C}_${w}`;A in f&&f[A]?(eC.dot(f[A].normal)<=s&&(m.push(T.x,T.y,T.z),m.push(R.x,R.y,R.z)),f[A]=null):I in f||(f[I]={index0:c[_],index1:c[b],normal:eC.clone()})}}for(const g in f)if(f[g]){const{index0:y,index1:x}=f[g];D_.fromBufferAttribute(a,y),O_.fromBufferAttribute(a,x),m.push(D_.x,D_.y,D_.z),m.push(O_.x,O_.y,O_.z)}this.setAttribute("position",new bt(m,3))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}}class Bd extends pv{constructor(e){super(e),this.uuid=io(),this.type="Shape",this.holes=[]}getPointsHoles(e){const n=[];for(let i=0,r=this.holes.length;i<r;i++)n[i]=this.holes[i].getPoints(e);return n}extractPoints(e){return{shape:this.getPoints(e),holes:this.getPointsHoles(e)}}copy(e){super.copy(e),this.holes=[];for(let n=0,i=e.holes.length;n<i;n++){const r=e.holes[n];this.holes.push(r.clone())}return this}toJSON(){const e=super.toJSON();e.uuid=this.uuid,e.holes=[];for(let n=0,i=this.holes.length;n<i;n++){const r=this.holes[n];e.holes.push(r.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.uuid=e.uuid,this.holes=[];for(let n=0,i=e.holes.length;n<i;n++){const r=e.holes[n];this.holes.push(new pv().fromJSON(r))}return this}}const fve={triangulate:function(t,e,n=2){const i=e&&e.length,r=i?e[0]*n:t.length;let s=j6(t,0,r,n,!0);const o=[];if(!s||s.next===s.prev)return o;let a,l,c,u,d,f,m;if(i&&(s=vve(t,e,s,n)),t.length>80*n){a=c=t[0],l=u=t[1];for(let g=n;g<r;g+=n)d=t[g],f=t[g+1],d<a&&(a=d),f<l&&(l=f),d>c&&(c=d),f>u&&(u=f);m=Math.max(c-a,u-l),m=m!==0?32767/m:0}return mv(s,o,n,a,l,m,0),o}};function j6(t,e,n,i,r){let s,o;if(r===Rve(t,e,n,i)>0)for(s=e;s<n;s+=i)o=cz(s,t[s],t[s+1],o);else for(s=n-i;s>=e;s-=i)o=cz(s,t[s],t[s+1],o);return o&&Kw(o,o.next)&&(vv(o),o=o.next),o}function ef(t,e){if(!t)return t;e||(e=t);let n=t,i;do if(i=!1,!n.steiner&&(Kw(n,n.next)||li(n.prev,n,n.next)===0)){if(vv(n),n=e=n.prev,n===n.next)break;i=!0}else n=n.next;while(i||n!==e);return e}function mv(t,e,n,i,r,s,o){if(!t)return;!o&&s&&Sve(t,i,r,s);let a=t,l,c;for(;t.prev!==t.next;){if(l=t.prev,c=t.next,s?pve(t,i,r,s):hve(t)){e.push(l.i/n|0),e.push(t.i/n|0),e.push(c.i/n|0),vv(t),t=c.next,a=c.next;continue}if(t=c,t===a){o?o===1?(t=mve(ef(t),e,n),mv(t,e,n,i,r,s,2)):o===2&&gve(t,e,n,i,r,s):mv(ef(t),e,n,i,r,s,1);break}}}function hve(t){const e=t.prev,n=t,i=t.next;if(li(e,n,i)>=0)return!1;const r=e.x,s=n.x,o=i.x,a=e.y,l=n.y,c=i.y,u=r<s?r<o?r:o:s<o?s:o,d=a<l?a<c?a:c:l<c?l:c,f=r>s?r>o?r:o:s>o?s:o,m=a>l?a>c?a:c:l>c?l:c;let g=i.next;for(;g!==e;){if(g.x>=u&&g.x<=f&&g.y>=d&&g.y<=m&&$h(r,a,s,l,o,c,g.x,g.y)&&li(g.prev,g,g.next)>=0)return!1;g=g.next}return!0}function pve(t,e,n,i){const r=t.prev,s=t,o=t.next;if(li(r,s,o)>=0)return!1;const a=r.x,l=s.x,c=o.x,u=r.y,d=s.y,f=o.y,m=a<l?a<c?a:c:l<c?l:c,g=u<d?u<f?u:f:d<f?d:f,y=a>l?a>c?a:c:l>c?l:c,x=u>d?u>f?u:f:d>f?d:f,v=$R(m,g,e,n,i),_=$R(y,x,e,n,i);let b=t.prevZ,w=t.nextZ;for(;b&&b.z>=v&&w&&w.z<=_;){if(b.x>=m&&b.x<=y&&b.y>=g&&b.y<=x&&b!==r&&b!==o&&$h(a,u,l,d,c,f,b.x,b.y)&&li(b.prev,b,b.next)>=0||(b=b.prevZ,w.x>=m&&w.x<=y&&w.y>=g&&w.y<=x&&w!==r&&w!==o&&$h(a,u,l,d,c,f,w.x,w.y)&&li(w.prev,w,w.next)>=0))return!1;w=w.nextZ}for(;b&&b.z>=v;){if(b.x>=m&&b.x<=y&&b.y>=g&&b.y<=x&&b!==r&&b!==o&&$h(a,u,l,d,c,f,b.x,b.y)&&li(b.prev,b,b.next)>=0)return!1;b=b.prevZ}for(;w&&w.z<=_;){if(w.x>=m&&w.x<=y&&w.y>=g&&w.y<=x&&w!==r&&w!==o&&$h(a,u,l,d,c,f,w.x,w.y)&&li(w.prev,w,w.next)>=0)return!1;w=w.nextZ}return!0}function mve(t,e,n){let i=t;do{const r=i.prev,s=i.next.next;!Kw(r,s)&&W6(r,i,i.next,s)&&gv(r,s)&&gv(s,r)&&(e.push(r.i/n|0),e.push(i.i/n|0),e.push(s.i/n|0),vv(i),vv(i.next),i=t=s),i=i.next}while(i!==t);return ef(i)}function gve(t,e,n,i,r,s){let o=t;do{let a=o.next.next;for(;a!==o.prev;){if(o.i!==a.i&&Eve(o,a)){let l=G6(o,a);o=ef(o,o.next),l=ef(l,l.next),mv(o,e,n,i,r,s,0),mv(l,e,n,i,r,s,0);return}a=a.next}o=o.next}while(o!==t)}function vve(t,e,n,i){const r=[];let s,o,a,l,c;for(s=0,o=e.length;s<o;s++)a=e[s]*i,l=s<o-1?e[s+1]*i:t.length,c=j6(t,a,l,i,!1),c===c.next&&(c.steiner=!0),r.push(Mve(c));for(r.sort(yve),s=0;s<r.length;s++)n=xve(r[s],n);return n}function yve(t,e){return t.x-e.x}function xve(t,e){const n=_ve(t,e);if(!n)return e;const i=G6(n,t);return ef(i,i.next),ef(n,n.next)}function _ve(t,e){let n=e,i=-1/0,r;const s=t.x,o=t.y;do{if(o<=n.y&&o>=n.next.y&&n.next.y!==n.y){const f=n.x+(o-n.y)*(n.next.x-n.x)/(n.next.y-n.y);if(f<=s&&f>i&&(i=f,r=n.x<n.next.x?n:n.next,f===s))return r}n=n.next}while(n!==e);if(!r)return null;const a=r,l=r.x,c=r.y;let u=1/0,d;n=r;do s>=n.x&&n.x>=l&&s!==n.x&&$h(o<c?s:i,o,l,c,o<c?i:s,o,n.x,n.y)&&(d=Math.abs(o-n.y)/(s-n.x),gv(n,t)&&(d<u||d===u&&(n.x>r.x||n.x===r.x&&bve(r,n)))&&(r=n,u=d)),n=n.next;while(n!==a);return r}function bve(t,e){return li(t.prev,t,e.prev)<0&&li(e.next,t,t.next)<0}function Sve(t,e,n,i){let r=t;do r.z===0&&(r.z=$R(r.x,r.y,e,n,i)),r.prevZ=r.prev,r.nextZ=r.next,r=r.next;while(r!==t);r.prevZ.nextZ=null,r.prevZ=null,wve(r)}function wve(t){let e,n,i,r,s,o,a,l,c=1;do{for(n=t,t=null,s=null,o=0;n;){for(o++,i=n,a=0,e=0;e<c&&(a++,i=i.nextZ,!!i);e++);for(l=c;a>0||l>0&&i;)a!==0&&(l===0||!i||n.z<=i.z)?(r=n,n=n.nextZ,a--):(r=i,i=i.nextZ,l--),s?s.nextZ=r:t=r,r.prevZ=s,s=r;n=i}s.nextZ=null,c*=2}while(o>1);return t}function $R(t,e,n,i,r){return t=(t-n)*r|0,e=(e-i)*r|0,t=(t|t<<8)&16711935,t=(t|t<<4)&252645135,t=(t|t<<2)&858993459,t=(t|t<<1)&1431655765,e=(e|e<<8)&16711935,e=(e|e<<4)&252645135,e=(e|e<<2)&858993459,e=(e|e<<1)&1431655765,t|e<<1}function Mve(t){let e=t,n=t;do(e.x<n.x||e.x===n.x&&e.y<n.y)&&(n=e),e=e.next;while(e!==t);return n}function $h(t,e,n,i,r,s,o,a){return(r-o)*(e-a)>=(t-o)*(s-a)&&(t-o)*(i-a)>=(n-o)*(e-a)&&(n-o)*(s-a)>=(r-o)*(i-a)}function Eve(t,e){return t.next.i!==e.i&&t.prev.i!==e.i&&!Tve(t,e)&&(gv(t,e)&&gv(e,t)&&Cve(t,e)&&(li(t.prev,t,e.prev)||li(t,e.prev,e))||Kw(t,e)&&li(t.prev,t,t.next)>0&&li(e.prev,e,e.next)>0)}function li(t,e,n){return(e.y-t.y)*(n.x-e.x)-(e.x-t.x)*(n.y-e.y)}function Kw(t,e){return t.x===e.x&&t.y===e.y}function W6(t,e,n,i){const r=z_(li(t,e,n)),s=z_(li(t,e,i)),o=z_(li(n,i,t)),a=z_(li(n,i,e));return!!(r!==s&&o!==a||r===0&&F_(t,n,e)||s===0&&F_(t,i,e)||o===0&&F_(n,t,i)||a===0&&F_(n,e,i))}function F_(t,e,n){return e.x<=Math.max(t.x,n.x)&&e.x>=Math.min(t.x,n.x)&&e.y<=Math.max(t.y,n.y)&&e.y>=Math.min(t.y,n.y)}function z_(t){return t>0?1:t<0?-1:0}function Tve(t,e){let n=t;do{if(n.i!==t.i&&n.next.i!==t.i&&n.i!==e.i&&n.next.i!==e.i&&W6(n,n.next,t,e))return!0;n=n.next}while(n!==t);return!1}function gv(t,e){return li(t.prev,t,t.next)<0?li(t,e,t.next)>=0&&li(t,t.prev,e)>=0:li(t,e,t.prev)<0||li(t,t.next,e)<0}function Cve(t,e){let n=t,i=!1;const r=(t.x+e.x)/2,s=(t.y+e.y)/2;do n.y>s!=n.next.y>s&&n.next.y!==n.y&&r<(n.next.x-n.x)*(s-n.y)/(n.next.y-n.y)+n.x&&(i=!i),n=n.next;while(n!==t);return i}function G6(t,e){const n=new XR(t.i,t.x,t.y),i=new XR(e.i,e.x,e.y),r=t.next,s=e.prev;return t.next=e,e.prev=t,n.next=r,r.prev=n,i.next=n,n.prev=i,s.next=i,i.prev=s,i}function cz(t,e,n,i){const r=new XR(t,e,n);return i?(r.next=i.next,r.prev=i,i.next.prev=r,i.next=r):(r.prev=r,r.next=r),r}function vv(t){t.next.prev=t.prev,t.prev.next=t.next,t.prevZ&&(t.prevZ.nextZ=t.nextZ),t.nextZ&&(t.nextZ.prevZ=t.prevZ)}function XR(t,e,n){this.i=t,this.x=e,this.y=n,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1}function Rve(t,e,n,i){let r=0;for(let s=e,o=n-i;s<n;s+=i)r+=(t[o]-t[s])*(t[s+1]+t[o+1]),o=s;return r}class ja{static area(e){const n=e.length;let i=0;for(let r=n-1,s=0;s<n;r=s++)i+=e[r].x*e[s].y-e[s].x*e[r].y;return i*.5}static isClockWise(e){return ja.area(e)<0}static triangulateShape(e,n){const i=[],r=[],s=[];uz(e),dz(i,e);let o=e.length;n.forEach(uz);for(let l=0;l<n.length;l++)r.push(o),o+=n[l].length,dz(i,n[l]);const a=fve.triangulate(i,r);for(let l=0;l<a.length;l+=3)s.push(a.slice(l,l+3));return s}}function uz(t){const e=t.length;e>2&&t[e-1].equals(t[0])&&t.pop()}function dz(t,e){for(let n=0;n<e.length;n++)t.push(e[n].x),t.push(e[n].y)}class Qw extends $t{constructor(e=new Bd([new Ae(.5,.5),new Ae(-.5,.5),new Ae(-.5,-.5),new Ae(.5,-.5)]),n={}){super(),this.type="ExtrudeGeometry",this.parameters={shapes:e,options:n},e=Array.isArray(e)?e:[e];const i=this,r=[],s=[];for(let a=0,l=e.length;a<l;a++){const c=e[a];o(c)}this.setAttribute("position",new bt(r,3)),this.setAttribute("uv",new bt(s,2)),this.computeVertexNormals();function o(a){const l=[],c=n.curveSegments!==void 0?n.curveSegments:12,u=n.steps!==void 0?n.steps:1,d=n.depth!==void 0?n.depth:1;let f=n.bevelEnabled!==void 0?n.bevelEnabled:!0,m=n.bevelThickness!==void 0?n.bevelThickness:.2,g=n.bevelSize!==void 0?n.bevelSize:m-.1,y=n.bevelOffset!==void 0?n.bevelOffset:0,x=n.bevelSegments!==void 0?n.bevelSegments:3;const v=n.extrudePath,_=n.UVGenerator!==void 0?n.UVGenerator:Ave;let b,w=!1,C,T,R,I;v&&(b=v.getSpacedPoints(u),w=!0,f=!1,C=v.computeFrenetFrames(u,!1),T=new W,R=new W,I=new W),f||(x=0,m=0,g=0,y=0);const A=a.extractPoints(c);let L=A.shape;const O=A.holes;if(!ja.isClockWise(L)){L=L.reverse();for(let Z=0,_e=O.length;Z<_e;Z++){const de=O[Z];ja.isClockWise(de)&&(O[Z]=de.reverse())}}const q=ja.triangulateShape(L,O),U=L;for(let Z=0,_e=O.length;Z<_e;Z++){const de=O[Z];L=L.concat(de)}function G(Z,_e,de){return _e||console.error("THREE.ExtrudeGeometry: vec does not exist"),Z.clone().addScaledVector(_e,de)}const Q=L.length,J=q.length;function N(Z,_e,de){let be,Pe,Ke;const ze=Z.x-_e.x,Ge=Z.y-_e.y,Ye=de.x-Z.x,st=de.y-Z.y,Xt=ze*ze+Ge*Ge,$=ze*st-Ge*Ye;if(Math.abs($)>Number.EPSILON){const F=Math.sqrt(Xt),ee=Math.sqrt(Ye*Ye+st*st),fe=_e.x-Ge/F,he=_e.y+ze/F,me=de.x-st/ee,we=de.y+Ye/ee,Le=((me-fe)*st-(we-he)*Ye)/(ze*st-Ge*Ye);be=fe+ze*Le-Z.x,Pe=he+Ge*Le-Z.y;const De=be*be+Pe*Pe;if(De<=2)return new Ae(be,Pe);Ke=Math.sqrt(De/2)}else{let F=!1;ze>Number.EPSILON?Ye>Number.EPSILON&&(F=!0):ze<-Number.EPSILON?Ye<-Number.EPSILON&&(F=!0):Math.sign(Ge)===Math.sign(st)&&(F=!0),F?(be=-Ge,Pe=ze,Ke=Math.sqrt(Xt)):(be=ze,Pe=Ge,Ke=Math.sqrt(Xt/2))}return new Ae(be/Ke,Pe/Ke)}const B=[];for(let Z=0,_e=U.length,de=_e-1,be=Z+1;Z<_e;Z++,de++,be++)de===_e&&(de=0),be===_e&&(be=0),B[Z]=N(U[Z],U[de],U[be]);const j=[];let te,se=B.concat();for(let Z=0,_e=O.length;Z<_e;Z++){const de=O[Z];te=[];for(let be=0,Pe=de.length,Ke=Pe-1,ze=be+1;be<Pe;be++,Ke++,ze++)Ke===Pe&&(Ke=0),ze===Pe&&(ze=0),te[be]=N(de[be],de[Ke],de[ze]);j.push(te),se=se.concat(te)}for(let Z=0;Z<x;Z++){const _e=Z/x,de=m*Math.cos(_e*Math.PI/2),be=g*Math.sin(_e*Math.PI/2)+y;for(let Pe=0,Ke=U.length;Pe<Ke;Pe++){const ze=G(U[Pe],B[Pe],be);Oe(ze.x,ze.y,-de)}for(let Pe=0,Ke=O.length;Pe<Ke;Pe++){const ze=O[Pe];te=j[Pe];for(let Ge=0,Ye=ze.length;Ge<Ye;Ge++){const st=G(ze[Ge],te[Ge],be);Oe(st.x,st.y,-de)}}}const ne=g+y;for(let Z=0;Z<Q;Z++){const _e=f?G(L[Z],se[Z],ne):L[Z];w?(R.copy(C.normals[0]).multiplyScalar(_e.x),T.copy(C.binormals[0]).multiplyScalar(_e.y),I.copy(b[0]).add(R).add(T),Oe(I.x,I.y,I.z)):Oe(_e.x,_e.y,0)}for(let Z=1;Z<=u;Z++)for(let _e=0;_e<Q;_e++){const de=f?G(L[_e],se[_e],ne):L[_e];w?(R.copy(C.normals[Z]).multiplyScalar(de.x),T.copy(C.binormals[Z]).multiplyScalar(de.y),I.copy(b[Z]).add(R).add(T),Oe(I.x,I.y,I.z)):Oe(de.x,de.y,d/u*Z)}for(let Z=x-1;Z>=0;Z--){const _e=Z/x,de=m*Math.cos(_e*Math.PI/2),be=g*Math.sin(_e*Math.PI/2)+y;for(let Pe=0,Ke=U.length;Pe<Ke;Pe++){const ze=G(U[Pe],B[Pe],be);Oe(ze.x,ze.y,d+de)}for(let Pe=0,Ke=O.length;Pe<Ke;Pe++){const ze=O[Pe];te=j[Pe];for(let Ge=0,Ye=ze.length;Ge<Ye;Ge++){const st=G(ze[Ge],te[Ge],be);w?Oe(st.x,st.y+b[u-1].y,b[u-1].x+de):Oe(st.x,st.y,d+de)}}}ae(),xe();function ae(){const Z=r.length/3;if(f){let _e=0,de=Q*_e;for(let be=0;be<J;be++){const Pe=q[be];ut(Pe[2]+de,Pe[1]+de,Pe[0]+de)}_e=u+x*2,de=Q*_e;for(let be=0;be<J;be++){const Pe=q[be];ut(Pe[0]+de,Pe[1]+de,Pe[2]+de)}}else{for(let _e=0;_e<J;_e++){const de=q[_e];ut(de[2],de[1],de[0])}for(let _e=0;_e<J;_e++){const de=q[_e];ut(de[0]+Q*u,de[1]+Q*u,de[2]+Q*u)}}i.addGroup(Z,r.length/3-Z,0)}function xe(){const Z=r.length/3;let _e=0;Ee(U,_e),_e+=U.length;for(let de=0,be=O.length;de<be;de++){const Pe=O[de];Ee(Pe,_e),_e+=Pe.length}i.addGroup(Z,r.length/3-Z,1)}function Ee(Z,_e){let de=Z.length;for(;--de>=0;){const be=de;let Pe=de-1;Pe<0&&(Pe=Z.length-1);for(let Ke=0,ze=u+x*2;Ke<ze;Ke++){const Ge=Q*Ke,Ye=Q*(Ke+1),st=_e+be+Ge,Xt=_e+Pe+Ge,$=_e+Pe+Ye,F=_e+be+Ye;qe(st,Xt,$,F)}}}function Oe(Z,_e,de){l.push(Z),l.push(_e),l.push(de)}function ut(Z,_e,de){Xe(Z),Xe(_e),Xe(de);const be=r.length/3,Pe=_.generateTopUV(i,r,be-3,be-2,be-1);Ie(Pe[0]),Ie(Pe[1]),Ie(Pe[2])}function qe(Z,_e,de,be){Xe(Z),Xe(_e),Xe(be),Xe(_e),Xe(de),Xe(be);const Pe=r.length/3,Ke=_.generateSideWallUV(i,r,Pe-6,Pe-3,Pe-2,Pe-1);Ie(Ke[0]),Ie(Ke[1]),Ie(Ke[3]),Ie(Ke[1]),Ie(Ke[2]),Ie(Ke[3])}function Xe(Z){r.push(l[Z*3+0]),r.push(l[Z*3+1]),r.push(l[Z*3+2])}function Ie(Z){s.push(Z.x),s.push(Z.y)}}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON(),n=this.parameters.shapes,i=this.parameters.options;return Pve(n,i,e)}static fromJSON(e,n){const i=[];for(let s=0,o=e.shapes.length;s<o;s++){const a=n[e.shapes[s]];i.push(a)}const r=e.options.extrudePath;return r!==void 0&&(e.options.extrudePath=new $1[r.type]().fromJSON(r)),new Qw(i,e.options)}}const Ave={generateTopUV:function(t,e,n,i,r){const s=e[n*3],o=e[n*3+1],a=e[i*3],l=e[i*3+1],c=e[r*3],u=e[r*3+1];return[new Ae(s,o),new Ae(a,l),new Ae(c,u)]},generateSideWallUV:function(t,e,n,i,r,s){const o=e[n*3],a=e[n*3+1],l=e[n*3+2],c=e[i*3],u=e[i*3+1],d=e[i*3+2],f=e[r*3],m=e[r*3+1],g=e[r*3+2],y=e[s*3],x=e[s*3+1],v=e[s*3+2];return Math.abs(a-u)<Math.abs(o-c)?[new Ae(o,1-l),new Ae(c,1-d),new Ae(f,1-g),new Ae(y,1-v)]:[new Ae(a,1-l),new Ae(u,1-d),new Ae(m,1-g),new Ae(x,1-v)]}};function Pve(t,e,n){if(n.shapes=[],Array.isArray(t))for(let i=0,r=t.length;i<r;i++){const s=t[i];n.shapes.push(s.uuid)}else n.shapes.push(t.uuid);return n.options=Object.assign({},e),e.extrudePath!==void 0&&(n.options.extrudePath=e.extrudePath.toJSON()),n}class Zw extends Tu{constructor(e=1,n=0){const i=(1+Math.sqrt(5))/2,r=[-1,i,0,1,i,0,-1,-i,0,1,-i,0,0,-1,i,0,1,i,0,-1,-i,0,1,-i,i,0,-1,i,0,1,-i,0,-1,-i,0,1],s=[0,11,5,0,5,1,0,1,7,0,7,10,0,10,11,1,5,9,5,11,4,11,10,2,10,7,6,7,1,8,3,9,4,3,4,2,3,2,6,3,6,8,3,8,9,4,9,5,2,4,11,6,2,10,8,6,7,9,8,1];super(r,s,e,n),this.type="IcosahedronGeometry",this.parameters={radius:e,detail:n}}static fromJSON(e){return new Zw(e.radius,e.detail)}}class dy extends Tu{constructor(e=1,n=0){const i=[1,0,0,-1,0,0,0,1,0,0,-1,0,0,0,1,0,0,-1],r=[0,2,4,0,4,3,0,3,5,0,5,2,1,2,5,1,5,3,1,3,4,1,4,2];super(i,r,e,n),this.type="OctahedronGeometry",this.parameters={radius:e,detail:n}}static fromJSON(e){return new dy(e.radius,e.detail)}}class Jw extends $t{constructor(e=.5,n=1,i=32,r=1,s=0,o=Math.PI*2){super(),this.type="RingGeometry",this.parameters={innerRadius:e,outerRadius:n,thetaSegments:i,phiSegments:r,thetaStart:s,thetaLength:o},i=Math.max(3,i),r=Math.max(1,r);const a=[],l=[],c=[],u=[];let d=e;const f=(n-e)/r,m=new W,g=new Ae;for(let y=0;y<=r;y++){for(let x=0;x<=i;x++){const v=s+x/i*o;m.x=d*Math.cos(v),m.y=d*Math.sin(v),l.push(m.x,m.y,m.z),c.push(0,0,1),g.x=(m.x/n+1)/2,g.y=(m.y/n+1)/2,u.push(g.x,g.y)}d+=f}for(let y=0;y<r;y++){const x=y*(i+1);for(let v=0;v<i;v++){const _=v+x,b=_,w=_+i+1,C=_+i+2,T=_+1;a.push(b,w,T),a.push(w,C,T)}}this.setIndex(a),this.setAttribute("position",new bt(l,3)),this.setAttribute("normal",new bt(c,3)),this.setAttribute("uv",new bt(u,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Jw(e.innerRadius,e.outerRadius,e.thetaSegments,e.phiSegments,e.thetaStart,e.thetaLength)}}class eM extends $t{constructor(e=new Bd([new Ae(0,.5),new Ae(-.5,-.5),new Ae(.5,-.5)]),n=12){super(),this.type="ShapeGeometry",this.parameters={shapes:e,curveSegments:n};const i=[],r=[],s=[],o=[];let a=0,l=0;if(Array.isArray(e)===!1)c(e);else for(let u=0;u<e.length;u++)c(e[u]),this.addGroup(a,l,u),a+=l,l=0;this.setIndex(i),this.setAttribute("position",new bt(r,3)),this.setAttribute("normal",new bt(s,3)),this.setAttribute("uv",new bt(o,2));function c(u){const d=r.length/3,f=u.extractPoints(n);let m=f.shape;const g=f.holes;ja.isClockWise(m)===!1&&(m=m.reverse());for(let x=0,v=g.length;x<v;x++){const _=g[x];ja.isClockWise(_)===!0&&(g[x]=_.reverse())}const y=ja.triangulateShape(m,g);for(let x=0,v=g.length;x<v;x++){const _=g[x];m=m.concat(_)}for(let x=0,v=m.length;x<v;x++){const _=m[x];r.push(_.x,_.y,0),s.push(0,0,1),o.push(_.x,_.y)}for(let x=0,v=y.length;x<v;x++){const _=y[x],b=_[0]+d,w=_[1]+d,C=_[2]+d;i.push(b,w,C),l+=3}}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON(),n=this.parameters.shapes;return kve(n,e)}static fromJSON(e,n){const i=[];for(let r=0,s=e.shapes.length;r<s;r++){const o=n[e.shapes[r]];i.push(o)}return new eM(i,e.curveSegments)}}function kve(t,e){if(e.shapes=[],Array.isArray(t))for(let n=0,i=t.length;n<i;n++){const r=t[n];e.shapes.push(r.uuid)}else e.shapes.push(t.uuid);return e}class fy extends $t{constructor(e=1,n=32,i=16,r=0,s=Math.PI*2,o=0,a=Math.PI){super(),this.type="SphereGeometry",this.parameters={radius:e,widthSegments:n,heightSegments:i,phiStart:r,phiLength:s,thetaStart:o,thetaLength:a},n=Math.max(3,Math.floor(n)),i=Math.max(2,Math.floor(i));const l=Math.min(o+a,Math.PI);let c=0;const u=[],d=new W,f=new W,m=[],g=[],y=[],x=[];for(let v=0;v<=i;v++){const _=[],b=v/i;let w=0;v===0&&o===0?w=.5/n:v===i&&l===Math.PI&&(w=-.5/n);for(let C=0;C<=n;C++){const T=C/n;d.x=-e*Math.cos(r+T*s)*Math.sin(o+b*a),d.y=e*Math.cos(o+b*a),d.z=e*Math.sin(r+T*s)*Math.sin(o+b*a),g.push(d.x,d.y,d.z),f.copy(d).normalize(),y.push(f.x,f.y,f.z),x.push(T+w,1-b),_.push(c++)}u.push(_)}for(let v=0;v<i;v++)for(let _=0;_<n;_++){const b=u[v][_+1],w=u[v][_],C=u[v+1][_],T=u[v+1][_+1];(v!==0||o>0)&&m.push(b,w,T),(v!==i-1||l<Math.PI)&&m.push(w,C,T)}this.setIndex(m),this.setAttribute("position",new bt(g,3)),this.setAttribute("normal",new bt(y,3)),this.setAttribute("uv",new bt(x,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new fy(e.radius,e.widthSegments,e.heightSegments,e.phiStart,e.phiLength,e.thetaStart,e.thetaLength)}}class tM extends Tu{constructor(e=1,n=0){const i=[1,1,1,-1,-1,1,-1,1,-1,1,-1,-1],r=[2,1,0,0,3,2,1,3,0,2,3,1];super(i,r,e,n),this.type="TetrahedronGeometry",this.parameters={radius:e,detail:n}}static fromJSON(e){return new tM(e.radius,e.detail)}}class nM extends $t{constructor(e=1,n=.4,i=12,r=48,s=Math.PI*2){super(),this.type="TorusGeometry",this.parameters={radius:e,tube:n,radialSegments:i,tubularSegments:r,arc:s},i=Math.floor(i),r=Math.floor(r);const o=[],a=[],l=[],c=[],u=new W,d=new W,f=new W;for(let m=0;m<=i;m++)for(let g=0;g<=r;g++){const y=g/r*s,x=m/i*Math.PI*2;d.x=(e+n*Math.cos(x))*Math.cos(y),d.y=(e+n*Math.cos(x))*Math.sin(y),d.z=n*Math.sin(x),a.push(d.x,d.y,d.z),u.x=e*Math.cos(y),u.y=e*Math.sin(y),f.subVectors(d,u).normalize(),l.push(f.x,f.y,f.z),c.push(g/r),c.push(m/i)}for(let m=1;m<=i;m++)for(let g=1;g<=r;g++){const y=(r+1)*m+g-1,x=(r+1)*(m-1)+g-1,v=(r+1)*(m-1)+g,_=(r+1)*m+g;o.push(y,x,_),o.push(x,v,_)}this.setIndex(o),this.setAttribute("position",new bt(a,3)),this.setAttribute("normal",new bt(l,3)),this.setAttribute("uv",new bt(c,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new nM(e.radius,e.tube,e.radialSegments,e.tubularSegments,e.arc)}}class iM extends $t{constructor(e=1,n=.4,i=64,r=8,s=2,o=3){super(),this.type="TorusKnotGeometry",this.parameters={radius:e,tube:n,tubularSegments:i,radialSegments:r,p:s,q:o},i=Math.floor(i),r=Math.floor(r);const a=[],l=[],c=[],u=[],d=new W,f=new W,m=new W,g=new W,y=new W,x=new W,v=new W;for(let b=0;b<=i;++b){const w=b/i*s*Math.PI*2;_(w,s,o,e,m),_(w+.01,s,o,e,g),x.subVectors(g,m),v.addVectors(g,m),y.crossVectors(x,v),v.crossVectors(y,x),y.normalize(),v.normalize();for(let C=0;C<=r;++C){const T=C/r*Math.PI*2,R=-n*Math.cos(T),I=n*Math.sin(T);d.x=m.x+(R*v.x+I*y.x),d.y=m.y+(R*v.y+I*y.y),d.z=m.z+(R*v.z+I*y.z),l.push(d.x,d.y,d.z),f.subVectors(d,m).normalize(),c.push(f.x,f.y,f.z),u.push(b/i),u.push(C/r)}}for(let b=1;b<=i;b++)for(let w=1;w<=r;w++){const C=(r+1)*(b-1)+(w-1),T=(r+1)*b+(w-1),R=(r+1)*b+w,I=(r+1)*(b-1)+w;a.push(C,T,I),a.push(T,R,I)}this.setIndex(a),this.setAttribute("position",new bt(l,3)),this.setAttribute("normal",new bt(c,3)),this.setAttribute("uv",new bt(u,2));function _(b,w,C,T,R){const I=Math.cos(b),A=Math.sin(b),L=C/w*b,O=Math.cos(L);R.x=T*(2+O)*.5*I,R.y=T*(2+O)*A*.5,R.z=T*Math.sin(L)*.5}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new iM(e.radius,e.tube,e.tubularSegments,e.radialSegments,e.p,e.q)}}class rM extends $t{constructor(e=new fI(new W(-1,-1,0),new W(-1,1,0),new W(1,1,0)),n=64,i=1,r=8,s=!1){super(),this.type="TubeGeometry",this.parameters={path:e,tubularSegments:n,radius:i,radialSegments:r,closed:s};const o=e.computeFrenetFrames(n,s);this.tangents=o.tangents,this.normals=o.normals,this.binormals=o.binormals;const a=new W,l=new W,c=new Ae;let u=new W;const d=[],f=[],m=[],g=[];y(),this.setIndex(g),this.setAttribute("position",new bt(d,3)),this.setAttribute("normal",new bt(f,3)),this.setAttribute("uv",new bt(m,2));function y(){for(let b=0;b<n;b++)x(b);x(s===!1?n:0),_(),v()}function x(b){u=e.getPointAt(b/n,u);const w=o.normals[b],C=o.binormals[b];for(let T=0;T<=r;T++){const R=T/r*Math.PI*2,I=Math.sin(R),A=-Math.cos(R);l.x=A*w.x+I*C.x,l.y=A*w.y+I*C.y,l.z=A*w.z+I*C.z,l.normalize(),f.push(l.x,l.y,l.z),a.x=u.x+i*l.x,a.y=u.y+i*l.y,a.z=u.z+i*l.z,d.push(a.x,a.y,a.z)}}function v(){for(let b=1;b<=n;b++)for(let w=1;w<=r;w++){const C=(r+1)*(b-1)+(w-1),T=(r+1)*b+(w-1),R=(r+1)*b+w,I=(r+1)*(b-1)+w;g.push(C,T,I),g.push(T,R,I)}}function _(){for(let b=0;b<=n;b++)for(let w=0;w<=r;w++)c.x=b/n,c.y=w/r,m.push(c.x,c.y)}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON();return e.path=this.parameters.path.toJSON(),e}static fromJSON(e){return new rM(new $1[e.path.type]().fromJSON(e.path),e.tubularSegments,e.radius,e.radialSegments,e.closed)}}class $6 extends $t{constructor(e=null){if(super(),this.type="WireframeGeometry",this.parameters={geometry:e},e!==null){const n=[],i=new Set,r=new W,s=new W;if(e.index!==null){const o=e.attributes.position,a=e.index;let l=e.groups;l.length===0&&(l=[{start:0,count:a.count,materialIndex:0}]);for(let c=0,u=l.length;c<u;++c){const d=l[c],f=d.start,m=d.count;for(let g=f,y=f+m;g<y;g+=3)for(let x=0;x<3;x++){const v=a.getX(g+x),_=a.getX(g+(x+1)%3);r.fromBufferAttribute(o,v),s.fromBufferAttribute(o,_),fz(r,s,i)===!0&&(n.push(r.x,r.y,r.z),n.push(s.x,s.y,s.z))}}}else{const o=e.attributes.position;for(let a=0,l=o.count/3;a<l;a++)for(let c=0;c<3;c++){const u=3*a+c,d=3*a+(c+1)%3;r.fromBufferAttribute(o,u),s.fromBufferAttribute(o,d),fz(r,s,i)===!0&&(n.push(r.x,r.y,r.z),n.push(s.x,s.y,s.z))}}this.setAttribute("position",new bt(n,3))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}}function fz(t,e,n){const i=`${t.x},${t.y},${t.z}-${e.x},${e.y},${e.z}`,r=`${e.x},${e.y},${e.z}-${t.x},${t.y},${t.z}`;return n.has(i)===!0||n.has(r)===!0?!1:(n.add(i),n.add(r),!0)}var hz=Object.freeze({__proto__:null,BoxGeometry:mf,CapsuleGeometry:$w,CircleGeometry:Xw,ConeGeometry:Yw,CylinderGeometry:um,DodecahedronGeometry:qw,EdgesGeometry:V6,ExtrudeGeometry:Qw,IcosahedronGeometry:Zw,LatheGeometry:uy,OctahedronGeometry:dy,PlaneGeometry:ay,PolyhedronGeometry:Tu,RingGeometry:Jw,ShapeGeometry:eM,SphereGeometry:fy,TetrahedronGeometry:tM,TorusGeometry:nM,TorusKnotGeometry:iM,TubeGeometry:rM,WireframeGeometry:$6});class X6 extends ir{constructor(e){super(),this.isShadowMaterial=!0,this.type="ShadowMaterial",this.color=new Be(0),this.transparent=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.fog=e.fog,this}}class Y6 extends er{constructor(e){super(e),this.isRawShaderMaterial=!0,this.type="RawShaderMaterial"}}class pI extends ir{constructor(e){super(),this.isMeshStandardMaterial=!0,this.defines={STANDARD:""},this.type="MeshStandardMaterial",this.color=new Be(16777215),this.roughness=1,this.metalness=0,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Be(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Mu,this.normalScale=new Ae(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.roughnessMap=null,this.metalnessMap=null,this.alphaMap=null,this.envMap=null,this.envMapIntensity=1,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.defines={STANDARD:""},this.color.copy(e.color),this.roughness=e.roughness,this.metalness=e.metalness,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.roughnessMap=e.roughnessMap,this.metalnessMap=e.metalnessMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapIntensity=e.envMapIntensity,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class q6 extends pI{constructor(e){super(),this.isMeshPhysicalMaterial=!0,this.defines={STANDARD:"",PHYSICAL:""},this.type="MeshPhysicalMaterial",this.anisotropyRotation=0,this.anisotropyMap=null,this.clearcoatMap=null,this.clearcoatRoughness=0,this.clearcoatRoughnessMap=null,this.clearcoatNormalScale=new Ae(1,1),this.clearcoatNormalMap=null,this.ior=1.5,Object.defineProperty(this,"reflectivity",{get:function(){return Si(2.5*(this.ior-1)/(this.ior+1),0,1)},set:function(n){this.ior=(1+.4*n)/(1-.4*n)}}),this.iridescenceMap=null,this.iridescenceIOR=1.3,this.iridescenceThicknessRange=[100,400],this.iridescenceThicknessMap=null,this.sheenColor=new Be(0),this.sheenColorMap=null,this.sheenRoughness=1,this.sheenRoughnessMap=null,this.transmissionMap=null,this.thickness=0,this.thicknessMap=null,this.attenuationDistance=1/0,this.attenuationColor=new Be(1,1,1),this.specularIntensity=1,this.specularIntensityMap=null,this.specularColor=new Be(1,1,1),this.specularColorMap=null,this._anisotropy=0,this._clearcoat=0,this._iridescence=0,this._sheen=0,this._transmission=0,this.setValues(e)}get anisotropy(){return this._anisotropy}set anisotropy(e){this._anisotropy>0!=e>0&&this.version++,this._anisotropy=e}get clearcoat(){return this._clearcoat}set clearcoat(e){this._clearcoat>0!=e>0&&this.version++,this._clearcoat=e}get iridescence(){return this._iridescence}set iridescence(e){this._iridescence>0!=e>0&&this.version++,this._iridescence=e}get sheen(){return this._sheen}set sheen(e){this._sheen>0!=e>0&&this.version++,this._sheen=e}get transmission(){return this._transmission}set transmission(e){this._transmission>0!=e>0&&this.version++,this._transmission=e}copy(e){return super.copy(e),this.defines={STANDARD:"",PHYSICAL:""},this.anisotropy=e.anisotropy,this.anisotropyRotation=e.anisotropyRotation,this.anisotropyMap=e.anisotropyMap,this.clearcoat=e.clearcoat,this.clearcoatMap=e.clearcoatMap,this.clearcoatRoughness=e.clearcoatRoughness,this.clearcoatRoughnessMap=e.clearcoatRoughnessMap,this.clearcoatNormalMap=e.clearcoatNormalMap,this.clearcoatNormalScale.copy(e.clearcoatNormalScale),this.ior=e.ior,this.iridescence=e.iridescence,this.iridescenceMap=e.iridescenceMap,this.iridescenceIOR=e.iridescenceIOR,this.iridescenceThicknessRange=[...e.iridescenceThicknessRange],this.iridescenceThicknessMap=e.iridescenceThicknessMap,this.sheen=e.sheen,this.sheenColor.copy(e.sheenColor),this.sheenColorMap=e.sheenColorMap,this.sheenRoughness=e.sheenRoughness,this.sheenRoughnessMap=e.sheenRoughnessMap,this.transmission=e.transmission,this.transmissionMap=e.transmissionMap,this.thickness=e.thickness,this.thicknessMap=e.thicknessMap,this.attenuationDistance=e.attenuationDistance,this.attenuationColor.copy(e.attenuationColor),this.specularIntensity=e.specularIntensity,this.specularIntensityMap=e.specularIntensityMap,this.specularColor.copy(e.specularColor),this.specularColorMap=e.specularColorMap,this}}class K6 extends ir{constructor(e){super(),this.isMeshPhongMaterial=!0,this.type="MeshPhongMaterial",this.color=new Be(16777215),this.specular=new Be(1118481),this.shininess=30,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Be(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Mu,this.normalScale=new Ae(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=ny,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.specular.copy(e.specular),this.shininess=e.shininess,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class Q6 extends ir{constructor(e){super(),this.isMeshToonMaterial=!0,this.defines={TOON:""},this.type="MeshToonMaterial",this.color=new Be(16777215),this.map=null,this.gradientMap=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Be(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Mu,this.normalScale=new Ae(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.gradientMap=e.gradientMap,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}class mI extends ir{constructor(e){super(),this.isMeshNormalMaterial=!0,this.type="MeshNormalMaterial",this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Mu,this.normalScale=new Ae(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.flatShading=!1,this.setValues(e)}copy(e){return super.copy(e),this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.flatShading=e.flatShading,this}}class Z6 extends ir{constructor(e){super(),this.isMeshLambertMaterial=!0,this.type="MeshLambertMaterial",this.color=new Be(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Be(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Mu,this.normalScale=new Ae(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=ny,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class J6 extends ir{constructor(e){super(),this.isMeshMatcapMaterial=!0,this.defines={MATCAP:""},this.type="MeshMatcapMaterial",this.color=new Be(16777215),this.matcap=null,this.map=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Mu,this.normalScale=new Ae(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.defines={MATCAP:""},this.color.copy(e.color),this.matcap=e.matcap,this.map=e.map,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.flatShading=e.flatShading,this.fog=e.fog,this}}class eG extends ds{constructor(e){super(),this.isLineDashedMaterial=!0,this.type="LineDashedMaterial",this.scale=1,this.dashSize=3,this.gapSize=1,this.setValues(e)}copy(e){return super.copy(e),this.scale=e.scale,this.dashSize=e.dashSize,this.gapSize=e.gapSize,this}}function xd(t,e,n){return!t||!n&&t.constructor===e?t:typeof e.BYTES_PER_ELEMENT=="number"?new e(t):Array.prototype.slice.call(t)}function tG(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function nG(t){function e(r,s){return t[r]-t[s]}const n=t.length,i=new Array(n);for(let r=0;r!==n;++r)i[r]=r;return i.sort(e),i}function YR(t,e,n){const i=t.length,r=new t.constructor(i);for(let s=0,o=0;o!==i;++s){const a=n[s]*e;for(let l=0;l!==e;++l)r[o++]=t[a+l]}return r}function gI(t,e,n,i){let r=1,s=t[0];for(;s!==void 0&&s[i]===void 0;)s=t[r++];if(s===void 0)return;let o=s[i];if(o!==void 0)if(Array.isArray(o))do o=s[i],o!==void 0&&(e.push(s.time),n.push.apply(n,o)),s=t[r++];while(s!==void 0);else if(o.toArray!==void 0)do o=s[i],o!==void 0&&(e.push(s.time),o.toArray(n,n.length)),s=t[r++];while(s!==void 0);else do o=s[i],o!==void 0&&(e.push(s.time),n.push(o)),s=t[r++];while(s!==void 0)}function Ive(t,e,n,i,r=30){const s=t.clone();s.name=e;const o=[];for(let l=0;l<s.tracks.length;++l){const c=s.tracks[l],u=c.getValueSize(),d=[],f=[];for(let m=0;m<c.times.length;++m){const g=c.times[m]*r;if(!(g<n||g>=i)){d.push(c.times[m]);for(let y=0;y<u;++y)f.push(c.values[m*u+y])}}d.length!==0&&(c.times=xd(d,c.times.constructor),c.values=xd(f,c.values.constructor),o.push(c))}s.tracks=o;let a=1/0;for(let l=0;l<s.tracks.length;++l)a>s.tracks[l].times[0]&&(a=s.tracks[l].times[0]);for(let l=0;l<s.tracks.length;++l)s.tracks[l].shift(-1*a);return s.resetDuration(),s}function Lve(t,e=0,n=t,i=30){i<=0&&(i=30);const r=n.tracks.length,s=e/i;for(let o=0;o<r;++o){const a=n.tracks[o],l=a.ValueTypeName;if(l==="bool"||l==="string")continue;const c=t.tracks.find(function(v){return v.name===a.name&&v.ValueTypeName===l});if(c===void 0)continue;let u=0;const d=a.getValueSize();a.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(u=d/3);let f=0;const m=c.getValueSize();c.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(f=m/3);const g=a.times.length-1;let y;if(s<=a.times[0]){const v=u,_=d-u;y=a.values.slice(v,_)}else if(s>=a.times[g]){const v=g*d+u,_=v+d-u;y=a.values.slice(v,_)}else{const v=a.createInterpolant(),_=u,b=d-u;v.evaluate(s),y=v.resultBuffer.slice(_,b)}l==="quaternion"&&new Is().fromArray(y).normalize().conjugate().toArray(y);const x=c.times.length;for(let v=0;v<x;++v){const _=v*m+f;if(l==="quaternion")Is.multiplyQuaternionsFlat(c.values,_,y,0,c.values,_);else{const b=m-f*2;for(let w=0;w<b;++w)c.values[_+w]-=y[w]}}}return t.blendMode=qk,t}const Dve={convertArray:xd,isTypedArray:tG,getKeyframeOrder:nG,sortedArray:YR,flattenJSON:gI,subclip:Ive,makeClipAdditive:Lve};class hy{constructor(e,n,i,r){this.parameterPositions=e,this._cachedIndex=0,this.resultBuffer=r!==void 0?r:new n.constructor(i),this.sampleValues=n,this.valueSize=i,this.settings=null,this.DefaultSettings_={}}evaluate(e){const n=this.parameterPositions;let i=this._cachedIndex,r=n[i],s=n[i-1];e:{t:{let o;n:{i:if(!(e<r)){for(let a=i+2;;){if(r===void 0){if(e<s)break i;return i=n.length,this._cachedIndex=i,this.copySampleValue_(i-1)}if(i===a)break;if(s=r,r=n[++i],e<r)break t}o=n.length;break n}if(!(e>=s)){const a=n[1];e<a&&(i=2,s=a);for(let l=i-2;;){if(s===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(i===l)break;if(r=s,s=n[--i-1],e>=s)break t}o=i,i=0;break n}break e}for(;i<o;){const a=i+o>>>1;e<n[a]?o=a:i=a+1}if(r=n[i],s=n[i-1],s===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(r===void 0)return i=n.length,this._cachedIndex=i,this.copySampleValue_(i-1)}this._cachedIndex=i,this.intervalChanged_(i,s,r)}return this.interpolate_(i,s,e,r)}getSettings_(){return this.settings||this.DefaultSettings_}copySampleValue_(e){const n=this.resultBuffer,i=this.sampleValues,r=this.valueSize,s=e*r;for(let o=0;o!==r;++o)n[o]=i[s+o];return n}interpolate_(){throw new Error("call to abstract method")}intervalChanged_(){}}class iG extends hy{constructor(e,n,i,r){super(e,n,i,r),this._weightPrev=-0,this._offsetPrev=-0,this._weightNext=-0,this._offsetNext=-0,this.DefaultSettings_={endingStart:gd,endingEnd:gd}}intervalChanged_(e,n,i){const r=this.parameterPositions;let s=e-2,o=e+1,a=r[s],l=r[o];if(a===void 0)switch(this.getSettings_().endingStart){case vd:s=e,a=2*n-i;break;case lv:s=r.length-2,a=n+r[s]-r[s+1];break;default:s=e,a=i}if(l===void 0)switch(this.getSettings_().endingEnd){case vd:o=e,l=2*i-n;break;case lv:o=1,l=i+r[1]-r[0];break;default:o=e-1,l=n}const c=(i-n)*.5,u=this.valueSize;this._weightPrev=c/(n-a),this._weightNext=c/(l-i),this._offsetPrev=s*u,this._offsetNext=o*u}interpolate_(e,n,i,r){const s=this.resultBuffer,o=this.sampleValues,a=this.valueSize,l=e*a,c=l-a,u=this._offsetPrev,d=this._offsetNext,f=this._weightPrev,m=this._weightNext,g=(i-n)/(r-n),y=g*g,x=y*g,v=-f*x+2*f*y-f*g,_=(1+f)*x+(-1.5-2*f)*y+(-.5+f)*g+1,b=(-1-m)*x+(1.5+m)*y+.5*g,w=m*x-m*y;for(let C=0;C!==a;++C)s[C]=v*o[u+C]+_*o[c+C]+b*o[l+C]+w*o[d+C];return s}}class vI extends hy{constructor(e,n,i,r){super(e,n,i,r)}interpolate_(e,n,i,r){const s=this.resultBuffer,o=this.sampleValues,a=this.valueSize,l=e*a,c=l-a,u=(i-n)/(r-n),d=1-u;for(let f=0;f!==a;++f)s[f]=o[c+f]*d+o[l+f]*u;return s}}class rG extends hy{constructor(e,n,i,r){super(e,n,i,r)}interpolate_(e){return this.copySampleValue_(e-1)}}class da{constructor(e,n,i,r){if(e===void 0)throw new Error("THREE.KeyframeTrack: track name is undefined");if(n===void 0||n.length===0)throw new Error("THREE.KeyframeTrack: no keyframes in track named "+e);this.name=e,this.times=xd(n,this.TimeBufferType),this.values=xd(i,this.ValueBufferType),this.setInterpolation(r||this.DefaultInterpolation)}static toJSON(e){const n=e.constructor;let i;if(n.toJSON!==this.toJSON)i=n.toJSON(e);else{i={name:e.name,times:xd(e.times,Array),values:xd(e.values,Array)};const r=e.getInterpolation();r!==e.DefaultInterpolation&&(i.interpolation=r)}return i.type=e.ValueTypeName,i}InterpolantFactoryMethodDiscrete(e){return new rG(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodLinear(e){return new vI(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodSmooth(e){return new iG(this.times,this.values,this.getValueSize(),e)}setInterpolation(e){let n;switch(e){case ov:n=this.InterpolantFactoryMethodDiscrete;break;case av:n=this.InterpolantFactoryMethodLinear;break;case jb:n=this.InterpolantFactoryMethodSmooth;break}if(n===void 0){const i="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(this.createInterpolant===void 0)if(e!==this.DefaultInterpolation)this.setInterpolation(this.DefaultInterpolation);else throw new Error(i);return console.warn("THREE.KeyframeTrack:",i),this}return this.createInterpolant=n,this}getInterpolation(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return ov;case this.InterpolantFactoryMethodLinear:return av;case this.InterpolantFactoryMethodSmooth:return jb}}getValueSize(){return this.values.length/this.times.length}shift(e){if(e!==0){const n=this.times;for(let i=0,r=n.length;i!==r;++i)n[i]+=e}return this}scale(e){if(e!==1){const n=this.times;for(let i=0,r=n.length;i!==r;++i)n[i]*=e}return this}trim(e,n){const i=this.times,r=i.length;let s=0,o=r-1;for(;s!==r&&i[s]<e;)++s;for(;o!==-1&&i[o]>n;)--o;if(++o,s!==0||o!==r){s>=o&&(o=Math.max(o,1),s=o-1);const a=this.getValueSize();this.times=i.slice(s,o),this.values=this.values.slice(s*a,o*a)}return this}validate(){let e=!0;const n=this.getValueSize();n-Math.floor(n)!==0&&(console.error("THREE.KeyframeTrack: Invalid value size in track.",this),e=!1);const i=this.times,r=this.values,s=i.length;s===0&&(console.error("THREE.KeyframeTrack: Track is empty.",this),e=!1);let o=null;for(let a=0;a!==s;a++){const l=i[a];if(typeof l=="number"&&isNaN(l)){console.error("THREE.KeyframeTrack: Time is not a valid number.",this,a,l),e=!1;break}if(o!==null&&o>l){console.error("THREE.KeyframeTrack: Out of order keys.",this,a,l,o),e=!1;break}o=l}if(r!==void 0&&tG(r))for(let a=0,l=r.length;a!==l;++a){const c=r[a];if(isNaN(c)){console.error("THREE.KeyframeTrack: Value is not a valid number.",this,a,c),e=!1;break}}return e}optimize(){const e=this.times.slice(),n=this.values.slice(),i=this.getValueSize(),r=this.getInterpolation()===jb,s=e.length-1;let o=1;for(let a=1;a<s;++a){let l=!1;const c=e[a],u=e[a+1];if(c!==u&&(a!==1||c!==e[0]))if(r)l=!0;else{const d=a*i,f=d-i,m=d+i;for(let g=0;g!==i;++g){const y=n[d+g];if(y!==n[f+g]||y!==n[m+g]){l=!0;break}}}if(l){if(a!==o){e[o]=e[a];const d=a*i,f=o*i;for(let m=0;m!==i;++m)n[f+m]=n[d+m]}++o}}if(s>0){e[o]=e[s];for(let a=s*i,l=o*i,c=0;c!==i;++c)n[l+c]=n[a+c];++o}return o!==e.length?(this.times=e.slice(0,o),this.values=n.slice(0,o*i)):(this.times=e,this.values=n),this}clone(){const e=this.times.slice(),n=this.values.slice(),i=this.constructor,r=new i(this.name,e,n);return r.createInterpolant=this.createInterpolant,r}}da.prototype.TimeBufferType=Float32Array;da.prototype.ValueBufferType=Float32Array;da.prototype.DefaultInterpolation=av;class gf extends da{}gf.prototype.ValueTypeName="bool";gf.prototype.ValueBufferType=Array;gf.prototype.DefaultInterpolation=ov;gf.prototype.InterpolantFactoryMethodLinear=void 0;gf.prototype.InterpolantFactoryMethodSmooth=void 0;class yI extends da{}yI.prototype.ValueTypeName="color";class yv extends da{}yv.prototype.ValueTypeName="number";class sG extends hy{constructor(e,n,i,r){super(e,n,i,r)}interpolate_(e,n,i,r){const s=this.resultBuffer,o=this.sampleValues,a=this.valueSize,l=(i-n)/(r-n);let c=e*a;for(let u=c+a;c!==u;c+=4)Is.slerpFlat(s,0,o,c-a,o,c,l);return s}}class dm extends da{InterpolantFactoryMethodLinear(e){return new sG(this.times,this.values,this.getValueSize(),e)}}dm.prototype.ValueTypeName="quaternion";dm.prototype.DefaultInterpolation=av;dm.prototype.InterpolantFactoryMethodSmooth=void 0;class vf extends da{}vf.prototype.ValueTypeName="string";vf.prototype.ValueBufferType=Array;vf.prototype.DefaultInterpolation=ov;vf.prototype.InterpolantFactoryMethodLinear=void 0;vf.prototype.InterpolantFactoryMethodSmooth=void 0;class xv extends da{}xv.prototype.ValueTypeName="vector";class _v{constructor(e,n=-1,i,r=Dw){this.name=e,this.tracks=i,this.duration=n,this.blendMode=r,this.uuid=io(),this.duration<0&&this.resetDuration()}static parse(e){const n=[],i=e.tracks,r=1/(e.fps||1);for(let o=0,a=i.length;o!==a;++o)n.push(Nve(i[o]).scale(r));const s=new this(e.name,e.duration,n,e.blendMode);return s.uuid=e.uuid,s}static toJSON(e){const n=[],i=e.tracks,r={name:e.name,duration:e.duration,tracks:n,uuid:e.uuid,blendMode:e.blendMode};for(let s=0,o=i.length;s!==o;++s)n.push(da.toJSON(i[s]));return r}static CreateFromMorphTargetSequence(e,n,i,r){const s=n.length,o=[];for(let a=0;a<s;a++){let l=[],c=[];l.push((a+s-1)%s,a,(a+1)%s),c.push(0,1,0);const u=nG(l);l=YR(l,1,u),c=YR(c,1,u),!r&&l[0]===0&&(l.push(s),c.push(c[0])),o.push(new yv(".morphTargetInfluences["+n[a].name+"]",l,c).scale(1/i))}return new this(e,-1,o)}static findByName(e,n){let i=e;if(!Array.isArray(e)){const r=e;i=r.geometry&&r.geometry.animations||r.animations}for(let r=0;r<i.length;r++)if(i[r].name===n)return i[r];return null}static CreateClipsFromMorphTargetSequences(e,n,i){const r={},s=/^([\w-]*?)([\d]+)$/;for(let a=0,l=e.length;a<l;a++){const c=e[a],u=c.name.match(s);if(u&&u.length>1){const d=u[1];let f=r[d];f||(r[d]=f=[]),f.push(c)}}const o=[];for(const a in r)o.push(this.CreateFromMorphTargetSequence(a,r[a],n,i));return o}static parseAnimation(e,n){if(!e)return console.error("THREE.AnimationClip: No animation in JSONLoader data."),null;const i=function(d,f,m,g,y){if(m.length!==0){const x=[],v=[];gI(m,x,v,g),x.length!==0&&y.push(new d(f,x,v))}},r=[],s=e.name||"default",o=e.fps||30,a=e.blendMode;let l=e.length||-1;const c=e.hierarchy||[];for(let d=0;d<c.length;d++){const f=c[d].keys;if(!(!f||f.length===0))if(f[0].morphTargets){const m={};let g;for(g=0;g<f.length;g++)if(f[g].morphTargets)for(let y=0;y<f[g].morphTargets.length;y++)m[f[g].morphTargets[y]]=-1;for(const y in m){const x=[],v=[];for(let _=0;_!==f[g].morphTargets.length;++_){const b=f[g];x.push(b.time),v.push(b.morphTarget===y?1:0)}r.push(new yv(".morphTargetInfluence["+y+"]",x,v))}l=m.length*o}else{const m=".bones["+n[d].name+"]";i(xv,m+".position",f,"pos",r),i(dm,m+".quaternion",f,"rot",r),i(xv,m+".scale",f,"scl",r)}}return r.length===0?null:new this(s,l,r,a)}resetDuration(){const e=this.tracks;let n=0;for(let i=0,r=e.length;i!==r;++i){const s=this.tracks[i];n=Math.max(n,s.times[s.times.length-1])}return this.duration=n,this}trim(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].trim(0,this.duration);return this}validate(){let e=!0;for(let n=0;n<this.tracks.length;n++)e=e&&this.tracks[n].validate();return e}optimize(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].optimize();return this}clone(){const e=[];for(let n=0;n<this.tracks.length;n++)e.push(this.tracks[n].clone());return new this.constructor(this.name,this.duration,e,this.blendMode)}toJSON(){return this.constructor.toJSON(this)}}function Ove(t){switch(t.toLowerCase()){case"scalar":case"double":case"float":case"number":case"integer":return yv;case"vector":case"vector2":case"vector3":case"vector4":return xv;case"color":return yI;case"quaternion":return dm;case"bool":case"boolean":return gf;case"string":return vf}throw new Error("THREE.KeyframeTrack: Unsupported typeName: "+t)}function Nve(t){if(t.type===void 0)throw new Error("THREE.KeyframeTrack: track type undefined, can not parse");const e=Ove(t.type);if(t.times===void 0){const n=[],i=[];gI(t.keys,n,i,"value"),t.times=n,t.values=i}return e.parse!==void 0?e.parse(t):new e(t.name,t.times,t.values,t.interpolation)}const tf={enabled:!1,files:{},add:function(t,e){this.enabled!==!1&&(this.files[t]=e)},get:function(t){if(this.enabled!==!1)return this.files[t]},remove:function(t){delete this.files[t]},clear:function(){this.files={}}};class xI{constructor(e,n,i){const r=this;let s=!1,o=0,a=0,l;const c=[];this.onStart=void 0,this.onLoad=e,this.onProgress=n,this.onError=i,this.itemStart=function(u){a++,s===!1&&r.onStart!==void 0&&r.onStart(u,o,a),s=!0},this.itemEnd=function(u){o++,r.onProgress!==void 0&&r.onProgress(u,o,a),o===a&&(s=!1,r.onLoad!==void 0&&r.onLoad())},this.itemError=function(u){r.onError!==void 0&&r.onError(u)},this.resolveURL=function(u){return l?l(u):u},this.setURLModifier=function(u){return l=u,this},this.addHandler=function(u,d){return c.push(u,d),this},this.removeHandler=function(u){const d=c.indexOf(u);return d!==-1&&c.splice(d,2),this},this.getHandler=function(u){for(let d=0,f=c.length;d<f;d+=2){const m=c[d],g=c[d+1];if(m.global&&(m.lastIndex=0),m.test(u))return g}return null}}}const oG=new xI;class Fs{constructor(e){this.manager=e!==void 0?e:oG,this.crossOrigin="anonymous",this.withCredentials=!1,this.path="",this.resourcePath="",this.requestHeader={}}load(){}loadAsync(e,n){const i=this;return new Promise(function(r,s){i.load(e,r,n,s)})}parse(){}setCrossOrigin(e){return this.crossOrigin=e,this}setWithCredentials(e){return this.withCredentials=e,this}setPath(e){return this.path=e,this}setResourcePath(e){return this.resourcePath=e,this}setRequestHeader(e){return this.requestHeader=e,this}}Fs.DEFAULT_MATERIAL_NAME="__DEFAULT";const fl={};class Fve extends Error{constructor(e,n){super(e),this.response=n}}class Gl extends Fs{constructor(e){super(e)}load(e,n,i,r){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const s=tf.get(e);if(s!==void 0)return this.manager.itemStart(e),setTimeout(()=>{n&&n(s),this.manager.itemEnd(e)},0),s;if(fl[e]!==void 0){fl[e].push({onLoad:n,onProgress:i,onError:r});return}fl[e]=[],fl[e].push({onLoad:n,onProgress:i,onError:r});const o=new Request(e,{headers:new Headers(this.requestHeader),credentials:this.withCredentials?"include":"same-origin"}),a=this.mimeType,l=this.responseType;fetch(o).then(c=>{if(c.status===200||c.status===0){if(c.status===0&&console.warn("THREE.FileLoader: HTTP Status 0 received."),typeof ReadableStream>"u"||c.body===void 0||c.body.getReader===void 0)return c;const u=fl[e],d=c.body.getReader(),f=c.headers.get("Content-Length")||c.headers.get("X-File-Size"),m=f?parseInt(f):0,g=m!==0;let y=0;const x=new ReadableStream({start(v){_();function _(){d.read().then(({done:b,value:w})=>{if(b)v.close();else{y+=w.byteLength;const C=new ProgressEvent("progress",{lengthComputable:g,loaded:y,total:m});for(let T=0,R=u.length;T<R;T++){const I=u[T];I.onProgress&&I.onProgress(C)}v.enqueue(w),_()}})}}});return new Response(x)}else throw new Fve(`fetch for "${c.url}" responded with ${c.status}: ${c.statusText}`,c)}).then(c=>{switch(l){case"arraybuffer":return c.arrayBuffer();case"blob":return c.blob();case"document":return c.text().then(u=>new DOMParser().parseFromString(u,a));case"json":return c.json();default:if(a===void 0)return c.text();{const d=/charset="?([^;"\s]*)"?/i.exec(a),f=d&&d[1]?d[1].toLowerCase():void 0,m=new TextDecoder(f);return c.arrayBuffer().then(g=>m.decode(g))}}}).then(c=>{tf.add(e,c);const u=fl[e];delete fl[e];for(let d=0,f=u.length;d<f;d++){const m=u[d];m.onLoad&&m.onLoad(c)}}).catch(c=>{const u=fl[e];if(u===void 0)throw this.manager.itemError(e),c;delete fl[e];for(let d=0,f=u.length;d<f;d++){const m=u[d];m.onError&&m.onError(c)}this.manager.itemError(e)}).finally(()=>{this.manager.itemEnd(e)}),this.manager.itemStart(e)}setResponseType(e){return this.responseType=e,this}setMimeType(e){return this.mimeType=e,this}}class zve extends Fs{constructor(e){super(e)}load(e,n,i,r){const s=this,o=new Gl(this.manager);o.setPath(this.path),o.setRequestHeader(this.requestHeader),o.setWithCredentials(this.withCredentials),o.load(e,function(a){try{n(s.parse(JSON.parse(a)))}catch(l){r?r(l):console.error(l),s.manager.itemError(e)}},i,r)}parse(e){const n=[];for(let i=0;i<e.length;i++){const r=_v.parse(e[i]);n.push(r)}return n}}class Uve extends Fs{constructor(e){super(e)}load(e,n,i,r){const s=this,o=[],a=new Ww,l=new Gl(this.manager);l.setPath(this.path),l.setResponseType("arraybuffer"),l.setRequestHeader(this.requestHeader),l.setWithCredentials(s.withCredentials);let c=0;function u(d){l.load(e[d],function(f){const m=s.parse(f,!0);o[d]={width:m.width,height:m.height,format:m.format,mipmaps:m.mipmaps},c+=1,c===6&&(m.mipmapCount===1&&(a.minFilter=Bn),a.image=o,a.format=m.format,a.needsUpdate=!0,n&&n(a))},i,r)}if(Array.isArray(e))for(let d=0,f=e.length;d<f;++d)u(d);else l.load(e,function(d){const f=s.parse(d,!0);if(f.isCubemap){const m=f.mipmaps.length/f.mipmapCount;for(let g=0;g<m;g++){o[g]={mipmaps:[]};for(let y=0;y<f.mipmapCount;y++)o[g].mipmaps.push(f.mipmaps[g*f.mipmapCount+y]),o[g].format=f.format,o[g].width=f.width,o[g].height=f.height}a.image=o}else a.image.width=f.width,a.image.height=f.height,a.mipmaps=f.mipmaps;f.mipmapCount===1&&(a.minFilter=Bn),a.format=f.format,a.needsUpdate=!0,n&&n(a)},i,r);return a}}class bv extends Fs{constructor(e){super(e)}load(e,n,i,r){this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const s=this,o=tf.get(e);if(o!==void 0)return s.manager.itemStart(e),setTimeout(function(){n&&n(o),s.manager.itemEnd(e)},0),o;const a=hv("img");function l(){u(),tf.add(e,this),n&&n(this),s.manager.itemEnd(e)}function c(d){u(),r&&r(d),s.manager.itemError(e),s.manager.itemEnd(e)}function u(){a.removeEventListener("load",l,!1),a.removeEventListener("error",c,!1)}return a.addEventListener("load",l,!1),a.addEventListener("error",c,!1),e.slice(0,5)!=="data:"&&this.crossOrigin!==void 0&&(a.crossOrigin=this.crossOrigin),s.manager.itemStart(e),a.src=e,a}}class Bve extends Fs{constructor(e){super(e)}load(e,n,i,r){const s=new sy;s.colorSpace=qi;const o=new bv(this.manager);o.setCrossOrigin(this.crossOrigin),o.setPath(this.path);let a=0;function l(c){o.load(e[c],function(u){s.images[c]=u,a++,a===6&&(s.needsUpdate=!0,n&&n(s))},void 0,r)}for(let c=0;c<e.length;++c)l(c);return s}}class Hve extends Fs{constructor(e){super(e)}load(e,n,i,r){const s=this,o=new Ud,a=new Gl(this.manager);return a.setResponseType("arraybuffer"),a.setRequestHeader(this.requestHeader),a.setPath(this.path),a.setWithCredentials(s.withCredentials),a.load(e,function(l){let c;try{c=s.parse(l)}catch(u){if(r!==void 0)r(u);else{console.error(u);return}}c.image!==void 0?o.image=c.image:c.data!==void 0&&(o.image.width=c.width,o.image.height=c.height,o.image.data=c.data),o.wrapS=c.wrapS!==void 0?c.wrapS:jr,o.wrapT=c.wrapT!==void 0?c.wrapT:jr,o.magFilter=c.magFilter!==void 0?c.magFilter:Bn,o.minFilter=c.minFilter!==void 0?c.minFilter:Bn,o.anisotropy=c.anisotropy!==void 0?c.anisotropy:1,c.colorSpace!==void 0?o.colorSpace=c.colorSpace:c.encoding!==void 0&&(o.encoding=c.encoding),c.flipY!==void 0&&(o.flipY=c.flipY),c.format!==void 0&&(o.format=c.format),c.type!==void 0&&(o.type=c.type),c.mipmaps!==void 0&&(o.mipmaps=c.mipmaps,o.minFilter=uu),c.mipmapCount===1&&(o.minFilter=Bn),c.generateMipmaps!==void 0&&(o.generateMipmaps=c.generateMipmaps),o.needsUpdate=!0,n&&n(o,c)},i,r),o}}class sM extends Fs{constructor(e){super(e)}load(e,n,i,r){const s=new ni,o=new bv(this.manager);return o.setCrossOrigin(this.crossOrigin),o.setPath(this.path),o.load(e,function(a){s.image=a,s.needsUpdate=!0,n!==void 0&&n(s)},i,r),s}}class Cu extends xn{constructor(e,n=1){super(),this.isLight=!0,this.type="Light",this.color=new Be(e),this.intensity=n}dispose(){}copy(e,n){return super.copy(e,n),this.color.copy(e.color),this.intensity=e.intensity,this}toJSON(e){const n=super.toJSON(e);return n.object.color=this.color.getHex(),n.object.intensity=this.intensity,this.groundColor!==void 0&&(n.object.groundColor=this.groundColor.getHex()),this.distance!==void 0&&(n.object.distance=this.distance),this.angle!==void 0&&(n.object.angle=this.angle),this.decay!==void 0&&(n.object.decay=this.decay),this.penumbra!==void 0&&(n.object.penumbra=this.penumbra),this.shadow!==void 0&&(n.object.shadow=this.shadow.toJSON()),n}}class aG extends Cu{constructor(e,n,i){super(e,i),this.isHemisphereLight=!0,this.type="HemisphereLight",this.position.copy(xn.DEFAULT_UP),this.updateMatrix(),this.groundColor=new Be(n)}copy(e,n){return super.copy(e,n),this.groundColor.copy(e.groundColor),this}}const tC=new Ut,pz=new W,mz=new W;class _I{constructor(e){this.camera=e,this.bias=0,this.normalBias=0,this.radius=1,this.blurSamples=8,this.mapSize=new Ae(512,512),this.map=null,this.mapPass=null,this.matrix=new Ut,this.autoUpdate=!0,this.needsUpdate=!1,this._frustum=new oy,this._frameExtents=new Ae(1,1),this._viewportCount=1,this._viewports=[new wn(0,0,1,1)]}getViewportCount(){return this._viewportCount}getFrustum(){return this._frustum}updateMatrices(e){const n=this.camera,i=this.matrix;pz.setFromMatrixPosition(e.matrixWorld),n.position.copy(pz),mz.setFromMatrixPosition(e.target.matrixWorld),n.lookAt(mz),n.updateMatrixWorld(),tC.multiplyMatrices(n.projectionMatrix,n.matrixWorldInverse),this._frustum.setFromProjectionMatrix(tC),i.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),i.multiply(tC)}getViewport(e){return this._viewports[e]}getFrameExtents(){return this._frameExtents}dispose(){this.map&&this.map.dispose(),this.mapPass&&this.mapPass.dispose()}copy(e){return this.camera=e.camera.clone(),this.bias=e.bias,this.radius=e.radius,this.mapSize.copy(e.mapSize),this}clone(){return new this.constructor().copy(this)}toJSON(){const e={};return this.bias!==0&&(e.bias=this.bias),this.normalBias!==0&&(e.normalBias=this.normalBias),this.radius!==1&&(e.radius=this.radius),(this.mapSize.x!==512||this.mapSize.y!==512)&&(e.mapSize=this.mapSize.toArray()),e.camera=this.camera.toJSON(!1).object,delete e.camera.matrix,e}}class Vve extends _I{constructor(){super(new zi(50,1,.5,500)),this.isSpotLightShadow=!0,this.focus=1}updateMatrices(e){const n=this.camera,i=Bp*2*e.angle*this.focus,r=this.mapSize.width/this.mapSize.height,s=e.distance||n.far;(i!==n.fov||r!==n.aspect||s!==n.far)&&(n.fov=i,n.aspect=r,n.far=s,n.updateProjectionMatrix()),super.updateMatrices(e)}copy(e){return super.copy(e),this.focus=e.focus,this}}class lG extends Cu{constructor(e,n,i=0,r=Math.PI/3,s=0,o=2){super(e,n),this.isSpotLight=!0,this.type="SpotLight",this.position.copy(xn.DEFAULT_UP),this.updateMatrix(),this.target=new xn,this.distance=i,this.angle=r,this.penumbra=s,this.decay=o,this.map=null,this.shadow=new Vve}get power(){return this.intensity*Math.PI}set power(e){this.intensity=e/Math.PI}dispose(){this.shadow.dispose()}copy(e,n){return super.copy(e,n),this.distance=e.distance,this.angle=e.angle,this.penumbra=e.penumbra,this.decay=e.decay,this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}const gz=new Ut,gg=new W,nC=new W;class jve extends _I{constructor(){super(new zi(90,1,.5,500)),this.isPointLightShadow=!0,this._frameExtents=new Ae(4,2),this._viewportCount=6,this._viewports=[new wn(2,1,1,1),new wn(0,1,1,1),new wn(3,1,1,1),new wn(1,1,1,1),new wn(3,0,1,1),new wn(1,0,1,1)],this._cubeDirections=[new W(1,0,0),new W(-1,0,0),new W(0,0,1),new W(0,0,-1),new W(0,1,0),new W(0,-1,0)],this._cubeUps=[new W(0,1,0),new W(0,1,0),new W(0,1,0),new W(0,1,0),new W(0,0,1),new W(0,0,-1)]}updateMatrices(e,n=0){const i=this.camera,r=this.matrix,s=e.distance||i.far;s!==i.far&&(i.far=s,i.updateProjectionMatrix()),gg.setFromMatrixPosition(e.matrixWorld),i.position.copy(gg),nC.copy(i.position),nC.add(this._cubeDirections[n]),i.up.copy(this._cubeUps[n]),i.lookAt(nC),i.updateMatrixWorld(),r.makeTranslation(-gg.x,-gg.y,-gg.z),gz.multiplyMatrices(i.projectionMatrix,i.matrixWorldInverse),this._frustum.setFromProjectionMatrix(gz)}}class cG extends Cu{constructor(e,n,i=0,r=2){super(e,n),this.isPointLight=!0,this.type="PointLight",this.distance=i,this.decay=r,this.shadow=new jve}get power(){return this.intensity*4*Math.PI}set power(e){this.intensity=e/(4*Math.PI)}dispose(){this.shadow.dispose()}copy(e,n){return super.copy(e,n),this.distance=e.distance,this.decay=e.decay,this.shadow=e.shadow.clone(),this}}class Wve extends _I{constructor(){super(new ly(-5,5,5,-5,.5,500)),this.isDirectionalLightShadow=!0}}class uG extends Cu{constructor(e,n){super(e,n),this.isDirectionalLight=!0,this.type="DirectionalLight",this.position.copy(xn.DEFAULT_UP),this.updateMatrix(),this.target=new xn,this.shadow=new Wve}dispose(){this.shadow.dispose()}copy(e){return super.copy(e),this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}class dG extends Cu{constructor(e,n){super(e,n),this.isAmbientLight=!0,this.type="AmbientLight"}}class fG extends Cu{constructor(e,n,i=10,r=10){super(e,n),this.isRectAreaLight=!0,this.type="RectAreaLight",this.width=i,this.height=r}get power(){return this.intensity*this.width*this.height*Math.PI}set power(e){this.intensity=e/(this.width*this.height*Math.PI)}copy(e){return super.copy(e),this.width=e.width,this.height=e.height,this}toJSON(e){const n=super.toJSON(e);return n.object.width=this.width,n.object.height=this.height,n}}class hG{constructor(){this.isSphericalHarmonics3=!0,this.coefficients=[];for(let e=0;e<9;e++)this.coefficients.push(new W)}set(e){for(let n=0;n<9;n++)this.coefficients[n].copy(e[n]);return this}zero(){for(let e=0;e<9;e++)this.coefficients[e].set(0,0,0);return this}getAt(e,n){const i=e.x,r=e.y,s=e.z,o=this.coefficients;return n.copy(o[0]).multiplyScalar(.282095),n.addScaledVector(o[1],.488603*r),n.addScaledVector(o[2],.488603*s),n.addScaledVector(o[3],.488603*i),n.addScaledVector(o[4],1.092548*(i*r)),n.addScaledVector(o[5],1.092548*(r*s)),n.addScaledVector(o[6],.315392*(3*s*s-1)),n.addScaledVector(o[7],1.092548*(i*s)),n.addScaledVector(o[8],.546274*(i*i-r*r)),n}getIrradianceAt(e,n){const i=e.x,r=e.y,s=e.z,o=this.coefficients;return n.copy(o[0]).multiplyScalar(.886227),n.addScaledVector(o[1],2*.511664*r),n.addScaledVector(o[2],2*.511664*s),n.addScaledVector(o[3],2*.511664*i),n.addScaledVector(o[4],2*.429043*i*r),n.addScaledVector(o[5],2*.429043*r*s),n.addScaledVector(o[6],.743125*s*s-.247708),n.addScaledVector(o[7],2*.429043*i*s),n.addScaledVector(o[8],.429043*(i*i-r*r)),n}add(e){for(let n=0;n<9;n++)this.coefficients[n].add(e.coefficients[n]);return this}addScaledSH(e,n){for(let i=0;i<9;i++)this.coefficients[i].addScaledVector(e.coefficients[i],n);return this}scale(e){for(let n=0;n<9;n++)this.coefficients[n].multiplyScalar(e);return this}lerp(e,n){for(let i=0;i<9;i++)this.coefficients[i].lerp(e.coefficients[i],n);return this}equals(e){for(let n=0;n<9;n++)if(!this.coefficients[n].equals(e.coefficients[n]))return!1;return!0}copy(e){return this.set(e.coefficients)}clone(){return new this.constructor().copy(this)}fromArray(e,n=0){const i=this.coefficients;for(let r=0;r<9;r++)i[r].fromArray(e,n+r*3);return this}toArray(e=[],n=0){const i=this.coefficients;for(let r=0;r<9;r++)i[r].toArray(e,n+r*3);return e}static getBasisAt(e,n){const i=e.x,r=e.y,s=e.z;n[0]=.282095,n[1]=.488603*r,n[2]=.488603*s,n[3]=.488603*i,n[4]=1.092548*i*r,n[5]=1.092548*r*s,n[6]=.315392*(3*s*s-1),n[7]=1.092548*i*s,n[8]=.546274*(i*i-r*r)}}class pG extends Cu{constructor(e=new hG,n=1){super(void 0,n),this.isLightProbe=!0,this.sh=e}copy(e){return super.copy(e),this.sh.copy(e.sh),this}fromJSON(e){return this.intensity=e.intensity,this.sh.fromArray(e.sh),this}toJSON(e){const n=super.toJSON(e);return n.object.sh=this.sh.toArray(),n}}class oM extends Fs{constructor(e){super(e),this.textures={}}load(e,n,i,r){const s=this,o=new Gl(s.manager);o.setPath(s.path),o.setRequestHeader(s.requestHeader),o.setWithCredentials(s.withCredentials),o.load(e,function(a){try{n(s.parse(JSON.parse(a)))}catch(l){r?r(l):console.error(l),s.manager.itemError(e)}},i,r)}parse(e){const n=this.textures;function i(s){return n[s]===void 0&&console.warn("THREE.MaterialLoader: Undefined texture",s),n[s]}const r=oM.createMaterialFromType(e.type);if(e.uuid!==void 0&&(r.uuid=e.uuid),e.name!==void 0&&(r.name=e.name),e.color!==void 0&&r.color!==void 0&&r.color.setHex(e.color),e.roughness!==void 0&&(r.roughness=e.roughness),e.metalness!==void 0&&(r.metalness=e.metalness),e.sheen!==void 0&&(r.sheen=e.sheen),e.sheenColor!==void 0&&(r.sheenColor=new Be().setHex(e.sheenColor)),e.sheenRoughness!==void 0&&(r.sheenRoughness=e.sheenRoughness),e.emissive!==void 0&&r.emissive!==void 0&&r.emissive.setHex(e.emissive),e.specular!==void 0&&r.specular!==void 0&&r.specular.setHex(e.specular),e.specularIntensity!==void 0&&(r.specularIntensity=e.specularIntensity),e.specularColor!==void 0&&r.specularColor!==void 0&&r.specularColor.setHex(e.specularColor),e.shininess!==void 0&&(r.shininess=e.shininess),e.clearcoat!==void 0&&(r.clearcoat=e.clearcoat),e.clearcoatRoughness!==void 0&&(r.clearcoatRoughness=e.clearcoatRoughness),e.iridescence!==void 0&&(r.iridescence=e.iridescence),e.iridescenceIOR!==void 0&&(r.iridescenceIOR=e.iridescenceIOR),e.iridescenceThicknessRange!==void 0&&(r.iridescenceThicknessRange=e.iridescenceThicknessRange),e.transmission!==void 0&&(r.transmission=e.transmission),e.thickness!==void 0&&(r.thickness=e.thickness),e.attenuationDistance!==void 0&&(r.attenuationDistance=e.attenuationDistance),e.attenuationColor!==void 0&&r.attenuationColor!==void 0&&r.attenuationColor.setHex(e.attenuationColor),e.anisotropy!==void 0&&(r.anisotropy=e.anisotropy),e.anisotropyRotation!==void 0&&(r.anisotropyRotation=e.anisotropyRotation),e.fog!==void 0&&(r.fog=e.fog),e.flatShading!==void 0&&(r.flatShading=e.flatShading),e.blending!==void 0&&(r.blending=e.blending),e.combine!==void 0&&(r.combine=e.combine),e.side!==void 0&&(r.side=e.side),e.shadowSide!==void 0&&(r.shadowSide=e.shadowSide),e.opacity!==void 0&&(r.opacity=e.opacity),e.transparent!==void 0&&(r.transparent=e.transparent),e.alphaTest!==void 0&&(r.alphaTest=e.alphaTest),e.alphaHash!==void 0&&(r.alphaHash=e.alphaHash),e.depthFunc!==void 0&&(r.depthFunc=e.depthFunc),e.depthTest!==void 0&&(r.depthTest=e.depthTest),e.depthWrite!==void 0&&(r.depthWrite=e.depthWrite),e.colorWrite!==void 0&&(r.colorWrite=e.colorWrite),e.blendSrc!==void 0&&(r.blendSrc=e.blendSrc),e.blendDst!==void 0&&(r.blendDst=e.blendDst),e.blendEquation!==void 0&&(r.blendEquation=e.blendEquation),e.blendSrcAlpha!==void 0&&(r.blendSrcAlpha=e.blendSrcAlpha),e.blendDstAlpha!==void 0&&(r.blendDstAlpha=e.blendDstAlpha),e.blendEquationAlpha!==void 0&&(r.blendEquationAlpha=e.blendEquationAlpha),e.blendColor!==void 0&&r.blendColor!==void 0&&r.blendColor.setHex(e.blendColor),e.blendAlpha!==void 0&&(r.blendAlpha=e.blendAlpha),e.stencilWriteMask!==void 0&&(r.stencilWriteMask=e.stencilWriteMask),e.stencilFunc!==void 0&&(r.stencilFunc=e.stencilFunc),e.stencilRef!==void 0&&(r.stencilRef=e.stencilRef),e.stencilFuncMask!==void 0&&(r.stencilFuncMask=e.stencilFuncMask),e.stencilFail!==void 0&&(r.stencilFail=e.stencilFail),e.stencilZFail!==void 0&&(r.stencilZFail=e.stencilZFail),e.stencilZPass!==void 0&&(r.stencilZPass=e.stencilZPass),e.stencilWrite!==void 0&&(r.stencilWrite=e.stencilWrite),e.wireframe!==void 0&&(r.wireframe=e.wireframe),e.wireframeLinewidth!==void 0&&(r.wireframeLinewidth=e.wireframeLinewidth),e.wireframeLinecap!==void 0&&(r.wireframeLinecap=e.wireframeLinecap),e.wireframeLinejoin!==void 0&&(r.wireframeLinejoin=e.wireframeLinejoin),e.rotation!==void 0&&(r.rotation=e.rotation),e.linewidth!==void 0&&(r.linewidth=e.linewidth),e.dashSize!==void 0&&(r.dashSize=e.dashSize),e.gapSize!==void 0&&(r.gapSize=e.gapSize),e.scale!==void 0&&(r.scale=e.scale),e.polygonOffset!==void 0&&(r.polygonOffset=e.polygonOffset),e.polygonOffsetFactor!==void 0&&(r.polygonOffsetFactor=e.polygonOffsetFactor),e.polygonOffsetUnits!==void 0&&(r.polygonOffsetUnits=e.polygonOffsetUnits),e.dithering!==void 0&&(r.dithering=e.dithering),e.alphaToCoverage!==void 0&&(r.alphaToCoverage=e.alphaToCoverage),e.premultipliedAlpha!==void 0&&(r.premultipliedAlpha=e.premultipliedAlpha),e.forceSinglePass!==void 0&&(r.forceSinglePass=e.forceSinglePass),e.visible!==void 0&&(r.visible=e.visible),e.toneMapped!==void 0&&(r.toneMapped=e.toneMapped),e.userData!==void 0&&(r.userData=e.userData),e.vertexColors!==void 0&&(typeof e.vertexColors=="number"?r.vertexColors=e.vertexColors>0:r.vertexColors=e.vertexColors),e.uniforms!==void 0)for(const s in e.uniforms){const o=e.uniforms[s];switch(r.uniforms[s]={},o.type){case"t":r.uniforms[s].value=i(o.value);break;case"c":r.uniforms[s].value=new Be().setHex(o.value);break;case"v2":r.uniforms[s].value=new Ae().fromArray(o.value);break;case"v3":r.uniforms[s].value=new W().fromArray(o.value);break;case"v4":r.uniforms[s].value=new wn().fromArray(o.value);break;case"m3":r.uniforms[s].value=new Jt().fromArray(o.value);break;case"m4":r.uniforms[s].value=new Ut().fromArray(o.value);break;default:r.uniforms[s].value=o.value}}if(e.defines!==void 0&&(r.defines=e.defines),e.vertexShader!==void 0&&(r.vertexShader=e.vertexShader),e.fragmentShader!==void 0&&(r.fragmentShader=e.fragmentShader),e.glslVersion!==void 0&&(r.glslVersion=e.glslVersion),e.extensions!==void 0)for(const s in e.extensions)r.extensions[s]=e.extensions[s];if(e.lights!==void 0&&(r.lights=e.lights),e.clipping!==void 0&&(r.clipping=e.clipping),e.size!==void 0&&(r.size=e.size),e.sizeAttenuation!==void 0&&(r.sizeAttenuation=e.sizeAttenuation),e.map!==void 0&&(r.map=i(e.map)),e.matcap!==void 0&&(r.matcap=i(e.matcap)),e.alphaMap!==void 0&&(r.alphaMap=i(e.alphaMap)),e.bumpMap!==void 0&&(r.bumpMap=i(e.bumpMap)),e.bumpScale!==void 0&&(r.bumpScale=e.bumpScale),e.normalMap!==void 0&&(r.normalMap=i(e.normalMap)),e.normalMapType!==void 0&&(r.normalMapType=e.normalMapType),e.normalScale!==void 0){let s=e.normalScale;Array.isArray(s)===!1&&(s=[s,s]),r.normalScale=new Ae().fromArray(s)}return e.displacementMap!==void 0&&(r.displacementMap=i(e.displacementMap)),e.displacementScale!==void 0&&(r.displacementScale=e.displacementScale),e.displacementBias!==void 0&&(r.displacementBias=e.displacementBias),e.roughnessMap!==void 0&&(r.roughnessMap=i(e.roughnessMap)),e.metalnessMap!==void 0&&(r.metalnessMap=i(e.metalnessMap)),e.emissiveMap!==void 0&&(r.emissiveMap=i(e.emissiveMap)),e.emissiveIntensity!==void 0&&(r.emissiveIntensity=e.emissiveIntensity),e.specularMap!==void 0&&(r.specularMap=i(e.specularMap)),e.specularIntensityMap!==void 0&&(r.specularIntensityMap=i(e.specularIntensityMap)),e.specularColorMap!==void 0&&(r.specularColorMap=i(e.specularColorMap)),e.envMap!==void 0&&(r.envMap=i(e.envMap)),e.envMapIntensity!==void 0&&(r.envMapIntensity=e.envMapIntensity),e.reflectivity!==void 0&&(r.reflectivity=e.reflectivity),e.refractionRatio!==void 0&&(r.refractionRatio=e.refractionRatio),e.lightMap!==void 0&&(r.lightMap=i(e.lightMap)),e.lightMapIntensity!==void 0&&(r.lightMapIntensity=e.lightMapIntensity),e.aoMap!==void 0&&(r.aoMap=i(e.aoMap)),e.aoMapIntensity!==void 0&&(r.aoMapIntensity=e.aoMapIntensity),e.gradientMap!==void 0&&(r.gradientMap=i(e.gradientMap)),e.clearcoatMap!==void 0&&(r.clearcoatMap=i(e.clearcoatMap)),e.clearcoatRoughnessMap!==void 0&&(r.clearcoatRoughnessMap=i(e.clearcoatRoughnessMap)),e.clearcoatNormalMap!==void 0&&(r.clearcoatNormalMap=i(e.clearcoatNormalMap)),e.clearcoatNormalScale!==void 0&&(r.clearcoatNormalScale=new Ae().fromArray(e.clearcoatNormalScale)),e.iridescenceMap!==void 0&&(r.iridescenceMap=i(e.iridescenceMap)),e.iridescenceThicknessMap!==void 0&&(r.iridescenceThicknessMap=i(e.iridescenceThicknessMap)),e.transmissionMap!==void 0&&(r.transmissionMap=i(e.transmissionMap)),e.thicknessMap!==void 0&&(r.thicknessMap=i(e.thicknessMap)),e.anisotropyMap!==void 0&&(r.anisotropyMap=i(e.anisotropyMap)),e.sheenColorMap!==void 0&&(r.sheenColorMap=i(e.sheenColorMap)),e.sheenRoughnessMap!==void 0&&(r.sheenRoughnessMap=i(e.sheenRoughnessMap)),r}setTextures(e){return this.textures=e,this}static createMaterialFromType(e){const n={ShadowMaterial:X6,SpriteMaterial:sI,RawShaderMaterial:Y6,ShaderMaterial:er,PointsMaterial:aI,MeshPhysicalMaterial:q6,MeshStandardMaterial:pI,MeshPhongMaterial:K6,MeshToonMaterial:Q6,MeshNormalMaterial:mI,MeshLambertMaterial:Z6,MeshDepthMaterial:Uw,MeshDistanceMaterial:iI,MeshBasicMaterial:Eu,MeshMatcapMaterial:J6,LineDashedMaterial:eG,LineBasicMaterial:ds,Material:ir};return new n[e]}}class qR{static decodeText(e){if(typeof TextDecoder<"u")return new TextDecoder().decode(e);let n="";for(let i=0,r=e.length;i<r;i++)n+=String.fromCharCode(e[i]);try{return decodeURIComponent(escape(n))}catch{return n}}static extractUrlBase(e){const n=e.lastIndexOf("/");return n===-1?"./":e.slice(0,n+1)}static resolveURL(e,n){return typeof e!="string"||e===""?"":(/^https?:\/\//i.test(n)&&/^\//.test(e)&&(n=n.replace(/(^https?:\/\/[^\/]+).*/i,"$1")),/^(https?:)?\/\//i.test(e)||/^data:.*,.*$/i.test(e)||/^blob:.*$/i.test(e)?e:n+e)}}class mG extends $t{constructor(){super(),this.isInstancedBufferGeometry=!0,this.type="InstancedBufferGeometry",this.instanceCount=1/0}copy(e){return super.copy(e),this.instanceCount=e.instanceCount,this}toJSON(){const e=super.toJSON();return e.instanceCount=this.instanceCount,e.isInstancedBufferGeometry=!0,e}}class gG extends Fs{constructor(e){super(e)}load(e,n,i,r){const s=this,o=new Gl(s.manager);o.setPath(s.path),o.setRequestHeader(s.requestHeader),o.setWithCredentials(s.withCredentials),o.load(e,function(a){try{n(s.parse(JSON.parse(a)))}catch(l){r?r(l):console.error(l),s.manager.itemError(e)}},i,r)}parse(e){const n={},i={};function r(m,g){if(n[g]!==void 0)return n[g];const x=m.interleavedBuffers[g],v=s(m,x.buffer),_=jh(x.type,v),b=new Vw(_,x.stride);return b.uuid=x.uuid,n[g]=b,b}function s(m,g){if(i[g]!==void 0)return i[g];const x=m.arrayBuffers[g],v=new Uint32Array(x).buffer;return i[g]=v,v}const o=e.isInstancedBufferGeometry?new mG:new $t,a=e.data.index;if(a!==void 0){const m=jh(a.type,a.array);o.setIndex(new hn(m,1))}const l=e.data.attributes;for(const m in l){const g=l[m];let y;if(g.isInterleavedBufferAttribute){const x=r(e.data,g.data);y=new Jd(x,g.itemSize,g.offset,g.normalized)}else{const x=jh(g.type,g.array),v=g.isInstancedBufferAttribute?jp:hn;y=new v(x,g.itemSize,g.normalized)}g.name!==void 0&&(y.name=g.name),g.usage!==void 0&&y.setUsage(g.usage),o.setAttribute(m,y)}const c=e.data.morphAttributes;if(c)for(const m in c){const g=c[m],y=[];for(let x=0,v=g.length;x<v;x++){const _=g[x];let b;if(_.isInterleavedBufferAttribute){const w=r(e.data,_.data);b=new Jd(w,_.itemSize,_.offset,_.normalized)}else{const w=jh(_.type,_.array);b=new hn(w,_.itemSize,_.normalized)}_.name!==void 0&&(b.name=_.name),y.push(b)}o.morphAttributes[m]=y}e.data.morphTargetsRelative&&(o.morphTargetsRelative=!0);const d=e.data.groups||e.data.drawcalls||e.data.offsets;if(d!==void 0)for(let m=0,g=d.length;m!==g;++m){const y=d[m];o.addGroup(y.start,y.count,y.materialIndex)}const f=e.data.boundingSphere;if(f!==void 0){const m=new W;f.center!==void 0&&m.fromArray(f.center),o.boundingSphere=new $r(m,f.radius)}return e.name&&(o.name=e.name),e.userData&&(o.userData=e.userData),o}}class Gve extends Fs{constructor(e){super(e)}load(e,n,i,r){const s=this,o=this.path===""?qR.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||o;const a=new Gl(this.manager);a.setPath(this.path),a.setRequestHeader(this.requestHeader),a.setWithCredentials(this.withCredentials),a.load(e,function(l){let c=null;try{c=JSON.parse(l)}catch(d){r!==void 0&&r(d),console.error("THREE:ObjectLoader: Can't parse "+e+".",d.message);return}const u=c.metadata;if(u===void 0||u.type===void 0||u.type.toLowerCase()==="geometry"){r!==void 0&&r(new Error("THREE.ObjectLoader: Can't load "+e)),console.error("THREE.ObjectLoader: Can't load "+e);return}s.parse(c,n)},i,r)}async loadAsync(e,n){const i=this,r=this.path===""?qR.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||r;const s=new Gl(this.manager);s.setPath(this.path),s.setRequestHeader(this.requestHeader),s.setWithCredentials(this.withCredentials);const o=await s.loadAsync(e,n),a=JSON.parse(o),l=a.metadata;if(l===void 0||l.type===void 0||l.type.toLowerCase()==="geometry")throw new Error("THREE.ObjectLoader: Can't load "+e);return await i.parseAsync(a)}parse(e,n){const i=this.parseAnimations(e.animations),r=this.parseShapes(e.shapes),s=this.parseGeometries(e.geometries,r),o=this.parseImages(e.images,function(){n!==void 0&&n(c)}),a=this.parseTextures(e.textures,o),l=this.parseMaterials(e.materials,a),c=this.parseObject(e.object,s,l,a,i),u=this.parseSkeletons(e.skeletons,c);if(this.bindSkeletons(c,u),n!==void 0){let d=!1;for(const f in o)if(o[f].data instanceof HTMLImageElement){d=!0;break}d===!1&&n(c)}return c}async parseAsync(e){const n=this.parseAnimations(e.animations),i=this.parseShapes(e.shapes),r=this.parseGeometries(e.geometries,i),s=await this.parseImagesAsync(e.images),o=this.parseTextures(e.textures,s),a=this.parseMaterials(e.materials,o),l=this.parseObject(e.object,r,a,o,n),c=this.parseSkeletons(e.skeletons,l);return this.bindSkeletons(l,c),l}parseShapes(e){const n={};if(e!==void 0)for(let i=0,r=e.length;i<r;i++){const s=new Bd().fromJSON(e[i]);n[s.uuid]=s}return n}parseSkeletons(e,n){const i={},r={};if(n.traverse(function(s){s.isBone&&(r[s.uuid]=s)}),e!==void 0)for(let s=0,o=e.length;s<o;s++){const a=new jw().fromJSON(e[s],r);i[a.uuid]=a}return i}parseGeometries(e,n){const i={};if(e!==void 0){const r=new gG;for(let s=0,o=e.length;s<o;s++){let a;const l=e[s];switch(l.type){case"BufferGeometry":case"InstancedBufferGeometry":a=r.parse(l);break;default:l.type in hz?a=hz[l.type].fromJSON(l,n):console.warn(`THREE.ObjectLoader: Unsupported geometry type "${l.type}"`)}a.uuid=l.uuid,l.name!==void 0&&(a.name=l.name),l.userData!==void 0&&(a.userData=l.userData),i[l.uuid]=a}}return i}parseMaterials(e,n){const i={},r={};if(e!==void 0){const s=new oM;s.setTextures(n);for(let o=0,a=e.length;o<a;o++){const l=e[o];i[l.uuid]===void 0&&(i[l.uuid]=s.parse(l)),r[l.uuid]=i[l.uuid]}}return r}parseAnimations(e){const n={};if(e!==void 0)for(let i=0;i<e.length;i++){const r=e[i],s=_v.parse(r);n[s.uuid]=s}return n}parseImages(e,n){const i=this,r={};let s;function o(l){return i.manager.itemStart(l),s.load(l,function(){i.manager.itemEnd(l)},void 0,function(){i.manager.itemError(l),i.manager.itemEnd(l)})}function a(l){if(typeof l=="string"){const c=l,u=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(c)?c:i.resourcePath+c;return o(u)}else return l.data?{data:jh(l.type,l.data),width:l.width,height:l.height}:null}if(e!==void 0&&e.length>0){const l=new xI(n);s=new bv(l),s.setCrossOrigin(this.crossOrigin);for(let c=0,u=e.length;c<u;c++){const d=e[c],f=d.url;if(Array.isArray(f)){const m=[];for(let g=0,y=f.length;g<y;g++){const x=f[g],v=a(x);v!==null&&(v instanceof HTMLImageElement?m.push(v):m.push(new Ud(v.data,v.width,v.height)))}r[d.uuid]=new yd(m)}else{const m=a(d.url);r[d.uuid]=new yd(m)}}}return r}async parseImagesAsync(e){const n=this,i={};let r;async function s(o){if(typeof o=="string"){const a=o,l=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(a)?a:n.resourcePath+a;return await r.loadAsync(l)}else return o.data?{data:jh(o.type,o.data),width:o.width,height:o.height}:null}if(e!==void 0&&e.length>0){r=new bv(this.manager),r.setCrossOrigin(this.crossOrigin);for(let o=0,a=e.length;o<a;o++){const l=e[o],c=l.url;if(Array.isArray(c)){const u=[];for(let d=0,f=c.length;d<f;d++){const m=c[d],g=await s(m);g!==null&&(g instanceof HTMLImageElement?u.push(g):u.push(new Ud(g.data,g.width,g.height)))}i[l.uuid]=new yd(u)}else{const u=await s(l.url);i[l.uuid]=new yd(u)}}}return i}parseTextures(e,n){function i(s,o){return typeof s=="number"?s:(console.warn("THREE.ObjectLoader.parseTexture: Constant should be in numeric form.",s),o[s])}const r={};if(e!==void 0)for(let s=0,o=e.length;s<o;s++){const a=e[s];a.image===void 0&&console.warn('THREE.ObjectLoader: No "image" specified for',a.uuid),n[a.image]===void 0&&console.warn("THREE.ObjectLoader: Undefined image",a.image);const l=n[a.image],c=l.data;let u;Array.isArray(c)?(u=new sy,c.length===6&&(u.needsUpdate=!0)):(c&&c.data?u=new Ud:u=new ni,c&&(u.needsUpdate=!0)),u.source=l,u.uuid=a.uuid,a.name!==void 0&&(u.name=a.name),a.mapping!==void 0&&(u.mapping=i(a.mapping,$ve)),a.channel!==void 0&&(u.channel=a.channel),a.offset!==void 0&&u.offset.fromArray(a.offset),a.repeat!==void 0&&u.repeat.fromArray(a.repeat),a.center!==void 0&&u.center.fromArray(a.center),a.rotation!==void 0&&(u.rotation=a.rotation),a.wrap!==void 0&&(u.wrapS=i(a.wrap[0],vz),u.wrapT=i(a.wrap[1],vz)),a.format!==void 0&&(u.format=a.format),a.internalFormat!==void 0&&(u.internalFormat=a.internalFormat),a.type!==void 0&&(u.type=a.type),a.colorSpace!==void 0&&(u.colorSpace=a.colorSpace),a.encoding!==void 0&&(u.encoding=a.encoding),a.minFilter!==void 0&&(u.minFilter=i(a.minFilter,yz)),a.magFilter!==void 0&&(u.magFilter=i(a.magFilter,yz)),a.anisotropy!==void 0&&(u.anisotropy=a.anisotropy),a.flipY!==void 0&&(u.flipY=a.flipY),a.generateMipmaps!==void 0&&(u.generateMipmaps=a.generateMipmaps),a.premultiplyAlpha!==void 0&&(u.premultiplyAlpha=a.premultiplyAlpha),a.unpackAlignment!==void 0&&(u.unpackAlignment=a.unpackAlignment),a.compareFunction!==void 0&&(u.compareFunction=a.compareFunction),a.userData!==void 0&&(u.userData=a.userData),r[a.uuid]=u}return r}parseObject(e,n,i,r,s){let o;function a(f){return n[f]===void 0&&console.warn("THREE.ObjectLoader: Undefined geometry",f),n[f]}function l(f){if(f!==void 0){if(Array.isArray(f)){const m=[];for(let g=0,y=f.length;g<y;g++){const x=f[g];i[x]===void 0&&console.warn("THREE.ObjectLoader: Undefined material",x),m.push(i[x])}return m}return i[f]===void 0&&console.warn("THREE.ObjectLoader: Undefined material",f),i[f]}}function c(f){return r[f]===void 0&&console.warn("THREE.ObjectLoader: Undefined texture",f),r[f]}let u,d;switch(e.type){case"Scene":o=new Vp,e.background!==void 0&&(Number.isInteger(e.background)?o.background=new Be(e.background):o.background=c(e.background)),e.environment!==void 0&&(o.environment=c(e.environment)),e.fog!==void 0&&(e.fog.type==="Fog"?o.fog=new Hw(e.fog.color,e.fog.near,e.fog.far):e.fog.type==="FogExp2"&&(o.fog=new Bw(e.fog.color,e.fog.density)),e.fog.name!==""&&(o.fog.name=e.fog.name)),e.backgroundBlurriness!==void 0&&(o.backgroundBlurriness=e.backgroundBlurriness),e.backgroundIntensity!==void 0&&(o.backgroundIntensity=e.backgroundIntensity);break;case"PerspectiveCamera":o=new zi(e.fov,e.aspect,e.near,e.far),e.focus!==void 0&&(o.focus=e.focus),e.zoom!==void 0&&(o.zoom=e.zoom),e.filmGauge!==void 0&&(o.filmGauge=e.filmGauge),e.filmOffset!==void 0&&(o.filmOffset=e.filmOffset),e.view!==void 0&&(o.view=Object.assign({},e.view));break;case"OrthographicCamera":o=new ly(e.left,e.right,e.top,e.bottom,e.near,e.far),e.zoom!==void 0&&(o.zoom=e.zoom),e.view!==void 0&&(o.view=Object.assign({},e.view));break;case"AmbientLight":o=new dG(e.color,e.intensity);break;case"DirectionalLight":o=new uG(e.color,e.intensity);break;case"PointLight":o=new cG(e.color,e.intensity,e.distance,e.decay);break;case"RectAreaLight":o=new fG(e.color,e.intensity,e.width,e.height);break;case"SpotLight":o=new lG(e.color,e.intensity,e.distance,e.angle,e.penumbra,e.decay);break;case"HemisphereLight":o=new aG(e.color,e.groundColor,e.intensity);break;case"LightProbe":o=new pG().fromJSON(e);break;case"SkinnedMesh":u=a(e.geometry),d=l(e.material),o=new I6(u,d),e.bindMode!==void 0&&(o.bindMode=e.bindMode),e.bindMatrix!==void 0&&o.bindMatrix.fromArray(e.bindMatrix),e.skeleton!==void 0&&(o.skeleton=e.skeleton);break;case"Mesh":u=a(e.geometry),d=l(e.material),o=new Hi(u,d);break;case"InstancedMesh":u=a(e.geometry),d=l(e.material);const f=e.count,m=e.instanceMatrix,g=e.instanceColor;o=new L6(u,d,f),o.instanceMatrix=new jp(new Float32Array(m.array),16),g!==void 0&&(o.instanceColor=new jp(new Float32Array(g.array),g.itemSize));break;case"BatchedMesh":u=a(e.geometry),d=l(e.material),o=new D6(e.maxGeometryCount,e.maxVertexCount,e.maxIndexCount,d),o.geometry=u,o.perObjectFrustumCulled=e.perObjectFrustumCulled,o.sortObjects=e.sortObjects,o._drawRanges=e.drawRanges,o._reservedRanges=e.reservedRanges,o._visibility=e.visibility,o._active=e.active,o._bounds=e.bounds.map(y=>{const x=new ss;x.min.fromArray(y.boxMin),x.max.fromArray(y.boxMax);const v=new $r;return v.radius=y.sphereRadius,v.center.fromArray(y.sphereCenter),{boxInitialized:y.boxInitialized,box:x,sphereInitialized:y.sphereInitialized,sphere:v}}),o._maxGeometryCount=e.maxGeometryCount,o._maxVertexCount=e.maxVertexCount,o._maxIndexCount=e.maxIndexCount,o._geometryInitialized=e.geometryInitialized,o._geometryCount=e.geometryCount,o._matricesTexture=c(e.matricesTexture.uuid);break;case"LOD":o=new k6;break;case"Line":o=new hu(a(e.geometry),l(e.material));break;case"LineLoop":o=new O6(a(e.geometry),l(e.material));break;case"LineSegments":o=new Qa(a(e.geometry),l(e.material));break;case"PointCloud":case"Points":o=new N6(a(e.geometry),l(e.material));break;case"Sprite":o=new P6(l(e.material));break;case"Group":o=new Gh;break;case"Bone":o=new oI;break;default:o=new xn}if(o.uuid=e.uuid,e.name!==void 0&&(o.name=e.name),e.matrix!==void 0?(o.matrix.fromArray(e.matrix),e.matrixAutoUpdate!==void 0&&(o.matrixAutoUpdate=e.matrixAutoUpdate),o.matrixAutoUpdate&&o.matrix.decompose(o.position,o.quaternion,o.scale)):(e.position!==void 0&&o.position.fromArray(e.position),e.rotation!==void 0&&o.rotation.fromArray(e.rotation),e.quaternion!==void 0&&o.quaternion.fromArray(e.quaternion),e.scale!==void 0&&o.scale.fromArray(e.scale)),e.up!==void 0&&o.up.fromArray(e.up),e.castShadow!==void 0&&(o.castShadow=e.castShadow),e.receiveShadow!==void 0&&(o.receiveShadow=e.receiveShadow),e.shadow&&(e.shadow.bias!==void 0&&(o.shadow.bias=e.shadow.bias),e.shadow.normalBias!==void 0&&(o.shadow.normalBias=e.shadow.normalBias),e.shadow.radius!==void 0&&(o.shadow.radius=e.shadow.radius),e.shadow.mapSize!==void 0&&o.shadow.mapSize.fromArray(e.shadow.mapSize),e.shadow.camera!==void 0&&(o.shadow.camera=this.parseObject(e.shadow.camera))),e.visible!==void 0&&(o.visible=e.visible),e.frustumCulled!==void 0&&(o.frustumCulled=e.frustumCulled),e.renderOrder!==void 0&&(o.renderOrder=e.renderOrder),e.userData!==void 0&&(o.userData=e.userData),e.layers!==void 0&&(o.layers.mask=e.layers),e.children!==void 0){const f=e.children;for(let m=0;m<f.length;m++)o.add(this.parseObject(f[m],n,i,r,s))}if(e.animations!==void 0){const f=e.animations;for(let m=0;m<f.length;m++){const g=f[m];o.animations.push(s[g])}}if(e.type==="LOD"){e.autoUpdate!==void 0&&(o.autoUpdate=e.autoUpdate);const f=e.levels;for(let m=0;m<f.length;m++){const g=f[m],y=o.getObjectByProperty("uuid",g.object);y!==void 0&&o.addLevel(y,g.distance,g.hysteresis)}}return o}bindSkeletons(e,n){Object.keys(n).length!==0&&e.traverse(function(i){if(i.isSkinnedMesh===!0&&i.skeleton!==void 0){const r=n[i.skeleton];r===void 0?console.warn("THREE.ObjectLoader: No skeleton found with UUID:",i.skeleton):i.bind(r,i.bindMatrix)}})}}const $ve={UVMapping:Iw,CubeReflectionMapping:Wl,CubeRefractionMapping:cu,EquirectangularReflectionMapping:iv,EquirectangularRefractionMapping:rv,CubeUVReflectionMapping:om},vz={RepeatWrapping:wr,ClampToEdgeWrapping:jr,MirroredRepeatWrapping:sv},yz={NearestFilter:Un,NearestMipmapNearestFilter:j1,NearestMipmapLinearFilter:m0,LinearFilter:Bn,LinearMipmapNearestFilter:Hk,LinearMipmapLinearFilter:uu};class Xve extends Fs{constructor(e){super(e),this.isImageBitmapLoader=!0,typeof createImageBitmap>"u"&&console.warn("THREE.ImageBitmapLoader: createImageBitmap() not supported."),typeof fetch>"u"&&console.warn("THREE.ImageBitmapLoader: fetch() not supported."),this.options={premultiplyAlpha:"none"}}setOptions(e){return this.options=e,this}load(e,n,i,r){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const s=this,o=tf.get(e);if(o!==void 0)return s.manager.itemStart(e),setTimeout(function(){n&&n(o),s.manager.itemEnd(e)},0),o;const a={};a.credentials=this.crossOrigin==="anonymous"?"same-origin":"include",a.headers=this.requestHeader,fetch(e,a).then(function(l){return l.blob()}).then(function(l){return createImageBitmap(l,Object.assign(s.options,{colorSpaceConversion:"none"}))}).then(function(l){tf.add(e,l),n&&n(l),s.manager.itemEnd(e)}).catch(function(l){r&&r(l),s.manager.itemError(e),s.manager.itemEnd(e)}),s.manager.itemStart(e)}}let U_;class bI{static getContext(){return U_===void 0&&(U_=new(window.AudioContext||window.webkitAudioContext)),U_}static setContext(e){U_=e}}class Yve extends Fs{constructor(e){super(e)}load(e,n,i,r){const s=this,o=new Gl(this.manager);o.setResponseType("arraybuffer"),o.setPath(this.path),o.setRequestHeader(this.requestHeader),o.setWithCredentials(this.withCredentials),o.load(e,function(l){try{const c=l.slice(0);bI.getContext().decodeAudioData(c,function(d){n(d)}).catch(a)}catch(c){a(c)}},i,r);function a(l){r?r(l):console.error(l),s.manager.itemError(e)}}}const xz=new Ut,_z=new Ut,Wu=new Ut;class qve{constructor(){this.type="StereoCamera",this.aspect=1,this.eyeSep=.064,this.cameraL=new zi,this.cameraL.layers.enable(1),this.cameraL.matrixAutoUpdate=!1,this.cameraR=new zi,this.cameraR.layers.enable(2),this.cameraR.matrixAutoUpdate=!1,this._cache={focus:null,fov:null,aspect:null,near:null,far:null,zoom:null,eyeSep:null}}update(e){const n=this._cache;if(n.focus!==e.focus||n.fov!==e.fov||n.aspect!==e.aspect*this.aspect||n.near!==e.near||n.far!==e.far||n.zoom!==e.zoom||n.eyeSep!==this.eyeSep){n.focus=e.focus,n.fov=e.fov,n.aspect=e.aspect*this.aspect,n.near=e.near,n.far=e.far,n.zoom=e.zoom,n.eyeSep=this.eyeSep,Wu.copy(e.projectionMatrix);const r=n.eyeSep/2,s=r*n.near/n.focus,o=n.near*Math.tan(Fd*n.fov*.5)/n.zoom;let a,l;_z.elements[12]=-r,xz.elements[12]=r,a=-o*n.aspect+s,l=o*n.aspect+s,Wu.elements[0]=2*n.near/(l-a),Wu.elements[8]=(l+a)/(l-a),this.cameraL.projectionMatrix.copy(Wu),a=-o*n.aspect-s,l=o*n.aspect-s,Wu.elements[0]=2*n.near/(l-a),Wu.elements[8]=(l+a)/(l-a),this.cameraR.projectionMatrix.copy(Wu)}this.cameraL.matrixWorld.copy(e.matrixWorld).multiply(_z),this.cameraR.matrixWorld.copy(e.matrixWorld).multiply(xz)}}class SI{constructor(e=!0){this.autoStart=e,this.startTime=0,this.oldTime=0,this.elapsedTime=0,this.running=!1}start(){this.startTime=bz(),this.oldTime=this.startTime,this.elapsedTime=0,this.running=!0}stop(){this.getElapsedTime(),this.running=!1,this.autoStart=!1}getElapsedTime(){return this.getDelta(),this.elapsedTime}getDelta(){let e=0;if(this.autoStart&&!this.running)return this.start(),0;if(this.running){const n=bz();e=(n-this.oldTime)/1e3,this.oldTime=n,this.elapsedTime+=e}return e}}function bz(){return(typeof performance>"u"?Date:performance).now()}const Gu=new W,Sz=new Is,Kve=new W,$u=new W;class Qve extends xn{constructor(){super(),this.type="AudioListener",this.context=bI.getContext(),this.gain=this.context.createGain(),this.gain.connect(this.context.destination),this.filter=null,this.timeDelta=0,this._clock=new SI}getInput(){return this.gain}removeFilter(){return this.filter!==null&&(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination),this.gain.connect(this.context.destination),this.filter=null),this}getFilter(){return this.filter}setFilter(e){return this.filter!==null?(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination)):this.gain.disconnect(this.context.destination),this.filter=e,this.gain.connect(this.filter),this.filter.connect(this.context.destination),this}getMasterVolume(){return this.gain.gain.value}setMasterVolume(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}updateMatrixWorld(e){super.updateMatrixWorld(e);const n=this.context.listener,i=this.up;if(this.timeDelta=this._clock.getDelta(),this.matrixWorld.decompose(Gu,Sz,Kve),$u.set(0,0,-1).applyQuaternion(Sz),n.positionX){const r=this.context.currentTime+this.timeDelta;n.positionX.linearRampToValueAtTime(Gu.x,r),n.positionY.linearRampToValueAtTime(Gu.y,r),n.positionZ.linearRampToValueAtTime(Gu.z,r),n.forwardX.linearRampToValueAtTime($u.x,r),n.forwardY.linearRampToValueAtTime($u.y,r),n.forwardZ.linearRampToValueAtTime($u.z,r),n.upX.linearRampToValueAtTime(i.x,r),n.upY.linearRampToValueAtTime(i.y,r),n.upZ.linearRampToValueAtTime(i.z,r)}else n.setPosition(Gu.x,Gu.y,Gu.z),n.setOrientation($u.x,$u.y,$u.z,i.x,i.y,i.z)}}class vG extends xn{constructor(e){super(),this.type="Audio",this.listener=e,this.context=e.context,this.gain=this.context.createGain(),this.gain.connect(e.getInput()),this.autoplay=!1,this.buffer=null,this.detune=0,this.loop=!1,this.loopStart=0,this.loopEnd=0,this.offset=0,this.duration=void 0,this.playbackRate=1,this.isPlaying=!1,this.hasPlaybackControl=!0,this.source=null,this.sourceType="empty",this._startedAt=0,this._progress=0,this._connected=!1,this.filters=[]}getOutput(){return this.gain}setNodeSource(e){return this.hasPlaybackControl=!1,this.sourceType="audioNode",this.source=e,this.connect(),this}setMediaElementSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaNode",this.source=this.context.createMediaElementSource(e),this.connect(),this}setMediaStreamSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaStreamNode",this.source=this.context.createMediaStreamSource(e),this.connect(),this}setBuffer(e){return this.buffer=e,this.sourceType="buffer",this.autoplay&&this.play(),this}play(e=0){if(this.isPlaying===!0){console.warn("THREE.Audio: Audio is already playing.");return}if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}this._startedAt=this.context.currentTime+e;const n=this.context.createBufferSource();return n.buffer=this.buffer,n.loop=this.loop,n.loopStart=this.loopStart,n.loopEnd=this.loopEnd,n.onended=this.onEnded.bind(this),n.start(this._startedAt,this._progress+this.offset,this.duration),this.isPlaying=!0,this.source=n,this.setDetune(this.detune),this.setPlaybackRate(this.playbackRate),this.connect()}pause(){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.isPlaying===!0&&(this._progress+=Math.max(this.context.currentTime-this._startedAt,0)*this.playbackRate,this.loop===!0&&(this._progress=this._progress%(this.duration||this.buffer.duration)),this.source.stop(),this.source.onended=null,this.isPlaying=!1),this}stop(){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this._progress=0,this.source!==null&&(this.source.stop(),this.source.onended=null),this.isPlaying=!1,this}connect(){if(this.filters.length>0){this.source.connect(this.filters[0]);for(let e=1,n=this.filters.length;e<n;e++)this.filters[e-1].connect(this.filters[e]);this.filters[this.filters.length-1].connect(this.getOutput())}else this.source.connect(this.getOutput());return this._connected=!0,this}disconnect(){if(this._connected!==!1){if(this.filters.length>0){this.source.disconnect(this.filters[0]);for(let e=1,n=this.filters.length;e<n;e++)this.filters[e-1].disconnect(this.filters[e]);this.filters[this.filters.length-1].disconnect(this.getOutput())}else this.source.disconnect(this.getOutput());return this._connected=!1,this}}getFilters(){return this.filters}setFilters(e){return e||(e=[]),this._connected===!0?(this.disconnect(),this.filters=e.slice(),this.connect()):this.filters=e.slice(),this}setDetune(e){if(this.detune=e,this.source.detune!==void 0)return this.isPlaying===!0&&this.source.detune.setTargetAtTime(this.detune,this.context.currentTime,.01),this}getDetune(){return this.detune}getFilter(){return this.getFilters()[0]}setFilter(e){return this.setFilters(e?[e]:[])}setPlaybackRate(e){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.playbackRate=e,this.isPlaying===!0&&this.source.playbackRate.setTargetAtTime(this.playbackRate,this.context.currentTime,.01),this}getPlaybackRate(){return this.playbackRate}onEnded(){this.isPlaying=!1}getLoop(){return this.hasPlaybackControl===!1?(console.warn("THREE.Audio: this Audio has no playback control."),!1):this.loop}setLoop(e){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.loop=e,this.isPlaying===!0&&(this.source.loop=this.loop),this}setLoopStart(e){return this.loopStart=e,this}setLoopEnd(e){return this.loopEnd=e,this}getVolume(){return this.gain.gain.value}setVolume(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}}const Xu=new W,wz=new Is,Zve=new W,Yu=new W;class Jve extends vG{constructor(e){super(e),this.panner=this.context.createPanner(),this.panner.panningModel="HRTF",this.panner.connect(this.gain)}connect(){super.connect(),this.panner.connect(this.gain)}disconnect(){super.disconnect(),this.panner.disconnect(this.gain)}getOutput(){return this.panner}getRefDistance(){return this.panner.refDistance}setRefDistance(e){return this.panner.refDistance=e,this}getRolloffFactor(){return this.panner.rolloffFactor}setRolloffFactor(e){return this.panner.rolloffFactor=e,this}getDistanceModel(){return this.panner.distanceModel}setDistanceModel(e){return this.panner.distanceModel=e,this}getMaxDistance(){return this.panner.maxDistance}setMaxDistance(e){return this.panner.maxDistance=e,this}setDirectionalCone(e,n,i){return this.panner.coneInnerAngle=e,this.panner.coneOuterAngle=n,this.panner.coneOuterGain=i,this}updateMatrixWorld(e){if(super.updateMatrixWorld(e),this.hasPlaybackControl===!0&&this.isPlaying===!1)return;this.matrixWorld.decompose(Xu,wz,Zve),Yu.set(0,0,1).applyQuaternion(wz);const n=this.panner;if(n.positionX){const i=this.context.currentTime+this.listener.timeDelta;n.positionX.linearRampToValueAtTime(Xu.x,i),n.positionY.linearRampToValueAtTime(Xu.y,i),n.positionZ.linearRampToValueAtTime(Xu.z,i),n.orientationX.linearRampToValueAtTime(Yu.x,i),n.orientationY.linearRampToValueAtTime(Yu.y,i),n.orientationZ.linearRampToValueAtTime(Yu.z,i)}else n.setPosition(Xu.x,Xu.y,Xu.z),n.setOrientation(Yu.x,Yu.y,Yu.z)}}class eye{constructor(e,n=2048){this.analyser=e.context.createAnalyser(),this.analyser.fftSize=n,this.data=new Uint8Array(this.analyser.frequencyBinCount),e.getOutput().connect(this.analyser)}getFrequencyData(){return this.analyser.getByteFrequencyData(this.data),this.data}getAverageFrequency(){let e=0;const n=this.getFrequencyData();for(let i=0;i<n.length;i++)e+=n[i];return e/n.length}}class yG{constructor(e,n,i){this.binding=e,this.valueSize=i;let r,s,o;switch(n){case"quaternion":r=this._slerp,s=this._slerpAdditive,o=this._setAdditiveIdentityQuaternion,this.buffer=new Float64Array(i*6),this._workIndex=5;break;case"string":case"bool":r=this._select,s=this._select,o=this._setAdditiveIdentityOther,this.buffer=new Array(i*5);break;default:r=this._lerp,s=this._lerpAdditive,o=this._setAdditiveIdentityNumeric,this.buffer=new Float64Array(i*5)}this._mixBufferRegion=r,this._mixBufferRegionAdditive=s,this._setIdentity=o,this._origIndex=3,this._addIndex=4,this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,this.useCount=0,this.referenceCount=0}accumulate(e,n){const i=this.buffer,r=this.valueSize,s=e*r+r;let o=this.cumulativeWeight;if(o===0){for(let a=0;a!==r;++a)i[s+a]=i[a];o=n}else{o+=n;const a=n/o;this._mixBufferRegion(i,s,0,a,r)}this.cumulativeWeight=o}accumulateAdditive(e){const n=this.buffer,i=this.valueSize,r=i*this._addIndex;this.cumulativeWeightAdditive===0&&this._setIdentity(),this._mixBufferRegionAdditive(n,r,0,e,i),this.cumulativeWeightAdditive+=e}apply(e){const n=this.valueSize,i=this.buffer,r=e*n+n,s=this.cumulativeWeight,o=this.cumulativeWeightAdditive,a=this.binding;if(this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,s<1){const l=n*this._origIndex;this._mixBufferRegion(i,r,l,1-s,n)}o>0&&this._mixBufferRegionAdditive(i,r,this._addIndex*n,1,n);for(let l=n,c=n+n;l!==c;++l)if(i[l]!==i[l+n]){a.setValue(i,r);break}}saveOriginalState(){const e=this.binding,n=this.buffer,i=this.valueSize,r=i*this._origIndex;e.getValue(n,r);for(let s=i,o=r;s!==o;++s)n[s]=n[r+s%i];this._setIdentity(),this.cumulativeWeight=0,this.cumulativeWeightAdditive=0}restoreOriginalState(){const e=this.valueSize*3;this.binding.setValue(this.buffer,e)}_setAdditiveIdentityNumeric(){const e=this._addIndex*this.valueSize,n=e+this.valueSize;for(let i=e;i<n;i++)this.buffer[i]=0}_setAdditiveIdentityQuaternion(){this._setAdditiveIdentityNumeric(),this.buffer[this._addIndex*this.valueSize+3]=1}_setAdditiveIdentityOther(){const e=this._origIndex*this.valueSize,n=this._addIndex*this.valueSize;for(let i=0;i<this.valueSize;i++)this.buffer[n+i]=this.buffer[e+i]}_select(e,n,i,r,s){if(r>=.5)for(let o=0;o!==s;++o)e[n+o]=e[i+o]}_slerp(e,n,i,r){Is.slerpFlat(e,n,e,n,e,i,r)}_slerpAdditive(e,n,i,r,s){const o=this._workIndex*s;Is.multiplyQuaternionsFlat(e,o,e,n,e,i),Is.slerpFlat(e,n,e,n,e,o,r)}_lerp(e,n,i,r,s){const o=1-r;for(let a=0;a!==s;++a){const l=n+a;e[l]=e[l]*o+e[i+a]*r}}_lerpAdditive(e,n,i,r,s){for(let o=0;o!==s;++o){const a=n+o;e[a]=e[a]+e[i+o]*r}}}const wI="\\[\\]\\.:\\/",tye=new RegExp("["+wI+"]","g"),MI="[^"+wI+"]",nye="[^"+wI.replace("\\.","")+"]",iye=/((?:WC+[\/:])*)/.source.replace("WC",MI),rye=/(WCOD+)?/.source.replace("WCOD",nye),sye=/(?:\.(WC+)(?:\[(.+)\])?)?/.source.replace("WC",MI),oye=/\.(WC+)(?:\[(.+)\])?/.source.replace("WC",MI),aye=new RegExp("^"+iye+rye+sye+oye+"$"),lye=["material","materials","bones","map"];class cye{constructor(e,n,i){const r=i||un.parseTrackName(n);this._targetGroup=e,this._bindings=e.subscribe_(n,r)}getValue(e,n){this.bind();const i=this._targetGroup.nCachedObjects_,r=this._bindings[i];r!==void 0&&r.getValue(e,n)}setValue(e,n){const i=this._bindings;for(let r=this._targetGroup.nCachedObjects_,s=i.length;r!==s;++r)i[r].setValue(e,n)}bind(){const e=this._bindings;for(let n=this._targetGroup.nCachedObjects_,i=e.length;n!==i;++n)e[n].bind()}unbind(){const e=this._bindings;for(let n=this._targetGroup.nCachedObjects_,i=e.length;n!==i;++n)e[n].unbind()}}class un{constructor(e,n,i){this.path=n,this.parsedPath=i||un.parseTrackName(n),this.node=un.findNode(e,this.parsedPath.nodeName),this.rootNode=e,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}static create(e,n,i){return e&&e.isAnimationObjectGroup?new un.Composite(e,n,i):new un(e,n,i)}static sanitizeNodeName(e){return e.replace(/\s/g,"_").replace(tye,"")}static parseTrackName(e){const n=aye.exec(e);if(n===null)throw new Error("PropertyBinding: Cannot parse trackName: "+e);const i={nodeName:n[2],objectName:n[3],objectIndex:n[4],propertyName:n[5],propertyIndex:n[6]},r=i.nodeName&&i.nodeName.lastIndexOf(".");if(r!==void 0&&r!==-1){const s=i.nodeName.substring(r+1);lye.indexOf(s)!==-1&&(i.nodeName=i.nodeName.substring(0,r),i.objectName=s)}if(i.propertyName===null||i.propertyName.length===0)throw new Error("PropertyBinding: can not parse propertyName from trackName: "+e);return i}static findNode(e,n){if(n===void 0||n===""||n==="."||n===-1||n===e.name||n===e.uuid)return e;if(e.skeleton){const i=e.skeleton.getBoneByName(n);if(i!==void 0)return i}if(e.children){const i=function(s){for(let o=0;o<s.length;o++){const a=s[o];if(a.name===n||a.uuid===n)return a;const l=i(a.children);if(l)return l}return null},r=i(e.children);if(r)return r}return null}_getValue_unavailable(){}_setValue_unavailable(){}_getValue_direct(e,n){e[n]=this.targetObject[this.propertyName]}_getValue_array(e,n){const i=this.resolvedProperty;for(let r=0,s=i.length;r!==s;++r)e[n++]=i[r]}_getValue_arrayElement(e,n){e[n]=this.resolvedProperty[this.propertyIndex]}_getValue_toArray(e,n){this.resolvedProperty.toArray(e,n)}_setValue_direct(e,n){this.targetObject[this.propertyName]=e[n]}_setValue_direct_setNeedsUpdate(e,n){this.targetObject[this.propertyName]=e[n],this.targetObject.needsUpdate=!0}_setValue_direct_setMatrixWorldNeedsUpdate(e,n){this.targetObject[this.propertyName]=e[n],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_array(e,n){const i=this.resolvedProperty;for(let r=0,s=i.length;r!==s;++r)i[r]=e[n++]}_setValue_array_setNeedsUpdate(e,n){const i=this.resolvedProperty;for(let r=0,s=i.length;r!==s;++r)i[r]=e[n++];this.targetObject.needsUpdate=!0}_setValue_array_setMatrixWorldNeedsUpdate(e,n){const i=this.resolvedProperty;for(let r=0,s=i.length;r!==s;++r)i[r]=e[n++];this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_arrayElement(e,n){this.resolvedProperty[this.propertyIndex]=e[n]}_setValue_arrayElement_setNeedsUpdate(e,n){this.resolvedProperty[this.propertyIndex]=e[n],this.targetObject.needsUpdate=!0}_setValue_arrayElement_setMatrixWorldNeedsUpdate(e,n){this.resolvedProperty[this.propertyIndex]=e[n],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_fromArray(e,n){this.resolvedProperty.fromArray(e,n)}_setValue_fromArray_setNeedsUpdate(e,n){this.resolvedProperty.fromArray(e,n),this.targetObject.needsUpdate=!0}_setValue_fromArray_setMatrixWorldNeedsUpdate(e,n){this.resolvedProperty.fromArray(e,n),this.targetObject.matrixWorldNeedsUpdate=!0}_getValue_unbound(e,n){this.bind(),this.getValue(e,n)}_setValue_unbound(e,n){this.bind(),this.setValue(e,n)}bind(){let e=this.node;const n=this.parsedPath,i=n.objectName,r=n.propertyName;let s=n.propertyIndex;if(e||(e=un.findNode(this.rootNode,n.nodeName),this.node=e),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,!e){console.warn("THREE.PropertyBinding: No target node found for track: "+this.path+".");return}if(i){let c=n.objectIndex;switch(i){case"materials":if(!e.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!e.material.materials){console.error("THREE.PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.",this);return}e=e.material.materials;break;case"bones":if(!e.skeleton){console.error("THREE.PropertyBinding: Can not bind to bones as node does not have a skeleton.",this);return}e=e.skeleton.bones;for(let u=0;u<e.length;u++)if(e[u].name===c){c=u;break}break;case"map":if("map"in e){e=e.map;break}if(!e.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!e.material.map){console.error("THREE.PropertyBinding: Can not bind to material.map as node.material does not have a map.",this);return}e=e.material.map;break;default:if(e[i]===void 0){console.error("THREE.PropertyBinding: Can not bind to objectName of node undefined.",this);return}e=e[i]}if(c!==void 0){if(e[c]===void 0){console.error("THREE.PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.",this,e);return}e=e[c]}}const o=e[r];if(o===void 0){const c=n.nodeName;console.error("THREE.PropertyBinding: Trying to update property for track: "+c+"."+r+" but it wasn't found.",e);return}let a=this.Versioning.None;this.targetObject=e,e.needsUpdate!==void 0?a=this.Versioning.NeedsUpdate:e.matrixWorldNeedsUpdate!==void 0&&(a=this.Versioning.MatrixWorldNeedsUpdate);let l=this.BindingType.Direct;if(s!==void 0){if(r==="morphTargetInfluences"){if(!e.geometry){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.",this);return}if(!e.geometry.morphAttributes){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.",this);return}e.morphTargetDictionary[s]!==void 0&&(s=e.morphTargetDictionary[s])}l=this.BindingType.ArrayElement,this.resolvedProperty=o,this.propertyIndex=s}else o.fromArray!==void 0&&o.toArray!==void 0?(l=this.BindingType.HasFromToArray,this.resolvedProperty=o):Array.isArray(o)?(l=this.BindingType.EntireArray,this.resolvedProperty=o):this.propertyName=r;this.getValue=this.GetterByBindingType[l],this.setValue=this.SetterByBindingTypeAndVersioning[l][a]}unbind(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}}un.Composite=cye;un.prototype.BindingType={Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3};un.prototype.Versioning={None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2};un.prototype.GetterByBindingType=[un.prototype._getValue_direct,un.prototype._getValue_array,un.prototype._getValue_arrayElement,un.prototype._getValue_toArray];un.prototype.SetterByBindingTypeAndVersioning=[[un.prototype._setValue_direct,un.prototype._setValue_direct_setNeedsUpdate,un.prototype._setValue_direct_setMatrixWorldNeedsUpdate],[un.prototype._setValue_array,un.prototype._setValue_array_setNeedsUpdate,un.prototype._setValue_array_setMatrixWorldNeedsUpdate],[un.prototype._setValue_arrayElement,un.prototype._setValue_arrayElement_setNeedsUpdate,un.prototype._setValue_arrayElement_setMatrixWorldNeedsUpdate],[un.prototype._setValue_fromArray,un.prototype._setValue_fromArray_setNeedsUpdate,un.prototype._setValue_fromArray_setMatrixWorldNeedsUpdate]];class uye{constructor(){this.isAnimationObjectGroup=!0,this.uuid=io(),this._objects=Array.prototype.slice.call(arguments),this.nCachedObjects_=0;const e={};this._indicesByUUID=e;for(let i=0,r=arguments.length;i!==r;++i)e[arguments[i].uuid]=i;this._paths=[],this._parsedPaths=[],this._bindings=[],this._bindingsIndicesByPath={};const n=this;this.stats={objects:{get total(){return n._objects.length},get inUse(){return this.total-n.nCachedObjects_}},get bindingsPerObject(){return n._bindings.length}}}add(){const e=this._objects,n=this._indicesByUUID,i=this._paths,r=this._parsedPaths,s=this._bindings,o=s.length;let a,l=e.length,c=this.nCachedObjects_;for(let u=0,d=arguments.length;u!==d;++u){const f=arguments[u],m=f.uuid;let g=n[m];if(g===void 0){g=l++,n[m]=g,e.push(f);for(let y=0,x=o;y!==x;++y)s[y].push(new un(f,i[y],r[y]))}else if(g<c){a=e[g];const y=--c,x=e[y];n[x.uuid]=g,e[g]=x,n[m]=y,e[y]=f;for(let v=0,_=o;v!==_;++v){const b=s[v],w=b[y];let C=b[g];b[g]=w,C===void 0&&(C=new un(f,i[v],r[v])),b[y]=C}}else e[g]!==a&&console.error("THREE.AnimationObjectGroup: Different objects with the same UUID detected. Clean the caches or recreate your infrastructure when reloading scenes.")}this.nCachedObjects_=c}remove(){const e=this._objects,n=this._indicesByUUID,i=this._bindings,r=i.length;let s=this.nCachedObjects_;for(let o=0,a=arguments.length;o!==a;++o){const l=arguments[o],c=l.uuid,u=n[c];if(u!==void 0&&u>=s){const d=s++,f=e[d];n[f.uuid]=u,e[u]=f,n[c]=d,e[d]=l;for(let m=0,g=r;m!==g;++m){const y=i[m],x=y[d],v=y[u];y[u]=x,y[d]=v}}}this.nCachedObjects_=s}uncache(){const e=this._objects,n=this._indicesByUUID,i=this._bindings,r=i.length;let s=this.nCachedObjects_,o=e.length;for(let a=0,l=arguments.length;a!==l;++a){const c=arguments[a],u=c.uuid,d=n[u];if(d!==void 0)if(delete n[u],d<s){const f=--s,m=e[f],g=--o,y=e[g];n[m.uuid]=d,e[d]=m,n[y.uuid]=f,e[f]=y,e.pop();for(let x=0,v=r;x!==v;++x){const _=i[x],b=_[f],w=_[g];_[d]=b,_[f]=w,_.pop()}}else{const f=--o,m=e[f];f>0&&(n[m.uuid]=d),e[d]=m,e.pop();for(let g=0,y=r;g!==y;++g){const x=i[g];x[d]=x[f],x.pop()}}}this.nCachedObjects_=s}subscribe_(e,n){const i=this._bindingsIndicesByPath;let r=i[e];const s=this._bindings;if(r!==void 0)return s[r];const o=this._paths,a=this._parsedPaths,l=this._objects,c=l.length,u=this.nCachedObjects_,d=new Array(c);r=s.length,i[e]=r,o.push(e),a.push(n),s.push(d);for(let f=u,m=l.length;f!==m;++f){const g=l[f];d[f]=new un(g,e,n)}return d}unsubscribe_(e){const n=this._bindingsIndicesByPath,i=n[e];if(i!==void 0){const r=this._paths,s=this._parsedPaths,o=this._bindings,a=o.length-1,l=o[a],c=e[a];n[c]=i,o[i]=l,o.pop(),s[i]=s[a],s.pop(),r[i]=r[a],r.pop()}}}class xG{constructor(e,n,i=null,r=n.blendMode){this._mixer=e,this._clip=n,this._localRoot=i,this.blendMode=r;const s=n.tracks,o=s.length,a=new Array(o),l={endingStart:gd,endingEnd:gd};for(let c=0;c!==o;++c){const u=s[c].createInterpolant(null);a[c]=u,u.settings=l}this._interpolantSettings=l,this._interpolants=a,this._propertyBindings=new Array(o),this._cacheIndex=null,this._byClipCacheIndex=null,this._timeScaleInterpolant=null,this._weightInterpolant=null,this.loop=n6,this._loopCount=-1,this._startTime=null,this.time=0,this.timeScale=1,this._effectiveTimeScale=1,this.weight=1,this._effectiveWeight=1,this.repetitions=1/0,this.paused=!1,this.enabled=!0,this.clampWhenFinished=!1,this.zeroSlopeAtStart=!0,this.zeroSlopeAtEnd=!0}play(){return this._mixer._activateAction(this),this}stop(){return this._mixer._deactivateAction(this),this.reset()}reset(){return this.paused=!1,this.enabled=!0,this.time=0,this._loopCount=-1,this._startTime=null,this.stopFading().stopWarping()}isRunning(){return this.enabled&&!this.paused&&this.timeScale!==0&&this._startTime===null&&this._mixer._isActiveAction(this)}isScheduled(){return this._mixer._isActiveAction(this)}startAt(e){return this._startTime=e,this}setLoop(e,n){return this.loop=e,this.repetitions=n,this}setEffectiveWeight(e){return this.weight=e,this._effectiveWeight=this.enabled?e:0,this.stopFading()}getEffectiveWeight(){return this._effectiveWeight}fadeIn(e){return this._scheduleFading(e,0,1)}fadeOut(e){return this._scheduleFading(e,1,0)}crossFadeFrom(e,n,i){if(e.fadeOut(n),this.fadeIn(n),i){const r=this._clip.duration,s=e._clip.duration,o=s/r,a=r/s;e.warp(1,o,n),this.warp(a,1,n)}return this}crossFadeTo(e,n,i){return e.crossFadeFrom(this,n,i)}stopFading(){const e=this._weightInterpolant;return e!==null&&(this._weightInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}setEffectiveTimeScale(e){return this.timeScale=e,this._effectiveTimeScale=this.paused?0:e,this.stopWarping()}getEffectiveTimeScale(){return this._effectiveTimeScale}setDuration(e){return this.timeScale=this._clip.duration/e,this.stopWarping()}syncWith(e){return this.time=e.time,this.timeScale=e.timeScale,this.stopWarping()}halt(e){return this.warp(this._effectiveTimeScale,0,e)}warp(e,n,i){const r=this._mixer,s=r.time,o=this.timeScale;let a=this._timeScaleInterpolant;a===null&&(a=r._lendControlInterpolant(),this._timeScaleInterpolant=a);const l=a.parameterPositions,c=a.sampleValues;return l[0]=s,l[1]=s+i,c[0]=e/o,c[1]=n/o,this}stopWarping(){const e=this._timeScaleInterpolant;return e!==null&&(this._timeScaleInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}getMixer(){return this._mixer}getClip(){return this._clip}getRoot(){return this._localRoot||this._mixer._root}_update(e,n,i,r){if(!this.enabled){this._updateWeight(e);return}const s=this._startTime;if(s!==null){const l=(e-s)*i;l<0||i===0?n=0:(this._startTime=null,n=i*l)}n*=this._updateTimeScale(e);const o=this._updateTime(n),a=this._updateWeight(e);if(a>0){const l=this._interpolants,c=this._propertyBindings;switch(this.blendMode){case qk:for(let u=0,d=l.length;u!==d;++u)l[u].evaluate(o),c[u].accumulateAdditive(a);break;case Dw:default:for(let u=0,d=l.length;u!==d;++u)l[u].evaluate(o),c[u].accumulate(r,a)}}}_updateWeight(e){let n=0;if(this.enabled){n=this.weight;const i=this._weightInterpolant;if(i!==null){const r=i.evaluate(e)[0];n*=r,e>i.parameterPositions[1]&&(this.stopFading(),r===0&&(this.enabled=!1))}}return this._effectiveWeight=n,n}_updateTimeScale(e){let n=0;if(!this.paused){n=this.timeScale;const i=this._timeScaleInterpolant;if(i!==null){const r=i.evaluate(e)[0];n*=r,e>i.parameterPositions[1]&&(this.stopWarping(),n===0?this.paused=!0:this.timeScale=n)}}return this._effectiveTimeScale=n,n}_updateTime(e){const n=this._clip.duration,i=this.loop;let r=this.time+e,s=this._loopCount;const o=i===i6;if(e===0)return s===-1?r:o&&(s&1)===1?n-r:r;if(i===t6){s===-1&&(this._loopCount=0,this._setEndings(!0,!0,!1));e:{if(r>=n)r=n;else if(r<0)r=0;else{this.time=r;break e}this.clampWhenFinished?this.paused=!0:this.enabled=!1,this.time=r,this._mixer.dispatchEvent({type:"finished",action:this,direction:e<0?-1:1})}}else{if(s===-1&&(e>=0?(s=0,this._setEndings(!0,this.repetitions===0,o)):this._setEndings(this.repetitions===0,!0,o)),r>=n||r<0){const a=Math.floor(r/n);r-=n*a,s+=Math.abs(a);const l=this.repetitions-s;if(l<=0)this.clampWhenFinished?this.paused=!0:this.enabled=!1,r=e>0?n:0,this.time=r,this._mixer.dispatchEvent({type:"finished",action:this,direction:e>0?1:-1});else{if(l===1){const c=e<0;this._setEndings(c,!c,o)}else this._setEndings(!1,!1,o);this._loopCount=s,this.time=r,this._mixer.dispatchEvent({type:"loop",action:this,loopDelta:a})}}else this.time=r;if(o&&(s&1)===1)return n-r}return r}_setEndings(e,n,i){const r=this._interpolantSettings;i?(r.endingStart=vd,r.endingEnd=vd):(e?r.endingStart=this.zeroSlopeAtStart?vd:gd:r.endingStart=lv,n?r.endingEnd=this.zeroSlopeAtEnd?vd:gd:r.endingEnd=lv)}_scheduleFading(e,n,i){const r=this._mixer,s=r.time;let o=this._weightInterpolant;o===null&&(o=r._lendControlInterpolant(),this._weightInterpolant=o);const a=o.parameterPositions,l=o.sampleValues;return a[0]=s,l[0]=n,a[1]=s+e,l[1]=i,this}}const dye=new Float32Array(1);class fye extends lo{constructor(e){super(),this._root=e,this._initMemoryManager(),this._accuIndex=0,this.time=0,this.timeScale=1}_bindAction(e,n){const i=e._localRoot||this._root,r=e._clip.tracks,s=r.length,o=e._propertyBindings,a=e._interpolants,l=i.uuid,c=this._bindingsByRootAndName;let u=c[l];u===void 0&&(u={},c[l]=u);for(let d=0;d!==s;++d){const f=r[d],m=f.name;let g=u[m];if(g!==void 0)++g.referenceCount,o[d]=g;else{if(g=o[d],g!==void 0){g._cacheIndex===null&&(++g.referenceCount,this._addInactiveBinding(g,l,m));continue}const y=n&&n._propertyBindings[d].binding.parsedPath;g=new yG(un.create(i,m,y),f.ValueTypeName,f.getValueSize()),++g.referenceCount,this._addInactiveBinding(g,l,m),o[d]=g}a[d].resultBuffer=g.buffer}}_activateAction(e){if(!this._isActiveAction(e)){if(e._cacheIndex===null){const i=(e._localRoot||this._root).uuid,r=e._clip.uuid,s=this._actionsByClip[r];this._bindAction(e,s&&s.knownActions[0]),this._addInactiveAction(e,r,i)}const n=e._propertyBindings;for(let i=0,r=n.length;i!==r;++i){const s=n[i];s.useCount++===0&&(this._lendBinding(s),s.saveOriginalState())}this._lendAction(e)}}_deactivateAction(e){if(this._isActiveAction(e)){const n=e._propertyBindings;for(let i=0,r=n.length;i!==r;++i){const s=n[i];--s.useCount===0&&(s.restoreOriginalState(),this._takeBackBinding(s))}this._takeBackAction(e)}}_initMemoryManager(){this._actions=[],this._nActiveActions=0,this._actionsByClip={},this._bindings=[],this._nActiveBindings=0,this._bindingsByRootAndName={},this._controlInterpolants=[],this._nActiveControlInterpolants=0;const e=this;this.stats={actions:{get total(){return e._actions.length},get inUse(){return e._nActiveActions}},bindings:{get total(){return e._bindings.length},get inUse(){return e._nActiveBindings}},controlInterpolants:{get total(){return e._controlInterpolants.length},get inUse(){return e._nActiveControlInterpolants}}}}_isActiveAction(e){const n=e._cacheIndex;return n!==null&&n<this._nActiveActions}_addInactiveAction(e,n,i){const r=this._actions,s=this._actionsByClip;let o=s[n];if(o===void 0)o={knownActions:[e],actionByRoot:{}},e._byClipCacheIndex=0,s[n]=o;else{const a=o.knownActions;e._byClipCacheIndex=a.length,a.push(e)}e._cacheIndex=r.length,r.push(e),o.actionByRoot[i]=e}_removeInactiveAction(e){const n=this._actions,i=n[n.length-1],r=e._cacheIndex;i._cacheIndex=r,n[r]=i,n.pop(),e._cacheIndex=null;const s=e._clip.uuid,o=this._actionsByClip,a=o[s],l=a.knownActions,c=l[l.length-1],u=e._byClipCacheIndex;c._byClipCacheIndex=u,l[u]=c,l.pop(),e._byClipCacheIndex=null;const d=a.actionByRoot,f=(e._localRoot||this._root).uuid;delete d[f],l.length===0&&delete o[s],this._removeInactiveBindingsForAction(e)}_removeInactiveBindingsForAction(e){const n=e._propertyBindings;for(let i=0,r=n.length;i!==r;++i){const s=n[i];--s.referenceCount===0&&this._removeInactiveBinding(s)}}_lendAction(e){const n=this._actions,i=e._cacheIndex,r=this._nActiveActions++,s=n[r];e._cacheIndex=r,n[r]=e,s._cacheIndex=i,n[i]=s}_takeBackAction(e){const n=this._actions,i=e._cacheIndex,r=--this._nActiveActions,s=n[r];e._cacheIndex=r,n[r]=e,s._cacheIndex=i,n[i]=s}_addInactiveBinding(e,n,i){const r=this._bindingsByRootAndName,s=this._bindings;let o=r[n];o===void 0&&(o={},r[n]=o),o[i]=e,e._cacheIndex=s.length,s.push(e)}_removeInactiveBinding(e){const n=this._bindings,i=e.binding,r=i.rootNode.uuid,s=i.path,o=this._bindingsByRootAndName,a=o[r],l=n[n.length-1],c=e._cacheIndex;l._cacheIndex=c,n[c]=l,n.pop(),delete a[s],Object.keys(a).length===0&&delete o[r]}_lendBinding(e){const n=this._bindings,i=e._cacheIndex,r=this._nActiveBindings++,s=n[r];e._cacheIndex=r,n[r]=e,s._cacheIndex=i,n[i]=s}_takeBackBinding(e){const n=this._bindings,i=e._cacheIndex,r=--this._nActiveBindings,s=n[r];e._cacheIndex=r,n[r]=e,s._cacheIndex=i,n[i]=s}_lendControlInterpolant(){const e=this._controlInterpolants,n=this._nActiveControlInterpolants++;let i=e[n];return i===void 0&&(i=new vI(new Float32Array(2),new Float32Array(2),1,dye),i.__cacheIndex=n,e[n]=i),i}_takeBackControlInterpolant(e){const n=this._controlInterpolants,i=e.__cacheIndex,r=--this._nActiveControlInterpolants,s=n[r];e.__cacheIndex=r,n[r]=e,s.__cacheIndex=i,n[i]=s}clipAction(e,n,i){const r=n||this._root,s=r.uuid;let o=typeof e=="string"?_v.findByName(r,e):e;const a=o!==null?o.uuid:e,l=this._actionsByClip[a];let c=null;if(i===void 0&&(o!==null?i=o.blendMode:i=Dw),l!==void 0){const d=l.actionByRoot[s];if(d!==void 0&&d.blendMode===i)return d;c=l.knownActions[0],o===null&&(o=c._clip)}if(o===null)return null;const u=new xG(this,o,n,i);return this._bindAction(u,c),this._addInactiveAction(u,a,s),u}existingAction(e,n){const i=n||this._root,r=i.uuid,s=typeof e=="string"?_v.findByName(i,e):e,o=s?s.uuid:e,a=this._actionsByClip[o];return a!==void 0&&a.actionByRoot[r]||null}stopAllAction(){const e=this._actions,n=this._nActiveActions;for(let i=n-1;i>=0;--i)e[i].stop();return this}update(e){e*=this.timeScale;const n=this._actions,i=this._nActiveActions,r=this.time+=e,s=Math.sign(e),o=this._accuIndex^=1;for(let c=0;c!==i;++c)n[c]._update(r,e,s,o);const a=this._bindings,l=this._nActiveBindings;for(let c=0;c!==l;++c)a[c].apply(o);return this}setTime(e){this.time=0;for(let n=0;n<this._actions.length;n++)this._actions[n].time=0;return this.update(e)}getRoot(){return this._root}uncacheClip(e){const n=this._actions,i=e.uuid,r=this._actionsByClip,s=r[i];if(s!==void 0){const o=s.knownActions;for(let a=0,l=o.length;a!==l;++a){const c=o[a];this._deactivateAction(c);const u=c._cacheIndex,d=n[n.length-1];c._cacheIndex=null,c._byClipCacheIndex=null,d._cacheIndex=u,n[u]=d,n.pop(),this._removeInactiveBindingsForAction(c)}delete r[i]}}uncacheRoot(e){const n=e.uuid,i=this._actionsByClip;for(const o in i){const a=i[o].actionByRoot,l=a[n];l!==void 0&&(this._deactivateAction(l),this._removeInactiveAction(l))}const r=this._bindingsByRootAndName,s=r[n];if(s!==void 0)for(const o in s){const a=s[o];a.restoreOriginalState(),this._removeInactiveBinding(a)}}uncacheAction(e,n){const i=this.existingAction(e,n);i!==null&&(this._deactivateAction(i),this._removeInactiveAction(i))}}class sn{constructor(e){this.value=e}clone(){return new sn(this.value.clone===void 0?this.value:this.value.clone())}}let hye=0;class pye extends lo{constructor(){super(),this.isUniformsGroup=!0,Object.defineProperty(this,"id",{value:hye++}),this.name="",this.usage=fv,this.uniforms=[]}add(e){return this.uniforms.push(e),this}remove(e){const n=this.uniforms.indexOf(e);return n!==-1&&this.uniforms.splice(n,1),this}setName(e){return this.name=e,this}setUsage(e){return this.usage=e,this}dispose(){return this.dispatchEvent({type:"dispose"}),this}copy(e){this.name=e.name,this.usage=e.usage;const n=e.uniforms;this.uniforms.length=0;for(let i=0,r=n.length;i<r;i++)this.uniforms.push(n[i].clone());return this}clone(){return new this.constructor().copy(this)}}class mye extends Vw{constructor(e,n,i=1){super(e,n),this.isInstancedInterleavedBuffer=!0,this.meshPerAttribute=i}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}clone(e){const n=super.clone(e);return n.meshPerAttribute=this.meshPerAttribute,n}toJSON(e){const n=super.toJSON(e);return n.isInstancedInterleavedBuffer=!0,n.meshPerAttribute=this.meshPerAttribute,n}}class gye{constructor(e,n,i,r,s){this.isGLBufferAttribute=!0,this.name="",this.buffer=e,this.type=n,this.itemSize=i,this.elementSize=r,this.count=s,this.version=0}set needsUpdate(e){e===!0&&this.version++}setBuffer(e){return this.buffer=e,this}setType(e,n){return this.type=e,this.elementSize=n,this}setItemSize(e){return this.itemSize=e,this}setCount(e){return this.count=e,this}}class _G{constructor(e,n,i=0,r=1/0){this.ray=new am(e,n),this.near=i,this.far=r,this.camera=null,this.layers=new zd,this.params={Mesh:{},Line:{threshold:1},LOD:{},Points:{threshold:1},Sprite:{}}}set(e,n){this.ray.set(e,n)}setFromCamera(e,n){n.isPerspectiveCamera?(this.ray.origin.setFromMatrixPosition(n.matrixWorld),this.ray.direction.set(e.x,e.y,.5).unproject(n).sub(this.ray.origin).normalize(),this.camera=n):n.isOrthographicCamera?(this.ray.origin.set(e.x,e.y,(n.near+n.far)/(n.near-n.far)).unproject(n),this.ray.direction.set(0,0,-1).transformDirection(n.matrixWorld),this.camera=n):console.error("THREE.Raycaster: Unsupported camera type: "+n.type)}intersectObject(e,n=!0,i=[]){return KR(e,this,i,n),i.sort(Mz),i}intersectObjects(e,n=!0,i=[]){for(let r=0,s=e.length;r<s;r++)KR(e[r],this,i,n);return i.sort(Mz),i}}function Mz(t,e){return t.distance-e.distance}function KR(t,e,n,i){if(t.layers.test(e.layers)&&t.raycast(e,n),i===!0){const r=t.children;for(let s=0,o=r.length;s<o;s++)KR(r[s],e,n,!0)}}class vye{constructor(e=1,n=0,i=0){return this.radius=e,this.phi=n,this.theta=i,this}set(e,n,i){return this.radius=e,this.phi=n,this.theta=i,this}copy(e){return this.radius=e.radius,this.phi=e.phi,this.theta=e.theta,this}makeSafe(){return this.phi=Math.max(1e-6,Math.min(Math.PI-1e-6,this.phi)),this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,n,i){return this.radius=Math.sqrt(e*e+n*n+i*i),this.radius===0?(this.theta=0,this.phi=0):(this.theta=Math.atan2(e,i),this.phi=Math.acos(Si(n/this.radius,-1,1))),this}clone(){return new this.constructor().copy(this)}}class yye{constructor(e=1,n=0,i=0){return this.radius=e,this.theta=n,this.y=i,this}set(e,n,i){return this.radius=e,this.theta=n,this.y=i,this}copy(e){return this.radius=e.radius,this.theta=e.theta,this.y=e.y,this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,n,i){return this.radius=Math.sqrt(e*e+i*i),this.theta=Math.atan2(e,i),this.y=n,this}clone(){return new this.constructor().copy(this)}}const Ez=new Ae;class xye{constructor(e=new Ae(1/0,1/0),n=new Ae(-1/0,-1/0)){this.isBox2=!0,this.min=e,this.max=n}set(e,n){return this.min.copy(e),this.max.copy(n),this}setFromPoints(e){this.makeEmpty();for(let n=0,i=e.length;n<i;n++)this.expandByPoint(e[n]);return this}setFromCenterAndSize(e,n){const i=Ez.copy(n).multiplyScalar(.5);return this.min.copy(e).sub(i),this.max.copy(e).add(i),this}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=1/0,this.max.x=this.max.y=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y}getCenter(e){return this.isEmpty()?e.set(0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}containsPoint(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y)}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y}getParameter(e,n){return n.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y))}intersectsBox(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y)}clampPoint(e,n){return n.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return this.clampPoint(e,Ez).distanceTo(e)}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}const Tz=new W,B_=new W;class _ye{constructor(e=new W,n=new W){this.start=e,this.end=n}set(e,n){return this.start.copy(e),this.end.copy(n),this}copy(e){return this.start.copy(e.start),this.end.copy(e.end),this}getCenter(e){return e.addVectors(this.start,this.end).multiplyScalar(.5)}delta(e){return e.subVectors(this.end,this.start)}distanceSq(){return this.start.distanceToSquared(this.end)}distance(){return this.start.distanceTo(this.end)}at(e,n){return this.delta(n).multiplyScalar(e).add(this.start)}closestPointToPointParameter(e,n){Tz.subVectors(e,this.start),B_.subVectors(this.end,this.start);const i=B_.dot(B_);let s=B_.dot(Tz)/i;return n&&(s=Si(s,0,1)),s}closestPointToPoint(e,n,i){const r=this.closestPointToPointParameter(e,n);return this.delta(i).multiplyScalar(r).add(this.start)}applyMatrix4(e){return this.start.applyMatrix4(e),this.end.applyMatrix4(e),this}equals(e){return e.start.equals(this.start)&&e.end.equals(this.end)}clone(){return new this.constructor().copy(this)}}const Cz=new W;class bye extends xn{constructor(e,n){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=n,this.type="SpotLightHelper";const i=new $t,r=[0,0,0,0,0,1,0,0,0,1,0,1,0,0,0,-1,0,1,0,0,0,0,1,1,0,0,0,0,-1,1];for(let o=0,a=1,l=32;o<l;o++,a++){const c=o/l*Math.PI*2,u=a/l*Math.PI*2;r.push(Math.cos(c),Math.sin(c),1,Math.cos(u),Math.sin(u),1)}i.setAttribute("position",new bt(r,3));const s=new ds({fog:!1,toneMapped:!1});this.cone=new Qa(i,s),this.add(this.cone),this.update()}dispose(){this.cone.geometry.dispose(),this.cone.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1);const e=this.light.distance?this.light.distance:1e3,n=e*Math.tan(this.light.angle);this.cone.scale.set(n,n,e),Cz.setFromMatrixPosition(this.light.target.matrixWorld),this.cone.lookAt(Cz),this.color!==void 0?this.cone.material.color.set(this.color):this.cone.material.color.copy(this.light.color)}}const pc=new W,H_=new Ut,iC=new Ut;class Sye extends Qa{constructor(e){const n=bG(e),i=new $t,r=[],s=[],o=new Be(0,0,1),a=new Be(0,1,0);for(let c=0;c<n.length;c++){const u=n[c];u.parent&&u.parent.isBone&&(r.push(0,0,0),r.push(0,0,0),s.push(o.r,o.g,o.b),s.push(a.r,a.g,a.b))}i.setAttribute("position",new bt(r,3)),i.setAttribute("color",new bt(s,3));const l=new ds({vertexColors:!0,depthTest:!1,depthWrite:!1,toneMapped:!1,transparent:!0});super(i,l),this.isSkeletonHelper=!0,this.type="SkeletonHelper",this.root=e,this.bones=n,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1}updateMatrixWorld(e){const n=this.bones,i=this.geometry,r=i.getAttribute("position");iC.copy(this.root.matrixWorld).invert();for(let s=0,o=0;s<n.length;s++){const a=n[s];a.parent&&a.parent.isBone&&(H_.multiplyMatrices(iC,a.matrixWorld),pc.setFromMatrixPosition(H_),r.setXYZ(o,pc.x,pc.y,pc.z),H_.multiplyMatrices(iC,a.parent.matrixWorld),pc.setFromMatrixPosition(H_),r.setXYZ(o+1,pc.x,pc.y,pc.z),o+=2)}i.getAttribute("position").needsUpdate=!0,super.updateMatrixWorld(e)}dispose(){this.geometry.dispose(),this.material.dispose()}}function bG(t){const e=[];t.isBone===!0&&e.push(t);for(let n=0;n<t.children.length;n++)e.push.apply(e,bG(t.children[n]));return e}class wye extends Hi{constructor(e,n,i){const r=new fy(n,4,2),s=new Eu({wireframe:!0,fog:!1,toneMapped:!1});super(r,s),this.light=e,this.color=i,this.type="PointLightHelper",this.matrix=this.light.matrixWorld,this.matrixAutoUpdate=!1,this.update()}dispose(){this.geometry.dispose(),this.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.color!==void 0?this.material.color.set(this.color):this.material.color.copy(this.light.color)}}const Mye=new W,Rz=new Be,Az=new Be;class Eye extends xn{constructor(e,n,i){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=i,this.type="HemisphereLightHelper";const r=new dy(n);r.rotateY(Math.PI*.5),this.material=new Eu({wireframe:!0,fog:!1,toneMapped:!1}),this.color===void 0&&(this.material.vertexColors=!0);const s=r.getAttribute("position"),o=new Float32Array(s.count*3);r.setAttribute("color",new hn(o,3)),this.add(new Hi(r,this.material)),this.update()}dispose(){this.children[0].geometry.dispose(),this.children[0].material.dispose()}update(){const e=this.children[0];if(this.color!==void 0)this.material.color.set(this.color);else{const n=e.geometry.getAttribute("color");Rz.copy(this.light.color),Az.copy(this.light.groundColor);for(let i=0,r=n.count;i<r;i++){const s=i<r/2?Rz:Az;n.setXYZ(i,s.r,s.g,s.b)}n.needsUpdate=!0}this.light.updateWorldMatrix(!0,!1),e.lookAt(Mye.setFromMatrixPosition(this.light.matrixWorld).negate())}}class Tye extends Qa{constructor(e=10,n=10,i=4473924,r=8947848){i=new Be(i),r=new Be(r);const s=n/2,o=e/n,a=e/2,l=[],c=[];for(let f=0,m=0,g=-a;f<=n;f++,g+=o){l.push(-a,0,g,a,0,g),l.push(g,0,-a,g,0,a);const y=f===s?i:r;y.toArray(c,m),m+=3,y.toArray(c,m),m+=3,y.toArray(c,m),m+=3,y.toArray(c,m),m+=3}const u=new $t;u.setAttribute("position",new bt(l,3)),u.setAttribute("color",new bt(c,3));const d=new ds({vertexColors:!0,toneMapped:!1});super(u,d),this.type="GridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}}class Cye extends Qa{constructor(e=10,n=16,i=8,r=64,s=4473924,o=8947848){s=new Be(s),o=new Be(o);const a=[],l=[];if(n>1)for(let d=0;d<n;d++){const f=d/n*(Math.PI*2),m=Math.sin(f)*e,g=Math.cos(f)*e;a.push(0,0,0),a.push(m,0,g);const y=d&1?s:o;l.push(y.r,y.g,y.b),l.push(y.r,y.g,y.b)}for(let d=0;d<i;d++){const f=d&1?s:o,m=e-e/i*d;for(let g=0;g<r;g++){let y=g/r*(Math.PI*2),x=Math.sin(y)*m,v=Math.cos(y)*m;a.push(x,0,v),l.push(f.r,f.g,f.b),y=(g+1)/r*(Math.PI*2),x=Math.sin(y)*m,v=Math.cos(y)*m,a.push(x,0,v),l.push(f.r,f.g,f.b)}}const c=new $t;c.setAttribute("position",new bt(a,3)),c.setAttribute("color",new bt(l,3));const u=new ds({vertexColors:!0,toneMapped:!1});super(c,u),this.type="PolarGridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}}const Pz=new W,V_=new W,kz=new W;class Rye extends xn{constructor(e,n,i){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=i,this.type="DirectionalLightHelper",n===void 0&&(n=1);let r=new $t;r.setAttribute("position",new bt([-n,n,0,n,n,0,n,-n,0,-n,-n,0,-n,n,0],3));const s=new ds({fog:!1,toneMapped:!1});this.lightPlane=new hu(r,s),this.add(this.lightPlane),r=new $t,r.setAttribute("position",new bt([0,0,0,0,0,1],3)),this.targetLine=new hu(r,s),this.add(this.targetLine),this.update()}dispose(){this.lightPlane.geometry.dispose(),this.lightPlane.material.dispose(),this.targetLine.geometry.dispose(),this.targetLine.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1),Pz.setFromMatrixPosition(this.light.matrixWorld),V_.setFromMatrixPosition(this.light.target.matrixWorld),kz.subVectors(V_,Pz),this.lightPlane.lookAt(V_),this.color!==void 0?(this.lightPlane.material.color.set(this.color),this.targetLine.material.color.set(this.color)):(this.lightPlane.material.color.copy(this.light.color),this.targetLine.material.color.copy(this.light.color)),this.targetLine.lookAt(V_),this.targetLine.scale.z=kz.length()}}const j_=new W,gi=new lm;class Aye extends Qa{constructor(e){const n=new $t,i=new ds({color:16777215,vertexColors:!0,toneMapped:!1}),r=[],s=[],o={};a("n1","n2"),a("n2","n4"),a("n4","n3"),a("n3","n1"),a("f1","f2"),a("f2","f4"),a("f4","f3"),a("f3","f1"),a("n1","f1"),a("n2","f2"),a("n3","f3"),a("n4","f4"),a("p","n1"),a("p","n2"),a("p","n3"),a("p","n4"),a("u1","u2"),a("u2","u3"),a("u3","u1"),a("c","t"),a("p","c"),a("cn1","cn2"),a("cn3","cn4"),a("cf1","cf2"),a("cf3","cf4");function a(g,y){l(g),l(y)}function l(g){r.push(0,0,0),s.push(0,0,0),o[g]===void 0&&(o[g]=[]),o[g].push(r.length/3-1)}n.setAttribute("position",new bt(r,3)),n.setAttribute("color",new bt(s,3)),super(n,i),this.type="CameraHelper",this.camera=e,this.camera.updateProjectionMatrix&&this.camera.updateProjectionMatrix(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.pointMap=o,this.update();const c=new Be(16755200),u=new Be(16711680),d=new Be(43775),f=new Be(16777215),m=new Be(3355443);this.setColors(c,u,d,f,m)}setColors(e,n,i,r,s){const a=this.geometry.getAttribute("color");a.setXYZ(0,e.r,e.g,e.b),a.setXYZ(1,e.r,e.g,e.b),a.setXYZ(2,e.r,e.g,e.b),a.setXYZ(3,e.r,e.g,e.b),a.setXYZ(4,e.r,e.g,e.b),a.setXYZ(5,e.r,e.g,e.b),a.setXYZ(6,e.r,e.g,e.b),a.setXYZ(7,e.r,e.g,e.b),a.setXYZ(8,e.r,e.g,e.b),a.setXYZ(9,e.r,e.g,e.b),a.setXYZ(10,e.r,e.g,e.b),a.setXYZ(11,e.r,e.g,e.b),a.setXYZ(12,e.r,e.g,e.b),a.setXYZ(13,e.r,e.g,e.b),a.setXYZ(14,e.r,e.g,e.b),a.setXYZ(15,e.r,e.g,e.b),a.setXYZ(16,e.r,e.g,e.b),a.setXYZ(17,e.r,e.g,e.b),a.setXYZ(18,e.r,e.g,e.b),a.setXYZ(19,e.r,e.g,e.b),a.setXYZ(20,e.r,e.g,e.b),a.setXYZ(21,e.r,e.g,e.b),a.setXYZ(22,e.r,e.g,e.b),a.setXYZ(23,e.r,e.g,e.b),a.setXYZ(24,n.r,n.g,n.b),a.setXYZ(25,n.r,n.g,n.b),a.setXYZ(26,n.r,n.g,n.b),a.setXYZ(27,n.r,n.g,n.b),a.setXYZ(28,n.r,n.g,n.b),a.setXYZ(29,n.r,n.g,n.b),a.setXYZ(30,n.r,n.g,n.b),a.setXYZ(31,n.r,n.g,n.b),a.setXYZ(32,i.r,i.g,i.b),a.setXYZ(33,i.r,i.g,i.b),a.setXYZ(34,i.r,i.g,i.b),a.setXYZ(35,i.r,i.g,i.b),a.setXYZ(36,i.r,i.g,i.b),a.setXYZ(37,i.r,i.g,i.b),a.setXYZ(38,r.r,r.g,r.b),a.setXYZ(39,r.r,r.g,r.b),a.setXYZ(40,s.r,s.g,s.b),a.setXYZ(41,s.r,s.g,s.b),a.setXYZ(42,s.r,s.g,s.b),a.setXYZ(43,s.r,s.g,s.b),a.setXYZ(44,s.r,s.g,s.b),a.setXYZ(45,s.r,s.g,s.b),a.setXYZ(46,s.r,s.g,s.b),a.setXYZ(47,s.r,s.g,s.b),a.setXYZ(48,s.r,s.g,s.b),a.setXYZ(49,s.r,s.g,s.b),a.needsUpdate=!0}update(){const e=this.geometry,n=this.pointMap,i=1,r=1;gi.projectionMatrixInverse.copy(this.camera.projectionMatrixInverse),Ci("c",n,e,gi,0,0,-1),Ci("t",n,e,gi,0,0,1),Ci("n1",n,e,gi,-i,-r,-1),Ci("n2",n,e,gi,i,-r,-1),Ci("n3",n,e,gi,-i,r,-1),Ci("n4",n,e,gi,i,r,-1),Ci("f1",n,e,gi,-i,-r,1),Ci("f2",n,e,gi,i,-r,1),Ci("f3",n,e,gi,-i,r,1),Ci("f4",n,e,gi,i,r,1),Ci("u1",n,e,gi,i*.7,r*1.1,-1),Ci("u2",n,e,gi,-i*.7,r*1.1,-1),Ci("u3",n,e,gi,0,r*2,-1),Ci("cf1",n,e,gi,-i,0,1),Ci("cf2",n,e,gi,i,0,1),Ci("cf3",n,e,gi,0,-r,1),Ci("cf4",n,e,gi,0,r,1),Ci("cn1",n,e,gi,-i,0,-1),Ci("cn2",n,e,gi,i,0,-1),Ci("cn3",n,e,gi,0,-r,-1),Ci("cn4",n,e,gi,0,r,-1),e.getAttribute("position").needsUpdate=!0}dispose(){this.geometry.dispose(),this.material.dispose()}}function Ci(t,e,n,i,r,s,o){j_.set(r,s,o).unproject(i);const a=e[t];if(a!==void 0){const l=n.getAttribute("position");for(let c=0,u=a.length;c<u;c++)l.setXYZ(a[c],j_.x,j_.y,j_.z)}}const W_=new ss;class Pye extends Qa{constructor(e,n=16776960){const i=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),r=new Float32Array(8*3),s=new $t;s.setIndex(new hn(i,1)),s.setAttribute("position",new hn(r,3)),super(s,new ds({color:n,toneMapped:!1})),this.object=e,this.type="BoxHelper",this.matrixAutoUpdate=!1,this.update()}update(e){if(e!==void 0&&console.warn("THREE.BoxHelper: .update() has no longer arguments."),this.object!==void 0&&W_.setFromObject(this.object),W_.isEmpty())return;const n=W_.min,i=W_.max,r=this.geometry.attributes.position,s=r.array;s[0]=i.x,s[1]=i.y,s[2]=i.z,s[3]=n.x,s[4]=i.y,s[5]=i.z,s[6]=n.x,s[7]=n.y,s[8]=i.z,s[9]=i.x,s[10]=n.y,s[11]=i.z,s[12]=i.x,s[13]=i.y,s[14]=n.z,s[15]=n.x,s[16]=i.y,s[17]=n.z,s[18]=n.x,s[19]=n.y,s[20]=n.z,s[21]=i.x,s[22]=n.y,s[23]=n.z,r.needsUpdate=!0,this.geometry.computeBoundingSphere()}setFromObject(e){return this.object=e,this.update(),this}copy(e,n){return super.copy(e,n),this.object=e.object,this}dispose(){this.geometry.dispose(),this.material.dispose()}}class kye extends Qa{constructor(e,n=16776960){const i=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),r=[1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,-1,-1,1,-1,-1,-1,-1,1,-1,-1],s=new $t;s.setIndex(new hn(i,1)),s.setAttribute("position",new bt(r,3)),super(s,new ds({color:n,toneMapped:!1})),this.box=e,this.type="Box3Helper",this.geometry.computeBoundingSphere()}updateMatrixWorld(e){const n=this.box;n.isEmpty()||(n.getCenter(this.position),n.getSize(this.scale),this.scale.multiplyScalar(.5),super.updateMatrixWorld(e))}dispose(){this.geometry.dispose(),this.material.dispose()}}class Iye extends hu{constructor(e,n=1,i=16776960){const r=i,s=[1,-1,0,-1,1,0,-1,-1,0,1,1,0,-1,1,0,-1,-1,0,1,-1,0,1,1,0],o=new $t;o.setAttribute("position",new bt(s,3)),o.computeBoundingSphere(),super(o,new ds({color:r,toneMapped:!1})),this.type="PlaneHelper",this.plane=e,this.size=n;const a=[1,1,0,-1,1,0,-1,-1,0,1,1,0,-1,-1,0,1,-1,0],l=new $t;l.setAttribute("position",new bt(a,3)),l.computeBoundingSphere(),this.add(new Hi(l,new Eu({color:r,opacity:.2,transparent:!0,depthWrite:!1,toneMapped:!1})))}updateMatrixWorld(e){this.position.set(0,0,0),this.scale.set(.5*this.size,.5*this.size,1),this.lookAt(this.plane.normal),this.translateZ(-this.plane.constant),super.updateMatrixWorld(e)}dispose(){this.geometry.dispose(),this.material.dispose(),this.children[0].geometry.dispose(),this.children[0].material.dispose()}}const Iz=new W;let G_,rC;class Lye extends xn{constructor(e=new W(0,0,1),n=new W(0,0,0),i=1,r=16776960,s=i*.2,o=s*.2){super(),this.type="ArrowHelper",G_===void 0&&(G_=new $t,G_.setAttribute("position",new bt([0,0,0,0,1,0],3)),rC=new um(0,.5,1,5,1),rC.translate(0,-.5,0)),this.position.copy(n),this.line=new hu(G_,new ds({color:r,toneMapped:!1})),this.line.matrixAutoUpdate=!1,this.add(this.line),this.cone=new Hi(rC,new Eu({color:r,toneMapped:!1})),this.cone.matrixAutoUpdate=!1,this.add(this.cone),this.setDirection(e),this.setLength(i,s,o)}setDirection(e){if(e.y>.99999)this.quaternion.set(0,0,0,1);else if(e.y<-.99999)this.quaternion.set(1,0,0,0);else{Iz.set(e.z,0,-e.x).normalize();const n=Math.acos(e.y);this.quaternion.setFromAxisAngle(Iz,n)}}setLength(e,n=e*.2,i=n*.2){this.line.scale.set(1,Math.max(1e-4,e-n),1),this.line.updateMatrix(),this.cone.scale.set(i,n,i),this.cone.position.y=e,this.cone.updateMatrix()}setColor(e){this.line.material.color.set(e),this.cone.material.color.set(e)}copy(e){return super.copy(e,!1),this.line.copy(e.line),this.cone.copy(e.cone),this}dispose(){this.line.geometry.dispose(),this.line.material.dispose(),this.cone.geometry.dispose(),this.cone.material.dispose()}}class Dye extends Qa{constructor(e=1){const n=[0,0,0,e,0,0,0,0,0,0,e,0,0,0,0,0,0,e],i=[1,0,0,1,.6,0,0,1,0,.6,1,0,0,0,1,0,.6,1],r=new $t;r.setAttribute("position",new bt(n,3)),r.setAttribute("color",new bt(i,3));const s=new ds({vertexColors:!0,toneMapped:!1});super(r,s),this.type="AxesHelper"}setColors(e,n,i){const r=new Be,s=this.geometry.attributes.color.array;return r.set(e),r.toArray(s,0),r.toArray(s,3),r.set(n),r.toArray(s,6),r.toArray(s,9),r.set(i),r.toArray(s,12),r.toArray(s,15),this.geometry.attributes.color.needsUpdate=!0,this}dispose(){this.geometry.dispose(),this.material.dispose()}}class Oye{constructor(){this.type="ShapePath",this.color=new Be,this.subPaths=[],this.currentPath=null}moveTo(e,n){return this.currentPath=new pv,this.subPaths.push(this.currentPath),this.currentPath.moveTo(e,n),this}lineTo(e,n){return this.currentPath.lineTo(e,n),this}quadraticCurveTo(e,n,i,r){return this.currentPath.quadraticCurveTo(e,n,i,r),this}bezierCurveTo(e,n,i,r,s,o){return this.currentPath.bezierCurveTo(e,n,i,r,s,o),this}splineThru(e){return this.currentPath.splineThru(e),this}toShapes(e){function n(v){const _=[];for(let b=0,w=v.length;b<w;b++){const C=v[b],T=new Bd;T.curves=C.curves,_.push(T)}return _}function i(v,_){const b=_.length;let w=!1;for(let C=b-1,T=0;T<b;C=T++){let R=_[C],I=_[T],A=I.x-R.x,L=I.y-R.y;if(Math.abs(L)>Number.EPSILON){if(L<0&&(R=_[T],A=-A,I=_[C],L=-L),v.y<R.y||v.y>I.y)continue;if(v.y===R.y){if(v.x===R.x)return!0}else{const O=L*(v.x-R.x)-A*(v.y-R.y);if(O===0)return!0;if(O<0)continue;w=!w}}else{if(v.y!==R.y)continue;if(I.x<=v.x&&v.x<=R.x||R.x<=v.x&&v.x<=I.x)return!0}}return w}const r=ja.isClockWise,s=this.subPaths;if(s.length===0)return[];let o,a,l;const c=[];if(s.length===1)return a=s[0],l=new Bd,l.curves=a.curves,c.push(l),c;let u=!r(s[0].getPoints());u=e?!u:u;const d=[],f=[];let m=[],g=0,y;f[g]=void 0,m[g]=[];for(let v=0,_=s.length;v<_;v++)a=s[v],y=a.getPoints(),o=r(y),o=e?!o:o,o?(!u&&f[g]&&g++,f[g]={s:new Bd,p:y},f[g].s.curves=a.curves,u&&g++,m[g]=[]):m[g].push({h:a,p:y[0]});if(!f[0])return n(s);if(f.length>1){let v=!1,_=0;for(let b=0,w=f.length;b<w;b++)d[b]=[];for(let b=0,w=f.length;b<w;b++){const C=m[b];for(let T=0;T<C.length;T++){const R=C[T];let I=!0;for(let A=0;A<f.length;A++)i(R.p,f[A].p)&&(b!==A&&_++,I?(I=!1,d[A].push(R)):v=!0);I&&d[b].push(R)}}_>0&&v===!1&&(m=d)}let x;for(let v=0,_=f.length;v<_;v++){l=f[v].s,c.push(l),x=m[v];for(let b=0,w=x.length;b<w;b++)l.holes.push(x[b].h)}return c}}typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:pf}}));typeof window<"u"&&(window.__THREE__?console.warn("WARNING: Multiple instances of Three.js being imported."):window.__THREE__=pf);const Nye=Object.freeze(Object.defineProperty({__proto__:null,ACESFilmicToneMapping:Bk,AddEquation:Rc,AddOperation:HW,AdditiveAnimationBlendMode:qk,AdditiveBlending:cR,AlphaFormat:qW,AlwaysCompare:d6,AlwaysDepth:Fk,AlwaysStencilFunc:BR,AmbientLight:dG,AnimationAction:xG,AnimationClip:_v,AnimationLoader:zve,AnimationMixer:fye,AnimationObjectGroup:uye,AnimationUtils:Dve,ArcCurve:F6,ArrayCamera:C6,ArrowHelper:Lye,AttachedBindMode:pR,Audio:vG,AudioAnalyser:eye,AudioContext:bI,AudioListener:Qve,AudioLoader:Yve,AxesHelper:Dye,BackSide:Zi,BasicDepthPacking:la,BasicShadowMap:wW,BatchedMesh:D6,Bone:oI,BooleanKeyframeTrack:gf,Box2:xye,Box3:ss,Box3Helper:kye,BoxGeometry:mf,BoxHelper:Pye,BufferAttribute:hn,BufferGeometry:$t,BufferGeometryLoader:gG,ByteType:XW,Cache:tf,Camera:lm,CameraHelper:Aye,CanvasTexture:rve,CapsuleGeometry:$w,CatmullRomCurve3:z6,CineonToneMapping:WW,CircleGeometry:Xw,ClampToEdgeWrapping:jr,Clock:SI,Color:Be,ColorKeyframeTrack:yI,ColorManagement:An,CompressedArrayTexture:nve,CompressedCubeTexture:ive,CompressedTexture:Ww,CompressedTextureLoader:Uve,ConeGeometry:Yw,ConstantAlphaFactor:zW,ConstantColorFactor:NW,CubeCamera:y6,CubeReflectionMapping:Wl,CubeRefractionMapping:cu,CubeTexture:sy,CubeTextureLoader:Bve,CubeUVReflectionMapping:om,CubicBezierCurve:cI,CubicBezierCurve3:U6,CubicInterpolant:iG,CullFaceBack:lR,CullFaceFront:SW,CullFaceFrontBack:$de,CullFaceNone:bW,Curve:ua,CurvePath:H6,CustomBlending:MW,CustomToneMapping:GW,CylinderGeometry:um,Cylindrical:yye,Data3DTexture:Jk,DataArrayTexture:Fw,DataTexture:Ud,DataTextureLoader:Hve,DataUtils:nhe,DecrementStencilOp:rfe,DecrementWrapStencilOp:ofe,DefaultLoadingManager:oG,DepthFormat:eu,DepthStencilFormat:fu,DepthTexture:cy,DetachedBindMode:$W,DirectionalLight:uG,DirectionalLightHelper:Rye,DiscreteInterpolant:rG,DisplayP3ColorSpace:Nw,DodecahedronGeometry:qw,DoubleSide:Es,DstAlphaFactor:kW,DstColorFactor:LW,DynamicCopyUsage:bfe,DynamicDrawUsage:mfe,DynamicReadUsage:yfe,EdgesGeometry:V6,EllipseCurve:Gw,EqualCompare:a6,EqualDepth:nv,EqualStencilFunc:ufe,EquirectangularReflectionMapping:iv,EquirectangularRefractionMapping:rv,Euler:Ya,EventDispatcher:lo,ExtrudeGeometry:Qw,FileLoader:Gl,Float16BufferAttribute:lhe,Float32BufferAttribute:bt,Float64BufferAttribute:che,FloatType:eo,Fog:Hw,FogExp2:Bw,FramebufferTexture:tve,FrontSide:$a,Frustum:oy,GLBufferAttribute:gye,GLSL1:wfe,GLSL3:HR,GreaterCompare:l6,GreaterDepth:Uk,GreaterEqualCompare:u6,GreaterEqualDepth:zk,GreaterEqualStencilFunc:pfe,GreaterStencilFunc:ffe,GridHelper:Tye,Group:Gh,HalfFloatType:du,HemisphereLight:aG,HemisphereLightHelper:Eye,IcosahedronGeometry:Zw,ImageBitmapLoader:Xve,ImageLoader:bv,ImageUtils:Zk,IncrementStencilOp:ife,IncrementWrapStencilOp:sfe,InstancedBufferAttribute:jp,InstancedBufferGeometry:mG,InstancedInterleavedBuffer:mye,InstancedMesh:L6,Int16BufferAttribute:ohe,Int32BufferAttribute:ahe,Int8BufferAttribute:ihe,IntType:Vk,InterleavedBuffer:Vw,InterleavedBufferAttribute:Jd,Interpolant:hy,InterpolateDiscrete:ov,InterpolateLinear:av,InterpolateSmooth:jb,InvertStencilOp:afe,KeepStencilOp:id,KeyframeTrack:da,LOD:k6,LatheGeometry:uy,Layers:zd,LessCompare:o6,LessDepth:V1,LessEqualCompare:Kk,LessEqualDepth:zp,LessEqualStencilFunc:dfe,LessStencilFunc:cfe,Light:Cu,LightProbe:pG,Line:hu,Line3:_ye,LineBasicMaterial:ds,LineCurve:uI,LineCurve3:B6,LineDashedMaterial:eG,LineLoop:O6,LineSegments:Qa,LinearDisplayP3ColorSpace:ry,LinearEncoding:iy,LinearFilter:Bn,LinearInterpolant:vI,LinearMipMapLinearFilter:Qde,LinearMipMapNearestFilter:Kde,LinearMipmapLinearFilter:uu,LinearMipmapNearestFilter:Hk,LinearSRGBColorSpace:Xa,LinearToneMapping:VW,LinearTransfer:cv,Loader:Fs,LoaderUtils:qR,LoadingManager:xI,LoopOnce:t6,LoopPingPong:i6,LoopRepeat:n6,LuminanceAlphaFormat:QW,LuminanceFormat:KW,MOUSE:Wde,Material:ir,MaterialLoader:oM,MathUtils:zfe,Matrix3:Jt,Matrix4:Ut,MaxEquation:hR,Mesh:Hi,MeshBasicMaterial:Eu,MeshDepthMaterial:Uw,MeshDistanceMaterial:iI,MeshLambertMaterial:Z6,MeshMatcapMaterial:J6,MeshNormalMaterial:mI,MeshPhongMaterial:K6,MeshPhysicalMaterial:q6,MeshStandardMaterial:pI,MeshToonMaterial:Q6,MinEquation:fR,MirroredRepeatWrapping:sv,MixOperation:BW,MultiplyBlending:dR,MultiplyOperation:ny,NearestFilter:Un,NearestMipMapLinearFilter:qde,NearestMipMapNearestFilter:Yde,NearestMipmapLinearFilter:m0,NearestMipmapNearestFilter:j1,NeverCompare:s6,NeverDepth:Nk,NeverStencilFunc:lfe,NoBlending:Er,NoColorSpace:Zs,NoToneMapping:Ha,NormalAnimationBlendMode:Dw,NormalBlending:Nd,NotEqualCompare:c6,NotEqualDepth:kw,NotEqualStencilFunc:hfe,NumberKeyframeTrack:yv,Object3D:xn,ObjectLoader:Gve,ObjectSpaceNormalMap:r6,OctahedronGeometry:dy,OneFactor:RW,OneMinusConstantAlphaFactor:UW,OneMinusConstantColorFactor:FW,OneMinusDstAlphaFactor:IW,OneMinusDstColorFactor:DW,OneMinusSrcAlphaFactor:H1,OneMinusSrcColorFactor:PW,OrthographicCamera:ly,P3Primaries:dv,PCFShadowMap:Pw,PCFSoftShadowMap:p0,PMREMGenerator:jR,Path:pv,PerspectiveCamera:zi,Plane:Mc,PlaneGeometry:ay,PlaneHelper:Iye,PointLight:cG,PointLightHelper:wye,Points:N6,PointsMaterial:aI,PolarGridHelper:Cye,PolyhedronGeometry:Tu,PositionalAudio:Jve,PropertyBinding:un,PropertyMixer:yG,QuadraticBezierCurve:dI,QuadraticBezierCurve3:fI,Quaternion:Is,QuaternionKeyframeTrack:dm,QuaternionLinearInterpolant:sG,RED_GREEN_RGTC2_Format:zR,RED_RGTC1_Format:e6,REVISION:pf,RGBADepthPacking:Ow,RGBAFormat:is,RGBAIntegerFormat:Xk,RGBA_ASTC_10x10_Format:IR,RGBA_ASTC_10x5_Format:AR,RGBA_ASTC_10x6_Format:PR,RGBA_ASTC_10x8_Format:kR,RGBA_ASTC_12x10_Format:LR,RGBA_ASTC_12x12_Format:DR,RGBA_ASTC_4x4_Format:bR,RGBA_ASTC_5x4_Format:SR,RGBA_ASTC_5x5_Format:wR,RGBA_ASTC_6x5_Format:MR,RGBA_ASTC_6x6_Format:ER,RGBA_ASTC_8x5_Format:TR,RGBA_ASTC_8x6_Format:CR,RGBA_ASTC_8x8_Format:RR,RGBA_BPTC_Format:Vb,RGBA_ETC2_EAC_Format:_R,RGBA_PVRTC_2BPPV1_Format:yR,RGBA_PVRTC_4BPPV1_Format:vR,RGBA_S3TC_DXT1_Format:Ub,RGBA_S3TC_DXT3_Format:Bb,RGBA_S3TC_DXT5_Format:Hb,RGB_BPTC_SIGNED_Format:OR,RGB_BPTC_UNSIGNED_Format:NR,RGB_ETC1_Format:Yk,RGB_ETC2_Format:xR,RGB_PVRTC_2BPPV1_Format:gR,RGB_PVRTC_4BPPV1_Format:mR,RGB_S3TC_DXT1_Format:zb,RGFormat:JW,RGIntegerFormat:$k,RawShaderMaterial:Y6,Ray:am,Raycaster:_G,Rec709Primaries:uv,RectAreaLight:fG,RedFormat:ZW,RedIntegerFormat:Gk,ReinhardToneMapping:jW,RenderTarget:p6,RepeatWrapping:wr,ReplaceStencilOp:nfe,ReverseSubtractEquation:TW,RingGeometry:Jw,SIGNED_RED_GREEN_RGTC2_Format:UR,SIGNED_RED_RGTC1_Format:FR,SRGBColorSpace:qi,SRGBTransfer:jn,Scene:Vp,ShaderChunk:Yt,ShaderLib:ea,ShaderMaterial:er,ShadowMaterial:X6,Shape:Bd,ShapeGeometry:eM,ShapePath:Oye,ShapeUtils:ja,ShortType:YW,Skeleton:jw,SkeletonHelper:Sye,SkinnedMesh:I6,Source:yd,Sphere:$r,SphereGeometry:fy,Spherical:vye,SphericalHarmonics3:hG,SplineCurve:hI,SpotLight:lG,SpotLightHelper:bye,Sprite:P6,SpriteMaterial:sI,SrcAlphaFactor:B1,SrcAlphaSaturateFactor:OW,SrcColorFactor:AW,StaticCopyUsage:_fe,StaticDrawUsage:fv,StaticReadUsage:vfe,StereoCamera:qve,StreamCopyUsage:Sfe,StreamDrawUsage:gfe,StreamReadUsage:xfe,StringKeyframeTrack:vf,SubtractEquation:EW,SubtractiveBlending:uR,TOUCH:Gde,TangentSpaceNormalMap:Mu,TetrahedronGeometry:tM,Texture:ni,TextureLoader:sM,TorusGeometry:nM,TorusKnotGeometry:iM,Triangle:ws,TriangleFanDrawMode:efe,TriangleStripDrawMode:Jde,TrianglesDrawMode:Zde,TubeGeometry:rM,TwoPassDoubleSide:Xde,UVMapping:Iw,Uint16BufferAttribute:eI,Uint32BufferAttribute:tI,Uint8BufferAttribute:rhe,Uint8ClampedBufferAttribute:she,Uniform:sn,UniformsGroup:pye,UniformsLib:et,UniformsUtils:v6,UnsignedByteType:mr,UnsignedInt248Type:Ol,UnsignedIntType:Na,UnsignedShort4444Type:jk,UnsignedShort5551Type:Wk,UnsignedShortType:Lw,VSMShadowMap:qo,Vector2:Ae,Vector3:W,Vector4:wn,VectorKeyframeTrack:xv,VideoTexture:eve,WebGL1Renderer:R6,WebGL3DRenderTarget:Wfe,WebGLArrayRenderTarget:jfe,WebGLCoordinateSystem:na,WebGLCubeRenderTarget:x6,WebGLMultipleRenderTargets:Gfe,WebGLRenderTarget:ii,WebGLRenderer:rI,WebGLUtils:T6,WebGPUCoordinateSystem:Up,WireframeGeometry:$6,WrapAroundEnding:lv,ZeroCurvatureEnding:gd,ZeroFactor:CW,ZeroSlopeEnding:vd,ZeroStencilOp:tfe,_SRGBAFormat:W1,createCanvasElement:h6,sRGBEncoding:Va},Symbol.toStringTag,{value:"Module"}));var SG={exports:{}},yf={};/**
 * @license React
 * react-reconciler-constants.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */yf.ConcurrentRoot=1;yf.ContinuousEventPriority=4;yf.DefaultEventPriority=16;yf.DiscreteEventPriority=1;yf.IdleEventPriority=536870912;yf.LegacyRoot=0;SG.exports=yf;var Xh=SG.exports;function Fye(t){let e;const n=new Set,i=(c,u)=>{const d=typeof c=="function"?c(e):c;if(d!==e){const f=e;e=u?d:Object.assign({},e,d),n.forEach(m=>m(e,f))}},r=()=>e,s=(c,u=r,d=Object.is)=>{console.warn("[DEPRECATED] Please use `subscribeWithSelector` middleware");let f=u(e);function m(){const g=u(e);if(!d(f,g)){const y=f;c(f=g,y)}}return n.add(m),()=>n.delete(m)},l={setState:i,getState:r,subscribe:(c,u,d)=>u||d?s(c,u,d):(n.add(c),()=>n.delete(c)),destroy:()=>n.clear()};return e=t(i,r,l),l}const zye=typeof window>"u"||!window.navigator||/ServerSideRendering|^Deno\//.test(window.navigator.userAgent),Lz=zye?k.useEffect:k.useLayoutEffect;function Uye(t){const e=typeof t=="function"?Fye(t):t,n=(i=e.getState,r=Object.is)=>{const[,s]=k.useReducer(x=>x+1,0),o=e.getState(),a=k.useRef(o),l=k.useRef(i),c=k.useRef(r),u=k.useRef(!1),d=k.useRef();d.current===void 0&&(d.current=i(o));let f,m=!1;(a.current!==o||l.current!==i||c.current!==r||u.current)&&(f=i(o),m=!r(d.current,f)),Lz(()=>{m&&(d.current=f),a.current=o,l.current=i,c.current=r,u.current=!1});const g=k.useRef(o);Lz(()=>{const x=()=>{try{const _=e.getState(),b=l.current(_);c.current(d.current,b)||(a.current=_,d.current=b,s())}catch{u.current=!0,s()}},v=e.subscribe(x);return e.getState()!==g.current&&x(),v},[]);const y=m?f:d.current;return k.useDebugValue(y),y};return Object.assign(n,e),n[Symbol.iterator]=function(){console.warn("[useStore, api] = create() is deprecated and will be removed in v4");const i=[n,e];return{next(){const r=i.length<=0;return{value:i.shift(),done:r}}}},n}var wG={exports:{}},sC={exports:{}},oC={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Dz;function Bye(){return Dz||(Dz=1,function(t){function e(N,B){var j=N.length;N.push(B);e:for(;0<j;){var te=j-1>>>1,se=N[te];if(0<r(se,B))N[te]=B,N[j]=se,j=te;else break e}}function n(N){return N.length===0?null:N[0]}function i(N){if(N.length===0)return null;var B=N[0],j=N.pop();if(j!==B){N[0]=j;e:for(var te=0,se=N.length,ne=se>>>1;te<ne;){var ae=2*(te+1)-1,xe=N[ae],Ee=ae+1,Oe=N[Ee];if(0>r(xe,j))Ee<se&&0>r(Oe,xe)?(N[te]=Oe,N[Ee]=j,te=Ee):(N[te]=xe,N[ae]=j,te=ae);else if(Ee<se&&0>r(Oe,j))N[te]=Oe,N[Ee]=j,te=Ee;else break e}}return B}function r(N,B){var j=N.sortIndex-B.sortIndex;return j!==0?j:N.id-B.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],c=[],u=1,d=null,f=3,m=!1,g=!1,y=!1,x=typeof setTimeout=="function"?setTimeout:null,v=typeof clearTimeout=="function"?clearTimeout:null,_=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function b(N){for(var B=n(c);B!==null;){if(B.callback===null)i(c);else if(B.startTime<=N)i(c),B.sortIndex=B.expirationTime,e(l,B);else break;B=n(c)}}function w(N){if(y=!1,b(N),!g)if(n(l)!==null)g=!0,Q(C);else{var B=n(c);B!==null&&J(w,B.startTime-N)}}function C(N,B){g=!1,y&&(y=!1,v(I),I=-1),m=!0;var j=f;try{for(b(B),d=n(l);d!==null&&(!(d.expirationTime>B)||N&&!O());){var te=d.callback;if(typeof te=="function"){d.callback=null,f=d.priorityLevel;var se=te(d.expirationTime<=B);B=t.unstable_now(),typeof se=="function"?d.callback=se:d===n(l)&&i(l),b(B)}else i(l);d=n(l)}if(d!==null)var ne=!0;else{var ae=n(c);ae!==null&&J(w,ae.startTime-B),ne=!1}return ne}finally{d=null,f=j,m=!1}}var T=!1,R=null,I=-1,A=5,L=-1;function O(){return!(t.unstable_now()-L<A)}function H(){if(R!==null){var N=t.unstable_now();L=N;var B=!0;try{B=R(!0,N)}finally{B?q():(T=!1,R=null)}}else T=!1}var q;if(typeof _=="function")q=function(){_(H)};else if(typeof MessageChannel<"u"){var U=new MessageChannel,G=U.port2;U.port1.onmessage=H,q=function(){G.postMessage(null)}}else q=function(){x(H,0)};function Q(N){R=N,T||(T=!0,q())}function J(N,B){I=x(function(){N(t.unstable_now())},B)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(N){N.callback=null},t.unstable_continueExecution=function(){g||m||(g=!0,Q(C))},t.unstable_forceFrameRate=function(N){0>N||125<N?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<N?Math.floor(1e3/N):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(N){switch(f){case 1:case 2:case 3:var B=3;break;default:B=f}var j=f;f=B;try{return N()}finally{f=j}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(N,B){switch(N){case 1:case 2:case 3:case 4:case 5:break;default:N=3}var j=f;f=N;try{return B()}finally{f=j}},t.unstable_scheduleCallback=function(N,B,j){var te=t.unstable_now();switch(typeof j=="object"&&j!==null?(j=j.delay,j=typeof j=="number"&&0<j?te+j:te):j=te,N){case 1:var se=-1;break;case 2:se=250;break;case 5:se=1073741823;break;case 4:se=1e4;break;default:se=5e3}return se=j+se,N={id:u++,callback:B,priorityLevel:N,startTime:j,expirationTime:se,sortIndex:-1},j>te?(N.sortIndex=j,e(c,N),n(l)===null&&N===n(c)&&(y?(v(I),I=-1):y=!0,J(w,j-te))):(N.sortIndex=se,e(l,N),g||m||(g=!0,Q(C))),N},t.unstable_shouldYield=O,t.unstable_wrapCallback=function(N){var B=f;return function(){var j=f;f=B;try{return N.apply(this,arguments)}finally{f=j}}}}(oC)),oC}var Oz;function Hye(){return Oz||(Oz=1,sC.exports=Bye()),sC.exports}/**
 * @license React
 * react-reconciler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Vye=function(e){var n={},i=k,r=Hye(),s=Object.assign;function o(h){for(var p="https://reactjs.org/docs/error-decoder.html?invariant="+h,S=1;S<arguments.length;S++)p+="&args[]="+encodeURIComponent(arguments[S]);return"Minified React error #"+h+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var a=i.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,l=Symbol.for("react.element"),c=Symbol.for("react.portal"),u=Symbol.for("react.fragment"),d=Symbol.for("react.strict_mode"),f=Symbol.for("react.profiler"),m=Symbol.for("react.provider"),g=Symbol.for("react.context"),y=Symbol.for("react.forward_ref"),x=Symbol.for("react.suspense"),v=Symbol.for("react.suspense_list"),_=Symbol.for("react.memo"),b=Symbol.for("react.lazy"),w=Symbol.for("react.offscreen"),C=Symbol.iterator;function T(h){return h===null||typeof h!="object"?null:(h=C&&h[C]||h["@@iterator"],typeof h=="function"?h:null)}function R(h){if(h==null)return null;if(typeof h=="function")return h.displayName||h.name||null;if(typeof h=="string")return h;switch(h){case u:return"Fragment";case c:return"Portal";case f:return"Profiler";case d:return"StrictMode";case x:return"Suspense";case v:return"SuspenseList"}if(typeof h=="object")switch(h.$$typeof){case g:return(h.displayName||"Context")+".Consumer";case m:return(h._context.displayName||"Context")+".Provider";case y:var p=h.render;return h=h.displayName,h||(h=p.displayName||p.name||"",h=h!==""?"ForwardRef("+h+")":"ForwardRef"),h;case _:return p=h.displayName||null,p!==null?p:R(h.type)||"Memo";case b:p=h._payload,h=h._init;try{return R(h(p))}catch{}}return null}function I(h){var p=h.type;switch(h.tag){case 24:return"Cache";case 9:return(p.displayName||"Context")+".Consumer";case 10:return(p._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return h=p.render,h=h.displayName||h.name||"",p.displayName||(h!==""?"ForwardRef("+h+")":"ForwardRef");case 7:return"Fragment";case 5:return p;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return R(p);case 8:return p===d?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof p=="function")return p.displayName||p.name||null;if(typeof p=="string")return p}return null}function A(h){var p=h,S=h;if(h.alternate)for(;p.return;)p=p.return;else{h=p;do p=h,p.flags&4098&&(S=p.return),h=p.return;while(h)}return p.tag===3?S:null}function L(h){if(A(h)!==h)throw Error(o(188))}function O(h){var p=h.alternate;if(!p){if(p=A(h),p===null)throw Error(o(188));return p!==h?null:h}for(var S=h,E=p;;){var P=S.return;if(P===null)break;var D=P.alternate;if(D===null){if(E=P.return,E!==null){S=E;continue}break}if(P.child===D.child){for(D=P.child;D;){if(D===S)return L(P),h;if(D===E)return L(P),p;D=D.sibling}throw Error(o(188))}if(S.return!==E.return)S=P,E=D;else{for(var K=!1,le=P.child;le;){if(le===S){K=!0,S=P,E=D;break}if(le===E){K=!0,E=P,S=D;break}le=le.sibling}if(!K){for(le=D.child;le;){if(le===S){K=!0,S=D,E=P;break}if(le===E){K=!0,E=D,S=P;break}le=le.sibling}if(!K)throw Error(o(189))}}if(S.alternate!==E)throw Error(o(190))}if(S.tag!==3)throw Error(o(188));return S.stateNode.current===S?h:p}function H(h){return h=O(h),h!==null?q(h):null}function q(h){if(h.tag===5||h.tag===6)return h;for(h=h.child;h!==null;){var p=q(h);if(p!==null)return p;h=h.sibling}return null}function U(h){if(h.tag===5||h.tag===6)return h;for(h=h.child;h!==null;){if(h.tag!==4){var p=U(h);if(p!==null)return p}h=h.sibling}return null}var G=Array.isArray,Q=e.getPublicInstance,J=e.getRootHostContext,N=e.getChildHostContext,B=e.prepareForCommit,j=e.resetAfterCommit,te=e.createInstance,se=e.appendInitialChild,ne=e.finalizeInitialChildren,ae=e.prepareUpdate,xe=e.shouldSetTextContent,Ee=e.createTextInstance,Oe=e.scheduleTimeout,ut=e.cancelTimeout,qe=e.noTimeout,Xe=e.isPrimaryRenderer,Ie=e.supportsMutation,Z=e.supportsPersistence,_e=e.supportsHydration,de=e.getInstanceFromNode,be=e.preparePortalMount,Pe=e.getCurrentEventPriority,Ke=e.detachDeletedInstance,ze=e.supportsMicrotasks,Ge=e.scheduleMicrotask,Ye=e.supportsTestSelectors,st=e.findFiberRoot,Xt=e.getBoundingRect,$=e.getTextContent,F=e.isHiddenSubtree,ee=e.matchAccessibilityRole,fe=e.setFocusIfFocusable,he=e.setupIntersectionObserver,me=e.appendChild,we=e.appendChildToContainer,Le=e.commitTextUpdate,De=e.commitMount,Qe=e.commitUpdate,Ne=e.insertBefore,Ce=e.insertInContainerBefore,wt=e.removeChild,pt=e.removeChildFromContainer,Mt=e.resetTextContent,Et=e.hideInstance,ft=e.hideTextInstance,Vt=e.unhideInstance,oe=e.unhideTextInstance,nt=e.clearContainer,Y=e.cloneInstance,X=e.createContainerChildSet,re=e.appendChildToContainerChildSet,Re=e.finalizeContainerChildren,Fe=e.replaceContainerChildren,xt=e.cloneHiddenInstance,ht=e.cloneHiddenTextInstance,Ze=e.canHydrateInstance,ct=e.canHydrateTextInstance,Pt=e.canHydrateSuspenseInstance,Hn=e.isSuspenseInstancePending,Bt=e.isSuspenseInstanceFallback,ln=e.registerSuspenseInstanceRetry,En=e.getNextHydratableSibling,Mi=e.getFirstHydratableChild,Fn=e.getFirstHydratableChildWithinContainer,Yr=e.getFirstHydratableChildWithinSuspenseInstance,Za=e.hydrateInstance,_n=e.hydrateTextInstance,Tn=e.hydrateSuspenseInstance,V=e.getNextHydratableInstanceAfterSuspenseInstance,ue=e.commitHydratedContainer,pe=e.commitHydratedSuspenseInstance,Se=e.clearSuspenseBoundary,ve=e.clearSuspenseBoundaryFromContainer,ot=e.shouldDeleteUnhydratedTailInstances,We=e.didNotMatchHydratedContainerTextInstance,it=e.didNotMatchHydratedTextInstance,St;function kt(h){if(St===void 0)try{throw Error()}catch(S){var p=S.stack.trim().match(/\n( *(at )?)/);St=p&&p[1]||""}return`
`+St+h}var Ft=!1;function Ht(h,p){if(!h||Ft)return"";Ft=!0;var S=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(p)if(p=function(){throw Error()},Object.defineProperty(p.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(p,[])}catch(He){var E=He}Reflect.construct(h,[],p)}else{try{p.call()}catch(He){E=He}h.call(p.prototype)}else{try{throw Error()}catch(He){E=He}h()}}catch(He){if(He&&E&&typeof He.stack=="string"){for(var P=He.stack.split(`
`),D=E.stack.split(`
`),K=P.length-1,le=D.length-1;1<=K&&0<=le&&P[K]!==D[le];)le--;for(;1<=K&&0<=le;K--,le--)if(P[K]!==D[le]){if(K!==1||le!==1)do if(K--,le--,0>le||P[K]!==D[le]){var Te=`
`+P[K].replace(" at new "," at ");return h.displayName&&Te.includes("<anonymous>")&&(Te=Te.replace("<anonymous>",h.displayName)),Te}while(1<=K&&0<=le);break}}}finally{Ft=!1,Error.prepareStackTrace=S}return(h=h?h.displayName||h.name:"")?kt(h):""}var ri=Object.prototype.hasOwnProperty,yr=[],$n=-1;function rr(h){return{current:h}}function Nt(h){0>$n||(h.current=yr[$n],yr[$n]=null,$n--)}function vt(h,p){$n++,yr[$n]=h.current,h.current=p}var co={},en=rr(co),pi=rr(!1),fa=co;function uo(h,p){var S=h.type.contextTypes;if(!S)return co;var E=h.stateNode;if(E&&E.__reactInternalMemoizedUnmaskedChildContext===p)return E.__reactInternalMemoizedMaskedChildContext;var P={},D;for(D in S)P[D]=p[D];return E&&(h=h.stateNode,h.__reactInternalMemoizedUnmaskedChildContext=p,h.__reactInternalMemoizedMaskedChildContext=P),P}function sr(h){return h=h.childContextTypes,h!=null}function Ei(){Nt(pi),Nt(en)}function ha(h,p,S){if(en.current!==co)throw Error(o(168));vt(en,p),vt(pi,S)}function Mf(h,p,S){var E=h.stateNode;if(p=p.childContextTypes,typeof E.getChildContext!="function")return S;E=E.getChildContext();for(var P in E)if(!(P in p))throw Error(o(108,I(h)||"Unknown",P));return s({},S,E)}function xr(h){return h=(h=h.stateNode)&&h.__reactInternalMemoizedMergedChildContext||co,fa=en.current,vt(en,h),vt(pi,pi.current),!0}function Ef(h,p,S){var E=h.stateNode;if(!E)throw Error(o(169));S?(h=Mf(h,p,fa),E.__reactInternalMemoizedMergedChildContext=h,Nt(pi),Nt(en),vt(en,h)):Nt(pi),vt(pi,S)}var zs=Math.clz32?Math.clz32:Y$,Ry=Math.log,X$=Math.LN2;function Y$(h){return h>>>=0,h===0?32:31-(Ry(h)/X$|0)|0}var Ay=64,Py=4194304;function gm(h){switch(h&-h){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return h&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return h&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return h}}function ky(h,p){var S=h.pendingLanes;if(S===0)return 0;var E=0,P=h.suspendedLanes,D=h.pingedLanes,K=S&268435455;if(K!==0){var le=K&~P;le!==0?E=gm(le):(D&=K,D!==0&&(E=gm(D)))}else K=S&~P,K!==0?E=gm(K):D!==0&&(E=gm(D));if(E===0)return 0;if(p!==0&&p!==E&&!(p&P)&&(P=E&-E,D=p&-p,P>=D||P===16&&(D&4194240)!==0))return p;if(E&4&&(E|=S&16),p=h.entangledLanes,p!==0)for(h=h.entanglements,p&=E;0<p;)S=31-zs(p),P=1<<S,E|=h[S],p&=~P;return E}function q$(h,p){switch(h){case 1:case 2:case 4:return p+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return p+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function K$(h,p){for(var S=h.suspendedLanes,E=h.pingedLanes,P=h.expirationTimes,D=h.pendingLanes;0<D;){var K=31-zs(D),le=1<<K,Te=P[K];Te===-1?(!(le&S)||le&E)&&(P[K]=q$(le,p)):Te<=p&&(h.expiredLanes|=le),D&=~le}}function _M(h){return h=h.pendingLanes&-1073741825,h!==0?h:h&1073741824?1073741824:0}function bM(h){for(var p=[],S=0;31>S;S++)p.push(h);return p}function vm(h,p,S){h.pendingLanes|=p,p!==536870912&&(h.suspendedLanes=0,h.pingedLanes=0),h=h.eventTimes,p=31-zs(p),h[p]=S}function Q$(h,p){var S=h.pendingLanes&~p;h.pendingLanes=p,h.suspendedLanes=0,h.pingedLanes=0,h.expiredLanes&=p,h.mutableReadLanes&=p,h.entangledLanes&=p,p=h.entanglements;var E=h.eventTimes;for(h=h.expirationTimes;0<S;){var P=31-zs(S),D=1<<P;p[P]=0,E[P]=-1,h[P]=-1,S&=~D}}function SM(h,p){var S=h.entangledLanes|=p;for(h=h.entanglements;S;){var E=31-zs(S),P=1<<E;P&p|h[E]&p&&(h[E]|=p),S&=~P}}var pn=0;function cL(h){return h&=-h,1<h?4<h?h&268435455?16:536870912:4:1}var wM=r.unstable_scheduleCallback,uL=r.unstable_cancelCallback,Z$=r.unstable_shouldYield,J$=r.unstable_requestPaint,or=r.unstable_now,MM=r.unstable_ImmediatePriority,e9=r.unstable_UserBlockingPriority,EM=r.unstable_NormalPriority,t9=r.unstable_IdlePriority,Iy=null,pa=null;function n9(h){if(pa&&typeof pa.onCommitFiberRoot=="function")try{pa.onCommitFiberRoot(Iy,h,void 0,(h.current.flags&128)===128)}catch{}}function i9(h,p){return h===p&&(h!==0||1/h===1/p)||h!==h&&p!==p}var ma=typeof Object.is=="function"?Object.is:i9,Ja=null,Ly=!1,TM=!1;function dL(h){Ja===null?Ja=[h]:Ja.push(h)}function r9(h){Ly=!0,dL(h)}function ga(){if(!TM&&Ja!==null){TM=!0;var h=0,p=pn;try{var S=Ja;for(pn=1;h<S.length;h++){var E=S[h];do E=E(!0);while(E!==null)}Ja=null,Ly=!1}catch(P){throw Ja!==null&&(Ja=Ja.slice(h+1)),wM(MM,ga),P}finally{pn=p,TM=!1}}return null}var s9=a.ReactCurrentBatchConfig;function Dy(h,p){if(ma(h,p))return!0;if(typeof h!="object"||h===null||typeof p!="object"||p===null)return!1;var S=Object.keys(h),E=Object.keys(p);if(S.length!==E.length)return!1;for(E=0;E<S.length;E++){var P=S[E];if(!ri.call(p,P)||!ma(h[P],p[P]))return!1}return!0}function o9(h){switch(h.tag){case 5:return kt(h.type);case 16:return kt("Lazy");case 13:return kt("Suspense");case 19:return kt("SuspenseList");case 0:case 2:case 15:return h=Ht(h.type,!1),h;case 11:return h=Ht(h.type.render,!1),h;case 1:return h=Ht(h.type,!0),h;default:return""}}function Vo(h,p){if(h&&h.defaultProps){p=s({},p),h=h.defaultProps;for(var S in h)p[S]===void 0&&(p[S]=h[S]);return p}return p}var Oy=rr(null),Ny=null,Tf=null,CM=null;function RM(){CM=Tf=Ny=null}function fL(h,p,S){Xe?(vt(Oy,p._currentValue),p._currentValue=S):(vt(Oy,p._currentValue2),p._currentValue2=S)}function AM(h){var p=Oy.current;Nt(Oy),Xe?h._currentValue=p:h._currentValue2=p}function PM(h,p,S){for(;h!==null;){var E=h.alternate;if((h.childLanes&p)!==p?(h.childLanes|=p,E!==null&&(E.childLanes|=p)):E!==null&&(E.childLanes&p)!==p&&(E.childLanes|=p),h===S)break;h=h.return}}function Cf(h,p){Ny=h,CM=Tf=null,h=h.dependencies,h!==null&&h.firstContext!==null&&(h.lanes&p&&(Hs=!0),h.firstContext=null)}function fo(h){var p=Xe?h._currentValue:h._currentValue2;if(CM!==h)if(h={context:h,memoizedValue:p,next:null},Tf===null){if(Ny===null)throw Error(o(308));Tf=h,Ny.dependencies={lanes:0,firstContext:h}}else Tf=Tf.next=h;return p}var va=null,Kl=!1;function kM(h){h.updateQueue={baseState:h.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function hL(h,p){h=h.updateQueue,p.updateQueue===h&&(p.updateQueue={baseState:h.baseState,firstBaseUpdate:h.firstBaseUpdate,lastBaseUpdate:h.lastBaseUpdate,shared:h.shared,effects:h.effects})}function el(h,p){return{eventTime:h,lane:p,tag:0,payload:null,callback:null,next:null}}function Ql(h,p){var S=h.updateQueue;S!==null&&(S=S.shared,Di!==null&&h.mode&1&&!(tn&2)?(h=S.interleaved,h===null?(p.next=p,va===null?va=[S]:va.push(S)):(p.next=h.next,h.next=p),S.interleaved=p):(h=S.pending,h===null?p.next=p:(p.next=h.next,h.next=p),S.pending=p))}function Fy(h,p,S){if(p=p.updateQueue,p!==null&&(p=p.shared,(S&4194240)!==0)){var E=p.lanes;E&=h.pendingLanes,S|=E,p.lanes=S,SM(h,S)}}function pL(h,p){var S=h.updateQueue,E=h.alternate;if(E!==null&&(E=E.updateQueue,S===E)){var P=null,D=null;if(S=S.firstBaseUpdate,S!==null){do{var K={eventTime:S.eventTime,lane:S.lane,tag:S.tag,payload:S.payload,callback:S.callback,next:null};D===null?P=D=K:D=D.next=K,S=S.next}while(S!==null);D===null?P=D=p:D=D.next=p}else P=D=p;S={baseState:E.baseState,firstBaseUpdate:P,lastBaseUpdate:D,shared:E.shared,effects:E.effects},h.updateQueue=S;return}h=S.lastBaseUpdate,h===null?S.firstBaseUpdate=p:h.next=p,S.lastBaseUpdate=p}function zy(h,p,S,E){var P=h.updateQueue;Kl=!1;var D=P.firstBaseUpdate,K=P.lastBaseUpdate,le=P.shared.pending;if(le!==null){P.shared.pending=null;var Te=le,He=Te.next;Te.next=null,K===null?D=He:K.next=He,K=Te;var yt=h.alternate;yt!==null&&(yt=yt.updateQueue,le=yt.lastBaseUpdate,le!==K&&(le===null?yt.firstBaseUpdate=He:le.next=He,yt.lastBaseUpdate=Te))}if(D!==null){var jt=P.baseState;K=0,yt=He=Te=null,le=D;do{var Rt=le.lane,zn=le.eventTime;if((E&Rt)===Rt){yt!==null&&(yt=yt.next={eventTime:zn,lane:0,tag:le.tag,payload:le.payload,callback:le.callback,next:null});e:{var Ct=h,kr=le;switch(Rt=p,zn=S,kr.tag){case 1:if(Ct=kr.payload,typeof Ct=="function"){jt=Ct.call(zn,jt,Rt);break e}jt=Ct;break e;case 3:Ct.flags=Ct.flags&-65537|128;case 0:if(Ct=kr.payload,Rt=typeof Ct=="function"?Ct.call(zn,jt,Rt):Ct,Rt==null)break e;jt=s({},jt,Rt);break e;case 2:Kl=!0}}le.callback!==null&&le.lane!==0&&(h.flags|=64,Rt=P.effects,Rt===null?P.effects=[le]:Rt.push(le))}else zn={eventTime:zn,lane:Rt,tag:le.tag,payload:le.payload,callback:le.callback,next:null},yt===null?(He=yt=zn,Te=jt):yt=yt.next=zn,K|=Rt;if(le=le.next,le===null){if(le=P.shared.pending,le===null)break;Rt=le,le=Rt.next,Rt.next=null,P.lastBaseUpdate=Rt,P.shared.pending=null}}while(!0);if(yt===null&&(Te=jt),P.baseState=Te,P.firstBaseUpdate=He,P.lastBaseUpdate=yt,p=P.shared.interleaved,p!==null){P=p;do K|=P.lane,P=P.next;while(P!==p)}else D===null&&(P.shared.lanes=0);Nf|=K,h.lanes=K,h.memoizedState=jt}}function mL(h,p,S){if(h=p.effects,p.effects=null,h!==null)for(p=0;p<h.length;p++){var E=h[p],P=E.callback;if(P!==null){if(E.callback=null,E=S,typeof P!="function")throw Error(o(191,P));P.call(E)}}}var gL=new i.Component().refs;function IM(h,p,S,E){p=h.memoizedState,S=S(E,p),S=S==null?p:s({},p,S),h.memoizedState=S,h.lanes===0&&(h.updateQueue.baseState=S)}var Uy={isMounted:function(h){return(h=h._reactInternals)?A(h)===h:!1},enqueueSetState:function(h,p,S){h=h._reactInternals;var E=Kr(),P=ec(h),D=el(E,P);D.payload=p,S!=null&&(D.callback=S),Ql(h,D),p=vo(h,P,E),p!==null&&Fy(p,h,P)},enqueueReplaceState:function(h,p,S){h=h._reactInternals;var E=Kr(),P=ec(h),D=el(E,P);D.tag=1,D.payload=p,S!=null&&(D.callback=S),Ql(h,D),p=vo(h,P,E),p!==null&&Fy(p,h,P)},enqueueForceUpdate:function(h,p){h=h._reactInternals;var S=Kr(),E=ec(h),P=el(S,E);P.tag=2,p!=null&&(P.callback=p),Ql(h,P),p=vo(h,E,S),p!==null&&Fy(p,h,E)}};function vL(h,p,S,E,P,D,K){return h=h.stateNode,typeof h.shouldComponentUpdate=="function"?h.shouldComponentUpdate(E,D,K):p.prototype&&p.prototype.isPureReactComponent?!Dy(S,E)||!Dy(P,D):!0}function yL(h,p,S){var E=!1,P=co,D=p.contextType;return typeof D=="object"&&D!==null?D=fo(D):(P=sr(p)?fa:en.current,E=p.contextTypes,D=(E=E!=null)?uo(h,P):co),p=new p(S,D),h.memoizedState=p.state!==null&&p.state!==void 0?p.state:null,p.updater=Uy,h.stateNode=p,p._reactInternals=h,E&&(h=h.stateNode,h.__reactInternalMemoizedUnmaskedChildContext=P,h.__reactInternalMemoizedMaskedChildContext=D),p}function xL(h,p,S,E){h=p.state,typeof p.componentWillReceiveProps=="function"&&p.componentWillReceiveProps(S,E),typeof p.UNSAFE_componentWillReceiveProps=="function"&&p.UNSAFE_componentWillReceiveProps(S,E),p.state!==h&&Uy.enqueueReplaceState(p,p.state,null)}function LM(h,p,S,E){var P=h.stateNode;P.props=S,P.state=h.memoizedState,P.refs=gL,kM(h);var D=p.contextType;typeof D=="object"&&D!==null?P.context=fo(D):(D=sr(p)?fa:en.current,P.context=uo(h,D)),P.state=h.memoizedState,D=p.getDerivedStateFromProps,typeof D=="function"&&(IM(h,p,D,S),P.state=h.memoizedState),typeof p.getDerivedStateFromProps=="function"||typeof P.getSnapshotBeforeUpdate=="function"||typeof P.UNSAFE_componentWillMount!="function"&&typeof P.componentWillMount!="function"||(p=P.state,typeof P.componentWillMount=="function"&&P.componentWillMount(),typeof P.UNSAFE_componentWillMount=="function"&&P.UNSAFE_componentWillMount(),p!==P.state&&Uy.enqueueReplaceState(P,P.state,null),zy(h,S,P,E),P.state=h.memoizedState),typeof P.componentDidMount=="function"&&(h.flags|=4194308)}var Rf=[],Af=0,By=null,Hy=0,ho=[],po=0,Au=null,tl=1,nl="";function Pu(h,p){Rf[Af++]=Hy,Rf[Af++]=By,By=h,Hy=p}function _L(h,p,S){ho[po++]=tl,ho[po++]=nl,ho[po++]=Au,Au=h;var E=tl;h=nl;var P=32-zs(E)-1;E&=~(1<<P),S+=1;var D=32-zs(p)+P;if(30<D){var K=P-P%5;D=(E&(1<<K)-1).toString(32),E>>=K,P-=K,tl=1<<32-zs(p)+P|S<<P|E,nl=D+h}else tl=1<<D|S<<P|E,nl=h}function DM(h){h.return!==null&&(Pu(h,1),_L(h,1,0))}function OM(h){for(;h===By;)By=Rf[--Af],Rf[Af]=null,Hy=Rf[--Af],Rf[Af]=null;for(;h===Au;)Au=ho[--po],ho[po]=null,nl=ho[--po],ho[po]=null,tl=ho[--po],ho[po]=null}var Us=null,Bs=null,Zn=!1,ym=!1,jo=null;function bL(h,p){var S=yo(5,null,null,0);S.elementType="DELETED",S.stateNode=p,S.return=h,p=h.deletions,p===null?(h.deletions=[S],h.flags|=16):p.push(S)}function SL(h,p){switch(h.tag){case 5:return p=Ze(p,h.type,h.pendingProps),p!==null?(h.stateNode=p,Us=h,Bs=Mi(p),!0):!1;case 6:return p=ct(p,h.pendingProps),p!==null?(h.stateNode=p,Us=h,Bs=null,!0):!1;case 13:if(p=Pt(p),p!==null){var S=Au!==null?{id:tl,overflow:nl}:null;return h.memoizedState={dehydrated:p,treeContext:S,retryLane:1073741824},S=yo(18,null,null,0),S.stateNode=p,S.return=h,h.child=S,Us=h,Bs=null,!0}return!1;default:return!1}}function NM(h){return(h.mode&1)!==0&&(h.flags&128)===0}function FM(h){if(Zn){var p=Bs;if(p){var S=p;if(!SL(h,p)){if(NM(h))throw Error(o(418));p=En(S);var E=Us;p&&SL(h,p)?bL(E,S):(h.flags=h.flags&-4097|2,Zn=!1,Us=h)}}else{if(NM(h))throw Error(o(418));h.flags=h.flags&-4097|2,Zn=!1,Us=h}}}function wL(h){for(h=h.return;h!==null&&h.tag!==5&&h.tag!==3&&h.tag!==13;)h=h.return;Us=h}function xm(h){if(!_e||h!==Us)return!1;if(!Zn)return wL(h),Zn=!0,!1;if(h.tag!==3&&(h.tag!==5||ot(h.type)&&!xe(h.type,h.memoizedProps))){var p=Bs;if(p){if(NM(h)){for(h=Bs;h;)h=En(h);throw Error(o(418))}for(;p;)bL(h,p),p=En(p)}}if(wL(h),h.tag===13){if(!_e)throw Error(o(316));if(h=h.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(o(317));Bs=V(h)}else Bs=Us?En(h.stateNode):null;return!0}function Pf(){_e&&(Bs=Us=null,ym=Zn=!1)}function zM(h){jo===null?jo=[h]:jo.push(h)}function _m(h,p,S){if(h=S.ref,h!==null&&typeof h!="function"&&typeof h!="object"){if(S._owner){if(S=S._owner,S){if(S.tag!==1)throw Error(o(309));var E=S.stateNode}if(!E)throw Error(o(147,h));var P=E,D=""+h;return p!==null&&p.ref!==null&&typeof p.ref=="function"&&p.ref._stringRef===D?p.ref:(p=function(K){var le=P.refs;le===gL&&(le=P.refs={}),K===null?delete le[D]:le[D]=K},p._stringRef=D,p)}if(typeof h!="string")throw Error(o(284));if(!S._owner)throw Error(o(290,h))}return h}function Vy(h,p){throw h=Object.prototype.toString.call(p),Error(o(31,h==="[object Object]"?"object with keys {"+Object.keys(p).join(", ")+"}":h))}function ML(h){var p=h._init;return p(h._payload)}function EL(h){function p(ge,ce){if(h){var Me=ge.deletions;Me===null?(ge.deletions=[ce],ge.flags|=16):Me.push(ce)}}function S(ge,ce){if(!h)return null;for(;ce!==null;)p(ge,ce),ce=ce.sibling;return null}function E(ge,ce){for(ge=new Map;ce!==null;)ce.key!==null?ge.set(ce.key,ce):ge.set(ce.index,ce),ce=ce.sibling;return ge}function P(ge,ce){return ge=nc(ge,ce),ge.index=0,ge.sibling=null,ge}function D(ge,ce,Me){return ge.index=Me,h?(Me=ge.alternate,Me!==null?(Me=Me.index,Me<ce?(ge.flags|=2,ce):Me):(ge.flags|=2,ce)):(ge.flags|=1048576,ce)}function K(ge){return h&&ge.alternate===null&&(ge.flags|=2),ge}function le(ge,ce,Me,dt){return ce===null||ce.tag!==6?(ce=bE(Me,ge.mode,dt),ce.return=ge,ce):(ce=P(ce,Me),ce.return=ge,ce)}function Te(ge,ce,Me,dt){var Tt=Me.type;return Tt===u?yt(ge,ce,Me.props.children,dt,Me.key):ce!==null&&(ce.elementType===Tt||typeof Tt=="object"&&Tt!==null&&Tt.$$typeof===b&&ML(Tt)===ce.type)?(dt=P(ce,Me.props),dt.ref=_m(ge,ce,Me),dt.return=ge,dt):(dt=xx(Me.type,Me.key,Me.props,null,ge.mode,dt),dt.ref=_m(ge,ce,Me),dt.return=ge,dt)}function He(ge,ce,Me,dt){return ce===null||ce.tag!==4||ce.stateNode.containerInfo!==Me.containerInfo||ce.stateNode.implementation!==Me.implementation?(ce=SE(Me,ge.mode,dt),ce.return=ge,ce):(ce=P(ce,Me.children||[]),ce.return=ge,ce)}function yt(ge,ce,Me,dt,Tt){return ce===null||ce.tag!==7?(ce=Fu(Me,ge.mode,dt,Tt),ce.return=ge,ce):(ce=P(ce,Me),ce.return=ge,ce)}function jt(ge,ce,Me){if(typeof ce=="string"&&ce!==""||typeof ce=="number")return ce=bE(""+ce,ge.mode,Me),ce.return=ge,ce;if(typeof ce=="object"&&ce!==null){switch(ce.$$typeof){case l:return Me=xx(ce.type,ce.key,ce.props,null,ge.mode,Me),Me.ref=_m(ge,null,ce),Me.return=ge,Me;case c:return ce=SE(ce,ge.mode,Me),ce.return=ge,ce;case b:var dt=ce._init;return jt(ge,dt(ce._payload),Me)}if(G(ce)||T(ce))return ce=Fu(ce,ge.mode,Me,null),ce.return=ge,ce;Vy(ge,ce)}return null}function Rt(ge,ce,Me,dt){var Tt=ce!==null?ce.key:null;if(typeof Me=="string"&&Me!==""||typeof Me=="number")return Tt!==null?null:le(ge,ce,""+Me,dt);if(typeof Me=="object"&&Me!==null){switch(Me.$$typeof){case l:return Me.key===Tt?Te(ge,ce,Me,dt):null;case c:return Me.key===Tt?He(ge,ce,Me,dt):null;case b:return Tt=Me._init,Rt(ge,ce,Tt(Me._payload),dt)}if(G(Me)||T(Me))return Tt!==null?null:yt(ge,ce,Me,dt,null);Vy(ge,Me)}return null}function zn(ge,ce,Me,dt,Tt){if(typeof dt=="string"&&dt!==""||typeof dt=="number")return ge=ge.get(Me)||null,le(ce,ge,""+dt,Tt);if(typeof dt=="object"&&dt!==null){switch(dt.$$typeof){case l:return ge=ge.get(dt.key===null?Me:dt.key)||null,Te(ce,ge,dt,Tt);case c:return ge=ge.get(dt.key===null?Me:dt.key)||null,He(ce,ge,dt,Tt);case b:var Zt=dt._init;return zn(ge,ce,Me,Zt(dt._payload),Tt)}if(G(dt)||T(dt))return ge=ge.get(Me)||null,yt(ce,ge,dt,Tt,null);Vy(ce,dt)}return null}function Ct(ge,ce,Me,dt){for(var Tt=null,Zt=null,Wt=ce,mn=ce=0,lr=null;Wt!==null&&mn<Me.length;mn++){Wt.index>mn?(lr=Wt,Wt=null):lr=Wt.sibling;var gn=Rt(ge,Wt,Me[mn],dt);if(gn===null){Wt===null&&(Wt=lr);break}h&&Wt&&gn.alternate===null&&p(ge,Wt),ce=D(gn,ce,mn),Zt===null?Tt=gn:Zt.sibling=gn,Zt=gn,Wt=lr}if(mn===Me.length)return S(ge,Wt),Zn&&Pu(ge,mn),Tt;if(Wt===null){for(;mn<Me.length;mn++)Wt=jt(ge,Me[mn],dt),Wt!==null&&(ce=D(Wt,ce,mn),Zt===null?Tt=Wt:Zt.sibling=Wt,Zt=Wt);return Zn&&Pu(ge,mn),Tt}for(Wt=E(ge,Wt);mn<Me.length;mn++)lr=zn(Wt,ge,mn,Me[mn],dt),lr!==null&&(h&&lr.alternate!==null&&Wt.delete(lr.key===null?mn:lr.key),ce=D(lr,ce,mn),Zt===null?Tt=lr:Zt.sibling=lr,Zt=lr);return h&&Wt.forEach(function(ic){return p(ge,ic)}),Zn&&Pu(ge,mn),Tt}function kr(ge,ce,Me,dt){var Tt=T(Me);if(typeof Tt!="function")throw Error(o(150));if(Me=Tt.call(Me),Me==null)throw Error(o(151));for(var Zt=Tt=null,Wt=ce,mn=ce=0,lr=null,gn=Me.next();Wt!==null&&!gn.done;mn++,gn=Me.next()){Wt.index>mn?(lr=Wt,Wt=null):lr=Wt.sibling;var ic=Rt(ge,Wt,gn.value,dt);if(ic===null){Wt===null&&(Wt=lr);break}h&&Wt&&ic.alternate===null&&p(ge,Wt),ce=D(ic,ce,mn),Zt===null?Tt=ic:Zt.sibling=ic,Zt=ic,Wt=lr}if(gn.done)return S(ge,Wt),Zn&&Pu(ge,mn),Tt;if(Wt===null){for(;!gn.done;mn++,gn=Me.next())gn=jt(ge,gn.value,dt),gn!==null&&(ce=D(gn,ce,mn),Zt===null?Tt=gn:Zt.sibling=gn,Zt=gn);return Zn&&Pu(ge,mn),Tt}for(Wt=E(ge,Wt);!gn.done;mn++,gn=Me.next())gn=zn(Wt,ge,mn,gn.value,dt),gn!==null&&(h&&gn.alternate!==null&&Wt.delete(gn.key===null?mn:gn.key),ce=D(gn,ce,mn),Zt===null?Tt=gn:Zt.sibling=gn,Zt=gn);return h&&Wt.forEach(function(N9){return p(ge,N9)}),Zn&&Pu(ge,mn),Tt}function xo(ge,ce,Me,dt){if(typeof Me=="object"&&Me!==null&&Me.type===u&&Me.key===null&&(Me=Me.props.children),typeof Me=="object"&&Me!==null){switch(Me.$$typeof){case l:e:{for(var Tt=Me.key,Zt=ce;Zt!==null;){if(Zt.key===Tt){if(Tt=Me.type,Tt===u){if(Zt.tag===7){S(ge,Zt.sibling),ce=P(Zt,Me.props.children),ce.return=ge,ge=ce;break e}}else if(Zt.elementType===Tt||typeof Tt=="object"&&Tt!==null&&Tt.$$typeof===b&&ML(Tt)===Zt.type){S(ge,Zt.sibling),ce=P(Zt,Me.props),ce.ref=_m(ge,Zt,Me),ce.return=ge,ge=ce;break e}S(ge,Zt);break}else p(ge,Zt);Zt=Zt.sibling}Me.type===u?(ce=Fu(Me.props.children,ge.mode,dt,Me.key),ce.return=ge,ge=ce):(dt=xx(Me.type,Me.key,Me.props,null,ge.mode,dt),dt.ref=_m(ge,ce,Me),dt.return=ge,ge=dt)}return K(ge);case c:e:{for(Zt=Me.key;ce!==null;){if(ce.key===Zt)if(ce.tag===4&&ce.stateNode.containerInfo===Me.containerInfo&&ce.stateNode.implementation===Me.implementation){S(ge,ce.sibling),ce=P(ce,Me.children||[]),ce.return=ge,ge=ce;break e}else{S(ge,ce);break}else p(ge,ce);ce=ce.sibling}ce=SE(Me,ge.mode,dt),ce.return=ge,ge=ce}return K(ge);case b:return Zt=Me._init,xo(ge,ce,Zt(Me._payload),dt)}if(G(Me))return Ct(ge,ce,Me,dt);if(T(Me))return kr(ge,ce,Me,dt);Vy(ge,Me)}return typeof Me=="string"&&Me!==""||typeof Me=="number"?(Me=""+Me,ce!==null&&ce.tag===6?(S(ge,ce.sibling),ce=P(ce,Me),ce.return=ge,ge=ce):(S(ge,ce),ce=bE(Me,ge.mode,dt),ce.return=ge,ge=ce),K(ge)):S(ge,ce)}return xo}var kf=EL(!0),TL=EL(!1),bm={},mo=rr(bm),Sm=rr(bm),If=rr(bm);function ya(h){if(h===bm)throw Error(o(174));return h}function UM(h,p){vt(If,p),vt(Sm,h),vt(mo,bm),h=J(p),Nt(mo),vt(mo,h)}function Lf(){Nt(mo),Nt(Sm),Nt(If)}function CL(h){var p=ya(If.current),S=ya(mo.current);p=N(S,h.type,p),S!==p&&(vt(Sm,h),vt(mo,p))}function BM(h){Sm.current===h&&(Nt(mo),Nt(Sm))}var si=rr(0);function jy(h){for(var p=h;p!==null;){if(p.tag===13){var S=p.memoizedState;if(S!==null&&(S=S.dehydrated,S===null||Hn(S)||Bt(S)))return p}else if(p.tag===19&&p.memoizedProps.revealOrder!==void 0){if(p.flags&128)return p}else if(p.child!==null){p.child.return=p,p=p.child;continue}if(p===h)break;for(;p.sibling===null;){if(p.return===null||p.return===h)return null;p=p.return}p.sibling.return=p.return,p=p.sibling}return null}var HM=[];function VM(){for(var h=0;h<HM.length;h++){var p=HM[h];Xe?p._workInProgressVersionPrimary=null:p._workInProgressVersionSecondary=null}HM.length=0}var Wy=a.ReactCurrentDispatcher,go=a.ReactCurrentBatchConfig,Df=0,mi=null,Rr=null,ar=null,Gy=!1,wm=!1,Mm=0,a9=0;function Ar(){throw Error(o(321))}function jM(h,p){if(p===null)return!1;for(var S=0;S<p.length&&S<h.length;S++)if(!ma(h[S],p[S]))return!1;return!0}function WM(h,p,S,E,P,D){if(Df=D,mi=p,p.memoizedState=null,p.updateQueue=null,p.lanes=0,Wy.current=h===null||h.memoizedState===null?d9:f9,h=S(E,P),wm){D=0;do{if(wm=!1,Mm=0,25<=D)throw Error(o(301));D+=1,ar=Rr=null,p.updateQueue=null,Wy.current=h9,h=S(E,P)}while(wm)}if(Wy.current=Ky,p=Rr!==null&&Rr.next!==null,Df=0,ar=Rr=mi=null,Gy=!1,p)throw Error(o(300));return h}function GM(){var h=Mm!==0;return Mm=0,h}function il(){var h={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ar===null?mi.memoizedState=ar=h:ar=ar.next=h,ar}function xa(){if(Rr===null){var h=mi.alternate;h=h!==null?h.memoizedState:null}else h=Rr.next;var p=ar===null?mi.memoizedState:ar.next;if(p!==null)ar=p,Rr=h;else{if(h===null)throw Error(o(310));Rr=h,h={memoizedState:Rr.memoizedState,baseState:Rr.baseState,baseQueue:Rr.baseQueue,queue:Rr.queue,next:null},ar===null?mi.memoizedState=ar=h:ar=ar.next=h}return ar}function ku(h,p){return typeof p=="function"?p(h):p}function $y(h){var p=xa(),S=p.queue;if(S===null)throw Error(o(311));S.lastRenderedReducer=h;var E=Rr,P=E.baseQueue,D=S.pending;if(D!==null){if(P!==null){var K=P.next;P.next=D.next,D.next=K}E.baseQueue=P=D,S.pending=null}if(P!==null){D=P.next,E=E.baseState;var le=K=null,Te=null,He=D;do{var yt=He.lane;if((Df&yt)===yt)Te!==null&&(Te=Te.next={lane:0,action:He.action,hasEagerState:He.hasEagerState,eagerState:He.eagerState,next:null}),E=He.hasEagerState?He.eagerState:h(E,He.action);else{var jt={lane:yt,action:He.action,hasEagerState:He.hasEagerState,eagerState:He.eagerState,next:null};Te===null?(le=Te=jt,K=E):Te=Te.next=jt,mi.lanes|=yt,Nf|=yt}He=He.next}while(He!==null&&He!==D);Te===null?K=E:Te.next=le,ma(E,p.memoizedState)||(Hs=!0),p.memoizedState=E,p.baseState=K,p.baseQueue=Te,S.lastRenderedState=E}if(h=S.interleaved,h!==null){P=h;do D=P.lane,mi.lanes|=D,Nf|=D,P=P.next;while(P!==h)}else P===null&&(S.lanes=0);return[p.memoizedState,S.dispatch]}function Xy(h){var p=xa(),S=p.queue;if(S===null)throw Error(o(311));S.lastRenderedReducer=h;var E=S.dispatch,P=S.pending,D=p.memoizedState;if(P!==null){S.pending=null;var K=P=P.next;do D=h(D,K.action),K=K.next;while(K!==P);ma(D,p.memoizedState)||(Hs=!0),p.memoizedState=D,p.baseQueue===null&&(p.baseState=D),S.lastRenderedState=D}return[D,E]}function RL(){}function AL(h,p){var S=mi,E=xa(),P=p(),D=!ma(E.memoizedState,P);if(D&&(E.memoizedState=P,Hs=!0),E=E.queue,Tm(IL.bind(null,S,E,h),[h]),E.getSnapshot!==p||D||ar!==null&&ar.memoizedState.tag&1){if(S.flags|=2048,Em(9,kL.bind(null,S,E,P,p),void 0,null),Di===null)throw Error(o(349));Df&30||PL(S,p,P)}return P}function PL(h,p,S){h.flags|=16384,h={getSnapshot:p,value:S},p=mi.updateQueue,p===null?(p={lastEffect:null,stores:null},mi.updateQueue=p,p.stores=[h]):(S=p.stores,S===null?p.stores=[h]:S.push(h))}function kL(h,p,S,E){p.value=S,p.getSnapshot=E,LL(p)&&vo(h,1,-1)}function IL(h,p,S){return S(function(){LL(p)&&vo(h,1,-1)})}function LL(h){var p=h.getSnapshot;h=h.value;try{var S=p();return!ma(h,S)}catch{return!0}}function $M(h){var p=il();return typeof h=="function"&&(h=h()),p.memoizedState=p.baseState=h,h={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ku,lastRenderedState:h},p.queue=h,h=h.dispatch=u9.bind(null,mi,h),[p.memoizedState,h]}function Em(h,p,S,E){return h={tag:h,create:p,destroy:S,deps:E,next:null},p=mi.updateQueue,p===null?(p={lastEffect:null,stores:null},mi.updateQueue=p,p.lastEffect=h.next=h):(S=p.lastEffect,S===null?p.lastEffect=h.next=h:(E=S.next,S.next=h,h.next=E,p.lastEffect=h)),h}function DL(){return xa().memoizedState}function Yy(h,p,S,E){var P=il();mi.flags|=h,P.memoizedState=Em(1|p,S,void 0,E===void 0?null:E)}function qy(h,p,S,E){var P=xa();E=E===void 0?null:E;var D=void 0;if(Rr!==null){var K=Rr.memoizedState;if(D=K.destroy,E!==null&&jM(E,K.deps)){P.memoizedState=Em(p,S,D,E);return}}mi.flags|=h,P.memoizedState=Em(1|p,S,D,E)}function XM(h,p){return Yy(8390656,8,h,p)}function Tm(h,p){return qy(2048,8,h,p)}function OL(h,p){return qy(4,2,h,p)}function NL(h,p){return qy(4,4,h,p)}function FL(h,p){if(typeof p=="function")return h=h(),p(h),function(){p(null)};if(p!=null)return h=h(),p.current=h,function(){p.current=null}}function zL(h,p,S){return S=S!=null?S.concat([h]):null,qy(4,4,FL.bind(null,p,h),S)}function YM(){}function UL(h,p){var S=xa();p=p===void 0?null:p;var E=S.memoizedState;return E!==null&&p!==null&&jM(p,E[1])?E[0]:(S.memoizedState=[h,p],h)}function BL(h,p){var S=xa();p=p===void 0?null:p;var E=S.memoizedState;return E!==null&&p!==null&&jM(p,E[1])?E[0]:(h=h(),S.memoizedState=[h,p],h)}function l9(h,p){var S=pn;pn=S!==0&&4>S?S:4,h(!0);var E=go.transition;go.transition={};try{h(!1),p()}finally{pn=S,go.transition=E}}function HL(){return xa().memoizedState}function c9(h,p,S){var E=ec(h);S={lane:E,action:S,hasEagerState:!1,eagerState:null,next:null},VL(h)?jL(p,S):(WL(h,p,S),S=Kr(),h=vo(h,E,S),h!==null&&GL(h,p,E))}function u9(h,p,S){var E=ec(h),P={lane:E,action:S,hasEagerState:!1,eagerState:null,next:null};if(VL(h))jL(p,P);else{WL(h,p,P);var D=h.alternate;if(h.lanes===0&&(D===null||D.lanes===0)&&(D=p.lastRenderedReducer,D!==null))try{var K=p.lastRenderedState,le=D(K,S);if(P.hasEagerState=!0,P.eagerState=le,ma(le,K))return}catch{}finally{}S=Kr(),h=vo(h,E,S),h!==null&&GL(h,p,E)}}function VL(h){var p=h.alternate;return h===mi||p!==null&&p===mi}function jL(h,p){wm=Gy=!0;var S=h.pending;S===null?p.next=p:(p.next=S.next,S.next=p),h.pending=p}function WL(h,p,S){Di!==null&&h.mode&1&&!(tn&2)?(h=p.interleaved,h===null?(S.next=S,va===null?va=[p]:va.push(p)):(S.next=h.next,h.next=S),p.interleaved=S):(h=p.pending,h===null?S.next=S:(S.next=h.next,h.next=S),p.pending=S)}function GL(h,p,S){if(S&4194240){var E=p.lanes;E&=h.pendingLanes,S|=E,p.lanes=S,SM(h,S)}}var Ky={readContext:fo,useCallback:Ar,useContext:Ar,useEffect:Ar,useImperativeHandle:Ar,useInsertionEffect:Ar,useLayoutEffect:Ar,useMemo:Ar,useReducer:Ar,useRef:Ar,useState:Ar,useDebugValue:Ar,useDeferredValue:Ar,useTransition:Ar,useMutableSource:Ar,useSyncExternalStore:Ar,useId:Ar,unstable_isNewReconciler:!1},d9={readContext:fo,useCallback:function(h,p){return il().memoizedState=[h,p===void 0?null:p],h},useContext:fo,useEffect:XM,useImperativeHandle:function(h,p,S){return S=S!=null?S.concat([h]):null,Yy(4194308,4,FL.bind(null,p,h),S)},useLayoutEffect:function(h,p){return Yy(4194308,4,h,p)},useInsertionEffect:function(h,p){return Yy(4,2,h,p)},useMemo:function(h,p){var S=il();return p=p===void 0?null:p,h=h(),S.memoizedState=[h,p],h},useReducer:function(h,p,S){var E=il();return p=S!==void 0?S(p):p,E.memoizedState=E.baseState=p,h={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:h,lastRenderedState:p},E.queue=h,h=h.dispatch=c9.bind(null,mi,h),[E.memoizedState,h]},useRef:function(h){var p=il();return h={current:h},p.memoizedState=h},useState:$M,useDebugValue:YM,useDeferredValue:function(h){var p=$M(h),S=p[0],E=p[1];return XM(function(){var P=go.transition;go.transition={};try{E(h)}finally{go.transition=P}},[h]),S},useTransition:function(){var h=$M(!1),p=h[0];return h=l9.bind(null,h[1]),il().memoizedState=h,[p,h]},useMutableSource:function(){},useSyncExternalStore:function(h,p,S){var E=mi,P=il();if(Zn){if(S===void 0)throw Error(o(407));S=S()}else{if(S=p(),Di===null)throw Error(o(349));Df&30||PL(E,p,S)}P.memoizedState=S;var D={value:S,getSnapshot:p};return P.queue=D,XM(IL.bind(null,E,D,h),[h]),E.flags|=2048,Em(9,kL.bind(null,E,D,S,p),void 0,null),S},useId:function(){var h=il(),p=Di.identifierPrefix;if(Zn){var S=nl,E=tl;S=(E&~(1<<32-zs(E)-1)).toString(32)+S,p=":"+p+"R"+S,S=Mm++,0<S&&(p+="H"+S.toString(32)),p+=":"}else S=a9++,p=":"+p+"r"+S.toString(32)+":";return h.memoizedState=p},unstable_isNewReconciler:!1},f9={readContext:fo,useCallback:UL,useContext:fo,useEffect:Tm,useImperativeHandle:zL,useInsertionEffect:OL,useLayoutEffect:NL,useMemo:BL,useReducer:$y,useRef:DL,useState:function(){return $y(ku)},useDebugValue:YM,useDeferredValue:function(h){var p=$y(ku),S=p[0],E=p[1];return Tm(function(){var P=go.transition;go.transition={};try{E(h)}finally{go.transition=P}},[h]),S},useTransition:function(){var h=$y(ku)[0],p=xa().memoizedState;return[h,p]},useMutableSource:RL,useSyncExternalStore:AL,useId:HL,unstable_isNewReconciler:!1},h9={readContext:fo,useCallback:UL,useContext:fo,useEffect:Tm,useImperativeHandle:zL,useInsertionEffect:OL,useLayoutEffect:NL,useMemo:BL,useReducer:Xy,useRef:DL,useState:function(){return Xy(ku)},useDebugValue:YM,useDeferredValue:function(h){var p=Xy(ku),S=p[0],E=p[1];return Tm(function(){var P=go.transition;go.transition={};try{E(h)}finally{go.transition=P}},[h]),S},useTransition:function(){var h=Xy(ku)[0],p=xa().memoizedState;return[h,p]},useMutableSource:RL,useSyncExternalStore:AL,useId:HL,unstable_isNewReconciler:!1};function qM(h,p){try{var S="",E=p;do S+=o9(E),E=E.return;while(E);var P=S}catch(D){P=`
Error generating stack: `+D.message+`
`+D.stack}return{value:h,source:p,stack:P}}function KM(h,p){try{console.error(p.value)}catch(S){setTimeout(function(){throw S})}}var p9=typeof WeakMap=="function"?WeakMap:Map;function $L(h,p,S){S=el(-1,S),S.tag=3,S.payload={element:null};var E=p.value;return S.callback=function(){fx||(fx=!0,pE=E),KM(h,p)},S}function XL(h,p,S){S=el(-1,S),S.tag=3;var E=h.type.getDerivedStateFromError;if(typeof E=="function"){var P=p.value;S.payload=function(){return E(P)},S.callback=function(){KM(h,p)}}var D=h.stateNode;return D!==null&&typeof D.componentDidCatch=="function"&&(S.callback=function(){KM(h,p),typeof E!="function"&&(Zl===null?Zl=new Set([this]):Zl.add(this));var K=p.stack;this.componentDidCatch(p.value,{componentStack:K!==null?K:""})}),S}function YL(h,p,S){var E=h.pingCache;if(E===null){E=h.pingCache=new p9;var P=new Set;E.set(p,P)}else P=E.get(p),P===void 0&&(P=new Set,E.set(p,P));P.has(S)||(P.add(S),h=R9.bind(null,h,p,S),p.then(h,h))}function qL(h){do{var p;if((p=h.tag===13)&&(p=h.memoizedState,p=p!==null?p.dehydrated!==null:!0),p)return h;h=h.return}while(h!==null);return null}function KL(h,p,S,E,P){return h.mode&1?(h.flags|=65536,h.lanes=P,h):(h===p?h.flags|=65536:(h.flags|=128,S.flags|=131072,S.flags&=-52805,S.tag===1&&(S.alternate===null?S.tag=17:(p=el(-1,1),p.tag=2,Ql(S,p))),S.lanes|=1),h)}function _a(h){h.flags|=4}function QL(h,p){if(h!==null&&h.child===p.child)return!0;if(p.flags&16)return!1;for(h=p.child;h!==null;){if(h.flags&12854||h.subtreeFlags&12854)return!1;h=h.sibling}return!0}var Cm,Rm,Qy,Zy;if(Ie)Cm=function(h,p){for(var S=p.child;S!==null;){if(S.tag===5||S.tag===6)se(h,S.stateNode);else if(S.tag!==4&&S.child!==null){S.child.return=S,S=S.child;continue}if(S===p)break;for(;S.sibling===null;){if(S.return===null||S.return===p)return;S=S.return}S.sibling.return=S.return,S=S.sibling}},Rm=function(){},Qy=function(h,p,S,E,P){if(h=h.memoizedProps,h!==E){var D=p.stateNode,K=ya(mo.current);S=ae(D,S,h,E,P,K),(p.updateQueue=S)&&_a(p)}},Zy=function(h,p,S,E){S!==E&&_a(p)};else if(Z){Cm=function(h,p,S,E){for(var P=p.child;P!==null;){if(P.tag===5){var D=P.stateNode;S&&E&&(D=xt(D,P.type,P.memoizedProps,P)),se(h,D)}else if(P.tag===6)D=P.stateNode,S&&E&&(D=ht(D,P.memoizedProps,P)),se(h,D);else if(P.tag!==4){if(P.tag===22&&P.memoizedState!==null)D=P.child,D!==null&&(D.return=P),Cm(h,P,!0,!0);else if(P.child!==null){P.child.return=P,P=P.child;continue}}if(P===p)break;for(;P.sibling===null;){if(P.return===null||P.return===p)return;P=P.return}P.sibling.return=P.return,P=P.sibling}};var ZL=function(h,p,S,E){for(var P=p.child;P!==null;){if(P.tag===5){var D=P.stateNode;S&&E&&(D=xt(D,P.type,P.memoizedProps,P)),re(h,D)}else if(P.tag===6)D=P.stateNode,S&&E&&(D=ht(D,P.memoizedProps,P)),re(h,D);else if(P.tag!==4){if(P.tag===22&&P.memoizedState!==null)D=P.child,D!==null&&(D.return=P),ZL(h,P,!0,!0);else if(P.child!==null){P.child.return=P,P=P.child;continue}}if(P===p)break;for(;P.sibling===null;){if(P.return===null||P.return===p)return;P=P.return}P.sibling.return=P.return,P=P.sibling}};Rm=function(h,p){var S=p.stateNode;if(!QL(h,p)){h=S.containerInfo;var E=X(h);ZL(E,p,!1,!1),S.pendingChildren=E,_a(p),Re(h,E)}},Qy=function(h,p,S,E,P){var D=h.stateNode,K=h.memoizedProps;if((h=QL(h,p))&&K===E)p.stateNode=D;else{var le=p.stateNode,Te=ya(mo.current),He=null;K!==E&&(He=ae(le,S,K,E,P,Te)),h&&He===null?p.stateNode=D:(D=Y(D,He,S,K,E,p,h,le),ne(D,S,E,P,Te)&&_a(p),p.stateNode=D,h?_a(p):Cm(D,p,!1,!1))}},Zy=function(h,p,S,E){S!==E?(h=ya(If.current),S=ya(mo.current),p.stateNode=Ee(E,h,S,p),_a(p)):p.stateNode=h.stateNode}}else Rm=function(){},Qy=function(){},Zy=function(){};function Am(h,p){if(!Zn)switch(h.tailMode){case"hidden":p=h.tail;for(var S=null;p!==null;)p.alternate!==null&&(S=p),p=p.sibling;S===null?h.tail=null:S.sibling=null;break;case"collapsed":S=h.tail;for(var E=null;S!==null;)S.alternate!==null&&(E=S),S=S.sibling;E===null?p||h.tail===null?h.tail=null:h.tail.sibling=null:E.sibling=null}}function Pr(h){var p=h.alternate!==null&&h.alternate.child===h.child,S=0,E=0;if(p)for(var P=h.child;P!==null;)S|=P.lanes|P.childLanes,E|=P.subtreeFlags&14680064,E|=P.flags&14680064,P.return=h,P=P.sibling;else for(P=h.child;P!==null;)S|=P.lanes|P.childLanes,E|=P.subtreeFlags,E|=P.flags,P.return=h,P=P.sibling;return h.subtreeFlags|=E,h.childLanes=S,p}function m9(h,p,S){var E=p.pendingProps;switch(OM(p),p.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Pr(p),null;case 1:return sr(p.type)&&Ei(),Pr(p),null;case 3:return E=p.stateNode,Lf(),Nt(pi),Nt(en),VM(),E.pendingContext&&(E.context=E.pendingContext,E.pendingContext=null),(h===null||h.child===null)&&(xm(p)?_a(p):h===null||h.memoizedState.isDehydrated&&!(p.flags&256)||(p.flags|=1024,jo!==null&&(vE(jo),jo=null))),Rm(h,p),Pr(p),null;case 5:BM(p),S=ya(If.current);var P=p.type;if(h!==null&&p.stateNode!=null)Qy(h,p,P,E,S),h.ref!==p.ref&&(p.flags|=512,p.flags|=2097152);else{if(!E){if(p.stateNode===null)throw Error(o(166));return Pr(p),null}if(h=ya(mo.current),xm(p)){if(!_e)throw Error(o(175));h=Za(p.stateNode,p.type,p.memoizedProps,S,h,p,!ym),p.updateQueue=h,h!==null&&_a(p)}else{var D=te(P,E,S,h,p);Cm(D,p,!1,!1),p.stateNode=D,ne(D,P,E,S,h)&&_a(p)}p.ref!==null&&(p.flags|=512,p.flags|=2097152)}return Pr(p),null;case 6:if(h&&p.stateNode!=null)Zy(h,p,h.memoizedProps,E);else{if(typeof E!="string"&&p.stateNode===null)throw Error(o(166));if(h=ya(If.current),S=ya(mo.current),xm(p)){if(!_e)throw Error(o(176));if(h=p.stateNode,E=p.memoizedProps,(S=_n(h,E,p,!ym))&&(P=Us,P!==null))switch(D=(P.mode&1)!==0,P.tag){case 3:We(P.stateNode.containerInfo,h,E,D);break;case 5:it(P.type,P.memoizedProps,P.stateNode,h,E,D)}S&&_a(p)}else p.stateNode=Ee(E,h,S,p)}return Pr(p),null;case 13:if(Nt(si),E=p.memoizedState,Zn&&Bs!==null&&p.mode&1&&!(p.flags&128)){for(h=Bs;h;)h=En(h);return Pf(),p.flags|=98560,p}if(E!==null&&E.dehydrated!==null){if(E=xm(p),h===null){if(!E)throw Error(o(318));if(!_e)throw Error(o(344));if(h=p.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(o(317));Tn(h,p)}else Pf(),!(p.flags&128)&&(p.memoizedState=null),p.flags|=4;return Pr(p),null}return jo!==null&&(vE(jo),jo=null),p.flags&128?(p.lanes=S,p):(E=E!==null,S=!1,h===null?xm(p):S=h.memoizedState!==null,E&&!S&&(p.child.flags|=8192,p.mode&1&&(h===null||si.current&1?Gi===0&&(Gi=3):xE())),p.updateQueue!==null&&(p.flags|=4),Pr(p),null);case 4:return Lf(),Rm(h,p),h===null&&be(p.stateNode.containerInfo),Pr(p),null;case 10:return AM(p.type._context),Pr(p),null;case 17:return sr(p.type)&&Ei(),Pr(p),null;case 19:if(Nt(si),P=p.memoizedState,P===null)return Pr(p),null;if(E=(p.flags&128)!==0,D=P.rendering,D===null)if(E)Am(P,!1);else{if(Gi!==0||h!==null&&h.flags&128)for(h=p.child;h!==null;){if(D=jy(h),D!==null){for(p.flags|=128,Am(P,!1),h=D.updateQueue,h!==null&&(p.updateQueue=h,p.flags|=4),p.subtreeFlags=0,h=S,E=p.child;E!==null;)S=E,P=h,S.flags&=14680066,D=S.alternate,D===null?(S.childLanes=0,S.lanes=P,S.child=null,S.subtreeFlags=0,S.memoizedProps=null,S.memoizedState=null,S.updateQueue=null,S.dependencies=null,S.stateNode=null):(S.childLanes=D.childLanes,S.lanes=D.lanes,S.child=D.child,S.subtreeFlags=0,S.deletions=null,S.memoizedProps=D.memoizedProps,S.memoizedState=D.memoizedState,S.updateQueue=D.updateQueue,S.type=D.type,P=D.dependencies,S.dependencies=P===null?null:{lanes:P.lanes,firstContext:P.firstContext}),E=E.sibling;return vt(si,si.current&1|2),p.child}h=h.sibling}P.tail!==null&&or()>hE&&(p.flags|=128,E=!0,Am(P,!1),p.lanes=4194304)}else{if(!E)if(h=jy(D),h!==null){if(p.flags|=128,E=!0,h=h.updateQueue,h!==null&&(p.updateQueue=h,p.flags|=4),Am(P,!0),P.tail===null&&P.tailMode==="hidden"&&!D.alternate&&!Zn)return Pr(p),null}else 2*or()-P.renderingStartTime>hE&&S!==1073741824&&(p.flags|=128,E=!0,Am(P,!1),p.lanes=4194304);P.isBackwards?(D.sibling=p.child,p.child=D):(h=P.last,h!==null?h.sibling=D:p.child=D,P.last=D)}return P.tail!==null?(p=P.tail,P.rendering=p,P.tail=p.sibling,P.renderingStartTime=or(),p.sibling=null,h=si.current,vt(si,E?h&1|2:h&1),p):(Pr(p),null);case 22:case 23:return yE(),E=p.memoizedState!==null,h!==null&&h.memoizedState!==null!==E&&(p.flags|=8192),E&&p.mode&1?Vs&1073741824&&(Pr(p),Ie&&p.subtreeFlags&6&&(p.flags|=8192)):Pr(p),null;case 24:return null;case 25:return null}throw Error(o(156,p.tag))}var g9=a.ReactCurrentOwner,Hs=!1;function qr(h,p,S,E){p.child=h===null?TL(p,null,S,E):kf(p,h.child,S,E)}function JL(h,p,S,E,P){S=S.render;var D=p.ref;return Cf(p,P),E=WM(h,p,S,E,D,P),S=GM(),h!==null&&!Hs?(p.updateQueue=h.updateQueue,p.flags&=-2053,h.lanes&=~P,rl(h,p,P)):(Zn&&S&&DM(p),p.flags|=1,qr(h,p,E,P),p.child)}function eD(h,p,S,E,P){if(h===null){var D=S.type;return typeof D=="function"&&!_E(D)&&D.defaultProps===void 0&&S.compare===null&&S.defaultProps===void 0?(p.tag=15,p.type=D,tD(h,p,D,E,P)):(h=xx(S.type,null,E,p,p.mode,P),h.ref=p.ref,h.return=p,p.child=h)}if(D=h.child,!(h.lanes&P)){var K=D.memoizedProps;if(S=S.compare,S=S!==null?S:Dy,S(K,E)&&h.ref===p.ref)return rl(h,p,P)}return p.flags|=1,h=nc(D,E),h.ref=p.ref,h.return=p,p.child=h}function tD(h,p,S,E,P){if(h!==null&&Dy(h.memoizedProps,E)&&h.ref===p.ref)if(Hs=!1,(h.lanes&P)!==0)h.flags&131072&&(Hs=!0);else return p.lanes=h.lanes,rl(h,p,P);return QM(h,p,S,E,P)}function nD(h,p,S){var E=p.pendingProps,P=E.children,D=h!==null?h.memoizedState:null;if(E.mode==="hidden")if(!(p.mode&1))p.memoizedState={baseLanes:0,cachePool:null},vt(Of,Vs),Vs|=S;else if(S&1073741824)p.memoizedState={baseLanes:0,cachePool:null},E=D!==null?D.baseLanes:S,vt(Of,Vs),Vs|=E;else return h=D!==null?D.baseLanes|S:S,p.lanes=p.childLanes=1073741824,p.memoizedState={baseLanes:h,cachePool:null},p.updateQueue=null,vt(Of,Vs),Vs|=h,null;else D!==null?(E=D.baseLanes|S,p.memoizedState=null):E=S,vt(Of,Vs),Vs|=E;return qr(h,p,P,S),p.child}function iD(h,p){var S=p.ref;(h===null&&S!==null||h!==null&&h.ref!==S)&&(p.flags|=512,p.flags|=2097152)}function QM(h,p,S,E,P){var D=sr(S)?fa:en.current;return D=uo(p,D),Cf(p,P),S=WM(h,p,S,E,D,P),E=GM(),h!==null&&!Hs?(p.updateQueue=h.updateQueue,p.flags&=-2053,h.lanes&=~P,rl(h,p,P)):(Zn&&E&&DM(p),p.flags|=1,qr(h,p,S,P),p.child)}function rD(h,p,S,E,P){if(sr(S)){var D=!0;xr(p)}else D=!1;if(Cf(p,P),p.stateNode===null)h!==null&&(h.alternate=null,p.alternate=null,p.flags|=2),yL(p,S,E),LM(p,S,E,P),E=!0;else if(h===null){var K=p.stateNode,le=p.memoizedProps;K.props=le;var Te=K.context,He=S.contextType;typeof He=="object"&&He!==null?He=fo(He):(He=sr(S)?fa:en.current,He=uo(p,He));var yt=S.getDerivedStateFromProps,jt=typeof yt=="function"||typeof K.getSnapshotBeforeUpdate=="function";jt||typeof K.UNSAFE_componentWillReceiveProps!="function"&&typeof K.componentWillReceiveProps!="function"||(le!==E||Te!==He)&&xL(p,K,E,He),Kl=!1;var Rt=p.memoizedState;K.state=Rt,zy(p,E,K,P),Te=p.memoizedState,le!==E||Rt!==Te||pi.current||Kl?(typeof yt=="function"&&(IM(p,S,yt,E),Te=p.memoizedState),(le=Kl||vL(p,S,le,E,Rt,Te,He))?(jt||typeof K.UNSAFE_componentWillMount!="function"&&typeof K.componentWillMount!="function"||(typeof K.componentWillMount=="function"&&K.componentWillMount(),typeof K.UNSAFE_componentWillMount=="function"&&K.UNSAFE_componentWillMount()),typeof K.componentDidMount=="function"&&(p.flags|=4194308)):(typeof K.componentDidMount=="function"&&(p.flags|=4194308),p.memoizedProps=E,p.memoizedState=Te),K.props=E,K.state=Te,K.context=He,E=le):(typeof K.componentDidMount=="function"&&(p.flags|=4194308),E=!1)}else{K=p.stateNode,hL(h,p),le=p.memoizedProps,He=p.type===p.elementType?le:Vo(p.type,le),K.props=He,jt=p.pendingProps,Rt=K.context,Te=S.contextType,typeof Te=="object"&&Te!==null?Te=fo(Te):(Te=sr(S)?fa:en.current,Te=uo(p,Te));var zn=S.getDerivedStateFromProps;(yt=typeof zn=="function"||typeof K.getSnapshotBeforeUpdate=="function")||typeof K.UNSAFE_componentWillReceiveProps!="function"&&typeof K.componentWillReceiveProps!="function"||(le!==jt||Rt!==Te)&&xL(p,K,E,Te),Kl=!1,Rt=p.memoizedState,K.state=Rt,zy(p,E,K,P);var Ct=p.memoizedState;le!==jt||Rt!==Ct||pi.current||Kl?(typeof zn=="function"&&(IM(p,S,zn,E),Ct=p.memoizedState),(He=Kl||vL(p,S,He,E,Rt,Ct,Te)||!1)?(yt||typeof K.UNSAFE_componentWillUpdate!="function"&&typeof K.componentWillUpdate!="function"||(typeof K.componentWillUpdate=="function"&&K.componentWillUpdate(E,Ct,Te),typeof K.UNSAFE_componentWillUpdate=="function"&&K.UNSAFE_componentWillUpdate(E,Ct,Te)),typeof K.componentDidUpdate=="function"&&(p.flags|=4),typeof K.getSnapshotBeforeUpdate=="function"&&(p.flags|=1024)):(typeof K.componentDidUpdate!="function"||le===h.memoizedProps&&Rt===h.memoizedState||(p.flags|=4),typeof K.getSnapshotBeforeUpdate!="function"||le===h.memoizedProps&&Rt===h.memoizedState||(p.flags|=1024),p.memoizedProps=E,p.memoizedState=Ct),K.props=E,K.state=Ct,K.context=Te,E=He):(typeof K.componentDidUpdate!="function"||le===h.memoizedProps&&Rt===h.memoizedState||(p.flags|=4),typeof K.getSnapshotBeforeUpdate!="function"||le===h.memoizedProps&&Rt===h.memoizedState||(p.flags|=1024),E=!1)}return ZM(h,p,S,E,D,P)}function ZM(h,p,S,E,P,D){iD(h,p);var K=(p.flags&128)!==0;if(!E&&!K)return P&&Ef(p,S,!1),rl(h,p,D);E=p.stateNode,g9.current=p;var le=K&&typeof S.getDerivedStateFromError!="function"?null:E.render();return p.flags|=1,h!==null&&K?(p.child=kf(p,h.child,null,D),p.child=kf(p,null,le,D)):qr(h,p,le,D),p.memoizedState=E.state,P&&Ef(p,S,!0),p.child}function sD(h){var p=h.stateNode;p.pendingContext?ha(h,p.pendingContext,p.pendingContext!==p.context):p.context&&ha(h,p.context,!1),UM(h,p.containerInfo)}function oD(h,p,S,E,P){return Pf(),zM(P),p.flags|=256,qr(h,p,S,E),p.child}var Jy={dehydrated:null,treeContext:null,retryLane:0};function ex(h){return{baseLanes:h,cachePool:null}}function aD(h,p,S){var E=p.pendingProps,P=si.current,D=!1,K=(p.flags&128)!==0,le;if((le=K)||(le=h!==null&&h.memoizedState===null?!1:(P&2)!==0),le?(D=!0,p.flags&=-129):(h===null||h.memoizedState!==null)&&(P|=1),vt(si,P&1),h===null)return FM(p),h=p.memoizedState,h!==null&&(h=h.dehydrated,h!==null)?(p.mode&1?Bt(h)?p.lanes=8:p.lanes=1073741824:p.lanes=1,null):(P=E.children,h=E.fallback,D?(E=p.mode,D=p.child,P={mode:"hidden",children:P},!(E&1)&&D!==null?(D.childLanes=0,D.pendingProps=P):D=_x(P,E,0,null),h=Fu(h,E,S,null),D.return=p,h.return=p,D.sibling=h,p.child=D,p.child.memoizedState=ex(S),p.memoizedState=Jy,h):JM(p,P));if(P=h.memoizedState,P!==null){if(le=P.dehydrated,le!==null){if(K)return p.flags&256?(p.flags&=-257,tx(h,p,S,Error(o(422)))):p.memoizedState!==null?(p.child=h.child,p.flags|=128,null):(D=E.fallback,P=p.mode,E=_x({mode:"visible",children:E.children},P,0,null),D=Fu(D,P,S,null),D.flags|=2,E.return=p,D.return=p,E.sibling=D,p.child=E,p.mode&1&&kf(p,h.child,null,S),p.child.memoizedState=ex(S),p.memoizedState=Jy,D);if(!(p.mode&1))p=tx(h,p,S,null);else if(Bt(le))p=tx(h,p,S,Error(o(419)));else if(E=(S&h.childLanes)!==0,Hs||E){if(E=Di,E!==null){switch(S&-S){case 4:D=2;break;case 16:D=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:D=32;break;case 536870912:D=268435456;break;default:D=0}E=D&(E.suspendedLanes|S)?0:D,E!==0&&E!==P.retryLane&&(P.retryLane=E,vo(h,E,-1))}xE(),p=tx(h,p,S,Error(o(421)))}else Hn(le)?(p.flags|=128,p.child=h.child,p=A9.bind(null,h),ln(le,p),p=null):(S=P.treeContext,_e&&(Bs=Yr(le),Us=p,Zn=!0,jo=null,ym=!1,S!==null&&(ho[po++]=tl,ho[po++]=nl,ho[po++]=Au,tl=S.id,nl=S.overflow,Au=p)),p=JM(p,p.pendingProps.children),p.flags|=4096);return p}return D?(E=cD(h,p,E.children,E.fallback,S),D=p.child,P=h.child.memoizedState,D.memoizedState=P===null?ex(S):{baseLanes:P.baseLanes|S,cachePool:null},D.childLanes=h.childLanes&~S,p.memoizedState=Jy,E):(S=lD(h,p,E.children,S),p.memoizedState=null,S)}return D?(E=cD(h,p,E.children,E.fallback,S),D=p.child,P=h.child.memoizedState,D.memoizedState=P===null?ex(S):{baseLanes:P.baseLanes|S,cachePool:null},D.childLanes=h.childLanes&~S,p.memoizedState=Jy,E):(S=lD(h,p,E.children,S),p.memoizedState=null,S)}function JM(h,p){return p=_x({mode:"visible",children:p},h.mode,0,null),p.return=h,h.child=p}function lD(h,p,S,E){var P=h.child;return h=P.sibling,S=nc(P,{mode:"visible",children:S}),!(p.mode&1)&&(S.lanes=E),S.return=p,S.sibling=null,h!==null&&(E=p.deletions,E===null?(p.deletions=[h],p.flags|=16):E.push(h)),p.child=S}function cD(h,p,S,E,P){var D=p.mode;h=h.child;var K=h.sibling,le={mode:"hidden",children:S};return!(D&1)&&p.child!==h?(S=p.child,S.childLanes=0,S.pendingProps=le,p.deletions=null):(S=nc(h,le),S.subtreeFlags=h.subtreeFlags&14680064),K!==null?E=nc(K,E):(E=Fu(E,D,P,null),E.flags|=2),E.return=p,S.return=p,S.sibling=E,p.child=S,E}function tx(h,p,S,E){return E!==null&&zM(E),kf(p,h.child,null,S),h=JM(p,p.pendingProps.children),h.flags|=2,p.memoizedState=null,h}function uD(h,p,S){h.lanes|=p;var E=h.alternate;E!==null&&(E.lanes|=p),PM(h.return,p,S)}function eE(h,p,S,E,P){var D=h.memoizedState;D===null?h.memoizedState={isBackwards:p,rendering:null,renderingStartTime:0,last:E,tail:S,tailMode:P}:(D.isBackwards=p,D.rendering=null,D.renderingStartTime=0,D.last=E,D.tail=S,D.tailMode=P)}function dD(h,p,S){var E=p.pendingProps,P=E.revealOrder,D=E.tail;if(qr(h,p,E.children,S),E=si.current,E&2)E=E&1|2,p.flags|=128;else{if(h!==null&&h.flags&128)e:for(h=p.child;h!==null;){if(h.tag===13)h.memoizedState!==null&&uD(h,S,p);else if(h.tag===19)uD(h,S,p);else if(h.child!==null){h.child.return=h,h=h.child;continue}if(h===p)break e;for(;h.sibling===null;){if(h.return===null||h.return===p)break e;h=h.return}h.sibling.return=h.return,h=h.sibling}E&=1}if(vt(si,E),!(p.mode&1))p.memoizedState=null;else switch(P){case"forwards":for(S=p.child,P=null;S!==null;)h=S.alternate,h!==null&&jy(h)===null&&(P=S),S=S.sibling;S=P,S===null?(P=p.child,p.child=null):(P=S.sibling,S.sibling=null),eE(p,!1,P,S,D);break;case"backwards":for(S=null,P=p.child,p.child=null;P!==null;){if(h=P.alternate,h!==null&&jy(h)===null){p.child=P;break}h=P.sibling,P.sibling=S,S=P,P=h}eE(p,!0,S,null,D);break;case"together":eE(p,!1,null,null,void 0);break;default:p.memoizedState=null}return p.child}function rl(h,p,S){if(h!==null&&(p.dependencies=h.dependencies),Nf|=p.lanes,!(S&p.childLanes))return null;if(h!==null&&p.child!==h.child)throw Error(o(153));if(p.child!==null){for(h=p.child,S=nc(h,h.pendingProps),p.child=S,S.return=p;h.sibling!==null;)h=h.sibling,S=S.sibling=nc(h,h.pendingProps),S.return=p;S.sibling=null}return p.child}function v9(h,p,S){switch(p.tag){case 3:sD(p),Pf();break;case 5:CL(p);break;case 1:sr(p.type)&&xr(p);break;case 4:UM(p,p.stateNode.containerInfo);break;case 10:fL(p,p.type._context,p.memoizedProps.value);break;case 13:var E=p.memoizedState;if(E!==null)return E.dehydrated!==null?(vt(si,si.current&1),p.flags|=128,null):S&p.child.childLanes?aD(h,p,S):(vt(si,si.current&1),h=rl(h,p,S),h!==null?h.sibling:null);vt(si,si.current&1);break;case 19:if(E=(S&p.childLanes)!==0,h.flags&128){if(E)return dD(h,p,S);p.flags|=128}var P=p.memoizedState;if(P!==null&&(P.rendering=null,P.tail=null,P.lastEffect=null),vt(si,si.current),E)break;return null;case 22:case 23:return p.lanes=0,nD(h,p,S)}return rl(h,p,S)}function y9(h,p){switch(OM(p),p.tag){case 1:return sr(p.type)&&Ei(),h=p.flags,h&65536?(p.flags=h&-65537|128,p):null;case 3:return Lf(),Nt(pi),Nt(en),VM(),h=p.flags,h&65536&&!(h&128)?(p.flags=h&-65537|128,p):null;case 5:return BM(p),null;case 13:if(Nt(si),h=p.memoizedState,h!==null&&h.dehydrated!==null){if(p.alternate===null)throw Error(o(340));Pf()}return h=p.flags,h&65536?(p.flags=h&-65537|128,p):null;case 19:return Nt(si),null;case 4:return Lf(),null;case 10:return AM(p.type._context),null;case 22:case 23:return yE(),null;case 24:return null;default:return null}}var nx=!1,Iu=!1,x9=typeof WeakSet=="function"?WeakSet:Set,at=null;function ix(h,p){var S=h.ref;if(S!==null)if(typeof S=="function")try{S(null)}catch(E){ms(h,p,E)}else S.current=null}function tE(h,p,S){try{S()}catch(E){ms(h,p,E)}}var fD=!1;function _9(h,p){for(B(h.containerInfo),at=p;at!==null;)if(h=at,p=h.child,(h.subtreeFlags&1028)!==0&&p!==null)p.return=h,at=p;else for(;at!==null;){h=at;try{var S=h.alternate;if(h.flags&1024)switch(h.tag){case 0:case 11:case 15:break;case 1:if(S!==null){var E=S.memoizedProps,P=S.memoizedState,D=h.stateNode,K=D.getSnapshotBeforeUpdate(h.elementType===h.type?E:Vo(h.type,E),P);D.__reactInternalSnapshotBeforeUpdate=K}break;case 3:Ie&&nt(h.stateNode.containerInfo);break;case 5:case 6:case 4:case 17:break;default:throw Error(o(163))}}catch(le){ms(h,h.return,le)}if(p=h.sibling,p!==null){p.return=h.return,at=p;break}at=h.return}return S=fD,fD=!1,S}function Lu(h,p,S){var E=p.updateQueue;if(E=E!==null?E.lastEffect:null,E!==null){var P=E=E.next;do{if((P.tag&h)===h){var D=P.destroy;P.destroy=void 0,D!==void 0&&tE(p,S,D)}P=P.next}while(P!==E)}}function Pm(h,p){if(p=p.updateQueue,p=p!==null?p.lastEffect:null,p!==null){var S=p=p.next;do{if((S.tag&h)===h){var E=S.create;S.destroy=E()}S=S.next}while(S!==p)}}function nE(h){var p=h.ref;if(p!==null){var S=h.stateNode;switch(h.tag){case 5:h=Q(S);break;default:h=S}typeof p=="function"?p(h):p.current=h}}function hD(h,p,S){if(pa&&typeof pa.onCommitFiberUnmount=="function")try{pa.onCommitFiberUnmount(Iy,p)}catch{}switch(p.tag){case 0:case 11:case 14:case 15:if(h=p.updateQueue,h!==null&&(h=h.lastEffect,h!==null)){var E=h=h.next;do{var P=E,D=P.destroy;P=P.tag,D!==void 0&&(P&2||P&4)&&tE(p,S,D),E=E.next}while(E!==h)}break;case 1:if(ix(p,S),h=p.stateNode,typeof h.componentWillUnmount=="function")try{h.props=p.memoizedProps,h.state=p.memoizedState,h.componentWillUnmount()}catch(K){ms(p,S,K)}break;case 5:ix(p,S);break;case 4:Ie?xD(h,p,S):Z&&Z&&(p=p.stateNode.containerInfo,S=X(p),Fe(p,S))}}function pD(h,p,S){for(var E=p;;)if(hD(h,E,S),E.child===null||Ie&&E.tag===4){if(E===p)break;for(;E.sibling===null;){if(E.return===null||E.return===p)return;E=E.return}E.sibling.return=E.return,E=E.sibling}else E.child.return=E,E=E.child}function mD(h){var p=h.alternate;p!==null&&(h.alternate=null,mD(p)),h.child=null,h.deletions=null,h.sibling=null,h.tag===5&&(p=h.stateNode,p!==null&&Ke(p)),h.stateNode=null,h.return=null,h.dependencies=null,h.memoizedProps=null,h.memoizedState=null,h.pendingProps=null,h.stateNode=null,h.updateQueue=null}function gD(h){return h.tag===5||h.tag===3||h.tag===4}function vD(h){e:for(;;){for(;h.sibling===null;){if(h.return===null||gD(h.return))return null;h=h.return}for(h.sibling.return=h.return,h=h.sibling;h.tag!==5&&h.tag!==6&&h.tag!==18;){if(h.flags&2||h.child===null||h.tag===4)continue e;h.child.return=h,h=h.child}if(!(h.flags&2))return h.stateNode}}function yD(h){if(Ie){e:{for(var p=h.return;p!==null;){if(gD(p))break e;p=p.return}throw Error(o(160))}var S=p;switch(S.tag){case 5:p=S.stateNode,S.flags&32&&(Mt(p),S.flags&=-33),S=vD(h),rE(h,S,p);break;case 3:case 4:p=S.stateNode.containerInfo,S=vD(h),iE(h,S,p);break;default:throw Error(o(161))}}}function iE(h,p,S){var E=h.tag;if(E===5||E===6)h=h.stateNode,p?Ce(S,h,p):we(S,h);else if(E!==4&&(h=h.child,h!==null))for(iE(h,p,S),h=h.sibling;h!==null;)iE(h,p,S),h=h.sibling}function rE(h,p,S){var E=h.tag;if(E===5||E===6)h=h.stateNode,p?Ne(S,h,p):me(S,h);else if(E!==4&&(h=h.child,h!==null))for(rE(h,p,S),h=h.sibling;h!==null;)rE(h,p,S),h=h.sibling}function xD(h,p,S){for(var E=p,P=!1,D,K;;){if(!P){P=E.return;e:for(;;){if(P===null)throw Error(o(160));switch(D=P.stateNode,P.tag){case 5:K=!1;break e;case 3:D=D.containerInfo,K=!0;break e;case 4:D=D.containerInfo,K=!0;break e}P=P.return}P=!0}if(E.tag===5||E.tag===6)pD(h,E,S),K?pt(D,E.stateNode):wt(D,E.stateNode);else if(E.tag===18)K?ve(D,E.stateNode):Se(D,E.stateNode);else if(E.tag===4){if(E.child!==null){D=E.stateNode.containerInfo,K=!0,E.child.return=E,E=E.child;continue}}else if(hD(h,E,S),E.child!==null){E.child.return=E,E=E.child;continue}if(E===p)break;for(;E.sibling===null;){if(E.return===null||E.return===p)return;E=E.return,E.tag===4&&(P=!1)}E.sibling.return=E.return,E=E.sibling}}function sE(h,p){if(Ie){switch(p.tag){case 0:case 11:case 14:case 15:Lu(3,p,p.return),Pm(3,p),Lu(5,p,p.return);return;case 1:return;case 5:var S=p.stateNode;if(S!=null){var E=p.memoizedProps;h=h!==null?h.memoizedProps:E;var P=p.type,D=p.updateQueue;p.updateQueue=null,D!==null&&Qe(S,D,P,h,E,p)}return;case 6:if(p.stateNode===null)throw Error(o(162));S=p.memoizedProps,Le(p.stateNode,h!==null?h.memoizedProps:S,S);return;case 3:_e&&h!==null&&h.memoizedState.isDehydrated&&ue(p.stateNode.containerInfo);return;case 12:return;case 13:rx(p);return;case 19:rx(p);return;case 17:return}throw Error(o(163))}switch(p.tag){case 0:case 11:case 14:case 15:Lu(3,p,p.return),Pm(3,p),Lu(5,p,p.return);return;case 12:return;case 13:rx(p);return;case 19:rx(p);return;case 3:_e&&h!==null&&h.memoizedState.isDehydrated&&ue(p.stateNode.containerInfo);break;case 22:case 23:return}e:if(Z){switch(p.tag){case 1:case 5:case 6:break e;case 3:case 4:p=p.stateNode,Fe(p.containerInfo,p.pendingChildren);break e}throw Error(o(163))}}function rx(h){var p=h.updateQueue;if(p!==null){h.updateQueue=null;var S=h.stateNode;S===null&&(S=h.stateNode=new x9),p.forEach(function(E){var P=P9.bind(null,h,E);S.has(E)||(S.add(E),E.then(P,P))})}}function b9(h,p){for(at=p;at!==null;){p=at;var S=p.deletions;if(S!==null)for(var E=0;E<S.length;E++){var P=S[E];try{var D=h;Ie?xD(D,P,p):pD(D,P,p);var K=P.alternate;K!==null&&(K.return=null),P.return=null}catch(Tt){ms(P,p,Tt)}}if(S=p.child,p.subtreeFlags&12854&&S!==null)S.return=p,at=S;else for(;at!==null;){p=at;try{var le=p.flags;if(le&32&&Ie&&Mt(p.stateNode),le&512){var Te=p.alternate;if(Te!==null){var He=Te.ref;He!==null&&(typeof He=="function"?He(null):He.current=null)}}if(le&8192)switch(p.tag){case 13:if(p.memoizedState!==null){var yt=p.alternate;(yt===null||yt.memoizedState===null)&&(fE=or())}break;case 22:var jt=p.memoizedState!==null,Rt=p.alternate,zn=Rt!==null&&Rt.memoizedState!==null;if(S=p,Ie){e:if(E=S,P=jt,D=null,Ie)for(var Ct=E;;){if(Ct.tag===5){if(D===null){D=Ct;var kr=Ct.stateNode;P?Et(kr):Vt(Ct.stateNode,Ct.memoizedProps)}}else if(Ct.tag===6){if(D===null){var xo=Ct.stateNode;P?ft(xo):oe(xo,Ct.memoizedProps)}}else if((Ct.tag!==22&&Ct.tag!==23||Ct.memoizedState===null||Ct===E)&&Ct.child!==null){Ct.child.return=Ct,Ct=Ct.child;continue}if(Ct===E)break;for(;Ct.sibling===null;){if(Ct.return===null||Ct.return===E)break e;D===Ct&&(D=null),Ct=Ct.return}D===Ct&&(D=null),Ct.sibling.return=Ct.return,Ct=Ct.sibling}}if(jt&&!zn&&S.mode&1){at=S;for(var ge=S.child;ge!==null;){for(S=at=ge;at!==null;){E=at;var ce=E.child;switch(E.tag){case 0:case 11:case 14:case 15:Lu(4,E,E.return);break;case 1:ix(E,E.return);var Me=E.stateNode;if(typeof Me.componentWillUnmount=="function"){var dt=E.return;try{Me.props=E.memoizedProps,Me.state=E.memoizedState,Me.componentWillUnmount()}catch(Tt){ms(E,dt,Tt)}}break;case 5:ix(E,E.return);break;case 22:if(E.memoizedState!==null){SD(S);continue}}ce!==null?(ce.return=E,at=ce):SD(S)}ge=ge.sibling}}}switch(le&4102){case 2:yD(p),p.flags&=-3;break;case 6:yD(p),p.flags&=-3,sE(p.alternate,p);break;case 4096:p.flags&=-4097;break;case 4100:p.flags&=-4097,sE(p.alternate,p);break;case 4:sE(p.alternate,p)}}catch(Tt){ms(p,p.return,Tt)}if(S=p.sibling,S!==null){S.return=p.return,at=S;break}at=p.return}}}function S9(h,p,S){at=h,_D(h)}function _D(h,p,S){for(var E=(h.mode&1)!==0;at!==null;){var P=at,D=P.child;if(P.tag===22&&E){var K=P.memoizedState!==null||nx;if(!K){var le=P.alternate,Te=le!==null&&le.memoizedState!==null||Iu;le=nx;var He=Iu;if(nx=K,(Iu=Te)&&!He)for(at=P;at!==null;)K=at,Te=K.child,K.tag===22&&K.memoizedState!==null?wD(P):Te!==null?(Te.return=K,at=Te):wD(P);for(;D!==null;)at=D,_D(D),D=D.sibling;at=P,nx=le,Iu=He}bD(h)}else P.subtreeFlags&8772&&D!==null?(D.return=P,at=D):bD(h)}}function bD(h){for(;at!==null;){var p=at;if(p.flags&8772){var S=p.alternate;try{if(p.flags&8772)switch(p.tag){case 0:case 11:case 15:Iu||Pm(5,p);break;case 1:var E=p.stateNode;if(p.flags&4&&!Iu)if(S===null)E.componentDidMount();else{var P=p.elementType===p.type?S.memoizedProps:Vo(p.type,S.memoizedProps);E.componentDidUpdate(P,S.memoizedState,E.__reactInternalSnapshotBeforeUpdate)}var D=p.updateQueue;D!==null&&mL(p,D,E);break;case 3:var K=p.updateQueue;if(K!==null){if(S=null,p.child!==null)switch(p.child.tag){case 5:S=Q(p.child.stateNode);break;case 1:S=p.child.stateNode}mL(p,K,S)}break;case 5:var le=p.stateNode;S===null&&p.flags&4&&De(le,p.type,p.memoizedProps,p);break;case 6:break;case 4:break;case 12:break;case 13:if(_e&&p.memoizedState===null){var Te=p.alternate;if(Te!==null){var He=Te.memoizedState;if(He!==null){var yt=He.dehydrated;yt!==null&&pe(yt)}}}break;case 19:case 17:case 21:case 22:case 23:break;default:throw Error(o(163))}Iu||p.flags&512&&nE(p)}catch(jt){ms(p,p.return,jt)}}if(p===h){at=null;break}if(S=p.sibling,S!==null){S.return=p.return,at=S;break}at=p.return}}function SD(h){for(;at!==null;){var p=at;if(p===h){at=null;break}var S=p.sibling;if(S!==null){S.return=p.return,at=S;break}at=p.return}}function wD(h){for(;at!==null;){var p=at;try{switch(p.tag){case 0:case 11:case 15:var S=p.return;try{Pm(4,p)}catch(Te){ms(p,S,Te)}break;case 1:var E=p.stateNode;if(typeof E.componentDidMount=="function"){var P=p.return;try{E.componentDidMount()}catch(Te){ms(p,P,Te)}}var D=p.return;try{nE(p)}catch(Te){ms(p,D,Te)}break;case 5:var K=p.return;try{nE(p)}catch(Te){ms(p,K,Te)}}}catch(Te){ms(p,p.return,Te)}if(p===h){at=null;break}var le=p.sibling;if(le!==null){le.return=p.return,at=le;break}at=p.return}}var sx=0,ox=1,ax=2,lx=3,cx=4;if(typeof Symbol=="function"&&Symbol.for){var km=Symbol.for;sx=km("selector.component"),ox=km("selector.has_pseudo_class"),ax=km("selector.role"),lx=km("selector.test_id"),cx=km("selector.text")}function oE(h){var p=de(h);if(p!=null){if(typeof p.memoizedProps["data-testname"]!="string")throw Error(o(364));return p}if(h=st(h),h===null)throw Error(o(362));return h.stateNode.current}function aE(h,p){switch(p.$$typeof){case sx:if(h.type===p.value)return!0;break;case ox:e:{p=p.value,h=[h,0];for(var S=0;S<h.length;){var E=h[S++],P=h[S++],D=p[P];if(E.tag!==5||!F(E)){for(;D!=null&&aE(E,D);)P++,D=p[P];if(P===p.length){p=!0;break e}else for(E=E.child;E!==null;)h.push(E,P),E=E.sibling}}p=!1}return p;case ax:if(h.tag===5&&ee(h.stateNode,p.value))return!0;break;case cx:if((h.tag===5||h.tag===6)&&(h=$(h),h!==null&&0<=h.indexOf(p.value)))return!0;break;case lx:if(h.tag===5&&(h=h.memoizedProps["data-testname"],typeof h=="string"&&h.toLowerCase()===p.value.toLowerCase()))return!0;break;default:throw Error(o(365))}return!1}function lE(h){switch(h.$$typeof){case sx:return"<"+(R(h.value)||"Unknown")+">";case ox:return":has("+(lE(h)||"")+")";case ax:return'[role="'+h.value+'"]';case cx:return'"'+h.value+'"';case lx:return'[data-testname="'+h.value+'"]';default:throw Error(o(365))}}function MD(h,p){var S=[];h=[h,0];for(var E=0;E<h.length;){var P=h[E++],D=h[E++],K=p[D];if(P.tag!==5||!F(P)){for(;K!=null&&aE(P,K);)D++,K=p[D];if(D===p.length)S.push(P);else for(P=P.child;P!==null;)h.push(P,D),P=P.sibling}}return S}function cE(h,p){if(!Ye)throw Error(o(363));h=oE(h),h=MD(h,p),p=[],h=Array.from(h);for(var S=0;S<h.length;){var E=h[S++];if(E.tag===5)F(E)||p.push(E.stateNode);else for(E=E.child;E!==null;)h.push(E),E=E.sibling}return p}var w9=Math.ceil,ux=a.ReactCurrentDispatcher,uE=a.ReactCurrentOwner,Ti=a.ReactCurrentBatchConfig,tn=0,Di=null,Oi=null,_r=0,Vs=0,Of=rr(0),Gi=0,Im=null,Nf=0,dx=0,dE=0,Lm=null,hs=null,fE=0,hE=1/0;function Ff(){hE=or()+500}var fx=!1,pE=null,Zl=null,hx=!1,Jl=null,px=0,Dm=0,mE=null,mx=-1,gx=0;function Kr(){return tn&6?or():mx!==-1?mx:mx=or()}function ec(h){return h.mode&1?tn&2&&_r!==0?_r&-_r:s9.transition!==null?(gx===0&&(h=Ay,Ay<<=1,!(Ay&4194240)&&(Ay=64),gx=h),gx):(h=pn,h!==0?h:Pe()):1}function vo(h,p,S){if(50<Dm)throw Dm=0,mE=null,Error(o(185));var E=vx(h,p);return E===null?null:(vm(E,p,S),(!(tn&2)||E!==Di)&&(E===Di&&(!(tn&2)&&(dx|=p),Gi===4&&tc(E,_r)),ps(E,S),p===1&&tn===0&&!(h.mode&1)&&(Ff(),Ly&&ga())),E)}function vx(h,p){h.lanes|=p;var S=h.alternate;for(S!==null&&(S.lanes|=p),S=h,h=h.return;h!==null;)h.childLanes|=p,S=h.alternate,S!==null&&(S.childLanes|=p),S=h,h=h.return;return S.tag===3?S.stateNode:null}function ps(h,p){var S=h.callbackNode;K$(h,p);var E=ky(h,h===Di?_r:0);if(E===0)S!==null&&uL(S),h.callbackNode=null,h.callbackPriority=0;else if(p=E&-E,h.callbackPriority!==p){if(S!=null&&uL(S),p===1)h.tag===0?r9(TD.bind(null,h)):dL(TD.bind(null,h)),ze?Ge(function(){tn===0&&ga()}):wM(MM,ga),S=null;else{switch(cL(E)){case 1:S=MM;break;case 4:S=e9;break;case 16:S=EM;break;case 536870912:S=t9;break;default:S=EM}S=OD(S,ED.bind(null,h))}h.callbackPriority=p,h.callbackNode=S}}function ED(h,p){if(mx=-1,gx=0,tn&6)throw Error(o(327));var S=h.callbackNode;if(Nu()&&h.callbackNode!==S)return null;var E=ky(h,h===Di?_r:0);if(E===0)return null;if(E&30||E&h.expiredLanes||p)p=yx(h,E);else{p=E;var P=tn;tn|=2;var D=AD();(Di!==h||_r!==p)&&(Ff(),Du(h,p));do try{T9();break}catch(le){RD(h,le)}while(!0);RM(),ux.current=D,tn=P,Oi!==null?p=0:(Di=null,_r=0,p=Gi)}if(p!==0){if(p===2&&(P=_M(h),P!==0&&(E=P,p=gE(h,P))),p===1)throw S=Im,Du(h,0),tc(h,E),ps(h,or()),S;if(p===6)tc(h,E);else{if(P=h.current.alternate,!(E&30)&&!M9(P)&&(p=yx(h,E),p===2&&(D=_M(h),D!==0&&(E=D,p=gE(h,D))),p===1))throw S=Im,Du(h,0),tc(h,E),ps(h,or()),S;switch(h.finishedWork=P,h.finishedLanes=E,p){case 0:case 1:throw Error(o(345));case 2:Ou(h,hs);break;case 3:if(tc(h,E),(E&130023424)===E&&(p=fE+500-or(),10<p)){if(ky(h,0)!==0)break;if(P=h.suspendedLanes,(P&E)!==E){Kr(),h.pingedLanes|=h.suspendedLanes&P;break}h.timeoutHandle=Oe(Ou.bind(null,h,hs),p);break}Ou(h,hs);break;case 4:if(tc(h,E),(E&4194240)===E)break;for(p=h.eventTimes,P=-1;0<E;){var K=31-zs(E);D=1<<K,K=p[K],K>P&&(P=K),E&=~D}if(E=P,E=or()-E,E=(120>E?120:480>E?480:1080>E?1080:1920>E?1920:3e3>E?3e3:4320>E?4320:1960*w9(E/1960))-E,10<E){h.timeoutHandle=Oe(Ou.bind(null,h,hs),E);break}Ou(h,hs);break;case 5:Ou(h,hs);break;default:throw Error(o(329))}}}return ps(h,or()),h.callbackNode===S?ED.bind(null,h):null}function gE(h,p){var S=Lm;return h.current.memoizedState.isDehydrated&&(Du(h,p).flags|=256),h=yx(h,p),h!==2&&(p=hs,hs=S,p!==null&&vE(p)),h}function vE(h){hs===null?hs=h:hs.push.apply(hs,h)}function M9(h){for(var p=h;;){if(p.flags&16384){var S=p.updateQueue;if(S!==null&&(S=S.stores,S!==null))for(var E=0;E<S.length;E++){var P=S[E],D=P.getSnapshot;P=P.value;try{if(!ma(D(),P))return!1}catch{return!1}}}if(S=p.child,p.subtreeFlags&16384&&S!==null)S.return=p,p=S;else{if(p===h)break;for(;p.sibling===null;){if(p.return===null||p.return===h)return!0;p=p.return}p.sibling.return=p.return,p=p.sibling}}return!0}function tc(h,p){for(p&=~dE,p&=~dx,h.suspendedLanes|=p,h.pingedLanes&=~p,h=h.expirationTimes;0<p;){var S=31-zs(p),E=1<<S;h[S]=-1,p&=~E}}function TD(h){if(tn&6)throw Error(o(327));Nu();var p=ky(h,0);if(!(p&1))return ps(h,or()),null;var S=yx(h,p);if(h.tag!==0&&S===2){var E=_M(h);E!==0&&(p=E,S=gE(h,E))}if(S===1)throw S=Im,Du(h,0),tc(h,p),ps(h,or()),S;if(S===6)throw Error(o(345));return h.finishedWork=h.current.alternate,h.finishedLanes=p,Ou(h,hs),ps(h,or()),null}function CD(h){Jl!==null&&Jl.tag===0&&!(tn&6)&&Nu();var p=tn;tn|=1;var S=Ti.transition,E=pn;try{if(Ti.transition=null,pn=1,h)return h()}finally{pn=E,Ti.transition=S,tn=p,!(tn&6)&&ga()}}function yE(){Vs=Of.current,Nt(Of)}function Du(h,p){h.finishedWork=null,h.finishedLanes=0;var S=h.timeoutHandle;if(S!==qe&&(h.timeoutHandle=qe,ut(S)),Oi!==null)for(S=Oi.return;S!==null;){var E=S;switch(OM(E),E.tag){case 1:E=E.type.childContextTypes,E!=null&&Ei();break;case 3:Lf(),Nt(pi),Nt(en),VM();break;case 5:BM(E);break;case 4:Lf();break;case 13:Nt(si);break;case 19:Nt(si);break;case 10:AM(E.type._context);break;case 22:case 23:yE()}S=S.return}if(Di=h,Oi=h=nc(h.current,null),_r=Vs=p,Gi=0,Im=null,dE=dx=Nf=0,hs=Lm=null,va!==null){for(p=0;p<va.length;p++)if(S=va[p],E=S.interleaved,E!==null){S.interleaved=null;var P=E.next,D=S.pending;if(D!==null){var K=D.next;D.next=P,E.next=K}S.pending=E}va=null}return h}function RD(h,p){do{var S=Oi;try{if(RM(),Wy.current=Ky,Gy){for(var E=mi.memoizedState;E!==null;){var P=E.queue;P!==null&&(P.pending=null),E=E.next}Gy=!1}if(Df=0,ar=Rr=mi=null,wm=!1,Mm=0,uE.current=null,S===null||S.return===null){Gi=1,Im=p,Oi=null;break}e:{var D=h,K=S.return,le=S,Te=p;if(p=_r,le.flags|=32768,Te!==null&&typeof Te=="object"&&typeof Te.then=="function"){var He=Te,yt=le,jt=yt.tag;if(!(yt.mode&1)&&(jt===0||jt===11||jt===15)){var Rt=yt.alternate;Rt?(yt.updateQueue=Rt.updateQueue,yt.memoizedState=Rt.memoizedState,yt.lanes=Rt.lanes):(yt.updateQueue=null,yt.memoizedState=null)}var zn=qL(K);if(zn!==null){zn.flags&=-257,KL(zn,K,le,D,p),zn.mode&1&&YL(D,He,p),p=zn,Te=He;var Ct=p.updateQueue;if(Ct===null){var kr=new Set;kr.add(Te),p.updateQueue=kr}else Ct.add(Te);break e}else{if(!(p&1)){YL(D,He,p),xE();break e}Te=Error(o(426))}}else if(Zn&&le.mode&1){var xo=qL(K);if(xo!==null){!(xo.flags&65536)&&(xo.flags|=256),KL(xo,K,le,D,p),zM(Te);break e}}D=Te,Gi!==4&&(Gi=2),Lm===null?Lm=[D]:Lm.push(D),Te=qM(Te,le),le=K;do{switch(le.tag){case 3:le.flags|=65536,p&=-p,le.lanes|=p;var ge=$L(le,Te,p);pL(le,ge);break e;case 1:D=Te;var ce=le.type,Me=le.stateNode;if(!(le.flags&128)&&(typeof ce.getDerivedStateFromError=="function"||Me!==null&&typeof Me.componentDidCatch=="function"&&(Zl===null||!Zl.has(Me)))){le.flags|=65536,p&=-p,le.lanes|=p;var dt=XL(le,D,p);pL(le,dt);break e}}le=le.return}while(le!==null)}kD(S)}catch(Tt){p=Tt,Oi===S&&S!==null&&(Oi=S=S.return);continue}break}while(!0)}function AD(){var h=ux.current;return ux.current=Ky,h===null?Ky:h}function xE(){(Gi===0||Gi===3||Gi===2)&&(Gi=4),Di===null||!(Nf&268435455)&&!(dx&268435455)||tc(Di,_r)}function yx(h,p){var S=tn;tn|=2;var E=AD();Di===h&&_r===p||Du(h,p);do try{E9();break}catch(P){RD(h,P)}while(!0);if(RM(),tn=S,ux.current=E,Oi!==null)throw Error(o(261));return Di=null,_r=0,Gi}function E9(){for(;Oi!==null;)PD(Oi)}function T9(){for(;Oi!==null&&!Z$();)PD(Oi)}function PD(h){var p=DD(h.alternate,h,Vs);h.memoizedProps=h.pendingProps,p===null?kD(h):Oi=p,uE.current=null}function kD(h){var p=h;do{var S=p.alternate;if(h=p.return,p.flags&32768){if(S=y9(S,p),S!==null){S.flags&=32767,Oi=S;return}if(h!==null)h.flags|=32768,h.subtreeFlags=0,h.deletions=null;else{Gi=6,Oi=null;return}}else if(S=m9(S,p,Vs),S!==null){Oi=S;return}if(p=p.sibling,p!==null){Oi=p;return}Oi=p=h}while(p!==null);Gi===0&&(Gi=5)}function Ou(h,p){var S=pn,E=Ti.transition;try{Ti.transition=null,pn=1,C9(h,p,S)}finally{Ti.transition=E,pn=S}return null}function C9(h,p,S){do Nu();while(Jl!==null);if(tn&6)throw Error(o(327));var E=h.finishedWork,P=h.finishedLanes;if(E===null)return null;if(h.finishedWork=null,h.finishedLanes=0,E===h.current)throw Error(o(177));h.callbackNode=null,h.callbackPriority=0;var D=E.lanes|E.childLanes;if(Q$(h,D),h===Di&&(Oi=Di=null,_r=0),!(E.subtreeFlags&2064)&&!(E.flags&2064)||hx||(hx=!0,OD(EM,function(){return Nu(),null})),D=(E.flags&15990)!==0,E.subtreeFlags&15990||D){D=Ti.transition,Ti.transition=null;var K=pn;pn=1;var le=tn;tn|=4,uE.current=null,_9(h,E),b9(h,E),j(h.containerInfo),h.current=E,S9(E),J$(),tn=le,pn=K,Ti.transition=D}else h.current=E;if(hx&&(hx=!1,Jl=h,px=P),D=h.pendingLanes,D===0&&(Zl=null),n9(E.stateNode),ps(h,or()),p!==null)for(S=h.onRecoverableError,E=0;E<p.length;E++)S(p[E]);if(fx)throw fx=!1,h=pE,pE=null,h;return px&1&&h.tag!==0&&Nu(),D=h.pendingLanes,D&1?h===mE?Dm++:(Dm=0,mE=h):Dm=0,ga(),null}function Nu(){if(Jl!==null){var h=cL(px),p=Ti.transition,S=pn;try{if(Ti.transition=null,pn=16>h?16:h,Jl===null)var E=!1;else{if(h=Jl,Jl=null,px=0,tn&6)throw Error(o(331));var P=tn;for(tn|=4,at=h.current;at!==null;){var D=at,K=D.child;if(at.flags&16){var le=D.deletions;if(le!==null){for(var Te=0;Te<le.length;Te++){var He=le[Te];for(at=He;at!==null;){var yt=at;switch(yt.tag){case 0:case 11:case 15:Lu(8,yt,D)}var jt=yt.child;if(jt!==null)jt.return=yt,at=jt;else for(;at!==null;){yt=at;var Rt=yt.sibling,zn=yt.return;if(mD(yt),yt===He){at=null;break}if(Rt!==null){Rt.return=zn,at=Rt;break}at=zn}}}var Ct=D.alternate;if(Ct!==null){var kr=Ct.child;if(kr!==null){Ct.child=null;do{var xo=kr.sibling;kr.sibling=null,kr=xo}while(kr!==null)}}at=D}}if(D.subtreeFlags&2064&&K!==null)K.return=D,at=K;else e:for(;at!==null;){if(D=at,D.flags&2048)switch(D.tag){case 0:case 11:case 15:Lu(9,D,D.return)}var ge=D.sibling;if(ge!==null){ge.return=D.return,at=ge;break e}at=D.return}}var ce=h.current;for(at=ce;at!==null;){K=at;var Me=K.child;if(K.subtreeFlags&2064&&Me!==null)Me.return=K,at=Me;else e:for(K=ce;at!==null;){if(le=at,le.flags&2048)try{switch(le.tag){case 0:case 11:case 15:Pm(9,le)}}catch(Tt){ms(le,le.return,Tt)}if(le===K){at=null;break e}var dt=le.sibling;if(dt!==null){dt.return=le.return,at=dt;break e}at=le.return}}if(tn=P,ga(),pa&&typeof pa.onPostCommitFiberRoot=="function")try{pa.onPostCommitFiberRoot(Iy,h)}catch{}E=!0}return E}finally{pn=S,Ti.transition=p}}return!1}function ID(h,p,S){p=qM(S,p),p=$L(h,p,1),Ql(h,p),p=Kr(),h=vx(h,1),h!==null&&(vm(h,1,p),ps(h,p))}function ms(h,p,S){if(h.tag===3)ID(h,h,S);else for(;p!==null;){if(p.tag===3){ID(p,h,S);break}else if(p.tag===1){var E=p.stateNode;if(typeof p.type.getDerivedStateFromError=="function"||typeof E.componentDidCatch=="function"&&(Zl===null||!Zl.has(E))){h=qM(S,h),h=XL(p,h,1),Ql(p,h),h=Kr(),p=vx(p,1),p!==null&&(vm(p,1,h),ps(p,h));break}}p=p.return}}function R9(h,p,S){var E=h.pingCache;E!==null&&E.delete(p),p=Kr(),h.pingedLanes|=h.suspendedLanes&S,Di===h&&(_r&S)===S&&(Gi===4||Gi===3&&(_r&130023424)===_r&&500>or()-fE?Du(h,0):dE|=S),ps(h,p)}function LD(h,p){p===0&&(h.mode&1?(p=Py,Py<<=1,!(Py&130023424)&&(Py=4194304)):p=1);var S=Kr();h=vx(h,p),h!==null&&(vm(h,p,S),ps(h,S))}function A9(h){var p=h.memoizedState,S=0;p!==null&&(S=p.retryLane),LD(h,S)}function P9(h,p){var S=0;switch(h.tag){case 13:var E=h.stateNode,P=h.memoizedState;P!==null&&(S=P.retryLane);break;case 19:E=h.stateNode;break;default:throw Error(o(314))}E!==null&&E.delete(p),LD(h,S)}var DD;DD=function(h,p,S){if(h!==null)if(h.memoizedProps!==p.pendingProps||pi.current)Hs=!0;else{if(!(h.lanes&S)&&!(p.flags&128))return Hs=!1,v9(h,p,S);Hs=!!(h.flags&131072)}else Hs=!1,Zn&&p.flags&1048576&&_L(p,Hy,p.index);switch(p.lanes=0,p.tag){case 2:var E=p.type;h!==null&&(h.alternate=null,p.alternate=null,p.flags|=2),h=p.pendingProps;var P=uo(p,en.current);Cf(p,S),P=WM(null,p,E,h,P,S);var D=GM();return p.flags|=1,typeof P=="object"&&P!==null&&typeof P.render=="function"&&P.$$typeof===void 0?(p.tag=1,p.memoizedState=null,p.updateQueue=null,sr(E)?(D=!0,xr(p)):D=!1,p.memoizedState=P.state!==null&&P.state!==void 0?P.state:null,kM(p),P.updater=Uy,p.stateNode=P,P._reactInternals=p,LM(p,E,h,S),p=ZM(null,p,E,!0,D,S)):(p.tag=0,Zn&&D&&DM(p),qr(null,p,P,S),p=p.child),p;case 16:E=p.elementType;e:{switch(h!==null&&(h.alternate=null,p.alternate=null,p.flags|=2),h=p.pendingProps,P=E._init,E=P(E._payload),p.type=E,P=p.tag=I9(E),h=Vo(E,h),P){case 0:p=QM(null,p,E,h,S);break e;case 1:p=rD(null,p,E,h,S);break e;case 11:p=JL(null,p,E,h,S);break e;case 14:p=eD(null,p,E,Vo(E.type,h),S);break e}throw Error(o(306,E,""))}return p;case 0:return E=p.type,P=p.pendingProps,P=p.elementType===E?P:Vo(E,P),QM(h,p,E,P,S);case 1:return E=p.type,P=p.pendingProps,P=p.elementType===E?P:Vo(E,P),rD(h,p,E,P,S);case 3:e:{if(sD(p),h===null)throw Error(o(387));E=p.pendingProps,D=p.memoizedState,P=D.element,hL(h,p),zy(p,E,null,S);var K=p.memoizedState;if(E=K.element,_e&&D.isDehydrated)if(D={element:E,isDehydrated:!1,cache:K.cache,transitions:K.transitions},p.updateQueue.baseState=D,p.memoizedState=D,p.flags&256){P=Error(o(423)),p=oD(h,p,E,S,P);break e}else if(E!==P){P=Error(o(424)),p=oD(h,p,E,S,P);break e}else for(_e&&(Bs=Fn(p.stateNode.containerInfo),Us=p,Zn=!0,jo=null,ym=!1),S=TL(p,null,E,S),p.child=S;S;)S.flags=S.flags&-3|4096,S=S.sibling;else{if(Pf(),E===P){p=rl(h,p,S);break e}qr(h,p,E,S)}p=p.child}return p;case 5:return CL(p),h===null&&FM(p),E=p.type,P=p.pendingProps,D=h!==null?h.memoizedProps:null,K=P.children,xe(E,P)?K=null:D!==null&&xe(E,D)&&(p.flags|=32),iD(h,p),qr(h,p,K,S),p.child;case 6:return h===null&&FM(p),null;case 13:return aD(h,p,S);case 4:return UM(p,p.stateNode.containerInfo),E=p.pendingProps,h===null?p.child=kf(p,null,E,S):qr(h,p,E,S),p.child;case 11:return E=p.type,P=p.pendingProps,P=p.elementType===E?P:Vo(E,P),JL(h,p,E,P,S);case 7:return qr(h,p,p.pendingProps,S),p.child;case 8:return qr(h,p,p.pendingProps.children,S),p.child;case 12:return qr(h,p,p.pendingProps.children,S),p.child;case 10:e:{if(E=p.type._context,P=p.pendingProps,D=p.memoizedProps,K=P.value,fL(p,E,K),D!==null)if(ma(D.value,K)){if(D.children===P.children&&!pi.current){p=rl(h,p,S);break e}}else for(D=p.child,D!==null&&(D.return=p);D!==null;){var le=D.dependencies;if(le!==null){K=D.child;for(var Te=le.firstContext;Te!==null;){if(Te.context===E){if(D.tag===1){Te=el(-1,S&-S),Te.tag=2;var He=D.updateQueue;if(He!==null){He=He.shared;var yt=He.pending;yt===null?Te.next=Te:(Te.next=yt.next,yt.next=Te),He.pending=Te}}D.lanes|=S,Te=D.alternate,Te!==null&&(Te.lanes|=S),PM(D.return,S,p),le.lanes|=S;break}Te=Te.next}}else if(D.tag===10)K=D.type===p.type?null:D.child;else if(D.tag===18){if(K=D.return,K===null)throw Error(o(341));K.lanes|=S,le=K.alternate,le!==null&&(le.lanes|=S),PM(K,S,p),K=D.sibling}else K=D.child;if(K!==null)K.return=D;else for(K=D;K!==null;){if(K===p){K=null;break}if(D=K.sibling,D!==null){D.return=K.return,K=D;break}K=K.return}D=K}qr(h,p,P.children,S),p=p.child}return p;case 9:return P=p.type,E=p.pendingProps.children,Cf(p,S),P=fo(P),E=E(P),p.flags|=1,qr(h,p,E,S),p.child;case 14:return E=p.type,P=Vo(E,p.pendingProps),P=Vo(E.type,P),eD(h,p,E,P,S);case 15:return tD(h,p,p.type,p.pendingProps,S);case 17:return E=p.type,P=p.pendingProps,P=p.elementType===E?P:Vo(E,P),h!==null&&(h.alternate=null,p.alternate=null,p.flags|=2),p.tag=1,sr(E)?(h=!0,xr(p)):h=!1,Cf(p,S),yL(p,E,P),LM(p,E,P,S),ZM(null,p,E,!0,h,S);case 19:return dD(h,p,S);case 22:return nD(h,p,S)}throw Error(o(156,p.tag))};function OD(h,p){return wM(h,p)}function k9(h,p,S,E){this.tag=h,this.key=S,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=p,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=E,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function yo(h,p,S,E){return new k9(h,p,S,E)}function _E(h){return h=h.prototype,!(!h||!h.isReactComponent)}function I9(h){if(typeof h=="function")return _E(h)?1:0;if(h!=null){if(h=h.$$typeof,h===y)return 11;if(h===_)return 14}return 2}function nc(h,p){var S=h.alternate;return S===null?(S=yo(h.tag,p,h.key,h.mode),S.elementType=h.elementType,S.type=h.type,S.stateNode=h.stateNode,S.alternate=h,h.alternate=S):(S.pendingProps=p,S.type=h.type,S.flags=0,S.subtreeFlags=0,S.deletions=null),S.flags=h.flags&14680064,S.childLanes=h.childLanes,S.lanes=h.lanes,S.child=h.child,S.memoizedProps=h.memoizedProps,S.memoizedState=h.memoizedState,S.updateQueue=h.updateQueue,p=h.dependencies,S.dependencies=p===null?null:{lanes:p.lanes,firstContext:p.firstContext},S.sibling=h.sibling,S.index=h.index,S.ref=h.ref,S}function xx(h,p,S,E,P,D){var K=2;if(E=h,typeof h=="function")_E(h)&&(K=1);else if(typeof h=="string")K=5;else e:switch(h){case u:return Fu(S.children,P,D,p);case d:K=8,P|=8;break;case f:return h=yo(12,S,p,P|2),h.elementType=f,h.lanes=D,h;case x:return h=yo(13,S,p,P),h.elementType=x,h.lanes=D,h;case v:return h=yo(19,S,p,P),h.elementType=v,h.lanes=D,h;case w:return _x(S,P,D,p);default:if(typeof h=="object"&&h!==null)switch(h.$$typeof){case m:K=10;break e;case g:K=9;break e;case y:K=11;break e;case _:K=14;break e;case b:K=16,E=null;break e}throw Error(o(130,h==null?h:typeof h,""))}return p=yo(K,S,p,P),p.elementType=h,p.type=E,p.lanes=D,p}function Fu(h,p,S,E){return h=yo(7,h,E,p),h.lanes=S,h}function _x(h,p,S,E){return h=yo(22,h,E,p),h.elementType=w,h.lanes=S,h.stateNode={},h}function bE(h,p,S){return h=yo(6,h,null,p),h.lanes=S,h}function SE(h,p,S){return p=yo(4,h.children!==null?h.children:[],h.key,p),p.lanes=S,p.stateNode={containerInfo:h.containerInfo,pendingChildren:null,implementation:h.implementation},p}function L9(h,p,S,E,P){this.tag=p,this.containerInfo=h,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=qe,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=bM(0),this.expirationTimes=bM(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=bM(0),this.identifierPrefix=E,this.onRecoverableError=P,_e&&(this.mutableSourceEagerHydrationData=null)}function ND(h,p,S,E,P,D,K,le,Te){return h=new L9(h,p,S,le,Te),p===1?(p=1,D===!0&&(p|=8)):p=0,D=yo(3,null,null,p),h.current=D,D.stateNode=h,D.memoizedState={element:E,isDehydrated:S,cache:null,transitions:null},kM(D),h}function FD(h){if(!h)return co;h=h._reactInternals;e:{if(A(h)!==h||h.tag!==1)throw Error(o(170));var p=h;do{switch(p.tag){case 3:p=p.stateNode.context;break e;case 1:if(sr(p.type)){p=p.stateNode.__reactInternalMemoizedMergedChildContext;break e}}p=p.return}while(p!==null);throw Error(o(171))}if(h.tag===1){var S=h.type;if(sr(S))return Mf(h,S,p)}return p}function zD(h){var p=h._reactInternals;if(p===void 0)throw typeof h.render=="function"?Error(o(188)):(h=Object.keys(h).join(","),Error(o(268,h)));return h=H(p),h===null?null:h.stateNode}function UD(h,p){if(h=h.memoizedState,h!==null&&h.dehydrated!==null){var S=h.retryLane;h.retryLane=S!==0&&S<p?S:p}}function wE(h,p){UD(h,p),(h=h.alternate)&&UD(h,p)}function D9(h){return h=H(h),h===null?null:h.stateNode}function O9(){return null}return n.attemptContinuousHydration=function(h){if(h.tag===13){var p=Kr();vo(h,134217728,p),wE(h,134217728)}},n.attemptHydrationAtCurrentPriority=function(h){if(h.tag===13){var p=Kr(),S=ec(h);vo(h,S,p),wE(h,S)}},n.attemptSynchronousHydration=function(h){switch(h.tag){case 3:var p=h.stateNode;if(p.current.memoizedState.isDehydrated){var S=gm(p.pendingLanes);S!==0&&(SM(p,S|1),ps(p,or()),!(tn&6)&&(Ff(),ga()))}break;case 13:var E=Kr();CD(function(){return vo(h,1,E)}),wE(h,1)}},n.batchedUpdates=function(h,p){var S=tn;tn|=1;try{return h(p)}finally{tn=S,tn===0&&(Ff(),Ly&&ga())}},n.createComponentSelector=function(h){return{$$typeof:sx,value:h}},n.createContainer=function(h,p,S,E,P,D,K){return ND(h,p,!1,null,S,E,P,D,K)},n.createHasPseudoClassSelector=function(h){return{$$typeof:ox,value:h}},n.createHydrationContainer=function(h,p,S,E,P,D,K,le,Te){return h=ND(S,E,!0,h,P,D,K,le,Te),h.context=FD(null),S=h.current,E=Kr(),P=ec(S),D=el(E,P),D.callback=p??null,Ql(S,D),h.current.lanes=P,vm(h,P,E),ps(h,E),h},n.createPortal=function(h,p,S){var E=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:c,key:E==null?null:""+E,children:h,containerInfo:p,implementation:S}},n.createRoleSelector=function(h){return{$$typeof:ax,value:h}},n.createTestNameSelector=function(h){return{$$typeof:lx,value:h}},n.createTextSelector=function(h){return{$$typeof:cx,value:h}},n.deferredUpdates=function(h){var p=pn,S=Ti.transition;try{return Ti.transition=null,pn=16,h()}finally{pn=p,Ti.transition=S}},n.discreteUpdates=function(h,p,S,E,P){var D=pn,K=Ti.transition;try{return Ti.transition=null,pn=1,h(p,S,E,P)}finally{pn=D,Ti.transition=K,tn===0&&Ff()}},n.findAllNodes=cE,n.findBoundingRects=function(h,p){if(!Ye)throw Error(o(363));p=cE(h,p),h=[];for(var S=0;S<p.length;S++)h.push(Xt(p[S]));for(p=h.length-1;0<p;p--){S=h[p];for(var E=S.x,P=E+S.width,D=S.y,K=D+S.height,le=p-1;0<=le;le--)if(p!==le){var Te=h[le],He=Te.x,yt=He+Te.width,jt=Te.y,Rt=jt+Te.height;if(E>=He&&D>=jt&&P<=yt&&K<=Rt){h.splice(p,1);break}else if(E!==He||S.width!==Te.width||Rt<D||jt>K){if(!(D!==jt||S.height!==Te.height||yt<E||He>P)){He>E&&(Te.width+=He-E,Te.x=E),yt<P&&(Te.width=P-He),h.splice(p,1);break}}else{jt>D&&(Te.height+=jt-D,Te.y=D),Rt<K&&(Te.height=K-jt),h.splice(p,1);break}}}return h},n.findHostInstance=zD,n.findHostInstanceWithNoPortals=function(h){return h=O(h),h=h!==null?U(h):null,h===null?null:h.stateNode},n.findHostInstanceWithWarning=function(h){return zD(h)},n.flushControlled=function(h){var p=tn;tn|=1;var S=Ti.transition,E=pn;try{Ti.transition=null,pn=1,h()}finally{pn=E,Ti.transition=S,tn=p,tn===0&&(Ff(),ga())}},n.flushPassiveEffects=Nu,n.flushSync=CD,n.focusWithin=function(h,p){if(!Ye)throw Error(o(363));for(h=oE(h),p=MD(h,p),p=Array.from(p),h=0;h<p.length;){var S=p[h++];if(!F(S)){if(S.tag===5&&fe(S.stateNode))return!0;for(S=S.child;S!==null;)p.push(S),S=S.sibling}}return!1},n.getCurrentUpdatePriority=function(){return pn},n.getFindAllNodesFailureDescription=function(h,p){if(!Ye)throw Error(o(363));var S=0,E=[];h=[oE(h),0];for(var P=0;P<h.length;){var D=h[P++],K=h[P++],le=p[K];if((D.tag!==5||!F(D))&&(aE(D,le)&&(E.push(lE(le)),K++,K>S&&(S=K)),K<p.length))for(D=D.child;D!==null;)h.push(D,K),D=D.sibling}if(S<p.length){for(h=[];S<p.length;S++)h.push(lE(p[S]));return`findAllNodes was able to match part of the selector:
  `+(E.join(" > ")+`

No matching component was found for:
  `)+h.join(" > ")}return null},n.getPublicRootInstance=function(h){if(h=h.current,!h.child)return null;switch(h.child.tag){case 5:return Q(h.child.stateNode);default:return h.child.stateNode}},n.injectIntoDevTools=function(h){if(h={bundleType:h.bundleType,version:h.version,rendererPackageName:h.rendererPackageName,rendererConfig:h.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:a.ReactCurrentDispatcher,findHostInstanceByFiber:D9,findFiberByHostInstance:h.findFiberByHostInstance||O9,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.0.0-fc46dba67-20220329"},typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u")h=!1;else{var p=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(p.isDisabled||!p.supportsFiber)h=!0;else{try{Iy=p.inject(h),pa=p}catch{}h=!!p.checkDCE}}return h},n.isAlreadyRendering=function(){return!1},n.observeVisibleRects=function(h,p,S,E){if(!Ye)throw Error(o(363));h=cE(h,p);var P=he(h,S,E).disconnect;return{disconnect:function(){P()}}},n.registerMutableSourceForHydration=function(h,p){var S=p._getVersion;S=S(p._source),h.mutableSourceEagerHydrationData==null?h.mutableSourceEagerHydrationData=[p,S]:h.mutableSourceEagerHydrationData.push(p,S)},n.runWithPriority=function(h,p){var S=pn;try{return pn=h,p()}finally{pn=S}},n.shouldError=function(){return null},n.shouldSuspend=function(){return!1},n.updateContainer=function(h,p,S,E){var P=p.current,D=Kr(),K=ec(P);return S=FD(S),p.context===null?p.context=S:p.pendingContext=S,p=el(D,K),p.payload={element:h},E=E===void 0?null:E,E!==null&&(p.callback=E),Ql(P,p),h=vo(P,K,D),h!==null&&Fy(h,P,K),K},n};wG.exports=Vye;var jye=wG.exports;const Wye=Bv(jye);var MG={exports:{}},EG={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(N,B){var j=N.length;N.push(B);e:for(;0<j;){var te=j-1>>>1,se=N[te];if(0<r(se,B))N[te]=B,N[j]=se,j=te;else break e}}function n(N){return N.length===0?null:N[0]}function i(N){if(N.length===0)return null;var B=N[0],j=N.pop();if(j!==B){N[0]=j;e:for(var te=0,se=N.length,ne=se>>>1;te<ne;){var ae=2*(te+1)-1,xe=N[ae],Ee=ae+1,Oe=N[Ee];if(0>r(xe,j))Ee<se&&0>r(Oe,xe)?(N[te]=Oe,N[Ee]=j,te=Ee):(N[te]=xe,N[ae]=j,te=ae);else if(Ee<se&&0>r(Oe,j))N[te]=Oe,N[Ee]=j,te=Ee;else break e}}return B}function r(N,B){var j=N.sortIndex-B.sortIndex;return j!==0?j:N.id-B.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],c=[],u=1,d=null,f=3,m=!1,g=!1,y=!1,x=typeof setTimeout=="function"?setTimeout:null,v=typeof clearTimeout=="function"?clearTimeout:null,_=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function b(N){for(var B=n(c);B!==null;){if(B.callback===null)i(c);else if(B.startTime<=N)i(c),B.sortIndex=B.expirationTime,e(l,B);else break;B=n(c)}}function w(N){if(y=!1,b(N),!g)if(n(l)!==null)g=!0,Q(C);else{var B=n(c);B!==null&&J(w,B.startTime-N)}}function C(N,B){g=!1,y&&(y=!1,v(I),I=-1),m=!0;var j=f;try{for(b(B),d=n(l);d!==null&&(!(d.expirationTime>B)||N&&!O());){var te=d.callback;if(typeof te=="function"){d.callback=null,f=d.priorityLevel;var se=te(d.expirationTime<=B);B=t.unstable_now(),typeof se=="function"?d.callback=se:d===n(l)&&i(l),b(B)}else i(l);d=n(l)}if(d!==null)var ne=!0;else{var ae=n(c);ae!==null&&J(w,ae.startTime-B),ne=!1}return ne}finally{d=null,f=j,m=!1}}var T=!1,R=null,I=-1,A=5,L=-1;function O(){return!(t.unstable_now()-L<A)}function H(){if(R!==null){var N=t.unstable_now();L=N;var B=!0;try{B=R(!0,N)}finally{B?q():(T=!1,R=null)}}else T=!1}var q;if(typeof _=="function")q=function(){_(H)};else if(typeof MessageChannel<"u"){var U=new MessageChannel,G=U.port2;U.port1.onmessage=H,q=function(){G.postMessage(null)}}else q=function(){x(H,0)};function Q(N){R=N,T||(T=!0,q())}function J(N,B){I=x(function(){N(t.unstable_now())},B)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(N){N.callback=null},t.unstable_continueExecution=function(){g||m||(g=!0,Q(C))},t.unstable_forceFrameRate=function(N){0>N||125<N?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<N?Math.floor(1e3/N):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(N){switch(f){case 1:case 2:case 3:var B=3;break;default:B=f}var j=f;f=B;try{return N()}finally{f=j}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(N,B){switch(N){case 1:case 2:case 3:case 4:case 5:break;default:N=3}var j=f;f=N;try{return B()}finally{f=j}},t.unstable_scheduleCallback=function(N,B,j){var te=t.unstable_now();switch(typeof j=="object"&&j!==null?(j=j.delay,j=typeof j=="number"&&0<j?te+j:te):j=te,N){case 1:var se=-1;break;case 2:se=250;break;case 5:se=1073741823;break;case 4:se=1e4;break;default:se=5e3}return se=j+se,N={id:u++,callback:B,priorityLevel:N,startTime:j,expirationTime:se,sortIndex:-1},j>te?(N.sortIndex=j,e(c,N),n(l)===null&&N===n(c)&&(y?(v(I),I=-1):y=!0,J(w,j-te))):(N.sortIndex=se,e(l,N),g||m||(g=!0,Q(C))),N},t.unstable_shouldYield=O,t.unstable_wrapCallback=function(N){var B=f;return function(){var j=f;f=B;try{return N.apply(this,arguments)}finally{f=j}}}})(EG);MG.exports=EG;var Nz=MG.exports;const Gye=t=>typeof t=="object"&&typeof t.then=="function",_d=[];function TG(t,e,n=(i,r)=>i===r){if(t===e)return!0;if(!t||!e)return!1;const i=t.length;if(e.length!==i)return!1;for(let r=0;r<i;r++)if(!n(t[r],e[r]))return!1;return!0}function CG(t,e=null,n=!1,i={}){e===null&&(e=[t]);for(const s of _d)if(TG(e,s.keys,s.equal)){if(n)return;if(Object.prototype.hasOwnProperty.call(s,"error"))throw s.error;if(Object.prototype.hasOwnProperty.call(s,"response"))return i.lifespan&&i.lifespan>0&&(s.timeout&&clearTimeout(s.timeout),s.timeout=setTimeout(s.remove,i.lifespan)),s.response;if(!n)throw s.promise}const r={keys:e,equal:i.equal,remove:()=>{const s=_d.indexOf(r);s!==-1&&_d.splice(s,1)},promise:(Gye(t)?t:t(...e)).then(s=>{r.response=s,i.lifespan&&i.lifespan>0&&(r.timeout=setTimeout(r.remove,i.lifespan))}).catch(s=>r.error=s)};if(_d.push(r),!n)throw r.promise}const $ye=(t,e,n)=>CG(t,e,!1,n),Xye=(t,e,n)=>void CG(t,e,!0,n),Yye=t=>{if(t===void 0||t.length===0)_d.splice(0,_d.length);else{const e=_d.find(n=>TG(t,n.keys,n.equal));e&&e.remove()}},EI={},qye=t=>void Object.assign(EI,t);function Kye(t,e){function n(u,{args:d=[],attach:f,...m},g){let y=`${u[0].toUpperCase()}${u.slice(1)}`,x;if(u==="primitive"){if(m.object===void 0)throw new Error("R3F: Primitives without 'object' are invalid!");const v=m.object;x=Th(v,{type:u,root:g,attach:f,primitive:!0})}else{const v=EI[y];if(!v)throw new Error(`R3F: ${y} is not part of the THREE namespace! Did you forget to extend? See: https://docs.pmnd.rs/react-three-fiber/api/objects#using-3rd-party-objects-declaratively`);if(!Array.isArray(d))throw new Error("R3F: The args prop must be an array!");x=Th(new v(...d),{type:u,root:g,attach:f,memoizedProps:{args:d}})}return x.__r3f.attach===void 0&&(x instanceof $t?x.__r3f.attach="geometry":x instanceof ir&&(x.__r3f.attach="material")),y!=="inject"&&cC(x,m),x}function i(u,d){let f=!1;if(d){var m,g;(m=d.__r3f)!=null&&m.attach?lC(u,d,d.__r3f.attach):d.isObject3D&&u.isObject3D&&(u.add(d),f=!0),f||(g=u.__r3f)==null||g.objects.push(d),d.__r3f||Th(d,{}),d.__r3f.parent=u,ZR(d),Ch(d)}}function r(u,d,f){let m=!1;if(d){var g,y;if((g=d.__r3f)!=null&&g.attach)lC(u,d,d.__r3f.attach);else if(d.isObject3D&&u.isObject3D){d.parent=u,d.dispatchEvent({type:"added"});const x=u.children.filter(_=>_!==d),v=x.indexOf(f);u.children=[...x.slice(0,v),d,...x.slice(v)],m=!0}m||(y=u.__r3f)==null||y.objects.push(d),d.__r3f||Th(d,{}),d.__r3f.parent=u,ZR(d),Ch(d)}}function s(u,d,f=!1){u&&[...u].forEach(m=>o(d,m,f))}function o(u,d,f){if(d){var m,g,y;if(d.__r3f&&(d.__r3f.parent=null),(m=u.__r3f)!=null&&m.objects&&(u.__r3f.objects=u.__r3f.objects.filter(w=>w!==d)),(g=d.__r3f)!=null&&g.attach)Hz(u,d,d.__r3f.attach);else if(d.isObject3D&&u.isObject3D){var x;u.remove(d),(x=d.__r3f)!=null&&x.root&&sxe(d.__r3f.root,d)}const _=(y=d.__r3f)==null?void 0:y.primitive,b=!_&&(f===void 0?d.dispose!==null:f);if(!_){var v;s((v=d.__r3f)==null?void 0:v.objects,d,b),s(d.children,d,b)}if(delete d.__r3f,b&&d.dispose&&d.type!=="Scene"){const w=()=>{try{d.dispose()}catch{}};typeof IS_REACT_ACT_ENVIRONMENT>"u"?Nz.unstable_scheduleCallback(Nz.unstable_IdlePriority,w):w()}Ch(u)}}function a(u,d,f,m){var g;const y=(g=u.__r3f)==null?void 0:g.parent;if(!y)return;const x=n(d,f,u.__r3f.root);if(u.children){for(const v of u.children)v.__r3f&&i(x,v);u.children=u.children.filter(v=>!v.__r3f)}u.__r3f.objects.forEach(v=>i(x,v)),u.__r3f.objects=[],u.__r3f.autoRemovedBeforeAppend||o(y,u),x.parent&&(x.__r3f.autoRemovedBeforeAppend=!0),i(y,x),x.raycast&&x.__r3f.eventCount&&x.__r3f.root.getState().internal.interaction.push(x),[m,m.alternate].forEach(v=>{v!==null&&(v.stateNode=x,v.ref&&(typeof v.ref=="function"?v.ref(x):v.ref.current=x))})}const l=()=>console.warn("Text is not allowed in the R3F tree! This could be stray whitespace or characters.");return{reconciler:Wye({createInstance:n,removeChild:o,appendChild:i,appendInitialChild:i,insertBefore:r,supportsMutation:!0,isPrimaryRenderer:!1,supportsPersistence:!1,supportsHydration:!1,noTimeout:-1,appendChildToContainer:(u,d)=>{if(!d)return;const f=u.getState().scene;f.__r3f&&(f.__r3f.root=u,i(f,d))},removeChildFromContainer:(u,d)=>{d&&o(u.getState().scene,d)},insertInContainerBefore:(u,d,f)=>{if(!d||!f)return;const m=u.getState().scene;m.__r3f&&r(m,d,f)},getRootHostContext:()=>null,getChildHostContext:u=>u,finalizeInitialChildren(u){var d;return!!((d=u==null?void 0:u.__r3f)!=null?d:{}).handlers},prepareUpdate(u,d,f,m){var g;if(((g=u==null?void 0:u.__r3f)!=null?g:{}).primitive&&m.object&&m.object!==u)return[!0];{const{args:x=[],children:v,..._}=m,{args:b=[],children:w,...C}=f;if(!Array.isArray(x))throw new Error("R3F: the args prop must be an array!");if(x.some((R,I)=>R!==b[I]))return[!0];const T=DG(u,_,C,!0);return T.changes.length?[!1,T]:null}},commitUpdate(u,[d,f],m,g,y,x){d?a(u,m,y,x):cC(u,f)},commitMount(u,d,f,m){var g;const y=(g=u.__r3f)!=null?g:{};u.raycast&&y.handlers&&y.eventCount&&u.__r3f.root.getState().internal.interaction.push(u)},getPublicInstance:u=>u,prepareForCommit:()=>null,preparePortalMount:u=>Th(u.getState().scene),resetAfterCommit:()=>{},shouldSetTextContent:()=>!1,clearContainer:()=>!1,hideInstance(u){var d;const{attach:f,parent:m}=(d=u.__r3f)!=null?d:{};f&&m&&Hz(m,u,f),u.isObject3D&&(u.visible=!1),Ch(u)},unhideInstance(u,d){var f;const{attach:m,parent:g}=(f=u.__r3f)!=null?f:{};m&&g&&lC(g,u,m),(u.isObject3D&&d.visible==null||d.visible)&&(u.visible=!0),Ch(u)},createTextInstance:l,hideTextInstance:l,unhideTextInstance:l,getCurrentEventPriority:()=>e?e():Xh.DefaultEventPriority,beforeActiveInstanceBlur:()=>{},afterActiveInstanceBlur:()=>{},detachDeletedInstance:()=>{},now:typeof performance<"u"&&Yn.fun(performance.now)?performance.now:Yn.fun(Date.now)?Date.now:()=>0,scheduleTimeout:Yn.fun(setTimeout)?setTimeout:void 0,cancelTimeout:Yn.fun(clearTimeout)?clearTimeout:void 0}),applyProps:cC}}var Fz,zz;const aC=t=>"colorSpace"in t||"outputColorSpace"in t,RG=()=>{var t;return(t=EI.ColorManagement)!=null?t:null},AG=t=>t&&t.isOrthographicCamera,Qye=t=>t&&t.hasOwnProperty("current"),fm=typeof window<"u"&&((Fz=window.document)!=null&&Fz.createElement||((zz=window.navigator)==null?void 0:zz.product)==="ReactNative")?k.useLayoutEffect:k.useEffect;function PG(t){const e=k.useRef(t);return fm(()=>void(e.current=t),[t]),e}function Zye({set:t}){return fm(()=>(t(new Promise(()=>null)),()=>t(!1)),[t]),null}class kG extends k.Component{constructor(...e){super(...e),this.state={error:!1}}componentDidCatch(e){this.props.set(e)}render(){return this.state.error?null:this.props.children}}kG.getDerivedStateFromError=()=>({error:!0});const IG="__default",Uz=new Map,Jye=t=>t&&!!t.memoized&&!!t.changes;function LG(t){var e;const n=typeof window<"u"?(e=window.devicePixelRatio)!=null?e:2:1;return Array.isArray(t)?Math.min(Math.max(t[0],n),t[1]):t}const vg=t=>{var e;return(e=t.__r3f)==null?void 0:e.root.getState()},Yn={obj:t=>t===Object(t)&&!Yn.arr(t)&&typeof t!="function",fun:t=>typeof t=="function",str:t=>typeof t=="string",num:t=>typeof t=="number",boo:t=>typeof t=="boolean",und:t=>t===void 0,arr:t=>Array.isArray(t),equ(t,e,{arrays:n="shallow",objects:i="reference",strict:r=!0}={}){if(typeof t!=typeof e||!!t!=!!e)return!1;if(Yn.str(t)||Yn.num(t))return t===e;const s=Yn.obj(t);if(s&&i==="reference")return t===e;const o=Yn.arr(t);if(o&&n==="reference")return t===e;if((o||s)&&t===e)return!0;let a;for(a in t)if(!(a in e))return!1;if(s&&n==="shallow"&&i==="shallow"){for(a in r?e:t)if(!Yn.equ(t[a],e[a],{strict:r,objects:"reference"}))return!1}else for(a in r?e:t)if(t[a]!==e[a])return!1;if(Yn.und(a)){if(o&&t.length===0&&e.length===0||s&&Object.keys(t).length===0&&Object.keys(e).length===0)return!0;if(t!==e)return!1}return!0}};function exe(t){const e={nodes:{},materials:{}};return t&&t.traverse(n=>{n.name&&(e.nodes[n.name]=n),n.material&&!e.materials[n.material.name]&&(e.materials[n.material.name]=n.material)}),e}function txe(t){t.dispose&&t.type!=="Scene"&&t.dispose();for(const e in t)e.dispose==null||e.dispose(),delete t[e]}function Th(t,e){const n=t;return n.__r3f={type:"",root:null,previousAttach:null,memoizedProps:{},eventCount:0,handlers:{},objects:[],parent:null,...e},t}function QR(t,e){let n=t;if(e.includes("-")){const i=e.split("-"),r=i.pop();return n=i.reduce((s,o)=>s[o],t),{target:n,key:r}}else return{target:n,key:e}}const Bz=/-\d+$/;function lC(t,e,n){if(Yn.str(n)){if(Bz.test(n)){const s=n.replace(Bz,""),{target:o,key:a}=QR(t,s);Array.isArray(o[a])||(o[a]=[])}const{target:i,key:r}=QR(t,n);e.__r3f.previousAttach=i[r],i[r]=e}else e.__r3f.previousAttach=n(t,e)}function Hz(t,e,n){var i,r;if(Yn.str(n)){const{target:s,key:o}=QR(t,n),a=e.__r3f.previousAttach;a===void 0?delete s[o]:s[o]=a}else(i=e.__r3f)==null||i.previousAttach==null||i.previousAttach(t,e);(r=e.__r3f)==null||delete r.previousAttach}function DG(t,{children:e,key:n,ref:i,...r},{children:s,key:o,ref:a,...l}={},c=!1){var u;const d=(u=t==null?void 0:t.__r3f)!=null?u:{},f=Object.entries(r),m=[];if(c){const y=Object.keys(l);for(let x=0;x<y.length;x++)r.hasOwnProperty(y[x])||f.unshift([y[x],IG+"remove"])}f.forEach(([y,x])=>{var v;if((v=t.__r3f)!=null&&v.primitive&&y==="object"||Yn.equ(x,l[y]))return;if(/^on(Pointer|Click|DoubleClick|ContextMenu|Wheel)/.test(y))return m.push([y,x,!0,[]]);let _=[];y.includes("-")&&(_=y.split("-")),m.push([y,x,!1,_]);for(const b in r){const w=r[b];b.startsWith(`${y}-`)&&m.push([b,w,!1,b.split("-")])}});const g={...r};return d.memoizedProps&&d.memoizedProps.args&&(g.args=d.memoizedProps.args),d.memoizedProps&&d.memoizedProps.attach&&(g.attach=d.memoizedProps.attach),{memoized:g,changes:m}}const nxe=typeof process<"u"&&!1;function cC(t,e){var n,i,r;const s=(n=t.__r3f)!=null?n:{},o=s.root,a=(i=o==null||o.getState==null?void 0:o.getState())!=null?i:{},{memoized:l,changes:c}=Jye(e)?e:DG(t,e),u=s.eventCount;t.__r3f&&(t.__r3f.memoizedProps=l);for(let f=0;f<c.length;f++){let[m,g,y,x]=c[f];if(aC(t)){const w="srgb",C="srgb-linear";m==="encoding"?(m="colorSpace",g=g===3001?w:C):m==="outputEncoding"&&(m="outputColorSpace",g=g===3001?w:C)}let v=t,_=v[m];if(x.length&&(_=x.reduce((b,w)=>b[w],t),!(_&&_.set))){const[b,...w]=x.reverse();v=w.reverse().reduce((C,T)=>C[T],t),m=b}if(g===IG+"remove")if(v.constructor){let b=Uz.get(v.constructor);b||(b=new v.constructor,Uz.set(v.constructor,b)),g=b[m]}else g=0;if(y)g?s.handlers[m]=g:delete s.handlers[m],s.eventCount=Object.keys(s.handlers).length;else if(_&&_.set&&(_.copy||_ instanceof zd)){if(Array.isArray(g))_.fromArray?_.fromArray(g):_.set(...g);else if(_.copy&&g&&g.constructor&&(nxe?_.constructor.name===g.constructor.name:_.constructor===g.constructor))_.copy(g);else if(g!==void 0){const b=_ instanceof Be;!b&&_.setScalar?_.setScalar(g):_ instanceof zd&&g instanceof zd?_.mask=g.mask:_.set(g),!RG()&&!a.linear&&b&&_.convertSRGBToLinear()}}else if(v[m]=g,v[m]instanceof ni&&v[m].format===is&&v[m].type===mr){const b=v[m];aC(b)&&aC(a.gl)?b.colorSpace=a.gl.outputColorSpace:b.encoding=a.gl.outputEncoding}Ch(t)}if(s.parent&&a.internal&&t.raycast&&u!==s.eventCount){const f=a.internal.interaction.indexOf(t);f>-1&&a.internal.interaction.splice(f,1),s.eventCount&&a.internal.interaction.push(t)}return!(c.length===1&&c[0][0]==="onUpdate")&&c.length&&(r=t.__r3f)!=null&&r.parent&&ZR(t),t}function Ch(t){var e,n;const i=(e=t.__r3f)==null||(n=e.root)==null||n.getState==null?void 0:n.getState();i&&i.internal.frames===0&&i.invalidate()}function ZR(t){t.onUpdate==null||t.onUpdate(t)}function ixe(t,e){t.manual||(AG(t)?(t.left=e.width/-2,t.right=e.width/2,t.top=e.height/2,t.bottom=e.height/-2):t.aspect=e.width/e.height,t.updateProjectionMatrix(),t.updateMatrixWorld())}function $_(t){return(t.eventObject||t.object).uuid+"/"+t.index+t.instanceId}function rxe(){var t;const e=typeof self<"u"&&self||typeof window<"u"&&window;if(!e)return Xh.DefaultEventPriority;switch((t=e.event)==null?void 0:t.type){case"click":case"contextmenu":case"dblclick":case"pointercancel":case"pointerdown":case"pointerup":return Xh.DiscreteEventPriority;case"pointermove":case"pointerout":case"pointerover":case"pointerenter":case"pointerleave":case"wheel":return Xh.ContinuousEventPriority;default:return Xh.DefaultEventPriority}}function OG(t,e,n,i){const r=n.get(e);r&&(n.delete(e),n.size===0&&(t.delete(i),r.target.releasePointerCapture(i)))}function sxe(t,e){const{internal:n}=t.getState();n.interaction=n.interaction.filter(i=>i!==e),n.initialHits=n.initialHits.filter(i=>i!==e),n.hovered.forEach((i,r)=>{(i.eventObject===e||i.object===e)&&n.hovered.delete(r)}),n.capturedMap.forEach((i,r)=>{OG(n.capturedMap,e,i,r)})}function oxe(t){function e(l){const{internal:c}=t.getState(),u=l.offsetX-c.initialClick[0],d=l.offsetY-c.initialClick[1];return Math.round(Math.sqrt(u*u+d*d))}function n(l){return l.filter(c=>["Move","Over","Enter","Out","Leave"].some(u=>{var d;return(d=c.__r3f)==null?void 0:d.handlers["onPointer"+u]}))}function i(l,c){const u=t.getState(),d=new Set,f=[],m=c?c(u.internal.interaction):u.internal.interaction;for(let v=0;v<m.length;v++){const _=vg(m[v]);_&&(_.raycaster.camera=void 0)}u.previousRoot||u.events.compute==null||u.events.compute(l,u);function g(v){const _=vg(v);if(!_||!_.events.enabled||_.raycaster.camera===null)return[];if(_.raycaster.camera===void 0){var b;_.events.compute==null||_.events.compute(l,_,(b=_.previousRoot)==null?void 0:b.getState()),_.raycaster.camera===void 0&&(_.raycaster.camera=null)}return _.raycaster.camera?_.raycaster.intersectObject(v,!0):[]}let y=m.flatMap(g).sort((v,_)=>{const b=vg(v.object),w=vg(_.object);return!b||!w?v.distance-_.distance:w.events.priority-b.events.priority||v.distance-_.distance}).filter(v=>{const _=$_(v);return d.has(_)?!1:(d.add(_),!0)});u.events.filter&&(y=u.events.filter(y,u));for(const v of y){let _=v.object;for(;_;){var x;(x=_.__r3f)!=null&&x.eventCount&&f.push({...v,eventObject:_}),_=_.parent}}if("pointerId"in l&&u.internal.capturedMap.has(l.pointerId))for(let v of u.internal.capturedMap.get(l.pointerId).values())d.has($_(v.intersection))||f.push(v.intersection);return f}function r(l,c,u,d){const f=t.getState();if(l.length){const m={stopped:!1};for(const g of l){const y=vg(g.object)||f,{raycaster:x,pointer:v,camera:_,internal:b}=y,w=new W(v.x,v.y,0).unproject(_),C=L=>{var O,H;return(O=(H=b.capturedMap.get(L))==null?void 0:H.has(g.eventObject))!=null?O:!1},T=L=>{const O={intersection:g,target:c.target};b.capturedMap.has(L)?b.capturedMap.get(L).set(g.eventObject,O):b.capturedMap.set(L,new Map([[g.eventObject,O]])),c.target.setPointerCapture(L)},R=L=>{const O=b.capturedMap.get(L);O&&OG(b.capturedMap,g.eventObject,O,L)};let I={};for(let L in c){let O=c[L];typeof O!="function"&&(I[L]=O)}let A={...g,...I,pointer:v,intersections:l,stopped:m.stopped,delta:u,unprojectedPoint:w,ray:x.ray,camera:_,stopPropagation(){const L="pointerId"in c&&b.capturedMap.get(c.pointerId);if((!L||L.has(g.eventObject))&&(A.stopped=m.stopped=!0,b.hovered.size&&Array.from(b.hovered.values()).find(O=>O.eventObject===g.eventObject))){const O=l.slice(0,l.indexOf(g));s([...O,g])}},target:{hasPointerCapture:C,setPointerCapture:T,releasePointerCapture:R},currentTarget:{hasPointerCapture:C,setPointerCapture:T,releasePointerCapture:R},nativeEvent:c};if(d(A),m.stopped===!0)break}}return l}function s(l){const{internal:c}=t.getState();for(const u of c.hovered.values())if(!l.length||!l.find(d=>d.object===u.object&&d.index===u.index&&d.instanceId===u.instanceId)){const f=u.eventObject.__r3f,m=f==null?void 0:f.handlers;if(c.hovered.delete($_(u)),f!=null&&f.eventCount){const g={...u,intersections:l};m.onPointerOut==null||m.onPointerOut(g),m.onPointerLeave==null||m.onPointerLeave(g)}}}function o(l,c){for(let u=0;u<c.length;u++){const d=c[u].__r3f;d==null||d.handlers.onPointerMissed==null||d.handlers.onPointerMissed(l)}}function a(l){switch(l){case"onPointerLeave":case"onPointerCancel":return()=>s([]);case"onLostPointerCapture":return c=>{const{internal:u}=t.getState();"pointerId"in c&&u.capturedMap.has(c.pointerId)&&requestAnimationFrame(()=>{u.capturedMap.has(c.pointerId)&&(u.capturedMap.delete(c.pointerId),s([]))})}}return function(u){const{onPointerMissed:d,internal:f}=t.getState();f.lastEvent.current=u;const m=l==="onPointerMove",g=l==="onClick"||l==="onContextMenu"||l==="onDoubleClick",x=i(u,m?n:void 0),v=g?e(u):0;l==="onPointerDown"&&(f.initialClick=[u.offsetX,u.offsetY],f.initialHits=x.map(b=>b.eventObject)),g&&!x.length&&v<=2&&(o(u,f.interaction),d&&d(u)),m&&s(x);function _(b){const w=b.eventObject,C=w.__r3f,T=C==null?void 0:C.handlers;if(C!=null&&C.eventCount)if(m){if(T.onPointerOver||T.onPointerEnter||T.onPointerOut||T.onPointerLeave){const R=$_(b),I=f.hovered.get(R);I?I.stopped&&b.stopPropagation():(f.hovered.set(R,b),T.onPointerOver==null||T.onPointerOver(b),T.onPointerEnter==null||T.onPointerEnter(b))}T.onPointerMove==null||T.onPointerMove(b)}else{const R=T[l];R?(!g||f.initialHits.includes(w))&&(o(u,f.interaction.filter(I=>!f.initialHits.includes(I))),R(b)):g&&f.initialHits.includes(w)&&o(u,f.interaction.filter(I=>!f.initialHits.includes(I)))}}r(x,u,v,_)}}return{handlePointer:a}}const NG=t=>!!(t!=null&&t.render),FG=k.createContext(null),axe=(t,e)=>{const n=Uye((a,l)=>{const c=new W,u=new W,d=new W;function f(v=l().camera,_=u,b=l().size){const{width:w,height:C,top:T,left:R}=b,I=w/C;_ instanceof W?d.copy(_):d.set(..._);const A=v.getWorldPosition(c).distanceTo(d);if(AG(v))return{width:w/v.zoom,height:C/v.zoom,top:T,left:R,factor:1,distance:A,aspect:I};{const L=v.fov*Math.PI/180,O=2*Math.tan(L/2)*A,H=O*(w/C);return{width:H,height:O,top:T,left:R,factor:w/H,distance:A,aspect:I}}}let m;const g=v=>a(_=>({performance:{..._.performance,current:v}})),y=new Ae;return{set:a,get:l,gl:null,camera:null,raycaster:null,events:{priority:1,enabled:!0,connected:!1},xr:null,scene:null,invalidate:(v=1)=>t(l(),v),advance:(v,_)=>e(v,_,l()),legacy:!1,linear:!1,flat:!1,controls:null,clock:new SI,pointer:y,mouse:y,frameloop:"always",onPointerMissed:void 0,performance:{current:1,min:.5,max:1,debounce:200,regress:()=>{const v=l();m&&clearTimeout(m),v.performance.current!==v.performance.min&&g(v.performance.min),m=setTimeout(()=>g(l().performance.max),v.performance.debounce)}},size:{width:0,height:0,top:0,left:0,updateStyle:!1},viewport:{initialDpr:0,dpr:0,width:0,height:0,top:0,left:0,aspect:0,distance:0,factor:0,getCurrentViewport:f},setEvents:v=>a(_=>({..._,events:{..._.events,...v}})),setSize:(v,_,b,w,C)=>{const T=l().camera,R={width:v,height:_,top:w||0,left:C||0,updateStyle:b};a(I=>({size:R,viewport:{...I.viewport,...f(T,u,R)}}))},setDpr:v=>a(_=>{const b=LG(v);return{viewport:{..._.viewport,dpr:b,initialDpr:_.viewport.initialDpr||b}}}),setFrameloop:(v="always")=>{const _=l().clock;_.stop(),_.elapsedTime=0,v!=="never"&&(_.start(),_.elapsedTime=0),a(()=>({frameloop:v}))},previousRoot:void 0,internal:{active:!1,priority:0,frames:0,lastEvent:k.createRef(),interaction:[],hovered:new Map,subscribers:[],initialClick:[0,0],initialHits:[],capturedMap:new Map,subscribe:(v,_,b)=>{const w=l().internal;return w.priority=w.priority+(_>0?1:0),w.subscribers.push({ref:v,priority:_,store:b}),w.subscribers=w.subscribers.sort((C,T)=>C.priority-T.priority),()=>{const C=l().internal;C!=null&&C.subscribers&&(C.priority=C.priority-(_>0?1:0),C.subscribers=C.subscribers.filter(T=>T.ref!==v))}}}}}),i=n.getState();let r=i.size,s=i.viewport.dpr,o=i.camera;return n.subscribe(()=>{const{camera:a,size:l,viewport:c,gl:u,set:d}=n.getState();if(l.width!==r.width||l.height!==r.height||c.dpr!==s){var f;r=l,s=c.dpr,ixe(a,l),u.setPixelRatio(c.dpr);const m=(f=l.updateStyle)!=null?f:typeof HTMLCanvasElement<"u"&&u.domElement instanceof HTMLCanvasElement;u.setSize(l.width,l.height,m)}a!==o&&(o=a,d(m=>({viewport:{...m.viewport,...m.viewport.getCurrentViewport(a)}})))}),n.subscribe(a=>t(a)),n};let X_,lxe=new Set,cxe=new Set,uxe=new Set;function uC(t,e){if(t.size)for(const{callback:n}of t.values())n(e)}function yg(t,e){switch(t){case"before":return uC(lxe,e);case"after":return uC(cxe,e);case"tail":return uC(uxe,e)}}let dC,fC;function hC(t,e,n){let i=e.clock.getDelta();for(e.frameloop==="never"&&typeof t=="number"&&(i=t-e.clock.elapsedTime,e.clock.oldTime=e.clock.elapsedTime,e.clock.elapsedTime=t),dC=e.internal.subscribers,X_=0;X_<dC.length;X_++)fC=dC[X_],fC.ref.current(fC.store.getState(),i,n);return!e.internal.priority&&e.gl.render&&e.gl.render(e.scene,e.camera),e.internal.frames=Math.max(0,e.internal.frames-1),e.frameloop==="always"?1:e.internal.frames}function dxe(t){let e=!1,n,i,r;function s(l){i=requestAnimationFrame(s),e=!0,n=0,yg("before",l);for(const u of t.values()){var c;r=u.store.getState(),r.internal.active&&(r.frameloop==="always"||r.internal.frames>0)&&!((c=r.gl.xr)!=null&&c.isPresenting)&&(n+=hC(l,r))}if(yg("after",l),n===0)return yg("tail",l),e=!1,cancelAnimationFrame(i)}function o(l,c=1){var u;if(!l)return t.forEach(d=>o(d.store.getState()),c);(u=l.gl.xr)!=null&&u.isPresenting||!l.internal.active||l.frameloop==="never"||(l.internal.frames=Math.min(60,l.internal.frames+c),e||(e=!0,requestAnimationFrame(s)))}function a(l,c=!0,u,d){if(c&&yg("before",l),u)hC(l,u,d);else for(const f of t.values())hC(l,f.store.getState());c&&yg("after",l)}return{loop:s,invalidate:o,advance:a}}function fxe(t){const e=k.useRef(null);return fm(()=>void(e.current=t.current.__r3f),[t]),e}function zG(){const t=k.useContext(FG);if(!t)throw new Error("R3F: Hooks can only be used within the Canvas component!");return t}function ns(t=n=>n,e){return zG()(t,e)}function UG(t,e=0){const n=zG(),i=n.getState().internal.subscribe,r=PG(t);return fm(()=>i(r,e,n),[e,i,n]),null}const Vz=new WeakMap;function BG(t,e){return function(n,...i){let r=Vz.get(n);return r||(r=new n,Vz.set(n,r)),t&&t(r),Promise.all(i.map(s=>new Promise((o,a)=>r.load(s,l=>{l.scene&&Object.assign(l,exe(l.scene)),o(l)},e,l=>a(new Error(`Could not load ${s}: ${l==null?void 0:l.message}`)))))).finally(()=>r.dispose==null?void 0:r.dispose())}}function py(t,e,n,i){const r=Array.isArray(e)?e:[e],s=$ye(BG(n,i),[t,...r],{equal:Yn.equ});return Array.isArray(e)?s:s[0]}py.preload=function(t,e,n){const i=Array.isArray(e)?e:[e];return Xye(BG(n),[t,...i])};py.clear=function(t,e){const n=Array.isArray(e)?e:[e];return Yye([t,...n])};const Wp=new Map,{invalidate:jz,advance:Wz}=dxe(Wp),{reconciler:X1,applyProps:gh}=Kye(Wp,rxe),vh={objects:"shallow",strict:!1},hxe=(t,e)=>{const n=typeof t=="function"?t(e):t;return NG(n)?n:new rI({powerPreference:"high-performance",canvas:e,antialias:!0,alpha:!0,...t})};function pxe(t,e){const n=typeof HTMLCanvasElement<"u"&&t instanceof HTMLCanvasElement;if(e){const{width:i,height:r,top:s,left:o,updateStyle:a=n}=e;return{width:i,height:r,top:s,left:o,updateStyle:a}}else if(typeof HTMLCanvasElement<"u"&&t instanceof HTMLCanvasElement&&t.parentElement){const{width:i,height:r,top:s,left:o}=t.parentElement.getBoundingClientRect();return{width:i,height:r,top:s,left:o,updateStyle:n}}else if(typeof OffscreenCanvas<"u"&&t instanceof OffscreenCanvas)return{width:t.width,height:t.height,top:0,left:0,updateStyle:n};return{width:0,height:0,top:0,left:0}}function mxe(t){const e=Wp.get(t),n=e==null?void 0:e.fiber,i=e==null?void 0:e.store;e&&console.warn("R3F.createRoot should only be called once!");const r=typeof reportError=="function"?reportError:console.error,s=i||axe(jz,Wz),o=n||X1.createContainer(s,Xh.ConcurrentRoot,null,!1,null,"",r,null);e||Wp.set(t,{fiber:o,store:s});let a,l=!1,c;return{configure(u={}){let{gl:d,size:f,scene:m,events:g,onCreated:y,shadows:x=!1,linear:v=!1,flat:_=!1,legacy:b=!1,orthographic:w=!1,frameloop:C="always",dpr:T=[1,2],performance:R,raycaster:I,camera:A,onPointerMissed:L}=u,O=s.getState(),H=O.gl;O.gl||O.set({gl:H=hxe(d,t)});let q=O.raycaster;q||O.set({raycaster:q=new _G});const{params:U,...G}=I||{};if(Yn.equ(G,q,vh)||gh(q,{...G}),Yn.equ(U,q.params,vh)||gh(q,{params:{...q.params,...U}}),!O.camera||O.camera===c&&!Yn.equ(c,A,vh)){c=A;const se=A instanceof lm,ne=se?A:w?new ly(0,0,0,0,.1,1e3):new zi(75,0,.1,1e3);se||(ne.position.z=5,A&&gh(ne,A),!O.camera&&!(A!=null&&A.rotation)&&ne.lookAt(0,0,0)),O.set({camera:ne}),q.camera=ne}if(!O.scene){let se;m instanceof Vp?se=m:(se=new Vp,m&&gh(se,m)),O.set({scene:Th(se)})}if(!O.xr){var Q;const se=(xe,Ee)=>{const Oe=s.getState();Oe.frameloop!=="never"&&Wz(xe,!0,Oe,Ee)},ne=()=>{const xe=s.getState();xe.gl.xr.enabled=xe.gl.xr.isPresenting,xe.gl.xr.setAnimationLoop(xe.gl.xr.isPresenting?se:null),xe.gl.xr.isPresenting||jz(xe)},ae={connect(){const xe=s.getState().gl;xe.xr.addEventListener("sessionstart",ne),xe.xr.addEventListener("sessionend",ne)},disconnect(){const xe=s.getState().gl;xe.xr.removeEventListener("sessionstart",ne),xe.xr.removeEventListener("sessionend",ne)}};typeof((Q=H.xr)==null?void 0:Q.addEventListener)=="function"&&ae.connect(),O.set({xr:ae})}if(H.shadowMap){const se=H.shadowMap.enabled,ne=H.shadowMap.type;if(H.shadowMap.enabled=!!x,Yn.boo(x))H.shadowMap.type=p0;else if(Yn.str(x)){var J;const ae={basic:wW,percentage:Pw,soft:p0,variance:qo};H.shadowMap.type=(J=ae[x])!=null?J:p0}else Yn.obj(x)&&Object.assign(H.shadowMap,x);(se!==H.shadowMap.enabled||ne!==H.shadowMap.type)&&(H.shadowMap.needsUpdate=!0)}const N=RG();N&&("enabled"in N?N.enabled=!b:"legacyMode"in N&&(N.legacyMode=b)),gh(H,{outputEncoding:v?3e3:3001,toneMapping:_?Ha:Bk}),O.legacy!==b&&O.set(()=>({legacy:b})),O.linear!==v&&O.set(()=>({linear:v})),O.flat!==_&&O.set(()=>({flat:_})),d&&!Yn.fun(d)&&!NG(d)&&!Yn.equ(d,H,vh)&&gh(H,d),g&&!O.events.handlers&&O.set({events:g(s)});const te=pxe(t,f);return Yn.equ(te,O.size,vh)||O.setSize(te.width,te.height,te.updateStyle,te.top,te.left),T&&O.viewport.dpr!==LG(T)&&O.setDpr(T),O.frameloop!==C&&O.setFrameloop(C),O.onPointerMissed||O.set({onPointerMissed:L}),R&&!Yn.equ(R,O.performance,vh)&&O.set(se=>({performance:{...se.performance,...R}})),a=y,l=!0,this},render(u){return l||this.configure(),X1.updateContainer(k.createElement(gxe,{store:s,children:u,onCreated:a,rootElement:t}),o,null,()=>{}),s},unmount(){HG(t)}}}function gxe({store:t,children:e,onCreated:n,rootElement:i}){return fm(()=>{const r=t.getState();r.set(s=>({internal:{...s.internal,active:!0}})),n&&n(r),t.getState().events.connected||r.events.connect==null||r.events.connect(i)},[]),k.createElement(FG.Provider,{value:t},e)}function HG(t,e){const n=Wp.get(t),i=n==null?void 0:n.fiber;if(i){const r=n==null?void 0:n.store.getState();r&&(r.internal.active=!1),X1.updateContainer(null,i,null,()=>{r&&setTimeout(()=>{try{var s,o,a,l;r.events.disconnect==null||r.events.disconnect(),(s=r.gl)==null||(o=s.renderLists)==null||o.dispose==null||o.dispose(),(a=r.gl)==null||a.forceContextLoss==null||a.forceContextLoss(),(l=r.gl)!=null&&l.xr&&r.xr.disconnect(),txe(r),Wp.delete(t),e&&e(t)}catch{}},500)})}}X1.injectIntoDevTools({bundleType:0,rendererPackageName:"@react-three/fiber",version:k.version});function JR(t,e,n){var i,r,s,o,a;e==null&&(e=100);function l(){var u=Date.now()-o;u<e&&u>=0?i=setTimeout(l,e-u):(i=null,n||(a=t.apply(s,r),s=r=null))}var c=function(){s=this,r=arguments,o=Date.now();var u=n&&!i;return i||(i=setTimeout(l,e)),u&&(a=t.apply(s,r),s=r=null),a};return c.clear=function(){i&&(clearTimeout(i),i=null)},c.flush=function(){i&&(a=t.apply(s,r),s=r=null,clearTimeout(i),i=null)},c}JR.debounce=JR;var vxe=JR;const Gz=Bv(vxe);function yxe(t){let{debounce:e,scroll:n,polyfill:i,offsetSize:r}=t===void 0?{debounce:0,scroll:!1,offsetSize:!1}:t;const s=i||(typeof window>"u"?class{}:window.ResizeObserver);if(!s)throw new Error("This browser does not support ResizeObserver out of the box. See: https://github.com/react-spring/react-use-measure/#resize-observer-polyfills");const[o,a]=k.useState({left:0,top:0,width:0,height:0,bottom:0,right:0,x:0,y:0}),l=k.useRef({element:null,scrollContainers:null,resizeObserver:null,lastBounds:o}),c=e?typeof e=="number"?e:e.scroll:null,u=e?typeof e=="number"?e:e.resize:null,d=k.useRef(!1);k.useEffect(()=>(d.current=!0,()=>void(d.current=!1)));const[f,m,g]=k.useMemo(()=>{const _=()=>{if(!l.current.element)return;const{left:b,top:w,width:C,height:T,bottom:R,right:I,x:A,y:L}=l.current.element.getBoundingClientRect(),O={left:b,top:w,width:C,height:T,bottom:R,right:I,x:A,y:L};l.current.element instanceof HTMLElement&&r&&(O.height=l.current.element.offsetHeight,O.width=l.current.element.offsetWidth),Object.freeze(O),d.current&&!Sxe(l.current.lastBounds,O)&&a(l.current.lastBounds=O)};return[_,u?Gz(_,u):_,c?Gz(_,c):_]},[a,r,c,u]);function y(){l.current.scrollContainers&&(l.current.scrollContainers.forEach(_=>_.removeEventListener("scroll",g,!0)),l.current.scrollContainers=null),l.current.resizeObserver&&(l.current.resizeObserver.disconnect(),l.current.resizeObserver=null)}function x(){l.current.element&&(l.current.resizeObserver=new s(g),l.current.resizeObserver.observe(l.current.element),n&&l.current.scrollContainers&&l.current.scrollContainers.forEach(_=>_.addEventListener("scroll",g,{capture:!0,passive:!0})))}const v=_=>{!_||_===l.current.element||(y(),l.current.element=_,l.current.scrollContainers=VG(_),x())};return _xe(g,!!n),xxe(m),k.useEffect(()=>{y(),x()},[n,g,m]),k.useEffect(()=>y,[]),[v,o,f]}function xxe(t){k.useEffect(()=>{const e=t;return window.addEventListener("resize",e),()=>void window.removeEventListener("resize",e)},[t])}function _xe(t,e){k.useEffect(()=>{if(e){const n=t;return window.addEventListener("scroll",n,{capture:!0,passive:!0}),()=>void window.removeEventListener("scroll",n,!0)}},[t,e])}function VG(t){const e=[];if(!t||t===document.body)return e;const{overflow:n,overflowX:i,overflowY:r}=window.getComputedStyle(t);return[n,i,r].some(s=>s==="auto"||s==="scroll")&&e.push(t),[...e,...VG(t.parentElement)]}const bxe=["x","y","top","bottom","left","right","width","height"],Sxe=(t,e)=>bxe.every(n=>t[n]===e[n]);var wxe=Object.defineProperty,Mxe=Object.defineProperties,Exe=Object.getOwnPropertyDescriptors,$z=Object.getOwnPropertySymbols,Txe=Object.prototype.hasOwnProperty,Cxe=Object.prototype.propertyIsEnumerable,Xz=(t,e,n)=>e in t?wxe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Yz=(t,e)=>{for(var n in e||(e={}))Txe.call(e,n)&&Xz(t,n,e[n]);if($z)for(var n of $z(e))Cxe.call(e,n)&&Xz(t,n,e[n]);return t},Rxe=(t,e)=>Mxe(t,Exe(e));function jG(t,e,n){if(!t)return;if(n(t)===!0)return t;let i=e?t.return:t.child;for(;i;){const r=jG(i,e,n);if(r)return r;i=e?null:i.sibling}}function WG(t){try{return Object.defineProperties(t,{_currentRenderer:{get(){return null},set(){}},_currentRenderer2:{get(){return null},set(){}}})}catch{return t}}const TI=WG(k.createContext(null));class GG extends k.Component{render(){return k.createElement(TI.Provider,{value:this._reactInternals},this.props.children)}}const{ReactCurrentOwner:qz,ReactCurrentDispatcher:Kz}=k.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;function Axe(){const t=k.useContext(TI);if(t===null)throw new Error("its-fine: useFiber must be called within a <FiberProvider />!");const e=k.useId();return k.useMemo(()=>{for(const i of[qz==null?void 0:qz.current,t,t==null?void 0:t.alternate]){if(!i)continue;const r=jG(i,!1,s=>{let o=s.memoizedState;for(;o;){if(o.memoizedState===e)return!0;o=o.next}});if(r)return r}},[t,e])}function Pxe(){var t,e;const n=Axe(),[i]=k.useState(()=>new Map);i.clear();let r=n;for(;r;){const s=(t=r.type)==null?void 0:t._context;s&&s!==TI&&!i.has(s)&&i.set(s,(e=Kz==null?void 0:Kz.current)==null?void 0:e.readContext(WG(s))),r=r.return}return i}function kxe(){const t=Pxe();return k.useMemo(()=>Array.from(t.keys()).reduce((e,n)=>i=>k.createElement(e,null,k.createElement(n.Provider,Rxe(Yz({},i),{value:t.get(n)}))),e=>k.createElement(GG,Yz({},e))),[t])}const pC={onClick:["click",!1],onContextMenu:["contextmenu",!1],onDoubleClick:["dblclick",!1],onWheel:["wheel",!0],onPointerDown:["pointerdown",!0],onPointerUp:["pointerup",!0],onPointerLeave:["pointerleave",!0],onPointerMove:["pointermove",!0],onPointerCancel:["pointercancel",!0],onLostPointerCapture:["lostpointercapture",!0]};function Ixe(t){const{handlePointer:e}=oxe(t);return{priority:1,enabled:!0,compute(n,i,r){i.pointer.set(n.offsetX/i.size.width*2-1,-(n.offsetY/i.size.height)*2+1),i.raycaster.setFromCamera(i.pointer,i.camera)},connected:void 0,handlers:Object.keys(pC).reduce((n,i)=>({...n,[i]:e(i)}),{}),update:()=>{var n;const{events:i,internal:r}=t.getState();(n=r.lastEvent)!=null&&n.current&&i.handlers&&i.handlers.onPointerMove(r.lastEvent.current)},connect:n=>{var i;const{set:r,events:s}=t.getState();s.disconnect==null||s.disconnect(),r(o=>({events:{...o.events,connected:n}})),Object.entries((i=s.handlers)!=null?i:[]).forEach(([o,a])=>{const[l,c]=pC[o];n.addEventListener(l,a,{passive:c})})},disconnect:()=>{const{set:n,events:i}=t.getState();if(i.connected){var r;Object.entries((r=i.handlers)!=null?r:[]).forEach(([s,o])=>{if(i&&i.connected instanceof HTMLElement){const[a]=pC[s];i.connected.removeEventListener(a,o)}}),n(s=>({events:{...s.events,connected:void 0}}))}}}}const Lxe=k.forwardRef(function({children:e,fallback:n,resize:i,style:r,gl:s,events:o=Ixe,eventSource:a,eventPrefix:l,shadows:c,linear:u,flat:d,legacy:f,orthographic:m,frameloop:g,dpr:y,performance:x,raycaster:v,camera:_,scene:b,onPointerMissed:w,onCreated:C,...T},R){k.useMemo(()=>qye(Nye),[]);const I=kxe(),[A,L]=yxe({scroll:!0,debounce:{scroll:50,resize:0},...i}),O=k.useRef(null),H=k.useRef(null);k.useImperativeHandle(R,()=>O.current);const q=PG(w),[U,G]=k.useState(!1),[Q,J]=k.useState(!1);if(U)throw U;if(Q)throw Q;const N=k.useRef(null);fm(()=>{const j=O.current;L.width>0&&L.height>0&&j&&(N.current||(N.current=mxe(j)),N.current.configure({gl:s,events:o,shadows:c,linear:u,flat:d,legacy:f,orthographic:m,frameloop:g,dpr:y,performance:x,raycaster:v,camera:_,scene:b,size:L,onPointerMissed:(...te)=>q.current==null?void 0:q.current(...te),onCreated:te=>{te.events.connect==null||te.events.connect(a?Qye(a)?a.current:a:H.current),l&&te.setEvents({compute:(se,ne)=>{const ae=se[l+"X"],xe=se[l+"Y"];ne.pointer.set(ae/ne.size.width*2-1,-(xe/ne.size.height)*2+1),ne.raycaster.setFromCamera(ne.pointer,ne.camera)}}),C==null||C(te)}}),N.current.render(k.createElement(I,null,k.createElement(kG,{set:J},k.createElement(k.Suspense,{fallback:k.createElement(Zye,{set:G})},e)))))}),k.useEffect(()=>{const j=O.current;if(j)return()=>HG(j)},[]);const B=a?"none":"auto";return k.createElement("div",z({ref:H,style:{position:"relative",width:"100%",height:"100%",overflow:"hidden",pointerEvents:B,...r}},T),k.createElement("div",{ref:A,style:{width:"100%",height:"100%"}},k.createElement("canvas",{ref:O,style:{display:"block"}},n)))}),Dxe=k.forwardRef(function(e,n){return k.createElement(GG,null,k.createElement(Lxe,z({},e,{ref:n})))}),xf=()=>k.useContext(xW),_f=()=>k.useContext(mW),ql=()=>k.useContext(vW),$G=({children:t})=>{const{setShotsFired:e}=xf(),{isChallenge:n}=ql(),{isLocked:i}=_f();return M.jsxs(Dxe,{onPointerDown:()=>{n&&i&&e(r=>r+1)},children:[M.jsx("ambientLight",{intensity:2}),t]})},XG=()=>{const{localSettings:t}=hf(),{isLocked:e}=_f();return M.jsx(M.Fragment,{children:e&&M.jsx(M.Fragment,{children:M.jsx(Vl,{component:"div",position:"absolute",top:"50%",left:"50%",sx:{transform:"translate3d(-50%, -50%, 0)"},children:M.jsx(oR,{crosshairProps:t.crosshair})})})})};var YG={exports:{}};(function(t,e){(function(n,i){t.exports=i(k)})(typeof self<"u"?self:U9,n=>(()=>{var i={156:a=>{a.exports=n}},r={};function s(a){var l=r[a];if(l!==void 0)return l.exports;var c=r[a]={exports:{}};return i[a](c,c.exports,s),c.exports}s.d=(a,l)=>{for(var c in l)s.o(l,c)&&!s.o(a,c)&&Object.defineProperty(a,c,{enumerable:!0,get:l[c]})},s.o=(a,l)=>Object.prototype.hasOwnProperty.call(a,l),s.r=a=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(a,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(a,"__esModule",{value:!0})};var o={};return(()=>{s.r(o),s.d(o,{default:()=>x,useStopwatch:()=>g,useTime:()=>y,useTimer:()=>m});var a=s(156);class l{static expiryTimestamp(_){const b=new Date(_).getTime()>0;return b||console.warn("react-timer-hook: { useTimer } Invalid expiryTimestamp settings",_),b}static onExpire(_){const b=_&&typeof _=="function";return _&&!b&&console.warn("react-timer-hook: { useTimer } Invalid onExpire settings function",_),b}}class c{static getTimeFromSeconds(_){const b=Math.ceil(_),w=Math.floor(b/86400),C=Math.floor(b%86400/3600),T=Math.floor(b%3600/60);return{totalSeconds:b,seconds:Math.floor(b%60),minutes:T,hours:C,days:w}}static getSecondsFromExpiry(_,b){const w=_-new Date().getTime();if(w>0){const C=w/1e3;return b?Math.round(C):C}return 0}static getSecondsFromPrevTime(_,b){const w=new Date().getTime()-_;if(w>0){const C=w/1e3;return b?Math.round(C):C}return 0}static getSecondsFromTimeNow(){const _=new Date;return _.getTime()/1e3-60*_.getTimezoneOffset()}static getFormattedTimeFromSeconds(_,b){const{seconds:w,minutes:C,hours:T}=c.getTimeFromSeconds(_);let R="",I=T;return b==="12-hour"&&(R=T>=12?"pm":"am",I=T%12),{seconds:w,minutes:C,hours:I,ampm:R}}}function u(v,_){const b=(0,a.useRef)();(0,a.useEffect)(()=>{b.current=v}),(0,a.useEffect)(()=>{if(!_)return()=>{};const w=setInterval(()=>{b.current&&b.current()},_);return()=>clearInterval(w)},[_])}const d=1e3;function f(v){if(!l.expiryTimestamp(v))return null;const _=c.getSecondsFromExpiry(v),b=Math.floor(1e3*(_-Math.floor(_)));return b>0?b:d}function m(){let{expiryTimestamp:v,onExpire:_,autoStart:b=!0}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const[w,C]=(0,a.useState)(v),[T,R]=(0,a.useState)(c.getSecondsFromExpiry(w)),[I,A]=(0,a.useState)(b),[L,O]=(0,a.useState)(b),[H,q]=(0,a.useState)(f(w)),U=(0,a.useCallback)(()=>{l.onExpire(_)&&_(),A(!1),q(null)},[_]),G=(0,a.useCallback)(()=>{A(!1)},[]),Q=(0,a.useCallback)(function(B){let j=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1];q(f(B)),O(j),A(j),C(B),R(c.getSecondsFromExpiry(B))},[]),J=(0,a.useCallback)(()=>{const B=new Date;B.setMilliseconds(B.getMilliseconds()+1e3*T),Q(B)},[T,Q]),N=(0,a.useCallback)(()=>{L?(R(c.getSecondsFromExpiry(w)),A(!0)):J()},[w,L,J]);return u(()=>{H!==d&&q(d);const B=c.getSecondsFromExpiry(w);R(B),B<=0&&U()},I?H:null),{...c.getTimeFromSeconds(T),start:N,pause:G,resume:J,restart:Q,isRunning:I}}function g(){let{autoStart:v,offsetTimestamp:_}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const[b,w]=(0,a.useState)(c.getSecondsFromExpiry(_,!0)||0),[C,T]=(0,a.useState)(new Date),[R,I]=(0,a.useState)(b+c.getSecondsFromPrevTime(C||0,!0)),[A,L]=(0,a.useState)(v);u(()=>{I(b+c.getSecondsFromPrevTime(C,!0))},A?1e3:null);const O=(0,a.useCallback)(()=>{const U=new Date;T(U),L(!0),I(b+c.getSecondsFromPrevTime(U,!0))},[b]),H=(0,a.useCallback)(()=>{w(R),L(!1)},[R]),q=(0,a.useCallback)(function(){let U=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,G=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1];const Q=c.getSecondsFromExpiry(U,!0)||0,J=new Date;T(J),w(Q),L(G),I(Q+c.getSecondsFromPrevTime(J,!0))},[]);return{...c.getTimeFromSeconds(R),start:O,pause:H,reset:q,isRunning:A}}function y(){let{format:v}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const[_,b]=(0,a.useState)(c.getSecondsFromTimeNow());return u(()=>{b(c.getSecondsFromTimeNow())},1e3),{...c.getFormattedTimeFromSeconds(_,v)}}function x(v){if((0,a.useEffect)(()=>{console.warn("react-timer-hook: default export useTimer is deprecated, use named exports { useTimer, useStopwatch, useTime } instead")},[]),v.expiryTimestamp){const b=m(v);return{...b,startTimer:b.start,stopTimer:b.pause,resetTimer:()=>{}}}const _=g(v);return{..._,startTimer:_.start,stopTimer:_.pause,resetTimer:_.reset}}})(),o})())})(YG);var Oxe=YG.exports;const Nxe=async({scenarioName:t,score:e,accuracy:n})=>{try{return(await ca.post(`https://aim-blitz-server.onrender.com/api/accounts/scenarios/${t}/scores`,{score:e,accuracy:n})).data}catch(i){console.error("Error during postScore:",i);const r=i;return{success:!1,message:r.response?r.response.data.message:"Network Error or CORS issue",data:null,error:r.response?r.response.data.error:{code:"0",details:"Network Error or CORS issue"}}}},Fxe=({scenarioName:t})=>VH({mutationFn:Nxe,onSuccess:()=>{ou.invalidateQueries({queryKey:["api","accounts",t,"scores"]}),ou.invalidateQueries({queryKey:["api","scenarios",t,"leaderboard"]})}}),qG=k.createContext({}),KG=({children:t,timeDuration:e,scenarioName:n})=>{const[i,r]=k.useState(!1),{pointerLockControls:s}=_f(),{isChallenge:o,setShowScoreboard:a}=ql(),{accuracy:l,score:c,resetScore:u}=xf(),{data:d}=ff(),f=Fxe({scenarioName:n}),m=new Date;m.setSeconds(m.getSeconds()+e);const{...g}=Oxe.useTimer({expiryTimestamp:m,onExpire:()=>{var v;x(),r(!1),a(!0),s.current.unlock(),(v=d==null?void 0:d.data)!=null&&v.account&&f.mutate({scenarioName:n,score:c,accuracy:l})},autoStart:!1}),y=()=>{o&&(g.isRunning?g.isRunning&&g.pause():i?g.resume():(u(),r(!0),g.start()))},x=()=>{const v=new Date;v.setSeconds(v.getSeconds()+e),g.restart(v,!1),r(!1)};return M.jsx(qG.Provider,{value:{toggleTimer:y,resetTimer:x,...g},children:t})},CI=()=>k.useContext(qG),zxe=({settingsMenuProps:t})=>{const e=vr();return M.jsxs(gt,{position:"absolute",top:"50%",left:"50%",width:"80%",height:"80%",paddingX:2,overflow:"auto",borderRadius:1,sx:{transform:"translate(-50%, -50%)",backgroundColor:`${e.palette.background.default}BF`,backgroundImage:e.palette.mode==="dark"?"linear-gradient(rgba(255, 255, 255, 0.05), rgba(255, 255, 255, 0.05))":"linear-gradient(rgba(0, 0, 0, 0.05), rgba(0, 0, 0, 0.05))"},children:[M.jsx($e,{textAlign:"center",variant:"h3",marginY:1,padding:1,children:"Settings"}),M.jsx(aR,{...t})]})},QG=()=>{var x,v,_,b;const t=vr(),{isChallenge:e,setIsChallenge:n,setIsResetting:i}=ql(),[r,s]=k.useState(!1),{resetTimer:o}=CI(),{resetScore:a}=xf(),{pointerLockControls:l,isLocked:c}=_f(),{data:u,isLoading:d}=ff(),{localStorageSettings:f,setLocalStorageSettings:m}=Ik(),g=oW(),y=()=>{e&&(o(),a(),l.current.camera.rotation.set(0,0,0),i(!0))};return M.jsx(M.Fragment,{children:!c&&(r?M.jsx(M.Fragment,{children:!d&&M.jsx(zxe,{settingsMenuProps:{settings:((v=(x=u==null?void 0:u.data)==null?void 0:x.account)==null?void 0:v.settings)||f.settings,setSettings:(b=(_=u==null?void 0:u.data)==null?void 0:_.account)!=null&&b.settings?g.mutateAsync:m,onSave:()=>s(!1),onCancel:()=>s(!1)}})}):M.jsx(M.Fragment,{children:M.jsxs(gt,{position:"absolute",top:"50%",left:"50%",width:"20%",paddingX:2,borderRadius:1,sx:{transform:"translate(-50%, -50%)",backgroundColor:`${t.palette.background.default}BF`,backgroundImage:t.palette.mode==="dark"?"linear-gradient(rgba(255, 255, 255, 0.05), rgba(255, 255, 255, 0.05))":"linear-gradient(rgba(0, 0, 0, 0.05), rgba(0, 0, 0, 0.05))"},minWidth:"258px",children:[M.jsxs(gt,{flexDirection:"row",justifyContent:"center",alignItems:"center",marginY:1,paddingY:1,width:"100%",flexWrap:"wrap",children:[M.jsx($e,{textAlign:"center",gap:1,variant:"h3",color:"",children:"Aim"}),M.jsx(FV,{sx:{width:48,height:48},color:"primary",children:M.jsx(xk,{sx:{width:48,height:48}})}),M.jsx($e,{textAlign:"center",gap:1,variant:"h3",children:"Blitz"})]}),M.jsx(bi,{id:"play-button",variant:"contained",size:"large",color:"success",sx:{marginBottom:1},children:"Play"}),M.jsxs(gt,{flexDirection:"row",marginBottom:1,children:[M.jsx(bi,{onClick:()=>{n(!1)},color:"primary",variant:e?"outlined":"contained",fullWidth:!0,children:"Freeplay"}),M.jsx(bi,{onClick:()=>{n(!0)},color:"primary",variant:e?"contained":"outlined",fullWidth:!0,children:"Challenge"})]}),M.jsx(bi,{color:"primary",variant:"contained",fullWidth:!0,sx:{display:e?"block":"none",marginBottom:1},onClick:y,children:"Restart"}),M.jsx(bi,{color:"primary",variant:"contained",fullWidth:!0,sx:{marginBottom:1},onClick:()=>s(!0),children:"Settings"}),M.jsx(bi,{sx:{marginBottom:2,backgroundColor:t.palette.action.disabled},variant:"contained",fullWidth:!0,component:Ms,to:"/aim-blitz/scenarios",children:"Quit"})]})}))})},ZG=()=>{const t=vr(),{isChallenge:e}=ql(),{minutes:n,seconds:i}=CI();return M.jsx(M.Fragment,{children:e&&M.jsx(gt,{sx:{position:"absolute",top:0,left:"50%",px:2,py:1,transform:"translate(-50%, 0)",backgroundColor:`${t.palette.background.default}BF`,backgroundImage:t.palette.mode==="dark"?"linear-gradient(rgba(255, 255, 255, 0.05), rgba(255, 255, 255, 0.05))":"linear-gradient(rgba(0, 0, 0, 0.05), rgba(0, 0, 0, 0.05))",borderRadius:1,marginY:1},children:M.jsxs($e,{children:[n>9?n:"0"+n,":",i>9?i:"0"+i]})})})};/*!
 * @kurkle/color v0.3.2
 * https://github.com/kurkle/color#readme
 * (c) 2023 Jukka Kurkela
 * Released under the MIT License
 */function my(t){return t+.5|0}const Hc=(t,e,n)=>Math.max(Math.min(t,n),e);function Bg(t){return Hc(my(t*2.55),0,255)}function tu(t){return Hc(my(t*255),0,255)}function xl(t){return Hc(my(t/2.55)/100,0,1)}function Qz(t){return Hc(my(t*100),0,100)}const So={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},eA=[..."0123456789ABCDEF"],Uxe=t=>eA[t&15],Bxe=t=>eA[(t&240)>>4]+eA[t&15],Y_=t=>(t&240)>>4===(t&15),Hxe=t=>Y_(t.r)&&Y_(t.g)&&Y_(t.b)&&Y_(t.a);function Vxe(t){var e=t.length,n;return t[0]==="#"&&(e===4||e===5?n={r:255&So[t[1]]*17,g:255&So[t[2]]*17,b:255&So[t[3]]*17,a:e===5?So[t[4]]*17:255}:(e===7||e===9)&&(n={r:So[t[1]]<<4|So[t[2]],g:So[t[3]]<<4|So[t[4]],b:So[t[5]]<<4|So[t[6]],a:e===9?So[t[7]]<<4|So[t[8]]:255})),n}const jxe=(t,e)=>t<255?e(t):"";function Wxe(t){var e=Hxe(t)?Uxe:Bxe;return t?"#"+e(t.r)+e(t.g)+e(t.b)+jxe(t.a,e):void 0}const Gxe=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function JG(t,e,n){const i=e*Math.min(n,1-n),r=(s,o=(s+t/30)%12)=>n-i*Math.max(Math.min(o-3,9-o,1),-1);return[r(0),r(8),r(4)]}function $xe(t,e,n){const i=(r,s=(r+t/60)%6)=>n-n*e*Math.max(Math.min(s,4-s,1),0);return[i(5),i(3),i(1)]}function Xxe(t,e,n){const i=JG(t,1,.5);let r;for(e+n>1&&(r=1/(e+n),e*=r,n*=r),r=0;r<3;r++)i[r]*=1-e-n,i[r]+=e;return i}function Yxe(t,e,n,i,r){return t===r?(e-n)/i+(e<n?6:0):e===r?(n-t)/i+2:(t-e)/i+4}function RI(t){const n=t.r/255,i=t.g/255,r=t.b/255,s=Math.max(n,i,r),o=Math.min(n,i,r),a=(s+o)/2;let l,c,u;return s!==o&&(u=s-o,c=a>.5?u/(2-s-o):u/(s+o),l=Yxe(n,i,r,u,s),l=l*60+.5),[l|0,c||0,a]}function AI(t,e,n,i){return(Array.isArray(e)?t(e[0],e[1],e[2]):t(e,n,i)).map(tu)}function PI(t,e,n){return AI(JG,t,e,n)}function qxe(t,e,n){return AI(Xxe,t,e,n)}function Kxe(t,e,n){return AI($xe,t,e,n)}function e8(t){return(t%360+360)%360}function Qxe(t){const e=Gxe.exec(t);let n=255,i;if(!e)return;e[5]!==i&&(n=e[6]?Bg(+e[5]):tu(+e[5]));const r=e8(+e[2]),s=+e[3]/100,o=+e[4]/100;return e[1]==="hwb"?i=qxe(r,s,o):e[1]==="hsv"?i=Kxe(r,s,o):i=PI(r,s,o),{r:i[0],g:i[1],b:i[2],a:n}}function Zxe(t,e){var n=RI(t);n[0]=e8(n[0]+e),n=PI(n),t.r=n[0],t.g=n[1],t.b=n[2]}function Jxe(t){if(!t)return;const e=RI(t),n=e[0],i=Qz(e[1]),r=Qz(e[2]);return t.a<255?`hsla(${n}, ${i}%, ${r}%, ${xl(t.a)})`:`hsl(${n}, ${i}%, ${r}%)`}const Zz={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},Jz={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function e_e(){const t={},e=Object.keys(Jz),n=Object.keys(Zz);let i,r,s,o,a;for(i=0;i<e.length;i++){for(o=a=e[i],r=0;r<n.length;r++)s=n[r],a=a.replace(s,Zz[s]);s=parseInt(Jz[o],16),t[a]=[s>>16&255,s>>8&255,s&255]}return t}let q_;function t_e(t){q_||(q_=e_e(),q_.transparent=[0,0,0,0]);const e=q_[t.toLowerCase()];return e&&{r:e[0],g:e[1],b:e[2],a:e.length===4?e[3]:255}}const n_e=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function i_e(t){const e=n_e.exec(t);let n=255,i,r,s;if(e){if(e[7]!==i){const o=+e[7];n=e[8]?Bg(o):Hc(o*255,0,255)}return i=+e[1],r=+e[3],s=+e[5],i=255&(e[2]?Bg(i):Hc(i,0,255)),r=255&(e[4]?Bg(r):Hc(r,0,255)),s=255&(e[6]?Bg(s):Hc(s,0,255)),{r:i,g:r,b:s,a:n}}}function r_e(t){return t&&(t.a<255?`rgba(${t.r}, ${t.g}, ${t.b}, ${xl(t.a)})`:`rgb(${t.r}, ${t.g}, ${t.b})`)}const mC=t=>t<=.0031308?t*12.92:Math.pow(t,1/2.4)*1.055-.055,yh=t=>t<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4);function s_e(t,e,n){const i=yh(xl(t.r)),r=yh(xl(t.g)),s=yh(xl(t.b));return{r:tu(mC(i+n*(yh(xl(e.r))-i))),g:tu(mC(r+n*(yh(xl(e.g))-r))),b:tu(mC(s+n*(yh(xl(e.b))-s))),a:t.a+n*(e.a-t.a)}}function K_(t,e,n){if(t){let i=RI(t);i[e]=Math.max(0,Math.min(i[e]+i[e]*n,e===0?360:1)),i=PI(i),t.r=i[0],t.g=i[1],t.b=i[2]}}function t8(t,e){return t&&Object.assign(e||{},t)}function eU(t){var e={r:0,g:0,b:0,a:255};return Array.isArray(t)?t.length>=3&&(e={r:t[0],g:t[1],b:t[2],a:255},t.length>3&&(e.a=tu(t[3]))):(e=t8(t,{r:0,g:0,b:0,a:1}),e.a=tu(e.a)),e}function o_e(t){return t.charAt(0)==="r"?i_e(t):Qxe(t)}class Sv{constructor(e){if(e instanceof Sv)return e;const n=typeof e;let i;n==="object"?i=eU(e):n==="string"&&(i=Vxe(e)||t_e(e)||o_e(e)),this._rgb=i,this._valid=!!i}get valid(){return this._valid}get rgb(){var e=t8(this._rgb);return e&&(e.a=xl(e.a)),e}set rgb(e){this._rgb=eU(e)}rgbString(){return this._valid?r_e(this._rgb):void 0}hexString(){return this._valid?Wxe(this._rgb):void 0}hslString(){return this._valid?Jxe(this._rgb):void 0}mix(e,n){if(e){const i=this.rgb,r=e.rgb;let s;const o=n===s?.5:n,a=2*o-1,l=i.a-r.a,c=((a*l===-1?a:(a+l)/(1+a*l))+1)/2;s=1-c,i.r=255&c*i.r+s*r.r+.5,i.g=255&c*i.g+s*r.g+.5,i.b=255&c*i.b+s*r.b+.5,i.a=o*i.a+(1-o)*r.a,this.rgb=i}return this}interpolate(e,n){return e&&(this._rgb=s_e(this._rgb,e._rgb,n)),this}clone(){return new Sv(this.rgb)}alpha(e){return this._rgb.a=tu(e),this}clearer(e){const n=this._rgb;return n.a*=1-e,this}greyscale(){const e=this._rgb,n=my(e.r*.3+e.g*.59+e.b*.11);return e.r=e.g=e.b=n,this}opaquer(e){const n=this._rgb;return n.a*=1+e,this}negate(){const e=this._rgb;return e.r=255-e.r,e.g=255-e.g,e.b=255-e.b,this}lighten(e){return K_(this._rgb,2,e),this}darken(e){return K_(this._rgb,2,-e),this}saturate(e){return K_(this._rgb,1,e),this}desaturate(e){return K_(this._rgb,1,-e),this}rotate(e){return Zxe(this._rgb,e),this}}/*!
 * Chart.js v4.4.1
 * https://www.chartjs.org
 * (c) 2023 Chart.js Contributors
 * Released under the MIT License
 */function hl(){}const a_e=(()=>{let t=0;return()=>t++})();function fn(t){return t===null||typeof t>"u"}function yn(t){if(Array.isArray&&Array.isArray(t))return!0;const e=Object.prototype.toString.call(t);return e.slice(0,7)==="[object"&&e.slice(-6)==="Array]"}function Kt(t){return t!==null&&Object.prototype.toString.call(t)==="[object Object]"}function ti(t){return(typeof t=="number"||t instanceof Number)&&isFinite(+t)}function Gs(t,e){return ti(t)?t:e}function zt(t,e){return typeof t>"u"?e:t}const l_e=(t,e)=>typeof t=="string"&&t.endsWith("%")?parseFloat(t)/100:+t/e,n8=(t,e)=>typeof t=="string"&&t.endsWith("%")?parseFloat(t)/100*e:+t;function Rn(t,e,n){if(t&&typeof t.call=="function")return t.apply(n,e)}function Pn(t,e,n,i){let r,s,o;if(yn(t))if(s=t.length,i)for(r=s-1;r>=0;r--)e.call(n,t[r],r);else for(r=0;r<s;r++)e.call(n,t[r],r);else if(Kt(t))for(o=Object.keys(t),s=o.length,r=0;r<s;r++)e.call(n,t[o[r]],o[r])}function Y1(t,e){let n,i,r,s;if(!t||!e||t.length!==e.length)return!1;for(n=0,i=t.length;n<i;++n)if(r=t[n],s=e[n],r.datasetIndex!==s.datasetIndex||r.index!==s.index)return!1;return!0}function q1(t){if(yn(t))return t.map(q1);if(Kt(t)){const e=Object.create(null),n=Object.keys(t),i=n.length;let r=0;for(;r<i;++r)e[n[r]]=q1(t[n[r]]);return e}return t}function i8(t){return["__proto__","prototype","constructor"].indexOf(t)===-1}function c_e(t,e,n,i){if(!i8(t))return;const r=e[t],s=n[t];Kt(r)&&Kt(s)?wv(r,s,i):e[t]=q1(s)}function wv(t,e,n){const i=yn(e)?e:[e],r=i.length;if(!Kt(t))return t;n=n||{};const s=n.merger||c_e;let o;for(let a=0;a<r;++a){if(o=i[a],!Kt(o))continue;const l=Object.keys(o);for(let c=0,u=l.length;c<u;++c)s(l[c],t,o,n)}return t}function _0(t,e){return wv(t,e,{merger:u_e})}function u_e(t,e,n){if(!i8(t))return;const i=e[t],r=n[t];Kt(i)&&Kt(r)?_0(i,r):Object.prototype.hasOwnProperty.call(e,t)||(e[t]=q1(r))}const tU={"":t=>t,x:t=>t.x,y:t=>t.y};function d_e(t){const e=t.split("."),n=[];let i="";for(const r of e)i+=r,i.endsWith("\\")?i=i.slice(0,-1)+".":(n.push(i),i="");return n}function f_e(t){const e=d_e(t);return n=>{for(const i of e){if(i==="")break;n=n&&n[i]}return n}}function pu(t,e){return(tU[e]||(tU[e]=f_e(e)))(t)}function kI(t){return t.charAt(0).toUpperCase()+t.slice(1)}const Ns=t=>typeof t<"u",Ls=t=>typeof t=="function",nU=(t,e)=>{if(t.size!==e.size)return!1;for(const n of t)if(!e.has(n))return!1;return!0};function h_e(t){return t.type==="mouseup"||t.type==="click"||t.type==="contextmenu"}const on=Math.PI,Gn=2*on,p_e=Gn+on,K1=Number.POSITIVE_INFINITY,II=on/180,Qn=on/2,Po=on/4,Q1=on*2/3,Vc=Math.log10,Wa=Math.sign;function b0(t,e,n){return Math.abs(t-e)<n}function iU(t){const e=Math.round(t);t=b0(t,e,t/1e3)?e:t;const n=Math.pow(10,Math.floor(Vc(t))),i=t/n;return(i<=1?1:i<=2?2:i<=5?5:10)*n}function m_e(t){const e=[],n=Math.sqrt(t);let i;for(i=1;i<n;i++)t%i===0&&(e.push(i),e.push(t/i));return n===(n|0)&&e.push(n),e.sort((r,s)=>r-s).pop(),e}function mu(t){return!isNaN(parseFloat(t))&&isFinite(t)}function g_e(t,e){const n=Math.round(t);return n-e<=t&&n+e>=t}function r8(t,e,n){let i,r,s;for(i=0,r=t.length;i<r;i++)s=t[i][n],isNaN(s)||(e.min=Math.min(e.min,s),e.max=Math.max(e.max,s))}function Vi(t){return t*(on/180)}function aM(t){return t*(180/on)}function rU(t){if(!ti(t))return;let e=1,n=0;for(;Math.round(t*e)/e!==t;)e*=10,n++;return n}function s8(t,e){const n=e.x-t.x,i=e.y-t.y,r=Math.sqrt(n*n+i*i);let s=Math.atan2(i,n);return s<-.5*on&&(s+=Gn),{angle:s,distance:r}}function Gp(t,e){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function v_e(t,e){return(t-e+p_e)%Gn-on}function qs(t){return(t%Gn+Gn)%Gn}function Mv(t,e,n,i){const r=qs(t),s=qs(e),o=qs(n),a=qs(s-r),l=qs(o-r),c=qs(r-s),u=qs(r-o);return r===s||r===o||i&&s===o||a>l&&c<u}function fr(t,e,n){return Math.max(e,Math.min(n,t))}function y_e(t){return fr(t,-32768,32767)}function Al(t,e,n,i=1e-6){return t>=Math.min(e,n)-i&&t<=Math.max(e,n)+i}function LI(t,e,n){n=n||(o=>t[o]<e);let i=t.length-1,r=0,s;for(;i-r>1;)s=r+i>>1,n(s)?r=s:i=s;return{lo:r,hi:i}}const Pl=(t,e,n,i)=>LI(t,n,i?r=>{const s=t[r][e];return s<n||s===n&&t[r+1][e]===n}:r=>t[r][e]<n),x_e=(t,e,n)=>LI(t,n,i=>t[i][e]>=n);function __e(t,e,n){let i=0,r=t.length;for(;i<r&&t[i]<e;)i++;for(;r>i&&t[r-1]>n;)r--;return i>0||r<t.length?t.slice(i,r):t}const o8=["push","pop","shift","splice","unshift"];function b_e(t,e){if(t._chartjs){t._chartjs.listeners.push(e);return}Object.defineProperty(t,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[e]}}),o8.forEach(n=>{const i="_onData"+kI(n),r=t[n];Object.defineProperty(t,n,{configurable:!0,enumerable:!1,value(...s){const o=r.apply(this,s);return t._chartjs.listeners.forEach(a=>{typeof a[i]=="function"&&a[i](...s)}),o}})})}function sU(t,e){const n=t._chartjs;if(!n)return;const i=n.listeners,r=i.indexOf(e);r!==-1&&i.splice(r,1),!(i.length>0)&&(o8.forEach(s=>{delete t[s]}),delete t._chartjs)}function a8(t){const e=new Set(t);return e.size===t.length?t:Array.from(e)}const l8=function(){return typeof window>"u"?function(t){return t()}:window.requestAnimationFrame}();function c8(t,e){let n=[],i=!1;return function(...r){n=r,i||(i=!0,l8.call(window,()=>{i=!1,t.apply(e,n)}))}}function S_e(t,e){let n;return function(...i){return e?(clearTimeout(n),n=setTimeout(t,e,i)):t.apply(this,i),e}}const DI=t=>t==="start"?"left":t==="end"?"right":"center",Hr=(t,e,n)=>t==="start"?e:t==="end"?n:(e+n)/2,w_e=(t,e,n,i)=>t===(i?"left":"right")?n:t==="center"?(e+n)/2:e;function u8(t,e,n){const i=e.length;let r=0,s=i;if(t._sorted){const{iScale:o,_parsed:a}=t,l=o.axis,{min:c,max:u,minDefined:d,maxDefined:f}=o.getUserBounds();d&&(r=fr(Math.min(Pl(a,l,c).lo,n?i:Pl(e,l,o.getPixelForValue(c)).lo),0,i-1)),f?s=fr(Math.max(Pl(a,o.axis,u,!0).hi+1,n?0:Pl(e,l,o.getPixelForValue(u),!0).hi+1),r,i)-r:s=i-r}return{start:r,count:s}}function d8(t){const{xScale:e,yScale:n,_scaleRanges:i}=t,r={xmin:e.min,xmax:e.max,ymin:n.min,ymax:n.max};if(!i)return t._scaleRanges=r,!0;const s=i.xmin!==e.min||i.xmax!==e.max||i.ymin!==n.min||i.ymax!==n.max;return Object.assign(i,r),s}const Q_=t=>t===0||t===1,oU=(t,e,n)=>-(Math.pow(2,10*(t-=1))*Math.sin((t-e)*Gn/n)),aU=(t,e,n)=>Math.pow(2,-10*t)*Math.sin((t-e)*Gn/n)+1,S0={linear:t=>t,easeInQuad:t=>t*t,easeOutQuad:t=>-t*(t-2),easeInOutQuad:t=>(t/=.5)<1?.5*t*t:-.5*(--t*(t-2)-1),easeInCubic:t=>t*t*t,easeOutCubic:t=>(t-=1)*t*t+1,easeInOutCubic:t=>(t/=.5)<1?.5*t*t*t:.5*((t-=2)*t*t+2),easeInQuart:t=>t*t*t*t,easeOutQuart:t=>-((t-=1)*t*t*t-1),easeInOutQuart:t=>(t/=.5)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2),easeInQuint:t=>t*t*t*t*t,easeOutQuint:t=>(t-=1)*t*t*t*t+1,easeInOutQuint:t=>(t/=.5)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2),easeInSine:t=>-Math.cos(t*Qn)+1,easeOutSine:t=>Math.sin(t*Qn),easeInOutSine:t=>-.5*(Math.cos(on*t)-1),easeInExpo:t=>t===0?0:Math.pow(2,10*(t-1)),easeOutExpo:t=>t===1?1:-Math.pow(2,-10*t)+1,easeInOutExpo:t=>Q_(t)?t:t<.5?.5*Math.pow(2,10*(t*2-1)):.5*(-Math.pow(2,-10*(t*2-1))+2),easeInCirc:t=>t>=1?t:-(Math.sqrt(1-t*t)-1),easeOutCirc:t=>Math.sqrt(1-(t-=1)*t),easeInOutCirc:t=>(t/=.5)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1),easeInElastic:t=>Q_(t)?t:oU(t,.075,.3),easeOutElastic:t=>Q_(t)?t:aU(t,.075,.3),easeInOutElastic(t){return Q_(t)?t:t<.5?.5*oU(t*2,.1125,.45):.5+.5*aU(t*2-1,.1125,.45)},easeInBack(t){return t*t*((1.70158+1)*t-1.70158)},easeOutBack(t){return(t-=1)*t*((1.70158+1)*t+1.70158)+1},easeInOutBack(t){let e=1.70158;return(t/=.5)<1?.5*(t*t*(((e*=1.525)+1)*t-e)):.5*((t-=2)*t*(((e*=1.525)+1)*t+e)+2)},easeInBounce:t=>1-S0.easeOutBounce(1-t),easeOutBounce(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375},easeInOutBounce:t=>t<.5?S0.easeInBounce(t*2)*.5:S0.easeOutBounce(t*2-1)*.5+.5};function OI(t){if(t&&typeof t=="object"){const e=t.toString();return e==="[object CanvasPattern]"||e==="[object CanvasGradient]"}return!1}function lU(t){return OI(t)?t:new Sv(t)}function gC(t){return OI(t)?t:new Sv(t).saturate(.5).darken(.1).hexString()}const M_e=["x","y","borderWidth","radius","tension"],E_e=["color","borderColor","backgroundColor"];function T_e(t){t.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),t.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:e=>e!=="onProgress"&&e!=="onComplete"&&e!=="fn"}),t.set("animations",{colors:{type:"color",properties:E_e},numbers:{type:"number",properties:M_e}}),t.describe("animations",{_fallback:"animation"}),t.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:e=>e|0}}}})}function C_e(t){t.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const cU=new Map;function R_e(t,e){e=e||{};const n=t+JSON.stringify(e);let i=cU.get(n);return i||(i=new Intl.NumberFormat(t,e),cU.set(n,i)),i}function gy(t,e,n){return R_e(e,n).format(t)}const f8={values(t){return yn(t)?t:""+t},numeric(t,e,n){if(t===0)return"0";const i=this.chart.options.locale;let r,s=t;if(n.length>1){const c=Math.max(Math.abs(n[0].value),Math.abs(n[n.length-1].value));(c<1e-4||c>1e15)&&(r="scientific"),s=A_e(t,n)}const o=Vc(Math.abs(s)),a=isNaN(o)?1:Math.max(Math.min(-1*Math.floor(o),20),0),l={notation:r,minimumFractionDigits:a,maximumFractionDigits:a};return Object.assign(l,this.options.ticks.format),gy(t,i,l)},logarithmic(t,e,n){if(t===0)return"0";const i=n[e].significand||t/Math.pow(10,Math.floor(Vc(t)));return[1,2,3,5,10,15].includes(i)||e>.8*n.length?f8.numeric.call(this,t,e,n):""}};function A_e(t,e){let n=e.length>3?e[2].value-e[1].value:e[1].value-e[0].value;return Math.abs(n)>=1&&t!==Math.floor(t)&&(n=t-Math.floor(t)),n}var lM={formatters:f8};function P_e(t){t.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(e,n)=>n.lineWidth,tickColor:(e,n)=>n.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:lM.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),t.route("scale.ticks","color","","color"),t.route("scale.grid","color","","borderColor"),t.route("scale.border","color","","borderColor"),t.route("scale.title","color","","color"),t.describe("scale",{_fallback:!1,_scriptable:e=>!e.startsWith("before")&&!e.startsWith("after")&&e!=="callback"&&e!=="parser",_indexable:e=>e!=="borderDash"&&e!=="tickBorderDash"&&e!=="dash"}),t.describe("scales",{_fallback:"scale"}),t.describe("scale.ticks",{_scriptable:e=>e!=="backdropPadding"&&e!=="callback",_indexable:e=>e!=="backdropPadding"})}const nf=Object.create(null),tA=Object.create(null);function w0(t,e){if(!e)return t;const n=e.split(".");for(let i=0,r=n.length;i<r;++i){const s=n[i];t=t[s]||(t[s]=Object.create(null))}return t}function vC(t,e,n){return typeof e=="string"?wv(w0(t,e),n):wv(w0(t,""),e)}class k_e{constructor(e,n){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=i=>i.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(i,r)=>gC(r.backgroundColor),this.hoverBorderColor=(i,r)=>gC(r.borderColor),this.hoverColor=(i,r)=>gC(r.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(e),this.apply(n)}set(e,n){return vC(this,e,n)}get(e){return w0(this,e)}describe(e,n){return vC(tA,e,n)}override(e,n){return vC(nf,e,n)}route(e,n,i,r){const s=w0(this,e),o=w0(this,i),a="_"+n;Object.defineProperties(s,{[a]:{value:s[n],writable:!0},[n]:{enumerable:!0,get(){const l=this[a],c=o[r];return Kt(l)?Object.assign({},c,l):zt(l,c)},set(l){this[a]=l}}})}apply(e){e.forEach(n=>n(this))}}var ui=new k_e({_scriptable:t=>!t.startsWith("on"),_indexable:t=>t!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[T_e,C_e,P_e]);function I_e(t){return!t||fn(t.size)||fn(t.family)?null:(t.style?t.style+" ":"")+(t.weight?t.weight+" ":"")+t.size+"px "+t.family}function Z1(t,e,n,i,r){let s=e[r];return s||(s=e[r]=t.measureText(r).width,n.push(r)),s>i&&(i=s),i}function L_e(t,e,n,i){i=i||{};let r=i.data=i.data||{},s=i.garbageCollect=i.garbageCollect||[];i.font!==e&&(r=i.data={},s=i.garbageCollect=[],i.font=e),t.save(),t.font=e;let o=0;const a=n.length;let l,c,u,d,f;for(l=0;l<a;l++)if(d=n[l],d!=null&&!yn(d))o=Z1(t,r,s,o,d);else if(yn(d))for(c=0,u=d.length;c<u;c++)f=d[c],f!=null&&!yn(f)&&(o=Z1(t,r,s,o,f));t.restore();const m=s.length/2;if(m>n.length){for(l=0;l<m;l++)delete r[s[l]];s.splice(0,m)}return o}function qu(t,e,n){const i=t.currentDevicePixelRatio,r=n!==0?Math.max(n/2,.5):0;return Math.round((e-r)*i)/i+r}function uU(t,e){e=e||t.getContext("2d"),e.save(),e.resetTransform(),e.clearRect(0,0,t.width,t.height),e.restore()}function nA(t,e,n,i){h8(t,e,n,i,null)}function h8(t,e,n,i,r){let s,o,a,l,c,u,d,f;const m=e.pointStyle,g=e.rotation,y=e.radius;let x=(g||0)*II;if(m&&typeof m=="object"&&(s=m.toString(),s==="[object HTMLImageElement]"||s==="[object HTMLCanvasElement]")){t.save(),t.translate(n,i),t.rotate(x),t.drawImage(m,-m.width/2,-m.height/2,m.width,m.height),t.restore();return}if(!(isNaN(y)||y<=0)){switch(t.beginPath(),m){default:r?t.ellipse(n,i,r/2,y,0,0,Gn):t.arc(n,i,y,0,Gn),t.closePath();break;case"triangle":u=r?r/2:y,t.moveTo(n+Math.sin(x)*u,i-Math.cos(x)*y),x+=Q1,t.lineTo(n+Math.sin(x)*u,i-Math.cos(x)*y),x+=Q1,t.lineTo(n+Math.sin(x)*u,i-Math.cos(x)*y),t.closePath();break;case"rectRounded":c=y*.516,l=y-c,o=Math.cos(x+Po)*l,d=Math.cos(x+Po)*(r?r/2-c:l),a=Math.sin(x+Po)*l,f=Math.sin(x+Po)*(r?r/2-c:l),t.arc(n-d,i-a,c,x-on,x-Qn),t.arc(n+f,i-o,c,x-Qn,x),t.arc(n+d,i+a,c,x,x+Qn),t.arc(n-f,i+o,c,x+Qn,x+on),t.closePath();break;case"rect":if(!g){l=Math.SQRT1_2*y,u=r?r/2:l,t.rect(n-u,i-l,2*u,2*l);break}x+=Po;case"rectRot":d=Math.cos(x)*(r?r/2:y),o=Math.cos(x)*y,a=Math.sin(x)*y,f=Math.sin(x)*(r?r/2:y),t.moveTo(n-d,i-a),t.lineTo(n+f,i-o),t.lineTo(n+d,i+a),t.lineTo(n-f,i+o),t.closePath();break;case"crossRot":x+=Po;case"cross":d=Math.cos(x)*(r?r/2:y),o=Math.cos(x)*y,a=Math.sin(x)*y,f=Math.sin(x)*(r?r/2:y),t.moveTo(n-d,i-a),t.lineTo(n+d,i+a),t.moveTo(n+f,i-o),t.lineTo(n-f,i+o);break;case"star":d=Math.cos(x)*(r?r/2:y),o=Math.cos(x)*y,a=Math.sin(x)*y,f=Math.sin(x)*(r?r/2:y),t.moveTo(n-d,i-a),t.lineTo(n+d,i+a),t.moveTo(n+f,i-o),t.lineTo(n-f,i+o),x+=Po,d=Math.cos(x)*(r?r/2:y),o=Math.cos(x)*y,a=Math.sin(x)*y,f=Math.sin(x)*(r?r/2:y),t.moveTo(n-d,i-a),t.lineTo(n+d,i+a),t.moveTo(n+f,i-o),t.lineTo(n-f,i+o);break;case"line":o=r?r/2:Math.cos(x)*y,a=Math.sin(x)*y,t.moveTo(n-o,i-a),t.lineTo(n+o,i+a);break;case"dash":t.moveTo(n,i),t.lineTo(n+Math.cos(x)*(r?r/2:y),i+Math.sin(x)*y);break;case!1:t.closePath();break}t.fill(),e.borderWidth>0&&t.stroke()}}function kl(t,e,n){return n=n||.5,!e||t&&t.x>e.left-n&&t.x<e.right+n&&t.y>e.top-n&&t.y<e.bottom+n}function vy(t,e){t.save(),t.beginPath(),t.rect(e.left,e.top,e.right-e.left,e.bottom-e.top),t.clip()}function yy(t){t.restore()}function D_e(t,e,n,i,r){if(!e)return t.lineTo(n.x,n.y);if(r==="middle"){const s=(e.x+n.x)/2;t.lineTo(s,e.y),t.lineTo(s,n.y)}else r==="after"!=!!i?t.lineTo(e.x,n.y):t.lineTo(n.x,e.y);t.lineTo(n.x,n.y)}function O_e(t,e,n,i){if(!e)return t.lineTo(n.x,n.y);t.bezierCurveTo(i?e.cp1x:e.cp2x,i?e.cp1y:e.cp2y,i?n.cp2x:n.cp1x,i?n.cp2y:n.cp1y,n.x,n.y)}function N_e(t,e){e.translation&&t.translate(e.translation[0],e.translation[1]),fn(e.rotation)||t.rotate(e.rotation),e.color&&(t.fillStyle=e.color),e.textAlign&&(t.textAlign=e.textAlign),e.textBaseline&&(t.textBaseline=e.textBaseline)}function F_e(t,e,n,i,r){if(r.strikethrough||r.underline){const s=t.measureText(i),o=e-s.actualBoundingBoxLeft,a=e+s.actualBoundingBoxRight,l=n-s.actualBoundingBoxAscent,c=n+s.actualBoundingBoxDescent,u=r.strikethrough?(l+c)/2:c;t.strokeStyle=t.fillStyle,t.beginPath(),t.lineWidth=r.decorationWidth||2,t.moveTo(o,u),t.lineTo(a,u),t.stroke()}}function z_e(t,e){const n=t.fillStyle;t.fillStyle=e.color,t.fillRect(e.left,e.top,e.width,e.height),t.fillStyle=n}function rf(t,e,n,i,r,s={}){const o=yn(e)?e:[e],a=s.strokeWidth>0&&s.strokeColor!=="";let l,c;for(t.save(),t.font=r.string,N_e(t,s),l=0;l<o.length;++l)c=o[l],s.backdrop&&z_e(t,s.backdrop),a&&(s.strokeColor&&(t.strokeStyle=s.strokeColor),fn(s.strokeWidth)||(t.lineWidth=s.strokeWidth),t.strokeText(c,n,i,s.maxWidth)),t.fillText(c,n,i,s.maxWidth),F_e(t,n,i,c,s),i+=Number(r.lineHeight);t.restore()}function $p(t,e){const{x:n,y:i,w:r,h:s,radius:o}=e;t.arc(n+o.topLeft,i+o.topLeft,o.topLeft,1.5*on,on,!0),t.lineTo(n,i+s-o.bottomLeft),t.arc(n+o.bottomLeft,i+s-o.bottomLeft,o.bottomLeft,on,Qn,!0),t.lineTo(n+r-o.bottomRight,i+s),t.arc(n+r-o.bottomRight,i+s-o.bottomRight,o.bottomRight,Qn,0,!0),t.lineTo(n+r,i+o.topRight),t.arc(n+r-o.topRight,i+o.topRight,o.topRight,0,-Qn,!0),t.lineTo(n+o.topLeft,i)}const U_e=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,B_e=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function H_e(t,e){const n=(""+t).match(U_e);if(!n||n[1]==="normal")return e*1.2;switch(t=+n[2],n[3]){case"px":return t;case"%":t/=100;break}return e*t}const V_e=t=>+t||0;function NI(t,e){const n={},i=Kt(e),r=i?Object.keys(e):e,s=Kt(t)?i?o=>zt(t[o],t[e[o]]):o=>t[o]:()=>t;for(const o of r)n[o]=V_e(s(o));return n}function p8(t){return NI(t,{top:"y",right:"x",bottom:"y",left:"x"})}function nu(t){return NI(t,["topLeft","topRight","bottomLeft","bottomRight"])}function Wi(t){const e=p8(t);return e.width=e.left+e.right,e.height=e.top+e.bottom,e}function di(t,e){t=t||{},e=e||ui.font;let n=zt(t.size,e.size);typeof n=="string"&&(n=parseInt(n,10));let i=zt(t.style,e.style);i&&!(""+i).match(B_e)&&(console.warn('Invalid font style specified: "'+i+'"'),i=void 0);const r={family:zt(t.family,e.family),lineHeight:H_e(zt(t.lineHeight,e.lineHeight),n),size:n,style:i,weight:zt(t.weight,e.weight),string:""};return r.string=I_e(r),r}function Hg(t,e,n,i){let r=!0,s,o,a;for(s=0,o=t.length;s<o;++s)if(a=t[s],a!==void 0&&(e!==void 0&&typeof a=="function"&&(a=a(e),r=!1),n!==void 0&&yn(a)&&(a=a[n%a.length],r=!1),a!==void 0))return i&&!r&&(i.cacheable=!1),a}function j_e(t,e,n){const{min:i,max:r}=t,s=n8(e,(r-i)/2),o=(a,l)=>n&&a===0?0:a+l;return{min:o(i,-Math.abs(s)),max:o(r,s)}}function Ru(t,e){return Object.assign(Object.create(t),e)}function FI(t,e=[""],n,i,r=()=>t[0]){const s=n||t;typeof i>"u"&&(i=y8("_fallback",t));const o={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:t,_rootScopes:s,_fallback:i,_getTarget:r,override:a=>FI([a,...t],e,s,i)};return new Proxy(o,{deleteProperty(a,l){return delete a[l],delete a._keys,delete t[0][l],!0},get(a,l){return g8(a,l,()=>Q_e(l,e,t,a))},getOwnPropertyDescriptor(a,l){return Reflect.getOwnPropertyDescriptor(a._scopes[0],l)},getPrototypeOf(){return Reflect.getPrototypeOf(t[0])},has(a,l){return fU(a).includes(l)},ownKeys(a){return fU(a)},set(a,l,c){const u=a._storage||(a._storage=r());return a[l]=u[l]=c,delete a._keys,!0}})}function Xp(t,e,n,i){const r={_cacheable:!1,_proxy:t,_context:e,_subProxy:n,_stack:new Set,_descriptors:m8(t,i),setContext:s=>Xp(t,s,n,i),override:s=>Xp(t.override(s),e,n,i)};return new Proxy(r,{deleteProperty(s,o){return delete s[o],delete t[o],!0},get(s,o,a){return g8(s,o,()=>G_e(s,o,a))},getOwnPropertyDescriptor(s,o){return s._descriptors.allKeys?Reflect.has(t,o)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(t,o)},getPrototypeOf(){return Reflect.getPrototypeOf(t)},has(s,o){return Reflect.has(t,o)},ownKeys(){return Reflect.ownKeys(t)},set(s,o,a){return t[o]=a,delete s[o],!0}})}function m8(t,e={scriptable:!0,indexable:!0}){const{_scriptable:n=e.scriptable,_indexable:i=e.indexable,_allKeys:r=e.allKeys}=t;return{allKeys:r,scriptable:n,indexable:i,isScriptable:Ls(n)?n:()=>n,isIndexable:Ls(i)?i:()=>i}}const W_e=(t,e)=>t?t+kI(e):e,zI=(t,e)=>Kt(e)&&t!=="adapters"&&(Object.getPrototypeOf(e)===null||e.constructor===Object);function g8(t,e,n){if(Object.prototype.hasOwnProperty.call(t,e))return t[e];const i=n();return t[e]=i,i}function G_e(t,e,n){const{_proxy:i,_context:r,_subProxy:s,_descriptors:o}=t;let a=i[e];return Ls(a)&&o.isScriptable(e)&&(a=$_e(e,a,t,n)),yn(a)&&a.length&&(a=X_e(e,a,t,o.isIndexable)),zI(e,a)&&(a=Xp(a,r,s&&s[e],o)),a}function $_e(t,e,n,i){const{_proxy:r,_context:s,_subProxy:o,_stack:a}=n;if(a.has(t))throw new Error("Recursion detected: "+Array.from(a).join("->")+"->"+t);a.add(t);let l=e(s,o||i);return a.delete(t),zI(t,l)&&(l=UI(r._scopes,r,t,l)),l}function X_e(t,e,n,i){const{_proxy:r,_context:s,_subProxy:o,_descriptors:a}=n;if(typeof s.index<"u"&&i(t))return e[s.index%e.length];if(Kt(e[0])){const l=e,c=r._scopes.filter(u=>u!==l);e=[];for(const u of l){const d=UI(c,r,t,u);e.push(Xp(d,s,o&&o[t],a))}}return e}function v8(t,e,n){return Ls(t)?t(e,n):t}const Y_e=(t,e)=>t===!0?e:typeof t=="string"?pu(e,t):void 0;function q_e(t,e,n,i,r){for(const s of e){const o=Y_e(n,s);if(o){t.add(o);const a=v8(o._fallback,n,r);if(typeof a<"u"&&a!==n&&a!==i)return a}else if(o===!1&&typeof i<"u"&&n!==i)return null}return!1}function UI(t,e,n,i){const r=e._rootScopes,s=v8(e._fallback,n,i),o=[...t,...r],a=new Set;a.add(i);let l=dU(a,o,n,s||n,i);return l===null||typeof s<"u"&&s!==n&&(l=dU(a,o,s,l,i),l===null)?!1:FI(Array.from(a),[""],r,s,()=>K_e(e,n,i))}function dU(t,e,n,i,r){for(;n;)n=q_e(t,e,n,i,r);return n}function K_e(t,e,n){const i=t._getTarget();e in i||(i[e]={});const r=i[e];return yn(r)&&Kt(n)?n:r||{}}function Q_e(t,e,n,i){let r;for(const s of e)if(r=y8(W_e(s,t),n),typeof r<"u")return zI(t,r)?UI(n,i,t,r):r}function y8(t,e){for(const n of e){if(!n)continue;const i=n[t];if(typeof i<"u")return i}}function fU(t){let e=t._keys;return e||(e=t._keys=Z_e(t._scopes)),e}function Z_e(t){const e=new Set;for(const n of t)for(const i of Object.keys(n).filter(r=>!r.startsWith("_")))e.add(i);return Array.from(e)}function x8(t,e,n,i){const{iScale:r}=t,{key:s="r"}=this._parsing,o=new Array(i);let a,l,c,u;for(a=0,l=i;a<l;++a)c=a+n,u=e[c],o[a]={r:r.parse(pu(u,s),c)};return o}const J_e=Number.EPSILON||1e-14,Yp=(t,e)=>e<t.length&&!t[e].skip&&t[e],_8=t=>t==="x"?"y":"x";function ebe(t,e,n,i){const r=t.skip?e:t,s=e,o=n.skip?e:n,a=Gp(s,r),l=Gp(o,s);let c=a/(a+l),u=l/(a+l);c=isNaN(c)?0:c,u=isNaN(u)?0:u;const d=i*c,f=i*u;return{previous:{x:s.x-d*(o.x-r.x),y:s.y-d*(o.y-r.y)},next:{x:s.x+f*(o.x-r.x),y:s.y+f*(o.y-r.y)}}}function tbe(t,e,n){const i=t.length;let r,s,o,a,l,c=Yp(t,0);for(let u=0;u<i-1;++u)if(l=c,c=Yp(t,u+1),!(!l||!c)){if(b0(e[u],0,J_e)){n[u]=n[u+1]=0;continue}r=n[u]/e[u],s=n[u+1]/e[u],a=Math.pow(r,2)+Math.pow(s,2),!(a<=9)&&(o=3/Math.sqrt(a),n[u]=r*o*e[u],n[u+1]=s*o*e[u])}}function nbe(t,e,n="x"){const i=_8(n),r=t.length;let s,o,a,l=Yp(t,0);for(let c=0;c<r;++c){if(o=a,a=l,l=Yp(t,c+1),!a)continue;const u=a[n],d=a[i];o&&(s=(u-o[n])/3,a[`cp1${n}`]=u-s,a[`cp1${i}`]=d-s*e[c]),l&&(s=(l[n]-u)/3,a[`cp2${n}`]=u+s,a[`cp2${i}`]=d+s*e[c])}}function ibe(t,e="x"){const n=_8(e),i=t.length,r=Array(i).fill(0),s=Array(i);let o,a,l,c=Yp(t,0);for(o=0;o<i;++o)if(a=l,l=c,c=Yp(t,o+1),!!l){if(c){const u=c[e]-l[e];r[o]=u!==0?(c[n]-l[n])/u:0}s[o]=a?c?Wa(r[o-1])!==Wa(r[o])?0:(r[o-1]+r[o])/2:r[o-1]:r[o]}tbe(t,r,s),nbe(t,s,e)}function Z_(t,e,n){return Math.max(Math.min(t,n),e)}function rbe(t,e){let n,i,r,s,o,a=kl(t[0],e);for(n=0,i=t.length;n<i;++n)o=s,s=a,a=n<i-1&&kl(t[n+1],e),s&&(r=t[n],o&&(r.cp1x=Z_(r.cp1x,e.left,e.right),r.cp1y=Z_(r.cp1y,e.top,e.bottom)),a&&(r.cp2x=Z_(r.cp2x,e.left,e.right),r.cp2y=Z_(r.cp2y,e.top,e.bottom)))}function sbe(t,e,n,i,r){let s,o,a,l;if(e.spanGaps&&(t=t.filter(c=>!c.skip)),e.cubicInterpolationMode==="monotone")ibe(t,r);else{let c=i?t[t.length-1]:t[0];for(s=0,o=t.length;s<o;++s)a=t[s],l=ebe(c,a,t[Math.min(s+1,o-(i?0:1))%o],e.tension),a.cp1x=l.previous.x,a.cp1y=l.previous.y,a.cp2x=l.next.x,a.cp2y=l.next.y,c=a}e.capBezierPoints&&rbe(t,n)}function BI(){return typeof window<"u"&&typeof document<"u"}function HI(t){let e=t.parentNode;return e&&e.toString()==="[object ShadowRoot]"&&(e=e.host),e}function J1(t,e,n){let i;return typeof t=="string"?(i=parseInt(t,10),t.indexOf("%")!==-1&&(i=i/100*e.parentNode[n])):i=t,i}const cM=t=>t.ownerDocument.defaultView.getComputedStyle(t,null);function obe(t,e){return cM(t).getPropertyValue(e)}const abe=["top","right","bottom","left"];function Hd(t,e,n){const i={};n=n?"-"+n:"";for(let r=0;r<4;r++){const s=abe[r];i[s]=parseFloat(t[e+"-"+s+n])||0}return i.width=i.left+i.right,i.height=i.top+i.bottom,i}const lbe=(t,e,n)=>(t>0||e>0)&&(!n||!n.shadowRoot);function cbe(t,e){const n=t.touches,i=n&&n.length?n[0]:t,{offsetX:r,offsetY:s}=i;let o=!1,a,l;if(lbe(r,s,t.target))a=r,l=s;else{const c=e.getBoundingClientRect();a=i.clientX-c.left,l=i.clientY-c.top,o=!0}return{x:a,y:l,box:o}}function sd(t,e){if("native"in t)return t;const{canvas:n,currentDevicePixelRatio:i}=e,r=cM(n),s=r.boxSizing==="border-box",o=Hd(r,"padding"),a=Hd(r,"border","width"),{x:l,y:c,box:u}=cbe(t,n),d=o.left+(u&&a.left),f=o.top+(u&&a.top);let{width:m,height:g}=e;return s&&(m-=o.width+a.width,g-=o.height+a.height),{x:Math.round((l-d)/m*n.width/i),y:Math.round((c-f)/g*n.height/i)}}function ube(t,e,n){let i,r;if(e===void 0||n===void 0){const s=HI(t);if(!s)e=t.clientWidth,n=t.clientHeight;else{const o=s.getBoundingClientRect(),a=cM(s),l=Hd(a,"border","width"),c=Hd(a,"padding");e=o.width-c.width-l.width,n=o.height-c.height-l.height,i=J1(a.maxWidth,s,"clientWidth"),r=J1(a.maxHeight,s,"clientHeight")}}return{width:e,height:n,maxWidth:i||K1,maxHeight:r||K1}}const J_=t=>Math.round(t*10)/10;function dbe(t,e,n,i){const r=cM(t),s=Hd(r,"margin"),o=J1(r.maxWidth,t,"clientWidth")||K1,a=J1(r.maxHeight,t,"clientHeight")||K1,l=ube(t,e,n);let{width:c,height:u}=l;if(r.boxSizing==="content-box"){const f=Hd(r,"border","width"),m=Hd(r,"padding");c-=m.width+f.width,u-=m.height+f.height}return c=Math.max(0,c-s.width),u=Math.max(0,i?c/i:u-s.height),c=J_(Math.min(c,o,l.maxWidth)),u=J_(Math.min(u,a,l.maxHeight)),c&&!u&&(u=J_(c/2)),(e!==void 0||n!==void 0)&&i&&l.height&&u>l.height&&(u=l.height,c=J_(Math.floor(u*i))),{width:c,height:u}}function hU(t,e,n){const i=e||1,r=Math.floor(t.height*i),s=Math.floor(t.width*i);t.height=Math.floor(t.height),t.width=Math.floor(t.width);const o=t.canvas;return o.style&&(n||!o.style.height&&!o.style.width)&&(o.style.height=`${t.height}px`,o.style.width=`${t.width}px`),t.currentDevicePixelRatio!==i||o.height!==r||o.width!==s?(t.currentDevicePixelRatio=i,o.height=r,o.width=s,t.ctx.setTransform(i,0,0,i,0,0),!0):!1}const fbe=function(){let t=!1;try{const e={get passive(){return t=!0,!1}};BI()&&(window.addEventListener("test",null,e),window.removeEventListener("test",null,e))}catch{}return t}();function pU(t,e){const n=obe(t,e),i=n&&n.match(/^(\d+)(\.\d+)?px$/);return i?+i[1]:void 0}function od(t,e,n,i){return{x:t.x+n*(e.x-t.x),y:t.y+n*(e.y-t.y)}}function hbe(t,e,n,i){return{x:t.x+n*(e.x-t.x),y:i==="middle"?n<.5?t.y:e.y:i==="after"?n<1?t.y:e.y:n>0?e.y:t.y}}function pbe(t,e,n,i){const r={x:t.cp2x,y:t.cp2y},s={x:e.cp1x,y:e.cp1y},o=od(t,r,n),a=od(r,s,n),l=od(s,e,n),c=od(o,a,n),u=od(a,l,n);return od(c,u,n)}const mbe=function(t,e){return{x(n){return t+t+e-n},setWidth(n){e=n},textAlign(n){return n==="center"?n:n==="right"?"left":"right"},xPlus(n,i){return n-i},leftForLtr(n,i){return n-i}}},gbe=function(){return{x(t){return t},setWidth(t){},textAlign(t){return t},xPlus(t,e){return t+e},leftForLtr(t,e){return t}}};function ap(t,e,n){return t?mbe(e,n):gbe()}function b8(t,e){let n,i;(e==="ltr"||e==="rtl")&&(n=t.canvas.style,i=[n.getPropertyValue("direction"),n.getPropertyPriority("direction")],n.setProperty("direction",e,"important"),t.prevTextDirection=i)}function S8(t,e){e!==void 0&&(delete t.prevTextDirection,t.canvas.style.setProperty("direction",e[0],e[1]))}function w8(t){return t==="angle"?{between:Mv,compare:v_e,normalize:qs}:{between:Al,compare:(e,n)=>e-n,normalize:e=>e}}function mU({start:t,end:e,count:n,loop:i,style:r}){return{start:t%n,end:e%n,loop:i&&(e-t+1)%n===0,style:r}}function vbe(t,e,n){const{property:i,start:r,end:s}=n,{between:o,normalize:a}=w8(i),l=e.length;let{start:c,end:u,loop:d}=t,f,m;if(d){for(c+=l,u+=l,f=0,m=l;f<m&&o(a(e[c%l][i]),r,s);++f)c--,u--;c%=l,u%=l}return u<c&&(u+=l),{start:c,end:u,loop:d,style:t.style}}function M8(t,e,n){if(!n)return[t];const{property:i,start:r,end:s}=n,o=e.length,{compare:a,between:l,normalize:c}=w8(i),{start:u,end:d,loop:f,style:m}=vbe(t,e,n),g=[];let y=!1,x=null,v,_,b;const w=()=>l(r,b,v)&&a(r,b)!==0,C=()=>a(s,v)===0||l(s,b,v),T=()=>y||w(),R=()=>!y||C();for(let I=u,A=u;I<=d;++I)_=e[I%o],!_.skip&&(v=c(_[i]),v!==b&&(y=l(v,r,s),x===null&&T()&&(x=a(v,r)===0?I:A),x!==null&&R()&&(g.push(mU({start:x,end:I,loop:f,count:o,style:m})),x=null),A=I,b=v));return x!==null&&g.push(mU({start:x,end:d,loop:f,count:o,style:m})),g}function E8(t,e){const n=[],i=t.segments;for(let r=0;r<i.length;r++){const s=M8(i[r],t.points,e);s.length&&n.push(...s)}return n}function ybe(t,e,n,i){let r=0,s=e-1;if(n&&!i)for(;r<e&&!t[r].skip;)r++;for(;r<e&&t[r].skip;)r++;for(r%=e,n&&(s+=r);s>r&&t[s%e].skip;)s--;return s%=e,{start:r,end:s}}function xbe(t,e,n,i){const r=t.length,s=[];let o=e,a=t[e],l;for(l=e+1;l<=n;++l){const c=t[l%r];c.skip||c.stop?a.skip||(i=!1,s.push({start:e%r,end:(l-1)%r,loop:i}),e=o=c.stop?l:null):(o=l,a.skip&&(e=l)),a=c}return o!==null&&s.push({start:e%r,end:o%r,loop:i}),s}function _be(t,e){const n=t.points,i=t.options.spanGaps,r=n.length;if(!r)return[];const s=!!t._loop,{start:o,end:a}=ybe(n,r,s,i);if(i===!0)return gU(t,[{start:o,end:a,loop:s}],n,e);const l=a<o?a+r:a,c=!!t._fullLoop&&o===0&&a===r-1;return gU(t,xbe(n,o,l,c),n,e)}function gU(t,e,n,i){return!i||!i.setContext||!n?e:bbe(t,e,n,i)}function bbe(t,e,n,i){const r=t._chart.getContext(),s=vU(t.options),{_datasetIndex:o,options:{spanGaps:a}}=t,l=n.length,c=[];let u=s,d=e[0].start,f=d;function m(g,y,x,v){const _=a?-1:1;if(g!==y){for(g+=l;n[g%l].skip;)g-=_;for(;n[y%l].skip;)y+=_;g%l!==y%l&&(c.push({start:g%l,end:y%l,loop:x,style:v}),u=v,d=y%l)}}for(const g of e){d=a?d:g.start;let y=n[d%l],x;for(f=d+1;f<=g.end;f++){const v=n[f%l];x=vU(i.setContext(Ru(r,{type:"segment",p0:y,p1:v,p0DataIndex:(f-1)%l,p1DataIndex:f%l,datasetIndex:o}))),Sbe(x,u)&&m(d,f-1,g.loop,u),y=v,u=x}d<f-1&&m(d,f-1,g.loop,u)}return c}function vU(t){return{backgroundColor:t.backgroundColor,borderCapStyle:t.borderCapStyle,borderDash:t.borderDash,borderDashOffset:t.borderDashOffset,borderJoinStyle:t.borderJoinStyle,borderWidth:t.borderWidth,borderColor:t.borderColor}}function Sbe(t,e){if(!e)return!1;const n=[],i=function(r,s){return OI(s)?(n.includes(s)||n.push(s),n.indexOf(s)):s};return JSON.stringify(t,i)!==JSON.stringify(e,i)}/*!
 * Chart.js v4.4.1
 * https://www.chartjs.org
 * (c) 2023 Chart.js Contributors
 * Released under the MIT License
 */class wbe{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(e,n,i,r){const s=n.listeners[r],o=n.duration;s.forEach(a=>a({chart:e,initial:n.initial,numSteps:o,currentStep:Math.min(i-n.start,o)}))}_refresh(){this._request||(this._running=!0,this._request=l8.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(e=Date.now()){let n=0;this._charts.forEach((i,r)=>{if(!i.running||!i.items.length)return;const s=i.items;let o=s.length-1,a=!1,l;for(;o>=0;--o)l=s[o],l._active?(l._total>i.duration&&(i.duration=l._total),l.tick(e),a=!0):(s[o]=s[s.length-1],s.pop());a&&(r.draw(),this._notify(r,i,e,"progress")),s.length||(i.running=!1,this._notify(r,i,e,"complete"),i.initial=!1),n+=s.length}),this._lastDate=e,n===0&&(this._running=!1)}_getAnims(e){const n=this._charts;let i=n.get(e);return i||(i={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},n.set(e,i)),i}listen(e,n,i){this._getAnims(e).listeners[n].push(i)}add(e,n){!n||!n.length||this._getAnims(e).items.push(...n)}has(e){return this._getAnims(e).items.length>0}start(e){const n=this._charts.get(e);n&&(n.running=!0,n.start=Date.now(),n.duration=n.items.reduce((i,r)=>Math.max(i,r._duration),0),this._refresh())}running(e){if(!this._running)return!1;const n=this._charts.get(e);return!(!n||!n.running||!n.items.length)}stop(e){const n=this._charts.get(e);if(!n||!n.items.length)return;const i=n.items;let r=i.length-1;for(;r>=0;--r)i[r].cancel();n.items=[],this._notify(e,n,Date.now(),"complete")}remove(e){return this._charts.delete(e)}}var ml=new wbe;const yU="transparent",Mbe={boolean(t,e,n){return n>.5?e:t},color(t,e,n){const i=lU(t||yU),r=i.valid&&lU(e||yU);return r&&r.valid?r.mix(i,n).hexString():e},number(t,e,n){return t+(e-t)*n}};class Ebe{constructor(e,n,i,r){const s=n[i];r=Hg([e.to,r,s,e.from]);const o=Hg([e.from,s,r]);this._active=!0,this._fn=e.fn||Mbe[e.type||typeof o],this._easing=S0[e.easing]||S0.linear,this._start=Math.floor(Date.now()+(e.delay||0)),this._duration=this._total=Math.floor(e.duration),this._loop=!!e.loop,this._target=n,this._prop=i,this._from=o,this._to=r,this._promises=void 0}active(){return this._active}update(e,n,i){if(this._active){this._notify(!1);const r=this._target[this._prop],s=i-this._start,o=this._duration-s;this._start=i,this._duration=Math.floor(Math.max(o,e.duration)),this._total+=s,this._loop=!!e.loop,this._to=Hg([e.to,n,r,e.from]),this._from=Hg([e.from,r,n])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(e){const n=e-this._start,i=this._duration,r=this._prop,s=this._from,o=this._loop,a=this._to;let l;if(this._active=s!==a&&(o||n<i),!this._active){this._target[r]=a,this._notify(!0);return}if(n<0){this._target[r]=s;return}l=n/i%2,l=o&&l>1?2-l:l,l=this._easing(Math.min(1,Math.max(0,l))),this._target[r]=this._fn(s,a,l)}wait(){const e=this._promises||(this._promises=[]);return new Promise((n,i)=>{e.push({res:n,rej:i})})}_notify(e){const n=e?"res":"rej",i=this._promises||[];for(let r=0;r<i.length;r++)i[r][n]()}}class VI{constructor(e,n){this._chart=e,this._properties=new Map,this.configure(n)}configure(e){if(!Kt(e))return;const n=Object.keys(ui.animation),i=this._properties;Object.getOwnPropertyNames(e).forEach(r=>{const s=e[r];if(!Kt(s))return;const o={};for(const a of n)o[a]=s[a];(yn(s.properties)&&s.properties||[r]).forEach(a=>{(a===r||!i.has(a))&&i.set(a,o)})})}_animateOptions(e,n){const i=n.options,r=Cbe(e,i);if(!r)return[];const s=this._createAnimations(r,i);return i.$shared&&Tbe(e.options.$animations,i).then(()=>{e.options=i},()=>{}),s}_createAnimations(e,n){const i=this._properties,r=[],s=e.$animations||(e.$animations={}),o=Object.keys(n),a=Date.now();let l;for(l=o.length-1;l>=0;--l){const c=o[l];if(c.charAt(0)==="$")continue;if(c==="options"){r.push(...this._animateOptions(e,n));continue}const u=n[c];let d=s[c];const f=i.get(c);if(d)if(f&&d.active()){d.update(f,u,a);continue}else d.cancel();if(!f||!f.duration){e[c]=u;continue}s[c]=d=new Ebe(f,e,c,u),r.push(d)}return r}update(e,n){if(this._properties.size===0){Object.assign(e,n);return}const i=this._createAnimations(e,n);if(i.length)return ml.add(this._chart,i),!0}}function Tbe(t,e){const n=[],i=Object.keys(e);for(let r=0;r<i.length;r++){const s=t[i[r]];s&&s.active()&&n.push(s.wait())}return Promise.all(n)}function Cbe(t,e){if(!e)return;let n=t.options;if(!n){t.options=e;return}return n.$shared&&(t.options=n=Object.assign({},n,{$shared:!1,$animations:{}})),n}function xU(t,e){const n=t&&t.options||{},i=n.reverse,r=n.min===void 0?e:0,s=n.max===void 0?e:0;return{start:i?s:r,end:i?r:s}}function Rbe(t,e,n){if(n===!1)return!1;const i=xU(t,n),r=xU(e,n);return{top:r.end,right:i.end,bottom:r.start,left:i.start}}function Abe(t){let e,n,i,r;return Kt(t)?(e=t.top,n=t.right,i=t.bottom,r=t.left):e=n=i=r=t,{top:e,right:n,bottom:i,left:r,disabled:t===!1}}function T8(t,e){const n=[],i=t._getSortedDatasetMetas(e);let r,s;for(r=0,s=i.length;r<s;++r)n.push(i[r].index);return n}function _U(t,e,n,i={}){const r=t.keys,s=i.mode==="single";let o,a,l,c;if(e!==null){for(o=0,a=r.length;o<a;++o){if(l=+r[o],l===n){if(i.all)continue;break}c=t.values[l],ti(c)&&(s||e===0||Wa(e)===Wa(c))&&(e+=c)}return e}}function Pbe(t){const e=Object.keys(t),n=new Array(e.length);let i,r,s;for(i=0,r=e.length;i<r;++i)s=e[i],n[i]={x:s,y:t[s]};return n}function bU(t,e){const n=t&&t.options.stacked;return n||n===void 0&&e.stack!==void 0}function kbe(t,e,n){return`${t.id}.${e.id}.${n.stack||n.type}`}function Ibe(t){const{min:e,max:n,minDefined:i,maxDefined:r}=t.getUserBounds();return{min:i?e:Number.NEGATIVE_INFINITY,max:r?n:Number.POSITIVE_INFINITY}}function Lbe(t,e,n){const i=t[e]||(t[e]={});return i[n]||(i[n]={})}function SU(t,e,n,i){for(const r of e.getMatchingVisibleMetas(i).reverse()){const s=t[r.index];if(n&&s>0||!n&&s<0)return r.index}return null}function wU(t,e){const{chart:n,_cachedMeta:i}=t,r=n._stacks||(n._stacks={}),{iScale:s,vScale:o,index:a}=i,l=s.axis,c=o.axis,u=kbe(s,o,i),d=e.length;let f;for(let m=0;m<d;++m){const g=e[m],{[l]:y,[c]:x}=g,v=g._stacks||(g._stacks={});f=v[c]=Lbe(r,u,y),f[a]=x,f._top=SU(f,o,!0,i.type),f._bottom=SU(f,o,!1,i.type);const _=f._visualValues||(f._visualValues={});_[a]=x}}function yC(t,e){const n=t.scales;return Object.keys(n).filter(i=>n[i].axis===e).shift()}function Dbe(t,e){return Ru(t,{active:!1,dataset:void 0,datasetIndex:e,index:e,mode:"default",type:"dataset"})}function Obe(t,e,n){return Ru(t,{active:!1,dataIndex:e,parsed:void 0,raw:void 0,element:n,index:e,mode:"default",type:"data"})}function xg(t,e){const n=t.controller.index,i=t.vScale&&t.vScale.axis;if(i){e=e||t._parsed;for(const r of e){const s=r._stacks;if(!s||s[i]===void 0||s[i][n]===void 0)return;delete s[i][n],s[i]._visualValues!==void 0&&s[i]._visualValues[n]!==void 0&&delete s[i]._visualValues[n]}}}const xC=t=>t==="reset"||t==="none",MU=(t,e)=>e?t:Object.assign({},t),Nbe=(t,e,n)=>t&&!e.hidden&&e._stacked&&{keys:T8(n,!0),values:null};class oa{constructor(e,n){this.chart=e,this._ctx=e.ctx,this.index=n,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const e=this._cachedMeta;this.configure(),this.linkScales(),e._stacked=bU(e.vScale,e),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(e){this.index!==e&&xg(this._cachedMeta),this.index=e}linkScales(){const e=this.chart,n=this._cachedMeta,i=this.getDataset(),r=(d,f,m,g)=>d==="x"?f:d==="r"?g:m,s=n.xAxisID=zt(i.xAxisID,yC(e,"x")),o=n.yAxisID=zt(i.yAxisID,yC(e,"y")),a=n.rAxisID=zt(i.rAxisID,yC(e,"r")),l=n.indexAxis,c=n.iAxisID=r(l,s,o,a),u=n.vAxisID=r(l,o,s,a);n.xScale=this.getScaleForId(s),n.yScale=this.getScaleForId(o),n.rScale=this.getScaleForId(a),n.iScale=this.getScaleForId(c),n.vScale=this.getScaleForId(u)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(e){return this.chart.scales[e]}_getOtherScale(e){const n=this._cachedMeta;return e===n.iScale?n.vScale:n.iScale}reset(){this._update("reset")}_destroy(){const e=this._cachedMeta;this._data&&sU(this._data,this),e._stacked&&xg(e)}_dataCheck(){const e=this.getDataset(),n=e.data||(e.data=[]),i=this._data;if(Kt(n))this._data=Pbe(n);else if(i!==n){if(i){sU(i,this);const r=this._cachedMeta;xg(r),r._parsed=[]}n&&Object.isExtensible(n)&&b_e(n,this),this._syncList=[],this._data=n}}addElements(){const e=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(e.dataset=new this.datasetElementType)}buildOrUpdateElements(e){const n=this._cachedMeta,i=this.getDataset();let r=!1;this._dataCheck();const s=n._stacked;n._stacked=bU(n.vScale,n),n.stack!==i.stack&&(r=!0,xg(n),n.stack=i.stack),this._resyncElements(e),(r||s!==n._stacked)&&wU(this,n._parsed)}configure(){const e=this.chart.config,n=e.datasetScopeKeys(this._type),i=e.getOptionScopes(this.getDataset(),n,!0);this.options=e.createResolver(i,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(e,n){const{_cachedMeta:i,_data:r}=this,{iScale:s,_stacked:o}=i,a=s.axis;let l=e===0&&n===r.length?!0:i._sorted,c=e>0&&i._parsed[e-1],u,d,f;if(this._parsing===!1)i._parsed=r,i._sorted=!0,f=r;else{yn(r[e])?f=this.parseArrayData(i,r,e,n):Kt(r[e])?f=this.parseObjectData(i,r,e,n):f=this.parsePrimitiveData(i,r,e,n);const m=()=>d[a]===null||c&&d[a]<c[a];for(u=0;u<n;++u)i._parsed[u+e]=d=f[u],l&&(m()&&(l=!1),c=d);i._sorted=l}o&&wU(this,f)}parsePrimitiveData(e,n,i,r){const{iScale:s,vScale:o}=e,a=s.axis,l=o.axis,c=s.getLabels(),u=s===o,d=new Array(r);let f,m,g;for(f=0,m=r;f<m;++f)g=f+i,d[f]={[a]:u||s.parse(c[g],g),[l]:o.parse(n[g],g)};return d}parseArrayData(e,n,i,r){const{xScale:s,yScale:o}=e,a=new Array(r);let l,c,u,d;for(l=0,c=r;l<c;++l)u=l+i,d=n[u],a[l]={x:s.parse(d[0],u),y:o.parse(d[1],u)};return a}parseObjectData(e,n,i,r){const{xScale:s,yScale:o}=e,{xAxisKey:a="x",yAxisKey:l="y"}=this._parsing,c=new Array(r);let u,d,f,m;for(u=0,d=r;u<d;++u)f=u+i,m=n[f],c[u]={x:s.parse(pu(m,a),f),y:o.parse(pu(m,l),f)};return c}getParsed(e){return this._cachedMeta._parsed[e]}getDataElement(e){return this._cachedMeta.data[e]}applyStack(e,n,i){const r=this.chart,s=this._cachedMeta,o=n[e.axis],a={keys:T8(r,!0),values:n._stacks[e.axis]._visualValues};return _U(a,o,s.index,{mode:i})}updateRangeFromParsed(e,n,i,r){const s=i[n.axis];let o=s===null?NaN:s;const a=r&&i._stacks[n.axis];r&&a&&(r.values=a,o=_U(r,s,this._cachedMeta.index)),e.min=Math.min(e.min,o),e.max=Math.max(e.max,o)}getMinMax(e,n){const i=this._cachedMeta,r=i._parsed,s=i._sorted&&e===i.iScale,o=r.length,a=this._getOtherScale(e),l=Nbe(n,i,this.chart),c={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:u,max:d}=Ibe(a);let f,m;function g(){m=r[f];const y=m[a.axis];return!ti(m[e.axis])||u>y||d<y}for(f=0;f<o&&!(!g()&&(this.updateRangeFromParsed(c,e,m,l),s));++f);if(s){for(f=o-1;f>=0;--f)if(!g()){this.updateRangeFromParsed(c,e,m,l);break}}return c}getAllParsedValues(e){const n=this._cachedMeta._parsed,i=[];let r,s,o;for(r=0,s=n.length;r<s;++r)o=n[r][e.axis],ti(o)&&i.push(o);return i}getMaxOverflow(){return!1}getLabelAndValue(e){const n=this._cachedMeta,i=n.iScale,r=n.vScale,s=this.getParsed(e);return{label:i?""+i.getLabelForValue(s[i.axis]):"",value:r?""+r.getLabelForValue(s[r.axis]):""}}_update(e){const n=this._cachedMeta;this.update(e||"default"),n._clip=Abe(zt(this.options.clip,Rbe(n.xScale,n.yScale,this.getMaxOverflow())))}update(e){}draw(){const e=this._ctx,n=this.chart,i=this._cachedMeta,r=i.data||[],s=n.chartArea,o=[],a=this._drawStart||0,l=this._drawCount||r.length-a,c=this.options.drawActiveElementsOnTop;let u;for(i.dataset&&i.dataset.draw(e,s,a,l),u=a;u<a+l;++u){const d=r[u];d.hidden||(d.active&&c?o.push(d):d.draw(e,s))}for(u=0;u<o.length;++u)o[u].draw(e,s)}getStyle(e,n){const i=n?"active":"default";return e===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(i):this.resolveDataElementOptions(e||0,i)}getContext(e,n,i){const r=this.getDataset();let s;if(e>=0&&e<this._cachedMeta.data.length){const o=this._cachedMeta.data[e];s=o.$context||(o.$context=Obe(this.getContext(),e,o)),s.parsed=this.getParsed(e),s.raw=r.data[e],s.index=s.dataIndex=e}else s=this.$context||(this.$context=Dbe(this.chart.getContext(),this.index)),s.dataset=r,s.index=s.datasetIndex=this.index;return s.active=!!n,s.mode=i,s}resolveDatasetElementOptions(e){return this._resolveElementOptions(this.datasetElementType.id,e)}resolveDataElementOptions(e,n){return this._resolveElementOptions(this.dataElementType.id,n,e)}_resolveElementOptions(e,n="default",i){const r=n==="active",s=this._cachedDataOpts,o=e+"-"+n,a=s[o],l=this.enableOptionSharing&&Ns(i);if(a)return MU(a,l);const c=this.chart.config,u=c.datasetElementScopeKeys(this._type,e),d=r?[`${e}Hover`,"hover",e,""]:[e,""],f=c.getOptionScopes(this.getDataset(),u),m=Object.keys(ui.elements[e]),g=()=>this.getContext(i,r,n),y=c.resolveNamedOptions(f,m,g,d);return y.$shared&&(y.$shared=l,s[o]=Object.freeze(MU(y,l))),y}_resolveAnimations(e,n,i){const r=this.chart,s=this._cachedDataOpts,o=`animation-${n}`,a=s[o];if(a)return a;let l;if(r.options.animation!==!1){const u=this.chart.config,d=u.datasetAnimationScopeKeys(this._type,n),f=u.getOptionScopes(this.getDataset(),d);l=u.createResolver(f,this.getContext(e,i,n))}const c=new VI(r,l&&l.animations);return l&&l._cacheable&&(s[o]=Object.freeze(c)),c}getSharedOptions(e){if(e.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},e))}includeOptions(e,n){return!n||xC(e)||this.chart._animationsDisabled}_getSharedOptions(e,n){const i=this.resolveDataElementOptions(e,n),r=this._sharedOptions,s=this.getSharedOptions(i),o=this.includeOptions(n,s)||s!==r;return this.updateSharedOptions(s,n,i),{sharedOptions:s,includeOptions:o}}updateElement(e,n,i,r){xC(r)?Object.assign(e,i):this._resolveAnimations(n,r).update(e,i)}updateSharedOptions(e,n,i){e&&!xC(n)&&this._resolveAnimations(void 0,n).update(e,i)}_setStyle(e,n,i,r){e.active=r;const s=this.getStyle(n,r);this._resolveAnimations(n,i,r).update(e,{options:!r&&this.getSharedOptions(s)||s})}removeHoverStyle(e,n,i){this._setStyle(e,i,"active",!1)}setHoverStyle(e,n,i){this._setStyle(e,i,"active",!0)}_removeDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!1)}_setDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!0)}_resyncElements(e){const n=this._data,i=this._cachedMeta.data;for(const[a,l,c]of this._syncList)this[a](l,c);this._syncList=[];const r=i.length,s=n.length,o=Math.min(s,r);o&&this.parse(0,o),s>r?this._insertElements(r,s-r,e):s<r&&this._removeElements(s,r-s)}_insertElements(e,n,i=!0){const r=this._cachedMeta,s=r.data,o=e+n;let a;const l=c=>{for(c.length+=n,a=c.length-1;a>=o;a--)c[a]=c[a-n]};for(l(s),a=e;a<o;++a)s[a]=new this.dataElementType;this._parsing&&l(r._parsed),this.parse(e,n),i&&this.updateElements(s,e,n,"reset")}updateElements(e,n,i,r){}_removeElements(e,n){const i=this._cachedMeta;if(this._parsing){const r=i._parsed.splice(e,n);i._stacked&&xg(i,r)}i.data.splice(e,n)}_sync(e){if(this._parsing)this._syncList.push(e);else{const[n,i,r]=e;this[n](i,r)}this.chart._dataChanges.push([this.index,...e])}_onDataPush(){const e=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-e,e])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(e,n){n&&this._sync(["_removeElements",e,n]);const i=arguments.length-2;i&&this._sync(["_insertElements",e,i])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}ye(oa,"defaults",{}),ye(oa,"datasetElementType",null),ye(oa,"dataElementType",null);function Fbe(t,e){if(!t._cache.$bar){const n=t.getMatchingVisibleMetas(e);let i=[];for(let r=0,s=n.length;r<s;r++)i=i.concat(n[r].controller.getAllParsedValues(t));t._cache.$bar=a8(i.sort((r,s)=>r-s))}return t._cache.$bar}function zbe(t){const e=t.iScale,n=Fbe(e,t.type);let i=e._length,r,s,o,a;const l=()=>{o===32767||o===-32768||(Ns(a)&&(i=Math.min(i,Math.abs(o-a)||i)),a=o)};for(r=0,s=n.length;r<s;++r)o=e.getPixelForValue(n[r]),l();for(a=void 0,r=0,s=e.ticks.length;r<s;++r)o=e.getPixelForTick(r),l();return i}function Ube(t,e,n,i){const r=n.barThickness;let s,o;return fn(r)?(s=e.min*n.categoryPercentage,o=n.barPercentage):(s=r*i,o=1),{chunk:s/i,ratio:o,start:e.pixels[t]-s/2}}function Bbe(t,e,n,i){const r=e.pixels,s=r[t];let o=t>0?r[t-1]:null,a=t<r.length-1?r[t+1]:null;const l=n.categoryPercentage;o===null&&(o=s-(a===null?e.end-e.start:a-s)),a===null&&(a=s+s-o);const c=s-(s-Math.min(o,a))/2*l;return{chunk:Math.abs(a-o)/2*l/i,ratio:n.barPercentage,start:c}}function Hbe(t,e,n,i){const r=n.parse(t[0],i),s=n.parse(t[1],i),o=Math.min(r,s),a=Math.max(r,s);let l=o,c=a;Math.abs(o)>Math.abs(a)&&(l=a,c=o),e[n.axis]=c,e._custom={barStart:l,barEnd:c,start:r,end:s,min:o,max:a}}function C8(t,e,n,i){return yn(t)?Hbe(t,e,n,i):e[n.axis]=n.parse(t,i),e}function EU(t,e,n,i){const r=t.iScale,s=t.vScale,o=r.getLabels(),a=r===s,l=[];let c,u,d,f;for(c=n,u=n+i;c<u;++c)f=e[c],d={},d[r.axis]=a||r.parse(o[c],c),l.push(C8(f,d,s,c));return l}function _C(t){return t&&t.barStart!==void 0&&t.barEnd!==void 0}function Vbe(t,e,n){return t!==0?Wa(t):(e.isHorizontal()?1:-1)*(e.min>=n?1:-1)}function jbe(t){let e,n,i,r,s;return t.horizontal?(e=t.base>t.x,n="left",i="right"):(e=t.base<t.y,n="bottom",i="top"),e?(r="end",s="start"):(r="start",s="end"),{start:n,end:i,reverse:e,top:r,bottom:s}}function Wbe(t,e,n,i){let r=e.borderSkipped;const s={};if(!r){t.borderSkipped=s;return}if(r===!0){t.borderSkipped={top:!0,right:!0,bottom:!0,left:!0};return}const{start:o,end:a,reverse:l,top:c,bottom:u}=jbe(t);r==="middle"&&n&&(t.enableBorderRadius=!0,(n._top||0)===i?r=c:(n._bottom||0)===i?r=u:(s[TU(u,o,a,l)]=!0,r=c)),s[TU(r,o,a,l)]=!0,t.borderSkipped=s}function TU(t,e,n,i){return i?(t=Gbe(t,e,n),t=CU(t,n,e)):t=CU(t,e,n),t}function Gbe(t,e,n){return t===e?n:t===n?e:t}function CU(t,e,n){return t==="start"?e:t==="end"?n:t}function $be(t,{inflateAmount:e},n){t.inflateAmount=e==="auto"?n===1?.33:0:e}class Gb extends oa{parsePrimitiveData(e,n,i,r){return EU(e,n,i,r)}parseArrayData(e,n,i,r){return EU(e,n,i,r)}parseObjectData(e,n,i,r){const{iScale:s,vScale:o}=e,{xAxisKey:a="x",yAxisKey:l="y"}=this._parsing,c=s.axis==="x"?a:l,u=o.axis==="x"?a:l,d=[];let f,m,g,y;for(f=i,m=i+r;f<m;++f)y=n[f],g={},g[s.axis]=s.parse(pu(y,c),f),d.push(C8(pu(y,u),g,o,f));return d}updateRangeFromParsed(e,n,i,r){super.updateRangeFromParsed(e,n,i,r);const s=i._custom;s&&n===this._cachedMeta.vScale&&(e.min=Math.min(e.min,s.min),e.max=Math.max(e.max,s.max))}getMaxOverflow(){return 0}getLabelAndValue(e){const n=this._cachedMeta,{iScale:i,vScale:r}=n,s=this.getParsed(e),o=s._custom,a=_C(o)?"["+o.start+", "+o.end+"]":""+r.getLabelForValue(s[r.axis]);return{label:""+i.getLabelForValue(s[i.axis]),value:a}}initialize(){this.enableOptionSharing=!0,super.initialize();const e=this._cachedMeta;e.stack=this.getDataset().stack}update(e){const n=this._cachedMeta;this.updateElements(n.data,0,n.data.length,e)}updateElements(e,n,i,r){const s=r==="reset",{index:o,_cachedMeta:{vScale:a}}=this,l=a.getBasePixel(),c=a.isHorizontal(),u=this._getRuler(),{sharedOptions:d,includeOptions:f}=this._getSharedOptions(n,r);for(let m=n;m<n+i;m++){const g=this.getParsed(m),y=s||fn(g[a.axis])?{base:l,head:l}:this._calculateBarValuePixels(m),x=this._calculateBarIndexPixels(m,u),v=(g._stacks||{})[a.axis],_={horizontal:c,base:y.base,enableBorderRadius:!v||_C(g._custom)||o===v._top||o===v._bottom,x:c?y.head:x.center,y:c?x.center:y.head,height:c?x.size:Math.abs(y.size),width:c?Math.abs(y.size):x.size};f&&(_.options=d||this.resolveDataElementOptions(m,e[m].active?"active":r));const b=_.options||e[m].options;Wbe(_,b,v,o),$be(_,b,u.ratio),this.updateElement(e[m],m,_,r)}}_getStacks(e,n){const{iScale:i}=this._cachedMeta,r=i.getMatchingVisibleMetas(this._type).filter(l=>l.controller.options.grouped),s=i.options.stacked,o=[],a=l=>{const c=l.controller.getParsed(n),u=c&&c[l.vScale.axis];if(fn(u)||isNaN(u))return!0};for(const l of r)if(!(n!==void 0&&a(l))&&((s===!1||o.indexOf(l.stack)===-1||s===void 0&&l.stack===void 0)&&o.push(l.stack),l.index===e))break;return o.length||o.push(void 0),o}_getStackCount(e){return this._getStacks(void 0,e).length}_getStackIndex(e,n,i){const r=this._getStacks(e,i),s=n!==void 0?r.indexOf(n):-1;return s===-1?r.length-1:s}_getRuler(){const e=this.options,n=this._cachedMeta,i=n.iScale,r=[];let s,o;for(s=0,o=n.data.length;s<o;++s)r.push(i.getPixelForValue(this.getParsed(s)[i.axis],s));const a=e.barThickness;return{min:a||zbe(n),pixels:r,start:i._startPixel,end:i._endPixel,stackCount:this._getStackCount(),scale:i,grouped:e.grouped,ratio:a?1:e.categoryPercentage*e.barPercentage}}_calculateBarValuePixels(e){const{_cachedMeta:{vScale:n,_stacked:i,index:r},options:{base:s,minBarLength:o}}=this,a=s||0,l=this.getParsed(e),c=l._custom,u=_C(c);let d=l[n.axis],f=0,m=i?this.applyStack(n,l,i):d,g,y;m!==d&&(f=m-d,m=d),u&&(d=c.barStart,m=c.barEnd-c.barStart,d!==0&&Wa(d)!==Wa(c.barEnd)&&(f=0),f+=d);const x=!fn(s)&&!u?s:f;let v=n.getPixelForValue(x);if(this.chart.getDataVisibility(e)?g=n.getPixelForValue(f+m):g=v,y=g-v,Math.abs(y)<o){y=Vbe(y,n,a)*o,d===a&&(v-=y/2);const _=n.getPixelForDecimal(0),b=n.getPixelForDecimal(1),w=Math.min(_,b),C=Math.max(_,b);v=Math.max(Math.min(v,C),w),g=v+y,i&&!u&&(l._stacks[n.axis]._visualValues[r]=n.getValueForPixel(g)-n.getValueForPixel(v))}if(v===n.getPixelForValue(a)){const _=Wa(y)*n.getLineWidthForValue(a)/2;v+=_,y-=_}return{size:y,base:v,head:g,center:g+y/2}}_calculateBarIndexPixels(e,n){const i=n.scale,r=this.options,s=r.skipNull,o=zt(r.maxBarThickness,1/0);let a,l;if(n.grouped){const c=s?this._getStackCount(e):n.stackCount,u=r.barThickness==="flex"?Bbe(e,n,r,c):Ube(e,n,r,c),d=this._getStackIndex(this.index,this._cachedMeta.stack,s?e:void 0);a=u.start+u.chunk*d+u.chunk/2,l=Math.min(o,u.chunk*u.ratio)}else a=i.getPixelForValue(this.getParsed(e)[i.axis],e),l=Math.min(o,n.min*n.ratio);return{base:a-l/2,head:a+l/2,center:a,size:l}}draw(){const e=this._cachedMeta,n=e.vScale,i=e.data,r=i.length;let s=0;for(;s<r;++s)this.getParsed(s)[n.axis]!==null&&i[s].draw(this._ctx)}}ye(Gb,"id","bar"),ye(Gb,"defaults",{datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}}),ye(Gb,"overrides",{scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}});class $b extends oa{initialize(){this.enableOptionSharing=!0,super.initialize()}parsePrimitiveData(e,n,i,r){const s=super.parsePrimitiveData(e,n,i,r);for(let o=0;o<s.length;o++)s[o]._custom=this.resolveDataElementOptions(o+i).radius;return s}parseArrayData(e,n,i,r){const s=super.parseArrayData(e,n,i,r);for(let o=0;o<s.length;o++){const a=n[i+o];s[o]._custom=zt(a[2],this.resolveDataElementOptions(o+i).radius)}return s}parseObjectData(e,n,i,r){const s=super.parseObjectData(e,n,i,r);for(let o=0;o<s.length;o++){const a=n[i+o];s[o]._custom=zt(a&&a.r&&+a.r,this.resolveDataElementOptions(o+i).radius)}return s}getMaxOverflow(){const e=this._cachedMeta.data;let n=0;for(let i=e.length-1;i>=0;--i)n=Math.max(n,e[i].size(this.resolveDataElementOptions(i))/2);return n>0&&n}getLabelAndValue(e){const n=this._cachedMeta,i=this.chart.data.labels||[],{xScale:r,yScale:s}=n,o=this.getParsed(e),a=r.getLabelForValue(o.x),l=s.getLabelForValue(o.y),c=o._custom;return{label:i[e]||"",value:"("+a+", "+l+(c?", "+c:"")+")"}}update(e){const n=this._cachedMeta.data;this.updateElements(n,0,n.length,e)}updateElements(e,n,i,r){const s=r==="reset",{iScale:o,vScale:a}=this._cachedMeta,{sharedOptions:l,includeOptions:c}=this._getSharedOptions(n,r),u=o.axis,d=a.axis;for(let f=n;f<n+i;f++){const m=e[f],g=!s&&this.getParsed(f),y={},x=y[u]=s?o.getPixelForDecimal(.5):o.getPixelForValue(g[u]),v=y[d]=s?a.getBasePixel():a.getPixelForValue(g[d]);y.skip=isNaN(x)||isNaN(v),c&&(y.options=l||this.resolveDataElementOptions(f,m.active?"active":r),s&&(y.options.radius=0)),this.updateElement(m,f,y,r)}}resolveDataElementOptions(e,n){const i=this.getParsed(e);let r=super.resolveDataElementOptions(e,n);r.$shared&&(r=Object.assign({},r,{$shared:!1}));const s=r.radius;return n!=="active"&&(r.radius=0),r.radius+=zt(i&&i._custom,s),r}}ye($b,"id","bubble"),ye($b,"defaults",{datasetElementType:!1,dataElementType:"point",animations:{numbers:{type:"number",properties:["x","y","borderWidth","radius"]}}}),ye($b,"overrides",{scales:{x:{type:"linear"},y:{type:"linear"}}});function Xbe(t,e,n){let i=1,r=1,s=0,o=0;if(e<Gn){const a=t,l=a+e,c=Math.cos(a),u=Math.sin(a),d=Math.cos(l),f=Math.sin(l),m=(b,w,C)=>Mv(b,a,l,!0)?1:Math.max(w,w*n,C,C*n),g=(b,w,C)=>Mv(b,a,l,!0)?-1:Math.min(w,w*n,C,C*n),y=m(0,c,d),x=m(Qn,u,f),v=g(on,c,d),_=g(on+Qn,u,f);i=(y-v)/2,r=(x-_)/2,s=-(y+v)/2,o=-(x+_)/2}return{ratioX:i,ratioY:r,offsetX:s,offsetY:o}}class bd extends oa{constructor(e,n){super(e,n),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(e,n){const i=this.getDataset().data,r=this._cachedMeta;if(this._parsing===!1)r._parsed=i;else{let s=l=>+i[l];if(Kt(i[e])){const{key:l="value"}=this._parsing;s=c=>+pu(i[c],l)}let o,a;for(o=e,a=e+n;o<a;++o)r._parsed[o]=s(o)}}_getRotation(){return Vi(this.options.rotation-90)}_getCircumference(){return Vi(this.options.circumference)}_getRotationExtents(){let e=Gn,n=-Gn;for(let i=0;i<this.chart.data.datasets.length;++i)if(this.chart.isDatasetVisible(i)&&this.chart.getDatasetMeta(i).type===this._type){const r=this.chart.getDatasetMeta(i).controller,s=r._getRotation(),o=r._getCircumference();e=Math.min(e,s),n=Math.max(n,s+o)}return{rotation:e,circumference:n-e}}update(e){const n=this.chart,{chartArea:i}=n,r=this._cachedMeta,s=r.data,o=this.getMaxBorderWidth()+this.getMaxOffset(s)+this.options.spacing,a=Math.max((Math.min(i.width,i.height)-o)/2,0),l=Math.min(l_e(this.options.cutout,a),1),c=this._getRingWeight(this.index),{circumference:u,rotation:d}=this._getRotationExtents(),{ratioX:f,ratioY:m,offsetX:g,offsetY:y}=Xbe(d,u,l),x=(i.width-o)/f,v=(i.height-o)/m,_=Math.max(Math.min(x,v)/2,0),b=n8(this.options.radius,_),w=Math.max(b*l,0),C=(b-w)/this._getVisibleDatasetWeightTotal();this.offsetX=g*b,this.offsetY=y*b,r.total=this.calculateTotal(),this.outerRadius=b-C*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-C*c,0),this.updateElements(s,0,s.length,e)}_circumference(e,n){const i=this.options,r=this._cachedMeta,s=this._getCircumference();return n&&i.animation.animateRotate||!this.chart.getDataVisibility(e)||r._parsed[e]===null||r.data[e].hidden?0:this.calculateCircumference(r._parsed[e]*s/Gn)}updateElements(e,n,i,r){const s=r==="reset",o=this.chart,a=o.chartArea,c=o.options.animation,u=(a.left+a.right)/2,d=(a.top+a.bottom)/2,f=s&&c.animateScale,m=f?0:this.innerRadius,g=f?0:this.outerRadius,{sharedOptions:y,includeOptions:x}=this._getSharedOptions(n,r);let v=this._getRotation(),_;for(_=0;_<n;++_)v+=this._circumference(_,s);for(_=n;_<n+i;++_){const b=this._circumference(_,s),w=e[_],C={x:u+this.offsetX,y:d+this.offsetY,startAngle:v,endAngle:v+b,circumference:b,outerRadius:g,innerRadius:m};x&&(C.options=y||this.resolveDataElementOptions(_,w.active?"active":r)),v+=b,this.updateElement(w,_,C,r)}}calculateTotal(){const e=this._cachedMeta,n=e.data;let i=0,r;for(r=0;r<n.length;r++){const s=e._parsed[r];s!==null&&!isNaN(s)&&this.chart.getDataVisibility(r)&&!n[r].hidden&&(i+=Math.abs(s))}return i}calculateCircumference(e){const n=this._cachedMeta.total;return n>0&&!isNaN(e)?Gn*(Math.abs(e)/n):0}getLabelAndValue(e){const n=this._cachedMeta,i=this.chart,r=i.data.labels||[],s=gy(n._parsed[e],i.options.locale);return{label:r[e]||"",value:s}}getMaxBorderWidth(e){let n=0;const i=this.chart;let r,s,o,a,l;if(!e){for(r=0,s=i.data.datasets.length;r<s;++r)if(i.isDatasetVisible(r)){o=i.getDatasetMeta(r),e=o.data,a=o.controller;break}}if(!e)return 0;for(r=0,s=e.length;r<s;++r)l=a.resolveDataElementOptions(r),l.borderAlign!=="inner"&&(n=Math.max(n,l.borderWidth||0,l.hoverBorderWidth||0));return n}getMaxOffset(e){let n=0;for(let i=0,r=e.length;i<r;++i){const s=this.resolveDataElementOptions(i);n=Math.max(n,s.offset||0,s.hoverOffset||0)}return n}_getRingWeightOffset(e){let n=0;for(let i=0;i<e;++i)this.chart.isDatasetVisible(i)&&(n+=this._getRingWeight(i));return n}_getRingWeight(e){return Math.max(zt(this.chart.data.datasets[e].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}ye(bd,"id","doughnut"),ye(bd,"defaults",{datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"}),ye(bd,"descriptors",{_scriptable:e=>e!=="spacing",_indexable:e=>e!=="spacing"&&!e.startsWith("borderDash")&&!e.startsWith("hoverBorderDash")}),ye(bd,"overrides",{aspectRatio:1,plugins:{legend:{labels:{generateLabels(e){const n=e.data;if(n.labels.length&&n.datasets.length){const{labels:{pointStyle:i,color:r}}=e.legend.options;return n.labels.map((s,o)=>{const l=e.getDatasetMeta(0).controller.getStyle(o);return{text:s,fillStyle:l.backgroundColor,strokeStyle:l.borderColor,fontColor:r,lineWidth:l.borderWidth,pointStyle:i,hidden:!e.getDataVisibility(o),index:o}})}return[]}},onClick(e,n,i){i.chart.toggleDataVisibility(n.index),i.chart.update()}}}});class M0 extends oa{initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(e){const n=this._cachedMeta,{dataset:i,data:r=[],_dataset:s}=n,o=this.chart._animationsDisabled;let{start:a,count:l}=u8(n,r,o);this._drawStart=a,this._drawCount=l,d8(n)&&(a=0,l=r.length),i._chart=this.chart,i._datasetIndex=this.index,i._decimated=!!s._decimated,i.points=r;const c=this.resolveDatasetElementOptions(e);this.options.showLine||(c.borderWidth=0),c.segment=this.options.segment,this.updateElement(i,void 0,{animated:!o,options:c},e),this.updateElements(r,a,l,e)}updateElements(e,n,i,r){const s=r==="reset",{iScale:o,vScale:a,_stacked:l,_dataset:c}=this._cachedMeta,{sharedOptions:u,includeOptions:d}=this._getSharedOptions(n,r),f=o.axis,m=a.axis,{spanGaps:g,segment:y}=this.options,x=mu(g)?g:Number.POSITIVE_INFINITY,v=this.chart._animationsDisabled||s||r==="none",_=n+i,b=e.length;let w=n>0&&this.getParsed(n-1);for(let C=0;C<b;++C){const T=e[C],R=v?T:{};if(C<n||C>=_){R.skip=!0;continue}const I=this.getParsed(C),A=fn(I[m]),L=R[f]=o.getPixelForValue(I[f],C),O=R[m]=s||A?a.getBasePixel():a.getPixelForValue(l?this.applyStack(a,I,l):I[m],C);R.skip=isNaN(L)||isNaN(O)||A,R.stop=C>0&&Math.abs(I[f]-w[f])>x,y&&(R.parsed=I,R.raw=c.data[C]),d&&(R.options=u||this.resolveDataElementOptions(C,T.active?"active":r)),v||this.updateElement(T,C,R,r),w=I}}getMaxOverflow(){const e=this._cachedMeta,n=e.dataset,i=n.options&&n.options.borderWidth||0,r=e.data||[];if(!r.length)return i;const s=r[0].size(this.resolveDataElementOptions(0)),o=r[r.length-1].size(this.resolveDataElementOptions(r.length-1));return Math.max(i,s,o)/2}draw(){const e=this._cachedMeta;e.dataset.updateControlPoints(this.chart.chartArea,e.iScale.axis),super.draw()}}ye(M0,"id","line"),ye(M0,"defaults",{datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1}),ye(M0,"overrides",{scales:{_index_:{type:"category"},_value_:{type:"linear"}}});class E0 extends oa{constructor(e,n){super(e,n),this.innerRadius=void 0,this.outerRadius=void 0}getLabelAndValue(e){const n=this._cachedMeta,i=this.chart,r=i.data.labels||[],s=gy(n._parsed[e].r,i.options.locale);return{label:r[e]||"",value:s}}parseObjectData(e,n,i,r){return x8.bind(this)(e,n,i,r)}update(e){const n=this._cachedMeta.data;this._updateRadius(),this.updateElements(n,0,n.length,e)}getMinMax(){const e=this._cachedMeta,n={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY};return e.data.forEach((i,r)=>{const s=this.getParsed(r).r;!isNaN(s)&&this.chart.getDataVisibility(r)&&(s<n.min&&(n.min=s),s>n.max&&(n.max=s))}),n}_updateRadius(){const e=this.chart,n=e.chartArea,i=e.options,r=Math.min(n.right-n.left,n.bottom-n.top),s=Math.max(r/2,0),o=Math.max(i.cutoutPercentage?s/100*i.cutoutPercentage:1,0),a=(s-o)/e.getVisibleDatasetCount();this.outerRadius=s-a*this.index,this.innerRadius=this.outerRadius-a}updateElements(e,n,i,r){const s=r==="reset",o=this.chart,l=o.options.animation,c=this._cachedMeta.rScale,u=c.xCenter,d=c.yCenter,f=c.getIndexAngle(0)-.5*on;let m=f,g;const y=360/this.countVisibleElements();for(g=0;g<n;++g)m+=this._computeAngle(g,r,y);for(g=n;g<n+i;g++){const x=e[g];let v=m,_=m+this._computeAngle(g,r,y),b=o.getDataVisibility(g)?c.getDistanceFromCenterForValue(this.getParsed(g).r):0;m=_,s&&(l.animateScale&&(b=0),l.animateRotate&&(v=_=f));const w={x:u,y:d,innerRadius:0,outerRadius:b,startAngle:v,endAngle:_,options:this.resolveDataElementOptions(g,x.active?"active":r)};this.updateElement(x,g,w,r)}}countVisibleElements(){const e=this._cachedMeta;let n=0;return e.data.forEach((i,r)=>{!isNaN(this.getParsed(r).r)&&this.chart.getDataVisibility(r)&&n++}),n}_computeAngle(e,n,i){return this.chart.getDataVisibility(e)?Vi(this.resolveDataElementOptions(e,n).angle||i):0}}ye(E0,"id","polarArea"),ye(E0,"defaults",{dataElementType:"arc",animation:{animateRotate:!0,animateScale:!0},animations:{numbers:{type:"number",properties:["x","y","startAngle","endAngle","innerRadius","outerRadius"]}},indexAxis:"r",startAngle:0}),ye(E0,"overrides",{aspectRatio:1,plugins:{legend:{labels:{generateLabels(e){const n=e.data;if(n.labels.length&&n.datasets.length){const{labels:{pointStyle:i,color:r}}=e.legend.options;return n.labels.map((s,o)=>{const l=e.getDatasetMeta(0).controller.getStyle(o);return{text:s,fillStyle:l.backgroundColor,strokeStyle:l.borderColor,fontColor:r,lineWidth:l.borderWidth,pointStyle:i,hidden:!e.getDataVisibility(o),index:o}})}return[]}},onClick(e,n,i){i.chart.toggleDataVisibility(n.index),i.chart.update()}}},scales:{r:{type:"radialLinear",angleLines:{display:!1},beginAtZero:!0,grid:{circular:!0},pointLabels:{display:!1},startAngle:0}}});class iA extends bd{}ye(iA,"id","pie"),ye(iA,"defaults",{cutout:0,rotation:0,circumference:360,radius:"100%"});class Xb extends oa{getLabelAndValue(e){const n=this._cachedMeta.vScale,i=this.getParsed(e);return{label:n.getLabels()[e],value:""+n.getLabelForValue(i[n.axis])}}parseObjectData(e,n,i,r){return x8.bind(this)(e,n,i,r)}update(e){const n=this._cachedMeta,i=n.dataset,r=n.data||[],s=n.iScale.getLabels();if(i.points=r,e!=="resize"){const o=this.resolveDatasetElementOptions(e);this.options.showLine||(o.borderWidth=0);const a={_loop:!0,_fullLoop:s.length===r.length,options:o};this.updateElement(i,void 0,a,e)}this.updateElements(r,0,r.length,e)}updateElements(e,n,i,r){const s=this._cachedMeta.rScale,o=r==="reset";for(let a=n;a<n+i;a++){const l=e[a],c=this.resolveDataElementOptions(a,l.active?"active":r),u=s.getPointPositionForValue(a,this.getParsed(a).r),d=o?s.xCenter:u.x,f=o?s.yCenter:u.y,m={x:d,y:f,angle:u.angle,skip:isNaN(d)||isNaN(f),options:c};this.updateElement(l,a,m,r)}}}ye(Xb,"id","radar"),ye(Xb,"defaults",{datasetElementType:"line",dataElementType:"point",indexAxis:"r",showLine:!0,elements:{line:{fill:"start"}}}),ye(Xb,"overrides",{aspectRatio:1,scales:{r:{type:"radialLinear"}}});class Yb extends oa{getLabelAndValue(e){const n=this._cachedMeta,i=this.chart.data.labels||[],{xScale:r,yScale:s}=n,o=this.getParsed(e),a=r.getLabelForValue(o.x),l=s.getLabelForValue(o.y);return{label:i[e]||"",value:"("+a+", "+l+")"}}update(e){const n=this._cachedMeta,{data:i=[]}=n,r=this.chart._animationsDisabled;let{start:s,count:o}=u8(n,i,r);if(this._drawStart=s,this._drawCount=o,d8(n)&&(s=0,o=i.length),this.options.showLine){this.datasetElementType||this.addElements();const{dataset:a,_dataset:l}=n;a._chart=this.chart,a._datasetIndex=this.index,a._decimated=!!l._decimated,a.points=i;const c=this.resolveDatasetElementOptions(e);c.segment=this.options.segment,this.updateElement(a,void 0,{animated:!r,options:c},e)}else this.datasetElementType&&(delete n.dataset,this.datasetElementType=!1);this.updateElements(i,s,o,e)}addElements(){const{showLine:e}=this.options;!this.datasetElementType&&e&&(this.datasetElementType=this.chart.registry.getElement("line")),super.addElements()}updateElements(e,n,i,r){const s=r==="reset",{iScale:o,vScale:a,_stacked:l,_dataset:c}=this._cachedMeta,u=this.resolveDataElementOptions(n,r),d=this.getSharedOptions(u),f=this.includeOptions(r,d),m=o.axis,g=a.axis,{spanGaps:y,segment:x}=this.options,v=mu(y)?y:Number.POSITIVE_INFINITY,_=this.chart._animationsDisabled||s||r==="none";let b=n>0&&this.getParsed(n-1);for(let w=n;w<n+i;++w){const C=e[w],T=this.getParsed(w),R=_?C:{},I=fn(T[g]),A=R[m]=o.getPixelForValue(T[m],w),L=R[g]=s||I?a.getBasePixel():a.getPixelForValue(l?this.applyStack(a,T,l):T[g],w);R.skip=isNaN(A)||isNaN(L)||I,R.stop=w>0&&Math.abs(T[m]-b[m])>v,x&&(R.parsed=T,R.raw=c.data[w]),f&&(R.options=d||this.resolveDataElementOptions(w,C.active?"active":r)),_||this.updateElement(C,w,R,r),b=T}this.updateSharedOptions(d,r,u)}getMaxOverflow(){const e=this._cachedMeta,n=e.data||[];if(!this.options.showLine){let a=0;for(let l=n.length-1;l>=0;--l)a=Math.max(a,n[l].size(this.resolveDataElementOptions(l))/2);return a>0&&a}const i=e.dataset,r=i.options&&i.options.borderWidth||0;if(!n.length)return r;const s=n[0].size(this.resolveDataElementOptions(0)),o=n[n.length-1].size(this.resolveDataElementOptions(n.length-1));return Math.max(r,s,o)/2}}ye(Yb,"id","scatter"),ye(Yb,"defaults",{datasetElementType:!1,dataElementType:"point",showLine:!1,fill:!1}),ye(Yb,"overrides",{interaction:{mode:"point"},scales:{x:{type:"linear"},y:{type:"linear"}}});var Ybe=Object.freeze({__proto__:null,BarController:Gb,BubbleController:$b,DoughnutController:bd,LineController:M0,PieController:iA,PolarAreaController:E0,RadarController:Xb,ScatterController:Yb});function Ku(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class jI{constructor(e){ye(this,"options");this.options=e||{}}static override(e){Object.assign(jI.prototype,e)}init(){}formats(){return Ku()}parse(){return Ku()}format(){return Ku()}add(){return Ku()}diff(){return Ku()}startOf(){return Ku()}endOf(){return Ku()}}var R8={_date:jI};function qbe(t,e,n,i){const{controller:r,data:s,_sorted:o}=t,a=r._cachedMeta.iScale;if(a&&e===a.axis&&e!=="r"&&o&&s.length){const l=a._reversePixels?x_e:Pl;if(i){if(r._sharedOptions){const c=s[0],u=typeof c.getRange=="function"&&c.getRange(e);if(u){const d=l(s,e,n-u),f=l(s,e,n+u);return{lo:d.lo,hi:f.hi}}}}else return l(s,e,n)}return{lo:0,hi:s.length-1}}function xy(t,e,n,i,r){const s=t.getSortedVisibleDatasetMetas(),o=n[e];for(let a=0,l=s.length;a<l;++a){const{index:c,data:u}=s[a],{lo:d,hi:f}=qbe(s[a],e,o,r);for(let m=d;m<=f;++m){const g=u[m];g.skip||i(g,c,m)}}}function Kbe(t){const e=t.indexOf("x")!==-1,n=t.indexOf("y")!==-1;return function(i,r){const s=e?Math.abs(i.x-r.x):0,o=n?Math.abs(i.y-r.y):0;return Math.sqrt(Math.pow(s,2)+Math.pow(o,2))}}function bC(t,e,n,i,r){const s=[];return!r&&!t.isPointInArea(e)||xy(t,n,e,function(a,l,c){!r&&!kl(a,t.chartArea,0)||a.inRange(e.x,e.y,i)&&s.push({element:a,datasetIndex:l,index:c})},!0),s}function Qbe(t,e,n,i){let r=[];function s(o,a,l){const{startAngle:c,endAngle:u}=o.getProps(["startAngle","endAngle"],i),{angle:d}=s8(o,{x:e.x,y:e.y});Mv(d,c,u)&&r.push({element:o,datasetIndex:a,index:l})}return xy(t,n,e,s),r}function Zbe(t,e,n,i,r,s){let o=[];const a=Kbe(n);let l=Number.POSITIVE_INFINITY;function c(u,d,f){const m=u.inRange(e.x,e.y,r);if(i&&!m)return;const g=u.getCenterPoint(r);if(!(!!s||t.isPointInArea(g))&&!m)return;const x=a(e,g);x<l?(o=[{element:u,datasetIndex:d,index:f}],l=x):x===l&&o.push({element:u,datasetIndex:d,index:f})}return xy(t,n,e,c),o}function SC(t,e,n,i,r,s){return!s&&!t.isPointInArea(e)?[]:n==="r"&&!i?Qbe(t,e,n,r):Zbe(t,e,n,i,r,s)}function RU(t,e,n,i,r){const s=[],o=n==="x"?"inXRange":"inYRange";let a=!1;return xy(t,n,e,(l,c,u)=>{l[o](e[n],r)&&(s.push({element:l,datasetIndex:c,index:u}),a=a||l.inRange(e.x,e.y,r))}),i&&!a?[]:s}var Jbe={evaluateInteractionItems:xy,modes:{index(t,e,n,i){const r=sd(e,t),s=n.axis||"x",o=n.includeInvisible||!1,a=n.intersect?bC(t,r,s,i,o):SC(t,r,s,!1,i,o),l=[];return a.length?(t.getSortedVisibleDatasetMetas().forEach(c=>{const u=a[0].index,d=c.data[u];d&&!d.skip&&l.push({element:d,datasetIndex:c.index,index:u})}),l):[]},dataset(t,e,n,i){const r=sd(e,t),s=n.axis||"xy",o=n.includeInvisible||!1;let a=n.intersect?bC(t,r,s,i,o):SC(t,r,s,!1,i,o);if(a.length>0){const l=a[0].datasetIndex,c=t.getDatasetMeta(l).data;a=[];for(let u=0;u<c.length;++u)a.push({element:c[u],datasetIndex:l,index:u})}return a},point(t,e,n,i){const r=sd(e,t),s=n.axis||"xy",o=n.includeInvisible||!1;return bC(t,r,s,i,o)},nearest(t,e,n,i){const r=sd(e,t),s=n.axis||"xy",o=n.includeInvisible||!1;return SC(t,r,s,n.intersect,i,o)},x(t,e,n,i){const r=sd(e,t);return RU(t,r,"x",n.intersect,i)},y(t,e,n,i){const r=sd(e,t);return RU(t,r,"y",n.intersect,i)}}};const A8=["left","top","right","bottom"];function _g(t,e){return t.filter(n=>n.pos===e)}function AU(t,e){return t.filter(n=>A8.indexOf(n.pos)===-1&&n.box.axis===e)}function bg(t,e){return t.sort((n,i)=>{const r=e?i:n,s=e?n:i;return r.weight===s.weight?r.index-s.index:r.weight-s.weight})}function e1e(t){const e=[];let n,i,r,s,o,a;for(n=0,i=(t||[]).length;n<i;++n)r=t[n],{position:s,options:{stack:o,stackWeight:a=1}}=r,e.push({index:n,box:r,pos:s,horizontal:r.isHorizontal(),weight:r.weight,stack:o&&s+o,stackWeight:a});return e}function t1e(t){const e={};for(const n of t){const{stack:i,pos:r,stackWeight:s}=n;if(!i||!A8.includes(r))continue;const o=e[i]||(e[i]={count:0,placed:0,weight:0,size:0});o.count++,o.weight+=s}return e}function n1e(t,e){const n=t1e(t),{vBoxMaxWidth:i,hBoxMaxHeight:r}=e;let s,o,a;for(s=0,o=t.length;s<o;++s){a=t[s];const{fullSize:l}=a.box,c=n[a.stack],u=c&&a.stackWeight/c.weight;a.horizontal?(a.width=u?u*i:l&&e.availableWidth,a.height=r):(a.width=i,a.height=u?u*r:l&&e.availableHeight)}return n}function i1e(t){const e=e1e(t),n=bg(e.filter(c=>c.box.fullSize),!0),i=bg(_g(e,"left"),!0),r=bg(_g(e,"right")),s=bg(_g(e,"top"),!0),o=bg(_g(e,"bottom")),a=AU(e,"x"),l=AU(e,"y");return{fullSize:n,leftAndTop:i.concat(s),rightAndBottom:r.concat(l).concat(o).concat(a),chartArea:_g(e,"chartArea"),vertical:i.concat(r).concat(l),horizontal:s.concat(o).concat(a)}}function PU(t,e,n,i){return Math.max(t[n],e[n])+Math.max(t[i],e[i])}function P8(t,e){t.top=Math.max(t.top,e.top),t.left=Math.max(t.left,e.left),t.bottom=Math.max(t.bottom,e.bottom),t.right=Math.max(t.right,e.right)}function r1e(t,e,n,i){const{pos:r,box:s}=n,o=t.maxPadding;if(!Kt(r)){n.size&&(t[r]-=n.size);const d=i[n.stack]||{size:0,count:1};d.size=Math.max(d.size,n.horizontal?s.height:s.width),n.size=d.size/d.count,t[r]+=n.size}s.getPadding&&P8(o,s.getPadding());const a=Math.max(0,e.outerWidth-PU(o,t,"left","right")),l=Math.max(0,e.outerHeight-PU(o,t,"top","bottom")),c=a!==t.w,u=l!==t.h;return t.w=a,t.h=l,n.horizontal?{same:c,other:u}:{same:u,other:c}}function s1e(t){const e=t.maxPadding;function n(i){const r=Math.max(e[i]-t[i],0);return t[i]+=r,r}t.y+=n("top"),t.x+=n("left"),n("right"),n("bottom")}function o1e(t,e){const n=e.maxPadding;function i(r){const s={left:0,top:0,right:0,bottom:0};return r.forEach(o=>{s[o]=Math.max(e[o],n[o])}),s}return i(t?["left","right"]:["top","bottom"])}function Vg(t,e,n,i){const r=[];let s,o,a,l,c,u;for(s=0,o=t.length,c=0;s<o;++s){a=t[s],l=a.box,l.update(a.width||e.w,a.height||e.h,o1e(a.horizontal,e));const{same:d,other:f}=r1e(e,n,a,i);c|=d&&r.length,u=u||f,l.fullSize||r.push(a)}return c&&Vg(r,e,n,i)||u}function eb(t,e,n,i,r){t.top=n,t.left=e,t.right=e+i,t.bottom=n+r,t.width=i,t.height=r}function kU(t,e,n,i){const r=n.padding;let{x:s,y:o}=e;for(const a of t){const l=a.box,c=i[a.stack]||{count:1,placed:0,weight:1},u=a.stackWeight/c.weight||1;if(a.horizontal){const d=e.w*u,f=c.size||l.height;Ns(c.start)&&(o=c.start),l.fullSize?eb(l,r.left,o,n.outerWidth-r.right-r.left,f):eb(l,e.left+c.placed,o,d,f),c.start=o,c.placed+=d,o=l.bottom}else{const d=e.h*u,f=c.size||l.width;Ns(c.start)&&(s=c.start),l.fullSize?eb(l,s,r.top,f,n.outerHeight-r.bottom-r.top):eb(l,s,e.top+c.placed,f,d),c.start=s,c.placed+=d,s=l.right}}e.x=s,e.y=o}var Wr={addBox(t,e){t.boxes||(t.boxes=[]),e.fullSize=e.fullSize||!1,e.position=e.position||"top",e.weight=e.weight||0,e._layers=e._layers||function(){return[{z:0,draw(n){e.draw(n)}}]},t.boxes.push(e)},removeBox(t,e){const n=t.boxes?t.boxes.indexOf(e):-1;n!==-1&&t.boxes.splice(n,1)},configure(t,e,n){e.fullSize=n.fullSize,e.position=n.position,e.weight=n.weight},update(t,e,n,i){if(!t)return;const r=Wi(t.options.layout.padding),s=Math.max(e-r.width,0),o=Math.max(n-r.height,0),a=i1e(t.boxes),l=a.vertical,c=a.horizontal;Pn(t.boxes,y=>{typeof y.beforeLayout=="function"&&y.beforeLayout()});const u=l.reduce((y,x)=>x.box.options&&x.box.options.display===!1?y:y+1,0)||1,d=Object.freeze({outerWidth:e,outerHeight:n,padding:r,availableWidth:s,availableHeight:o,vBoxMaxWidth:s/2/u,hBoxMaxHeight:o/2}),f=Object.assign({},r);P8(f,Wi(i));const m=Object.assign({maxPadding:f,w:s,h:o,x:r.left,y:r.top},r),g=n1e(l.concat(c),d);Vg(a.fullSize,m,d,g),Vg(l,m,d,g),Vg(c,m,d,g)&&Vg(l,m,d,g),s1e(m),kU(a.leftAndTop,m,d,g),m.x+=m.w,m.y+=m.h,kU(a.rightAndBottom,m,d,g),t.chartArea={left:m.left,top:m.top,right:m.left+m.w,bottom:m.top+m.h,height:m.h,width:m.w},Pn(a.chartArea,y=>{const x=y.box;Object.assign(x,t.chartArea),x.update(m.w,m.h,{left:0,top:0,right:0,bottom:0})})}};class k8{acquireContext(e,n){}releaseContext(e){return!1}addEventListener(e,n,i){}removeEventListener(e,n,i){}getDevicePixelRatio(){return 1}getMaximumSize(e,n,i,r){return n=Math.max(0,n||e.width),i=i||e.height,{width:n,height:Math.max(0,r?Math.floor(n/r):i)}}isAttached(e){return!0}updateConfig(e){}}class a1e extends k8{acquireContext(e){return e&&e.getContext&&e.getContext("2d")||null}updateConfig(e){e.options.animation=!1}}const qb="$chartjs",l1e={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},IU=t=>t===null||t==="";function c1e(t,e){const n=t.style,i=t.getAttribute("height"),r=t.getAttribute("width");if(t[qb]={initial:{height:i,width:r,style:{display:n.display,height:n.height,width:n.width}}},n.display=n.display||"block",n.boxSizing=n.boxSizing||"border-box",IU(r)){const s=pU(t,"width");s!==void 0&&(t.width=s)}if(IU(i))if(t.style.height==="")t.height=t.width/(e||2);else{const s=pU(t,"height");s!==void 0&&(t.height=s)}return t}const I8=fbe?{passive:!0}:!1;function u1e(t,e,n){t.addEventListener(e,n,I8)}function d1e(t,e,n){t.canvas.removeEventListener(e,n,I8)}function f1e(t,e){const n=l1e[t.type]||t.type,{x:i,y:r}=sd(t,e);return{type:n,chart:e,native:t,x:i!==void 0?i:null,y:r!==void 0?r:null}}function eS(t,e){for(const n of t)if(n===e||n.contains(e))return!0}function h1e(t,e,n){const i=t.canvas,r=new MutationObserver(s=>{let o=!1;for(const a of s)o=o||eS(a.addedNodes,i),o=o&&!eS(a.removedNodes,i);o&&n()});return r.observe(document,{childList:!0,subtree:!0}),r}function p1e(t,e,n){const i=t.canvas,r=new MutationObserver(s=>{let o=!1;for(const a of s)o=o||eS(a.removedNodes,i),o=o&&!eS(a.addedNodes,i);o&&n()});return r.observe(document,{childList:!0,subtree:!0}),r}const Ev=new Map;let LU=0;function L8(){const t=window.devicePixelRatio;t!==LU&&(LU=t,Ev.forEach((e,n)=>{n.currentDevicePixelRatio!==t&&e()}))}function m1e(t,e){Ev.size||window.addEventListener("resize",L8),Ev.set(t,e)}function g1e(t){Ev.delete(t),Ev.size||window.removeEventListener("resize",L8)}function v1e(t,e,n){const i=t.canvas,r=i&&HI(i);if(!r)return;const s=c8((a,l)=>{const c=r.clientWidth;n(a,l),c<r.clientWidth&&n()},window),o=new ResizeObserver(a=>{const l=a[0],c=l.contentRect.width,u=l.contentRect.height;c===0&&u===0||s(c,u)});return o.observe(r),m1e(t,s),o}function wC(t,e,n){n&&n.disconnect(),e==="resize"&&g1e(t)}function y1e(t,e,n){const i=t.canvas,r=c8(s=>{t.ctx!==null&&n(f1e(s,t))},t);return u1e(i,e,r),r}class x1e extends k8{acquireContext(e,n){const i=e&&e.getContext&&e.getContext("2d");return i&&i.canvas===e?(c1e(e,n),i):null}releaseContext(e){const n=e.canvas;if(!n[qb])return!1;const i=n[qb].initial;["height","width"].forEach(s=>{const o=i[s];fn(o)?n.removeAttribute(s):n.setAttribute(s,o)});const r=i.style||{};return Object.keys(r).forEach(s=>{n.style[s]=r[s]}),n.width=n.width,delete n[qb],!0}addEventListener(e,n,i){this.removeEventListener(e,n);const r=e.$proxies||(e.$proxies={}),o={attach:h1e,detach:p1e,resize:v1e}[n]||y1e;r[n]=o(e,n,i)}removeEventListener(e,n){const i=e.$proxies||(e.$proxies={}),r=i[n];if(!r)return;({attach:wC,detach:wC,resize:wC}[n]||d1e)(e,n,r),i[n]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(e,n,i,r){return dbe(e,n,i,r)}isAttached(e){const n=HI(e);return!!(n&&n.isConnected)}}function _1e(t){return!BI()||typeof OffscreenCanvas<"u"&&t instanceof OffscreenCanvas?a1e:x1e}class Cr{constructor(){ye(this,"x");ye(this,"y");ye(this,"active",!1);ye(this,"options");ye(this,"$animations")}tooltipPosition(e){const{x:n,y:i}=this.getProps(["x","y"],e);return{x:n,y:i}}hasValue(){return mu(this.x)&&mu(this.y)}getProps(e,n){const i=this.$animations;if(!n||!i)return this;const r={};return e.forEach(s=>{r[s]=i[s]&&i[s].active()?i[s]._to:this[s]}),r}}ye(Cr,"defaults",{}),ye(Cr,"defaultRoutes");function b1e(t,e){const n=t.options.ticks,i=S1e(t),r=Math.min(n.maxTicksLimit||i,i),s=n.major.enabled?M1e(e):[],o=s.length,a=s[0],l=s[o-1],c=[];if(o>r)return E1e(e,c,s,o/r),c;const u=w1e(s,e,r);if(o>0){let d,f;const m=o>1?Math.round((l-a)/(o-1)):null;for(tb(e,c,u,fn(m)?0:a-m,a),d=0,f=o-1;d<f;d++)tb(e,c,u,s[d],s[d+1]);return tb(e,c,u,l,fn(m)?e.length:l+m),c}return tb(e,c,u),c}function S1e(t){const e=t.options.offset,n=t._tickSize(),i=t._length/n+(e?0:1),r=t._maxLength/n;return Math.floor(Math.min(i,r))}function w1e(t,e,n){const i=T1e(t),r=e.length/n;if(!i)return Math.max(r,1);const s=m_e(i);for(let o=0,a=s.length-1;o<a;o++){const l=s[o];if(l>r)return l}return Math.max(r,1)}function M1e(t){const e=[];let n,i;for(n=0,i=t.length;n<i;n++)t[n].major&&e.push(n);return e}function E1e(t,e,n,i){let r=0,s=n[0],o;for(i=Math.ceil(i),o=0;o<t.length;o++)o===s&&(e.push(t[o]),r++,s=n[r*i])}function tb(t,e,n,i,r){const s=zt(i,0),o=Math.min(zt(r,t.length),t.length);let a=0,l,c,u;for(n=Math.ceil(n),r&&(l=r-i,n=l/Math.floor(l/n)),u=s;u<0;)a++,u=Math.round(s+a*n);for(c=Math.max(s,0);c<o;c++)c===u&&(e.push(t[c]),a++,u=Math.round(s+a*n))}function T1e(t){const e=t.length;let n,i;if(e<2)return!1;for(i=t[0],n=1;n<e;++n)if(t[n]-t[n-1]!==i)return!1;return i}const C1e=t=>t==="left"?"right":t==="right"?"left":t,DU=(t,e,n)=>e==="top"||e==="left"?t[e]+n:t[e]-n,OU=(t,e)=>Math.min(e||t,t);function NU(t,e){const n=[],i=t.length/e,r=t.length;let s=0;for(;s<r;s+=i)n.push(t[Math.floor(s)]);return n}function R1e(t,e,n){const i=t.ticks.length,r=Math.min(e,i-1),s=t._startPixel,o=t._endPixel,a=1e-6;let l=t.getPixelForTick(r),c;if(!(n&&(i===1?c=Math.max(l-s,o-l):e===0?c=(t.getPixelForTick(1)-l)/2:c=(l-t.getPixelForTick(r-1))/2,l+=r<e?c:-c,l<s-a||l>o+a)))return l}function A1e(t,e){Pn(t,n=>{const i=n.gc,r=i.length/2;let s;if(r>e){for(s=0;s<r;++s)delete n.data[i[s]];i.splice(0,r)}})}function Sg(t){return t.drawTicks?t.tickLength:0}function FU(t,e){if(!t.display)return 0;const n=di(t.font,e),i=Wi(t.padding);return(yn(t.text)?t.text.length:1)*n.lineHeight+i.height}function P1e(t,e){return Ru(t,{scale:e,type:"scale"})}function k1e(t,e,n){return Ru(t,{tick:n,index:e,type:"tick"})}function I1e(t,e,n){let i=DI(t);return(n&&e!=="right"||!n&&e==="right")&&(i=C1e(i)),i}function L1e(t,e,n,i){const{top:r,left:s,bottom:o,right:a,chart:l}=t,{chartArea:c,scales:u}=l;let d=0,f,m,g;const y=o-r,x=a-s;if(t.isHorizontal()){if(m=Hr(i,s,a),Kt(n)){const v=Object.keys(n)[0],_=n[v];g=u[v].getPixelForValue(_)+y-e}else n==="center"?g=(c.bottom+c.top)/2+y-e:g=DU(t,n,e);f=a-s}else{if(Kt(n)){const v=Object.keys(n)[0],_=n[v];m=u[v].getPixelForValue(_)-x+e}else n==="center"?m=(c.left+c.right)/2-x+e:m=DU(t,n,e);g=Hr(i,o,r),d=n==="left"?-Qn:Qn}return{titleX:m,titleY:g,maxWidth:f,rotation:d}}class bf extends Cr{constructor(e){super(),this.id=e.id,this.type=e.type,this.options=void 0,this.ctx=e.ctx,this.chart=e.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(e){this.options=e.setContext(this.getContext()),this.axis=e.axis,this._userMin=this.parse(e.min),this._userMax=this.parse(e.max),this._suggestedMin=this.parse(e.suggestedMin),this._suggestedMax=this.parse(e.suggestedMax)}parse(e,n){return e}getUserBounds(){let{_userMin:e,_userMax:n,_suggestedMin:i,_suggestedMax:r}=this;return e=Gs(e,Number.POSITIVE_INFINITY),n=Gs(n,Number.NEGATIVE_INFINITY),i=Gs(i,Number.POSITIVE_INFINITY),r=Gs(r,Number.NEGATIVE_INFINITY),{min:Gs(e,i),max:Gs(n,r),minDefined:ti(e),maxDefined:ti(n)}}getMinMax(e){let{min:n,max:i,minDefined:r,maxDefined:s}=this.getUserBounds(),o;if(r&&s)return{min:n,max:i};const a=this.getMatchingVisibleMetas();for(let l=0,c=a.length;l<c;++l)o=a[l].controller.getMinMax(this,e),r||(n=Math.min(n,o.min)),s||(i=Math.max(i,o.max));return n=s&&n>i?i:n,i=r&&n>i?n:i,{min:Gs(n,Gs(i,n)),max:Gs(i,Gs(n,i))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const e=this.chart.data;return this.options.labels||(this.isHorizontal()?e.xLabels:e.yLabels)||e.labels||[]}getLabelItems(e=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(e))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){Rn(this.options.beforeUpdate,[this])}update(e,n,i){const{beginAtZero:r,grace:s,ticks:o}=this.options,a=o.sampleSize;this.beforeUpdate(),this.maxWidth=e,this.maxHeight=n,this._margins=i=Object.assign({left:0,right:0,top:0,bottom:0},i),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+i.left+i.right:this.height+i.top+i.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=j_e(this,s,r),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const l=a<this.ticks.length;this._convertTicksToLabels(l?NU(this.ticks,a):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),o.display&&(o.autoSkip||o.source==="auto")&&(this.ticks=b1e(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),l&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let e=this.options.reverse,n,i;this.isHorizontal()?(n=this.left,i=this.right):(n=this.top,i=this.bottom,e=!e),this._startPixel=n,this._endPixel=i,this._reversePixels=e,this._length=i-n,this._alignToPixels=this.options.alignToPixels}afterUpdate(){Rn(this.options.afterUpdate,[this])}beforeSetDimensions(){Rn(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){Rn(this.options.afterSetDimensions,[this])}_callHooks(e){this.chart.notifyPlugins(e,this.getContext()),Rn(this.options[e],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){Rn(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(e){const n=this.options.ticks;let i,r,s;for(i=0,r=e.length;i<r;i++)s=e[i],s.label=Rn(n.callback,[s.value,i,e],this)}afterTickToLabelConversion(){Rn(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){Rn(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const e=this.options,n=e.ticks,i=OU(this.ticks.length,e.ticks.maxTicksLimit),r=n.minRotation||0,s=n.maxRotation;let o=r,a,l,c;if(!this._isVisible()||!n.display||r>=s||i<=1||!this.isHorizontal()){this.labelRotation=r;return}const u=this._getLabelSizes(),d=u.widest.width,f=u.highest.height,m=fr(this.chart.width-d,0,this.maxWidth);a=e.offset?this.maxWidth/i:m/(i-1),d+6>a&&(a=m/(i-(e.offset?.5:1)),l=this.maxHeight-Sg(e.grid)-n.padding-FU(e.title,this.chart.options.font),c=Math.sqrt(d*d+f*f),o=aM(Math.min(Math.asin(fr((u.highest.height+6)/a,-1,1)),Math.asin(fr(l/c,-1,1))-Math.asin(fr(f/c,-1,1)))),o=Math.max(r,Math.min(s,o))),this.labelRotation=o}afterCalculateLabelRotation(){Rn(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){Rn(this.options.beforeFit,[this])}fit(){const e={width:0,height:0},{chart:n,options:{ticks:i,title:r,grid:s}}=this,o=this._isVisible(),a=this.isHorizontal();if(o){const l=FU(r,n.options.font);if(a?(e.width=this.maxWidth,e.height=Sg(s)+l):(e.height=this.maxHeight,e.width=Sg(s)+l),i.display&&this.ticks.length){const{first:c,last:u,widest:d,highest:f}=this._getLabelSizes(),m=i.padding*2,g=Vi(this.labelRotation),y=Math.cos(g),x=Math.sin(g);if(a){const v=i.mirror?0:x*d.width+y*f.height;e.height=Math.min(this.maxHeight,e.height+v+m)}else{const v=i.mirror?0:y*d.width+x*f.height;e.width=Math.min(this.maxWidth,e.width+v+m)}this._calculatePadding(c,u,x,y)}}this._handleMargins(),a?(this.width=this._length=n.width-this._margins.left-this._margins.right,this.height=e.height):(this.width=e.width,this.height=this._length=n.height-this._margins.top-this._margins.bottom)}_calculatePadding(e,n,i,r){const{ticks:{align:s,padding:o},position:a}=this.options,l=this.labelRotation!==0,c=a!=="top"&&this.axis==="x";if(this.isHorizontal()){const u=this.getPixelForTick(0)-this.left,d=this.right-this.getPixelForTick(this.ticks.length-1);let f=0,m=0;l?c?(f=r*e.width,m=i*n.height):(f=i*e.height,m=r*n.width):s==="start"?m=n.width:s==="end"?f=e.width:s!=="inner"&&(f=e.width/2,m=n.width/2),this.paddingLeft=Math.max((f-u+o)*this.width/(this.width-u),0),this.paddingRight=Math.max((m-d+o)*this.width/(this.width-d),0)}else{let u=n.height/2,d=e.height/2;s==="start"?(u=0,d=e.height):s==="end"&&(u=n.height,d=0),this.paddingTop=u+o,this.paddingBottom=d+o}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){Rn(this.options.afterFit,[this])}isHorizontal(){const{axis:e,position:n}=this.options;return n==="top"||n==="bottom"||e==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(e){this.beforeTickToLabelConversion(),this.generateTickLabels(e);let n,i;for(n=0,i=e.length;n<i;n++)fn(e[n].label)&&(e.splice(n,1),i--,n--);this.afterTickToLabelConversion()}_getLabelSizes(){let e=this._labelSizes;if(!e){const n=this.options.ticks.sampleSize;let i=this.ticks;n<i.length&&(i=NU(i,n)),this._labelSizes=e=this._computeLabelSizes(i,i.length,this.options.ticks.maxTicksLimit)}return e}_computeLabelSizes(e,n,i){const{ctx:r,_longestTextCache:s}=this,o=[],a=[],l=Math.floor(n/OU(n,i));let c=0,u=0,d,f,m,g,y,x,v,_,b,w,C;for(d=0;d<n;d+=l){if(g=e[d].label,y=this._resolveTickFontOptions(d),r.font=x=y.string,v=s[x]=s[x]||{data:{},gc:[]},_=y.lineHeight,b=w=0,!fn(g)&&!yn(g))b=Z1(r,v.data,v.gc,b,g),w=_;else if(yn(g))for(f=0,m=g.length;f<m;++f)C=g[f],!fn(C)&&!yn(C)&&(b=Z1(r,v.data,v.gc,b,C),w+=_);o.push(b),a.push(w),c=Math.max(b,c),u=Math.max(w,u)}A1e(s,n);const T=o.indexOf(c),R=a.indexOf(u),I=A=>({width:o[A]||0,height:a[A]||0});return{first:I(0),last:I(n-1),widest:I(T),highest:I(R),widths:o,heights:a}}getLabelForValue(e){return e}getPixelForValue(e,n){return NaN}getValueForPixel(e){}getPixelForTick(e){const n=this.ticks;return e<0||e>n.length-1?null:this.getPixelForValue(n[e].value)}getPixelForDecimal(e){this._reversePixels&&(e=1-e);const n=this._startPixel+e*this._length;return y_e(this._alignToPixels?qu(this.chart,n,0):n)}getDecimalForPixel(e){const n=(e-this._startPixel)/this._length;return this._reversePixels?1-n:n}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:e,max:n}=this;return e<0&&n<0?n:e>0&&n>0?e:0}getContext(e){const n=this.ticks||[];if(e>=0&&e<n.length){const i=n[e];return i.$context||(i.$context=k1e(this.getContext(),e,i))}return this.$context||(this.$context=P1e(this.chart.getContext(),this))}_tickSize(){const e=this.options.ticks,n=Vi(this.labelRotation),i=Math.abs(Math.cos(n)),r=Math.abs(Math.sin(n)),s=this._getLabelSizes(),o=e.autoSkipPadding||0,a=s?s.widest.width+o:0,l=s?s.highest.height+o:0;return this.isHorizontal()?l*i>a*r?a/i:l/r:l*r<a*i?l/i:a/r}_isVisible(){const e=this.options.display;return e!=="auto"?!!e:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(e){const n=this.axis,i=this.chart,r=this.options,{grid:s,position:o,border:a}=r,l=s.offset,c=this.isHorizontal(),d=this.ticks.length+(l?1:0),f=Sg(s),m=[],g=a.setContext(this.getContext()),y=g.display?g.width:0,x=y/2,v=function(Q){return qu(i,Q,y)};let _,b,w,C,T,R,I,A,L,O,H,q;if(o==="top")_=v(this.bottom),R=this.bottom-f,A=_-x,O=v(e.top)+x,q=e.bottom;else if(o==="bottom")_=v(this.top),O=e.top,q=v(e.bottom)-x,R=_+x,A=this.top+f;else if(o==="left")_=v(this.right),T=this.right-f,I=_-x,L=v(e.left)+x,H=e.right;else if(o==="right")_=v(this.left),L=e.left,H=v(e.right)-x,T=_+x,I=this.left+f;else if(n==="x"){if(o==="center")_=v((e.top+e.bottom)/2+.5);else if(Kt(o)){const Q=Object.keys(o)[0],J=o[Q];_=v(this.chart.scales[Q].getPixelForValue(J))}O=e.top,q=e.bottom,R=_+x,A=R+f}else if(n==="y"){if(o==="center")_=v((e.left+e.right)/2);else if(Kt(o)){const Q=Object.keys(o)[0],J=o[Q];_=v(this.chart.scales[Q].getPixelForValue(J))}T=_-x,I=T-f,L=e.left,H=e.right}const U=zt(r.ticks.maxTicksLimit,d),G=Math.max(1,Math.ceil(d/U));for(b=0;b<d;b+=G){const Q=this.getContext(b),J=s.setContext(Q),N=a.setContext(Q),B=J.lineWidth,j=J.color,te=N.dash||[],se=N.dashOffset,ne=J.tickWidth,ae=J.tickColor,xe=J.tickBorderDash||[],Ee=J.tickBorderDashOffset;w=R1e(this,b,l),w!==void 0&&(C=qu(i,w,B),c?T=I=L=H=C:R=A=O=q=C,m.push({tx1:T,ty1:R,tx2:I,ty2:A,x1:L,y1:O,x2:H,y2:q,width:B,color:j,borderDash:te,borderDashOffset:se,tickWidth:ne,tickColor:ae,tickBorderDash:xe,tickBorderDashOffset:Ee}))}return this._ticksLength=d,this._borderValue=_,m}_computeLabelItems(e){const n=this.axis,i=this.options,{position:r,ticks:s}=i,o=this.isHorizontal(),a=this.ticks,{align:l,crossAlign:c,padding:u,mirror:d}=s,f=Sg(i.grid),m=f+u,g=d?-u:m,y=-Vi(this.labelRotation),x=[];let v,_,b,w,C,T,R,I,A,L,O,H,q="middle";if(r==="top")T=this.bottom-g,R=this._getXAxisLabelAlignment();else if(r==="bottom")T=this.top+g,R=this._getXAxisLabelAlignment();else if(r==="left"){const G=this._getYAxisLabelAlignment(f);R=G.textAlign,C=G.x}else if(r==="right"){const G=this._getYAxisLabelAlignment(f);R=G.textAlign,C=G.x}else if(n==="x"){if(r==="center")T=(e.top+e.bottom)/2+m;else if(Kt(r)){const G=Object.keys(r)[0],Q=r[G];T=this.chart.scales[G].getPixelForValue(Q)+m}R=this._getXAxisLabelAlignment()}else if(n==="y"){if(r==="center")C=(e.left+e.right)/2-m;else if(Kt(r)){const G=Object.keys(r)[0],Q=r[G];C=this.chart.scales[G].getPixelForValue(Q)}R=this._getYAxisLabelAlignment(f).textAlign}n==="y"&&(l==="start"?q="top":l==="end"&&(q="bottom"));const U=this._getLabelSizes();for(v=0,_=a.length;v<_;++v){b=a[v],w=b.label;const G=s.setContext(this.getContext(v));I=this.getPixelForTick(v)+s.labelOffset,A=this._resolveTickFontOptions(v),L=A.lineHeight,O=yn(w)?w.length:1;const Q=O/2,J=G.color,N=G.textStrokeColor,B=G.textStrokeWidth;let j=R;o?(C=I,R==="inner"&&(v===_-1?j=this.options.reverse?"left":"right":v===0?j=this.options.reverse?"right":"left":j="center"),r==="top"?c==="near"||y!==0?H=-O*L+L/2:c==="center"?H=-U.highest.height/2-Q*L+L:H=-U.highest.height+L/2:c==="near"||y!==0?H=L/2:c==="center"?H=U.highest.height/2-Q*L:H=U.highest.height-O*L,d&&(H*=-1),y!==0&&!G.showLabelBackdrop&&(C+=L/2*Math.sin(y))):(T=I,H=(1-O)*L/2);let te;if(G.showLabelBackdrop){const se=Wi(G.backdropPadding),ne=U.heights[v],ae=U.widths[v];let xe=H-se.top,Ee=0-se.left;switch(q){case"middle":xe-=ne/2;break;case"bottom":xe-=ne;break}switch(R){case"center":Ee-=ae/2;break;case"right":Ee-=ae;break;case"inner":v===_-1?Ee-=ae:v>0&&(Ee-=ae/2);break}te={left:Ee,top:xe,width:ae+se.width,height:ne+se.height,color:G.backdropColor}}x.push({label:w,font:A,textOffset:H,options:{rotation:y,color:J,strokeColor:N,strokeWidth:B,textAlign:j,textBaseline:q,translation:[C,T],backdrop:te}})}return x}_getXAxisLabelAlignment(){const{position:e,ticks:n}=this.options;if(-Vi(this.labelRotation))return e==="top"?"left":"right";let r="center";return n.align==="start"?r="left":n.align==="end"?r="right":n.align==="inner"&&(r="inner"),r}_getYAxisLabelAlignment(e){const{position:n,ticks:{crossAlign:i,mirror:r,padding:s}}=this.options,o=this._getLabelSizes(),a=e+s,l=o.widest.width;let c,u;return n==="left"?r?(u=this.right+s,i==="near"?c="left":i==="center"?(c="center",u+=l/2):(c="right",u+=l)):(u=this.right-a,i==="near"?c="right":i==="center"?(c="center",u-=l/2):(c="left",u=this.left)):n==="right"?r?(u=this.left+s,i==="near"?c="right":i==="center"?(c="center",u-=l/2):(c="left",u-=l)):(u=this.left+a,i==="near"?c="left":i==="center"?(c="center",u+=l/2):(c="right",u=this.right)):c="right",{textAlign:c,x:u}}_computeLabelArea(){if(this.options.ticks.mirror)return;const e=this.chart,n=this.options.position;if(n==="left"||n==="right")return{top:0,left:this.left,bottom:e.height,right:this.right};if(n==="top"||n==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:e.width}}drawBackground(){const{ctx:e,options:{backgroundColor:n},left:i,top:r,width:s,height:o}=this;n&&(e.save(),e.fillStyle=n,e.fillRect(i,r,s,o),e.restore())}getLineWidthForValue(e){const n=this.options.grid;if(!this._isVisible()||!n.display)return 0;const r=this.ticks.findIndex(s=>s.value===e);return r>=0?n.setContext(this.getContext(r)).lineWidth:0}drawGrid(e){const n=this.options.grid,i=this.ctx,r=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(e));let s,o;const a=(l,c,u)=>{!u.width||!u.color||(i.save(),i.lineWidth=u.width,i.strokeStyle=u.color,i.setLineDash(u.borderDash||[]),i.lineDashOffset=u.borderDashOffset,i.beginPath(),i.moveTo(l.x,l.y),i.lineTo(c.x,c.y),i.stroke(),i.restore())};if(n.display)for(s=0,o=r.length;s<o;++s){const l=r[s];n.drawOnChartArea&&a({x:l.x1,y:l.y1},{x:l.x2,y:l.y2},l),n.drawTicks&&a({x:l.tx1,y:l.ty1},{x:l.tx2,y:l.ty2},{color:l.tickColor,width:l.tickWidth,borderDash:l.tickBorderDash,borderDashOffset:l.tickBorderDashOffset})}}drawBorder(){const{chart:e,ctx:n,options:{border:i,grid:r}}=this,s=i.setContext(this.getContext()),o=i.display?s.width:0;if(!o)return;const a=r.setContext(this.getContext(0)).lineWidth,l=this._borderValue;let c,u,d,f;this.isHorizontal()?(c=qu(e,this.left,o)-o/2,u=qu(e,this.right,a)+a/2,d=f=l):(d=qu(e,this.top,o)-o/2,f=qu(e,this.bottom,a)+a/2,c=u=l),n.save(),n.lineWidth=s.width,n.strokeStyle=s.color,n.beginPath(),n.moveTo(c,d),n.lineTo(u,f),n.stroke(),n.restore()}drawLabels(e){if(!this.options.ticks.display)return;const i=this.ctx,r=this._computeLabelArea();r&&vy(i,r);const s=this.getLabelItems(e);for(const o of s){const a=o.options,l=o.font,c=o.label,u=o.textOffset;rf(i,c,0,u,l,a)}r&&yy(i)}drawTitle(){const{ctx:e,options:{position:n,title:i,reverse:r}}=this;if(!i.display)return;const s=di(i.font),o=Wi(i.padding),a=i.align;let l=s.lineHeight/2;n==="bottom"||n==="center"||Kt(n)?(l+=o.bottom,yn(i.text)&&(l+=s.lineHeight*(i.text.length-1))):l+=o.top;const{titleX:c,titleY:u,maxWidth:d,rotation:f}=L1e(this,l,n,a);rf(e,i.text,0,0,s,{color:i.color,maxWidth:d,rotation:f,textAlign:I1e(a,n,r),textBaseline:"middle",translation:[c,u]})}draw(e){this._isVisible()&&(this.drawBackground(),this.drawGrid(e),this.drawBorder(),this.drawTitle(),this.drawLabels(e))}_layers(){const e=this.options,n=e.ticks&&e.ticks.z||0,i=zt(e.grid&&e.grid.z,-1),r=zt(e.border&&e.border.z,0);return!this._isVisible()||this.draw!==bf.prototype.draw?[{z:n,draw:s=>{this.draw(s)}}]:[{z:i,draw:s=>{this.drawBackground(),this.drawGrid(s),this.drawTitle()}},{z:r,draw:()=>{this.drawBorder()}},{z:n,draw:s=>{this.drawLabels(s)}}]}getMatchingVisibleMetas(e){const n=this.chart.getSortedVisibleDatasetMetas(),i=this.axis+"AxisID",r=[];let s,o;for(s=0,o=n.length;s<o;++s){const a=n[s];a[i]===this.id&&(!e||a.type===e)&&r.push(a)}return r}_resolveTickFontOptions(e){const n=this.options.ticks.setContext(this.getContext(e));return di(n.font)}_maxDigits(){const e=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/e}}class nb{constructor(e,n,i){this.type=e,this.scope=n,this.override=i,this.items=Object.create(null)}isForType(e){return Object.prototype.isPrototypeOf.call(this.type.prototype,e.prototype)}register(e){const n=Object.getPrototypeOf(e);let i;N1e(n)&&(i=this.register(n));const r=this.items,s=e.id,o=this.scope+"."+s;if(!s)throw new Error("class does not have id: "+e);return s in r||(r[s]=e,D1e(e,o,i),this.override&&ui.override(e.id,e.overrides)),o}get(e){return this.items[e]}unregister(e){const n=this.items,i=e.id,r=this.scope;i in n&&delete n[i],r&&i in ui[r]&&(delete ui[r][i],this.override&&delete nf[i])}}function D1e(t,e,n){const i=wv(Object.create(null),[n?ui.get(n):{},ui.get(e),t.defaults]);ui.set(e,i),t.defaultRoutes&&O1e(e,t.defaultRoutes),t.descriptors&&ui.describe(e,t.descriptors)}function O1e(t,e){Object.keys(e).forEach(n=>{const i=n.split("."),r=i.pop(),s=[t].concat(i).join("."),o=e[n].split("."),a=o.pop(),l=o.join(".");ui.route(s,r,l,a)})}function N1e(t){return"id"in t&&"defaults"in t}class F1e{constructor(){this.controllers=new nb(oa,"datasets",!0),this.elements=new nb(Cr,"elements"),this.plugins=new nb(Object,"plugins"),this.scales=new nb(bf,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...e){this._each("register",e)}remove(...e){this._each("unregister",e)}addControllers(...e){this._each("register",e,this.controllers)}addElements(...e){this._each("register",e,this.elements)}addPlugins(...e){this._each("register",e,this.plugins)}addScales(...e){this._each("register",e,this.scales)}getController(e){return this._get(e,this.controllers,"controller")}getElement(e){return this._get(e,this.elements,"element")}getPlugin(e){return this._get(e,this.plugins,"plugin")}getScale(e){return this._get(e,this.scales,"scale")}removeControllers(...e){this._each("unregister",e,this.controllers)}removeElements(...e){this._each("unregister",e,this.elements)}removePlugins(...e){this._each("unregister",e,this.plugins)}removeScales(...e){this._each("unregister",e,this.scales)}_each(e,n,i){[...n].forEach(r=>{const s=i||this._getRegistryForType(r);i||s.isForType(r)||s===this.plugins&&r.id?this._exec(e,s,r):Pn(r,o=>{const a=i||this._getRegistryForType(o);this._exec(e,a,o)})})}_exec(e,n,i){const r=kI(e);Rn(i["before"+r],[],i),n[e](i),Rn(i["after"+r],[],i)}_getRegistryForType(e){for(let n=0;n<this._typedRegistries.length;n++){const i=this._typedRegistries[n];if(i.isForType(e))return i}return this.plugins}_get(e,n,i){const r=n.get(e);if(r===void 0)throw new Error('"'+e+'" is not a registered '+i+".");return r}}var Ma=new F1e;class z1e{constructor(){this._init=[]}notify(e,n,i,r){n==="beforeInit"&&(this._init=this._createDescriptors(e,!0),this._notify(this._init,e,"install"));const s=r?this._descriptors(e).filter(r):this._descriptors(e),o=this._notify(s,e,n,i);return n==="afterDestroy"&&(this._notify(s,e,"stop"),this._notify(this._init,e,"uninstall")),o}_notify(e,n,i,r){r=r||{};for(const s of e){const o=s.plugin,a=o[i],l=[n,r,s.options];if(Rn(a,l,o)===!1&&r.cancelable)return!1}return!0}invalidate(){fn(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(e){if(this._cache)return this._cache;const n=this._cache=this._createDescriptors(e);return this._notifyStateChanges(e),n}_createDescriptors(e,n){const i=e&&e.config,r=zt(i.options&&i.options.plugins,{}),s=U1e(i);return r===!1&&!n?[]:H1e(e,s,r,n)}_notifyStateChanges(e){const n=this._oldCache||[],i=this._cache,r=(s,o)=>s.filter(a=>!o.some(l=>a.plugin.id===l.plugin.id));this._notify(r(n,i),e,"stop"),this._notify(r(i,n),e,"start")}}function U1e(t){const e={},n=[],i=Object.keys(Ma.plugins.items);for(let s=0;s<i.length;s++)n.push(Ma.getPlugin(i[s]));const r=t.plugins||[];for(let s=0;s<r.length;s++){const o=r[s];n.indexOf(o)===-1&&(n.push(o),e[o.id]=!0)}return{plugins:n,localIds:e}}function B1e(t,e){return!e&&t===!1?null:t===!0?{}:t}function H1e(t,{plugins:e,localIds:n},i,r){const s=[],o=t.getContext();for(const a of e){const l=a.id,c=B1e(i[l],r);c!==null&&s.push({plugin:a,options:V1e(t.config,{plugin:a,local:n[l]},c,o)})}return s}function V1e(t,{plugin:e,local:n},i,r){const s=t.pluginScopeKeys(e),o=t.getOptionScopes(i,s);return n&&e.defaults&&o.push(e.defaults),t.createResolver(o,r,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function rA(t,e){const n=ui.datasets[t]||{};return((e.datasets||{})[t]||{}).indexAxis||e.indexAxis||n.indexAxis||"x"}function j1e(t,e){let n=t;return t==="_index_"?n=e:t==="_value_"&&(n=e==="x"?"y":"x"),n}function W1e(t,e){return t===e?"_index_":"_value_"}function zU(t){if(t==="x"||t==="y"||t==="r")return t}function G1e(t){if(t==="top"||t==="bottom")return"x";if(t==="left"||t==="right")return"y"}function sA(t,...e){if(zU(t))return t;for(const n of e){const i=n.axis||G1e(n.position)||t.length>1&&zU(t[0].toLowerCase());if(i)return i}throw new Error(`Cannot determine type of '${t}' axis. Please provide 'axis' or 'position' option.`)}function UU(t,e,n){if(n[e+"AxisID"]===t)return{axis:e}}function $1e(t,e){if(e.data&&e.data.datasets){const n=e.data.datasets.filter(i=>i.xAxisID===t||i.yAxisID===t);if(n.length)return UU(t,"x",n[0])||UU(t,"y",n[0])}return{}}function X1e(t,e){const n=nf[t.type]||{scales:{}},i=e.scales||{},r=rA(t.type,e),s=Object.create(null);return Object.keys(i).forEach(o=>{const a=i[o];if(!Kt(a))return console.error(`Invalid scale configuration for scale: ${o}`);if(a._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${o}`);const l=sA(o,a,$1e(o,t),ui.scales[a.type]),c=W1e(l,r),u=n.scales||{};s[o]=_0(Object.create(null),[{axis:l},a,u[l],u[c]])}),t.data.datasets.forEach(o=>{const a=o.type||t.type,l=o.indexAxis||rA(a,e),u=(nf[a]||{}).scales||{};Object.keys(u).forEach(d=>{const f=j1e(d,l),m=o[f+"AxisID"]||f;s[m]=s[m]||Object.create(null),_0(s[m],[{axis:f},i[m],u[d]])})}),Object.keys(s).forEach(o=>{const a=s[o];_0(a,[ui.scales[a.type],ui.scale])}),s}function D8(t){const e=t.options||(t.options={});e.plugins=zt(e.plugins,{}),e.scales=X1e(t,e)}function O8(t){return t=t||{},t.datasets=t.datasets||[],t.labels=t.labels||[],t}function Y1e(t){return t=t||{},t.data=O8(t.data),D8(t),t}const BU=new Map,N8=new Set;function ib(t,e){let n=BU.get(t);return n||(n=e(),BU.set(t,n),N8.add(n)),n}const wg=(t,e,n)=>{const i=pu(e,n);i!==void 0&&t.add(i)};class q1e{constructor(e){this._config=Y1e(e),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(e){this._config.type=e}get data(){return this._config.data}set data(e){this._config.data=O8(e)}get options(){return this._config.options}set options(e){this._config.options=e}get plugins(){return this._config.plugins}update(){const e=this._config;this.clearCache(),D8(e)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(e){return ib(e,()=>[[`datasets.${e}`,""]])}datasetAnimationScopeKeys(e,n){return ib(`${e}.transition.${n}`,()=>[[`datasets.${e}.transitions.${n}`,`transitions.${n}`],[`datasets.${e}`,""]])}datasetElementScopeKeys(e,n){return ib(`${e}-${n}`,()=>[[`datasets.${e}.elements.${n}`,`datasets.${e}`,`elements.${n}`,""]])}pluginScopeKeys(e){const n=e.id,i=this.type;return ib(`${i}-plugin-${n}`,()=>[[`plugins.${n}`,...e.additionalOptionScopes||[]]])}_cachedScopes(e,n){const i=this._scopeCache;let r=i.get(e);return(!r||n)&&(r=new Map,i.set(e,r)),r}getOptionScopes(e,n,i){const{options:r,type:s}=this,o=this._cachedScopes(e,i),a=o.get(n);if(a)return a;const l=new Set;n.forEach(u=>{e&&(l.add(e),u.forEach(d=>wg(l,e,d))),u.forEach(d=>wg(l,r,d)),u.forEach(d=>wg(l,nf[s]||{},d)),u.forEach(d=>wg(l,ui,d)),u.forEach(d=>wg(l,tA,d))});const c=Array.from(l);return c.length===0&&c.push(Object.create(null)),N8.has(n)&&o.set(n,c),c}chartOptionScopes(){const{options:e,type:n}=this;return[e,nf[n]||{},ui.datasets[n]||{},{type:n},ui,tA]}resolveNamedOptions(e,n,i,r=[""]){const s={$shared:!0},{resolver:o,subPrefixes:a}=HU(this._resolverCache,e,r);let l=o;if(Q1e(o,n)){s.$shared=!1,i=Ls(i)?i():i;const c=this.createResolver(e,i,a);l=Xp(o,i,c)}for(const c of n)s[c]=l[c];return s}createResolver(e,n,i=[""],r){const{resolver:s}=HU(this._resolverCache,e,i);return Kt(n)?Xp(s,n,void 0,r):s}}function HU(t,e,n){let i=t.get(e);i||(i=new Map,t.set(e,i));const r=n.join();let s=i.get(r);return s||(s={resolver:FI(e,n),subPrefixes:n.filter(a=>!a.toLowerCase().includes("hover"))},i.set(r,s)),s}const K1e=t=>Kt(t)&&Object.getOwnPropertyNames(t).some(e=>Ls(t[e]));function Q1e(t,e){const{isScriptable:n,isIndexable:i}=m8(t);for(const r of e){const s=n(r),o=i(r),a=(o||s)&&t[r];if(s&&(Ls(a)||K1e(a))||o&&yn(a))return!0}return!1}var Z1e="4.4.1";const J1e=["top","bottom","left","right","chartArea"];function VU(t,e){return t==="top"||t==="bottom"||J1e.indexOf(t)===-1&&e==="x"}function jU(t,e){return function(n,i){return n[t]===i[t]?n[e]-i[e]:n[t]-i[t]}}function WU(t){const e=t.chart,n=e.options.animation;e.notifyPlugins("afterRender"),Rn(n&&n.onComplete,[t],e)}function eSe(t){const e=t.chart,n=e.options.animation;Rn(n&&n.onProgress,[t],e)}function F8(t){return BI()&&typeof t=="string"?t=document.getElementById(t):t&&t.length&&(t=t[0]),t&&t.canvas&&(t=t.canvas),t}const Kb={},GU=t=>{const e=F8(t);return Object.values(Kb).filter(n=>n.canvas===e).pop()};function tSe(t,e,n){const i=Object.keys(t);for(const r of i){const s=+r;if(s>=e){const o=t[r];delete t[r],(n>0||s>e)&&(t[s+n]=o)}}}function nSe(t,e,n,i){return!n||t.type==="mouseout"?null:i?e:t}function rb(t,e,n){return t.options.clip?t[n]:e[n]}function iSe(t,e){const{xScale:n,yScale:i}=t;return n&&i?{left:rb(n,e,"left"),right:rb(n,e,"right"),top:rb(i,e,"top"),bottom:rb(i,e,"bottom")}:e}var yc;let Nl=(yc=class{static register(...e){Ma.add(...e),$U()}static unregister(...e){Ma.remove(...e),$U()}constructor(e,n){const i=this.config=new q1e(n),r=F8(e),s=GU(r);if(s)throw new Error("Canvas is already in use. Chart with ID '"+s.id+"' must be destroyed before the canvas with ID '"+s.canvas.id+"' can be reused.");const o=i.createResolver(i.chartOptionScopes(),this.getContext());this.platform=new(i.platform||_1e(r)),this.platform.updateConfig(i);const a=this.platform.acquireContext(r,o.aspectRatio),l=a&&a.canvas,c=l&&l.height,u=l&&l.width;if(this.id=a_e(),this.ctx=a,this.canvas=l,this.width=u,this.height=c,this._options=o,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new z1e,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=S_e(d=>this.update(d),o.resizeDelay||0),this._dataChanges=[],Kb[this.id]=this,!a||!l){console.error("Failed to create chart: can't acquire context from the given item");return}ml.listen(this,"complete",WU),ml.listen(this,"progress",eSe),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:e,maintainAspectRatio:n},width:i,height:r,_aspectRatio:s}=this;return fn(e)?n&&s?s:r?i/r:null:e}get data(){return this.config.data}set data(e){this.config.data=e}get options(){return this._options}set options(e){this.config.options=e}get registry(){return Ma}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():hU(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return uU(this.canvas,this.ctx),this}stop(){return ml.stop(this),this}resize(e,n){ml.running(this)?this._resizeBeforeDraw={width:e,height:n}:this._resize(e,n)}_resize(e,n){const i=this.options,r=this.canvas,s=i.maintainAspectRatio&&this.aspectRatio,o=this.platform.getMaximumSize(r,e,n,s),a=i.devicePixelRatio||this.platform.getDevicePixelRatio(),l=this.width?"resize":"attach";this.width=o.width,this.height=o.height,this._aspectRatio=this.aspectRatio,hU(this,a,!0)&&(this.notifyPlugins("resize",{size:o}),Rn(i.onResize,[this,o],this),this.attached&&this._doResize(l)&&this.render())}ensureScalesHaveIDs(){const n=this.options.scales||{};Pn(n,(i,r)=>{i.id=r})}buildOrUpdateScales(){const e=this.options,n=e.scales,i=this.scales,r=Object.keys(i).reduce((o,a)=>(o[a]=!1,o),{});let s=[];n&&(s=s.concat(Object.keys(n).map(o=>{const a=n[o],l=sA(o,a),c=l==="r",u=l==="x";return{options:a,dposition:c?"chartArea":u?"bottom":"left",dtype:c?"radialLinear":u?"category":"linear"}}))),Pn(s,o=>{const a=o.options,l=a.id,c=sA(l,a),u=zt(a.type,o.dtype);(a.position===void 0||VU(a.position,c)!==VU(o.dposition))&&(a.position=o.dposition),r[l]=!0;let d=null;if(l in i&&i[l].type===u)d=i[l];else{const f=Ma.getScale(u);d=new f({id:l,type:u,ctx:this.ctx,chart:this}),i[d.id]=d}d.init(a,e)}),Pn(r,(o,a)=>{o||delete i[a]}),Pn(i,o=>{Wr.configure(this,o,o.options),Wr.addBox(this,o)})}_updateMetasets(){const e=this._metasets,n=this.data.datasets.length,i=e.length;if(e.sort((r,s)=>r.index-s.index),i>n){for(let r=n;r<i;++r)this._destroyDatasetMeta(r);e.splice(n,i-n)}this._sortedMetasets=e.slice(0).sort(jU("order","index"))}_removeUnreferencedMetasets(){const{_metasets:e,data:{datasets:n}}=this;e.length>n.length&&delete this._stacks,e.forEach((i,r)=>{n.filter(s=>s===i._dataset).length===0&&this._destroyDatasetMeta(r)})}buildOrUpdateControllers(){const e=[],n=this.data.datasets;let i,r;for(this._removeUnreferencedMetasets(),i=0,r=n.length;i<r;i++){const s=n[i];let o=this.getDatasetMeta(i);const a=s.type||this.config.type;if(o.type&&o.type!==a&&(this._destroyDatasetMeta(i),o=this.getDatasetMeta(i)),o.type=a,o.indexAxis=s.indexAxis||rA(a,this.options),o.order=s.order||0,o.index=i,o.label=""+s.label,o.visible=this.isDatasetVisible(i),o.controller)o.controller.updateIndex(i),o.controller.linkScales();else{const l=Ma.getController(a),{datasetElementType:c,dataElementType:u}=ui.datasets[a];Object.assign(l,{dataElementType:Ma.getElement(u),datasetElementType:c&&Ma.getElement(c)}),o.controller=new l(this,i),e.push(o.controller)}}return this._updateMetasets(),e}_resetElements(){Pn(this.data.datasets,(e,n)=>{this.getDatasetMeta(n).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(e){const n=this.config;n.update();const i=this._options=n.createResolver(n.chartOptionScopes(),this.getContext()),r=this._animationsDisabled=!i.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:e,cancelable:!0})===!1)return;const s=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let o=0;for(let c=0,u=this.data.datasets.length;c<u;c++){const{controller:d}=this.getDatasetMeta(c),f=!r&&s.indexOf(d)===-1;d.buildOrUpdateElements(f),o=Math.max(+d.getMaxOverflow(),o)}o=this._minPadding=i.layout.autoPadding?o:0,this._updateLayout(o),r||Pn(s,c=>{c.reset()}),this._updateDatasets(e),this.notifyPlugins("afterUpdate",{mode:e}),this._layers.sort(jU("z","_idx"));const{_active:a,_lastEvent:l}=this;l?this._eventHandler(l,!0):a.length&&this._updateHoverStyles(a,a,!0),this.render()}_updateScales(){Pn(this.scales,e=>{Wr.removeBox(this,e)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const e=this.options,n=new Set(Object.keys(this._listeners)),i=new Set(e.events);(!nU(n,i)||!!this._responsiveListeners!==e.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:e}=this,n=this._getUniformDataChanges()||[];for(const{method:i,start:r,count:s}of n){const o=i==="_removeElements"?-s:s;tSe(e,r,o)}}_getUniformDataChanges(){const e=this._dataChanges;if(!e||!e.length)return;this._dataChanges=[];const n=this.data.datasets.length,i=s=>new Set(e.filter(o=>o[0]===s).map((o,a)=>a+","+o.splice(1).join(","))),r=i(0);for(let s=1;s<n;s++)if(!nU(r,i(s)))return;return Array.from(r).map(s=>s.split(",")).map(s=>({method:s[1],start:+s[2],count:+s[3]}))}_updateLayout(e){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;Wr.update(this,this.width,this.height,e);const n=this.chartArea,i=n.width<=0||n.height<=0;this._layers=[],Pn(this.boxes,r=>{i&&r.position==="chartArea"||(r.configure&&r.configure(),this._layers.push(...r._layers()))},this),this._layers.forEach((r,s)=>{r._idx=s}),this.notifyPlugins("afterLayout")}_updateDatasets(e){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:e,cancelable:!0})!==!1){for(let n=0,i=this.data.datasets.length;n<i;++n)this.getDatasetMeta(n).controller.configure();for(let n=0,i=this.data.datasets.length;n<i;++n)this._updateDataset(n,Ls(e)?e({datasetIndex:n}):e);this.notifyPlugins("afterDatasetsUpdate",{mode:e})}}_updateDataset(e,n){const i=this.getDatasetMeta(e),r={meta:i,index:e,mode:n,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",r)!==!1&&(i.controller._update(n),r.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",r))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(ml.has(this)?this.attached&&!ml.running(this)&&ml.start(this):(this.draw(),WU({chart:this})))}draw(){let e;if(this._resizeBeforeDraw){const{width:i,height:r}=this._resizeBeforeDraw;this._resize(i,r),this._resizeBeforeDraw=null}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const n=this._layers;for(e=0;e<n.length&&n[e].z<=0;++e)n[e].draw(this.chartArea);for(this._drawDatasets();e<n.length;++e)n[e].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(e){const n=this._sortedMetasets,i=[];let r,s;for(r=0,s=n.length;r<s;++r){const o=n[r];(!e||o.visible)&&i.push(o)}return i}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const e=this.getSortedVisibleDatasetMetas();for(let n=e.length-1;n>=0;--n)this._drawDataset(e[n]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(e){const n=this.ctx,i=e._clip,r=!i.disabled,s=iSe(e,this.chartArea),o={meta:e,index:e.index,cancelable:!0};this.notifyPlugins("beforeDatasetDraw",o)!==!1&&(r&&vy(n,{left:i.left===!1?0:s.left-i.left,right:i.right===!1?this.width:s.right+i.right,top:i.top===!1?0:s.top-i.top,bottom:i.bottom===!1?this.height:s.bottom+i.bottom}),e.controller.draw(),r&&yy(n),o.cancelable=!1,this.notifyPlugins("afterDatasetDraw",o))}isPointInArea(e){return kl(e,this.chartArea,this._minPadding)}getElementsAtEventForMode(e,n,i,r){const s=Jbe.modes[n];return typeof s=="function"?s(this,e,i,r):[]}getDatasetMeta(e){const n=this.data.datasets[e],i=this._metasets;let r=i.filter(s=>s&&s._dataset===n).pop();return r||(r={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:n&&n.order||0,index:e,_dataset:n,_parsed:[],_sorted:!1},i.push(r)),r}getContext(){return this.$context||(this.$context=Ru(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(e){const n=this.data.datasets[e];if(!n)return!1;const i=this.getDatasetMeta(e);return typeof i.hidden=="boolean"?!i.hidden:!n.hidden}setDatasetVisibility(e,n){const i=this.getDatasetMeta(e);i.hidden=!n}toggleDataVisibility(e){this._hiddenIndices[e]=!this._hiddenIndices[e]}getDataVisibility(e){return!this._hiddenIndices[e]}_updateVisibility(e,n,i){const r=i?"show":"hide",s=this.getDatasetMeta(e),o=s.controller._resolveAnimations(void 0,r);Ns(n)?(s.data[n].hidden=!i,this.update()):(this.setDatasetVisibility(e,i),o.update(s,{visible:i}),this.update(a=>a.datasetIndex===e?r:void 0))}hide(e,n){this._updateVisibility(e,n,!1)}show(e,n){this._updateVisibility(e,n,!0)}_destroyDatasetMeta(e){const n=this._metasets[e];n&&n.controller&&n.controller._destroy(),delete this._metasets[e]}_stop(){let e,n;for(this.stop(),ml.remove(this),e=0,n=this.data.datasets.length;e<n;++e)this._destroyDatasetMeta(e)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:e,ctx:n}=this;this._stop(),this.config.clearCache(),e&&(this.unbindEvents(),uU(e,n),this.platform.releaseContext(n),this.canvas=null,this.ctx=null),delete Kb[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...e){return this.canvas.toDataURL(...e)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const e=this._listeners,n=this.platform,i=(s,o)=>{n.addEventListener(this,s,o),e[s]=o},r=(s,o,a)=>{s.offsetX=o,s.offsetY=a,this._eventHandler(s)};Pn(this.options.events,s=>i(s,r))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const e=this._responsiveListeners,n=this.platform,i=(l,c)=>{n.addEventListener(this,l,c),e[l]=c},r=(l,c)=>{e[l]&&(n.removeEventListener(this,l,c),delete e[l])},s=(l,c)=>{this.canvas&&this.resize(l,c)};let o;const a=()=>{r("attach",a),this.attached=!0,this.resize(),i("resize",s),i("detach",o)};o=()=>{this.attached=!1,r("resize",s),this._stop(),this._resize(0,0),i("attach",a)},n.isAttached(this.canvas)?a():o()}unbindEvents(){Pn(this._listeners,(e,n)=>{this.platform.removeEventListener(this,n,e)}),this._listeners={},Pn(this._responsiveListeners,(e,n)=>{this.platform.removeEventListener(this,n,e)}),this._responsiveListeners=void 0}updateHoverStyle(e,n,i){const r=i?"set":"remove";let s,o,a,l;for(n==="dataset"&&(s=this.getDatasetMeta(e[0].datasetIndex),s.controller["_"+r+"DatasetHoverStyle"]()),a=0,l=e.length;a<l;++a){o=e[a];const c=o&&this.getDatasetMeta(o.datasetIndex).controller;c&&c[r+"HoverStyle"](o.element,o.datasetIndex,o.index)}}getActiveElements(){return this._active||[]}setActiveElements(e){const n=this._active||[],i=e.map(({datasetIndex:s,index:o})=>{const a=this.getDatasetMeta(s);if(!a)throw new Error("No dataset found at index "+s);return{datasetIndex:s,element:a.data[o],index:o}});!Y1(i,n)&&(this._active=i,this._lastEvent=null,this._updateHoverStyles(i,n))}notifyPlugins(e,n,i){return this._plugins.notify(this,e,n,i)}isPluginEnabled(e){return this._plugins._cache.filter(n=>n.plugin.id===e).length===1}_updateHoverStyles(e,n,i){const r=this.options.hover,s=(l,c)=>l.filter(u=>!c.some(d=>u.datasetIndex===d.datasetIndex&&u.index===d.index)),o=s(n,e),a=i?e:s(e,n);o.length&&this.updateHoverStyle(o,r.mode,!1),a.length&&r.mode&&this.updateHoverStyle(a,r.mode,!0)}_eventHandler(e,n){const i={event:e,replay:n,cancelable:!0,inChartArea:this.isPointInArea(e)},r=o=>(o.options.events||this.options.events).includes(e.native.type);if(this.notifyPlugins("beforeEvent",i,r)===!1)return;const s=this._handleEvent(e,n,i.inChartArea);return i.cancelable=!1,this.notifyPlugins("afterEvent",i,r),(s||i.changed)&&this.render(),this}_handleEvent(e,n,i){const{_active:r=[],options:s}=this,o=n,a=this._getActiveElements(e,r,i,o),l=h_e(e),c=nSe(e,this._lastEvent,i,l);i&&(this._lastEvent=null,Rn(s.onHover,[e,a,this],this),l&&Rn(s.onClick,[e,a,this],this));const u=!Y1(a,r);return(u||n)&&(this._active=a,this._updateHoverStyles(a,r,n)),this._lastEvent=c,u}_getActiveElements(e,n,i,r){if(e.type==="mouseout")return[];if(!i)return n;const s=this.options.hover;return this.getElementsAtEventForMode(e,s.mode,s,r)}},ye(yc,"defaults",ui),ye(yc,"instances",Kb),ye(yc,"overrides",nf),ye(yc,"registry",Ma),ye(yc,"version",Z1e),ye(yc,"getChart",GU),yc);function $U(){return Pn(Nl.instances,t=>t._plugins.invalidate())}function rSe(t,e,n){const{startAngle:i,pixelMargin:r,x:s,y:o,outerRadius:a,innerRadius:l}=e;let c=r/a;t.beginPath(),t.arc(s,o,a,i-c,n+c),l>r?(c=r/l,t.arc(s,o,l,n+c,i-c,!0)):t.arc(s,o,r,n+Qn,i-Qn),t.closePath(),t.clip()}function sSe(t){return NI(t,["outerStart","outerEnd","innerStart","innerEnd"])}function oSe(t,e,n,i){const r=sSe(t.options.borderRadius),s=(n-e)/2,o=Math.min(s,i*e/2),a=l=>{const c=(n-Math.min(s,l))*i/2;return fr(l,0,Math.min(s,c))};return{outerStart:a(r.outerStart),outerEnd:a(r.outerEnd),innerStart:fr(r.innerStart,0,o),innerEnd:fr(r.innerEnd,0,o)}}function xh(t,e,n,i){return{x:n+t*Math.cos(e),y:i+t*Math.sin(e)}}function tS(t,e,n,i,r,s){const{x:o,y:a,startAngle:l,pixelMargin:c,innerRadius:u}=e,d=Math.max(e.outerRadius+i+n-c,0),f=u>0?u+i+n+c:0;let m=0;const g=r-l;if(i){const G=u>0?u-i:0,Q=d>0?d-i:0,J=(G+Q)/2,N=J!==0?g*J/(J+i):g;m=(g-N)/2}const y=Math.max(.001,g*d-n/on)/d,x=(g-y)/2,v=l+x+m,_=r-x-m,{outerStart:b,outerEnd:w,innerStart:C,innerEnd:T}=oSe(e,f,d,_-v),R=d-b,I=d-w,A=v+b/R,L=_-w/I,O=f+C,H=f+T,q=v+C/O,U=_-T/H;if(t.beginPath(),s){const G=(A+L)/2;if(t.arc(o,a,d,A,G),t.arc(o,a,d,G,L),w>0){const B=xh(I,L,o,a);t.arc(B.x,B.y,w,L,_+Qn)}const Q=xh(H,_,o,a);if(t.lineTo(Q.x,Q.y),T>0){const B=xh(H,U,o,a);t.arc(B.x,B.y,T,_+Qn,U+Math.PI)}const J=(_-T/f+(v+C/f))/2;if(t.arc(o,a,f,_-T/f,J,!0),t.arc(o,a,f,J,v+C/f,!0),C>0){const B=xh(O,q,o,a);t.arc(B.x,B.y,C,q+Math.PI,v-Qn)}const N=xh(R,v,o,a);if(t.lineTo(N.x,N.y),b>0){const B=xh(R,A,o,a);t.arc(B.x,B.y,b,v-Qn,A)}}else{t.moveTo(o,a);const G=Math.cos(A)*d+o,Q=Math.sin(A)*d+a;t.lineTo(G,Q);const J=Math.cos(L)*d+o,N=Math.sin(L)*d+a;t.lineTo(J,N)}t.closePath()}function aSe(t,e,n,i,r){const{fullCircles:s,startAngle:o,circumference:a}=e;let l=e.endAngle;if(s){tS(t,e,n,i,l,r);for(let c=0;c<s;++c)t.fill();isNaN(a)||(l=o+(a%Gn||Gn))}return tS(t,e,n,i,l,r),t.fill(),l}function lSe(t,e,n,i,r){const{fullCircles:s,startAngle:o,circumference:a,options:l}=e,{borderWidth:c,borderJoinStyle:u,borderDash:d,borderDashOffset:f}=l,m=l.borderAlign==="inner";if(!c)return;t.setLineDash(d||[]),t.lineDashOffset=f,m?(t.lineWidth=c*2,t.lineJoin=u||"round"):(t.lineWidth=c,t.lineJoin=u||"bevel");let g=e.endAngle;if(s){tS(t,e,n,i,g,r);for(let y=0;y<s;++y)t.stroke();isNaN(a)||(g=o+(a%Gn||Gn))}m&&rSe(t,e,g),s||(tS(t,e,n,i,g,r),t.stroke())}class jg extends Cr{constructor(n){super();ye(this,"circumference");ye(this,"endAngle");ye(this,"fullCircles");ye(this,"innerRadius");ye(this,"outerRadius");ye(this,"pixelMargin");ye(this,"startAngle");this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,n&&Object.assign(this,n)}inRange(n,i,r){const s=this.getProps(["x","y"],r),{angle:o,distance:a}=s8(s,{x:n,y:i}),{startAngle:l,endAngle:c,innerRadius:u,outerRadius:d,circumference:f}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],r),m=(this.options.spacing+this.options.borderWidth)/2,y=zt(f,c-l)>=Gn||Mv(o,l,c),x=Al(a,u+m,d+m);return y&&x}getCenterPoint(n){const{x:i,y:r,startAngle:s,endAngle:o,innerRadius:a,outerRadius:l}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],n),{offset:c,spacing:u}=this.options,d=(s+o)/2,f=(a+l+u+c)/2;return{x:i+Math.cos(d)*f,y:r+Math.sin(d)*f}}tooltipPosition(n){return this.getCenterPoint(n)}draw(n){const{options:i,circumference:r}=this,s=(i.offset||0)/4,o=(i.spacing||0)/2,a=i.circular;if(this.pixelMargin=i.borderAlign==="inner"?.33:0,this.fullCircles=r>Gn?Math.floor(r/Gn):0,r===0||this.innerRadius<0||this.outerRadius<0)return;n.save();const l=(this.startAngle+this.endAngle)/2;n.translate(Math.cos(l)*s,Math.sin(l)*s);const c=1-Math.sin(Math.min(on,r||0)),u=s*c;n.fillStyle=i.backgroundColor,n.strokeStyle=i.borderColor,aSe(n,this,u,o,a),lSe(n,this,u,o,a),n.restore()}}ye(jg,"id","arc"),ye(jg,"defaults",{borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0}),ye(jg,"defaultRoutes",{backgroundColor:"backgroundColor"}),ye(jg,"descriptors",{_scriptable:!0,_indexable:n=>n!=="borderDash"});function z8(t,e,n=e){t.lineCap=zt(n.borderCapStyle,e.borderCapStyle),t.setLineDash(zt(n.borderDash,e.borderDash)),t.lineDashOffset=zt(n.borderDashOffset,e.borderDashOffset),t.lineJoin=zt(n.borderJoinStyle,e.borderJoinStyle),t.lineWidth=zt(n.borderWidth,e.borderWidth),t.strokeStyle=zt(n.borderColor,e.borderColor)}function cSe(t,e,n){t.lineTo(n.x,n.y)}function uSe(t){return t.stepped?D_e:t.tension||t.cubicInterpolationMode==="monotone"?O_e:cSe}function U8(t,e,n={}){const i=t.length,{start:r=0,end:s=i-1}=n,{start:o,end:a}=e,l=Math.max(r,o),c=Math.min(s,a),u=r<o&&s<o||r>a&&s>a;return{count:i,start:l,loop:e.loop,ilen:c<l&&!u?i+c-l:c-l}}function dSe(t,e,n,i){const{points:r,options:s}=e,{count:o,start:a,loop:l,ilen:c}=U8(r,n,i),u=uSe(s);let{move:d=!0,reverse:f}=i||{},m,g,y;for(m=0;m<=c;++m)g=r[(a+(f?c-m:m))%o],!g.skip&&(d?(t.moveTo(g.x,g.y),d=!1):u(t,y,g,f,s.stepped),y=g);return l&&(g=r[(a+(f?c:0))%o],u(t,y,g,f,s.stepped)),!!l}function fSe(t,e,n,i){const r=e.points,{count:s,start:o,ilen:a}=U8(r,n,i),{move:l=!0,reverse:c}=i||{};let u=0,d=0,f,m,g,y,x,v;const _=w=>(o+(c?a-w:w))%s,b=()=>{y!==x&&(t.lineTo(u,x),t.lineTo(u,y),t.lineTo(u,v))};for(l&&(m=r[_(0)],t.moveTo(m.x,m.y)),f=0;f<=a;++f){if(m=r[_(f)],m.skip)continue;const w=m.x,C=m.y,T=w|0;T===g?(C<y?y=C:C>x&&(x=C),u=(d*u+w)/++d):(b(),t.lineTo(w,C),g=T,d=0,y=x=C),v=C}b()}function oA(t){const e=t.options,n=e.borderDash&&e.borderDash.length;return!t._decimated&&!t._loop&&!e.tension&&e.cubicInterpolationMode!=="monotone"&&!e.stepped&&!n?fSe:dSe}function hSe(t){return t.stepped?hbe:t.tension||t.cubicInterpolationMode==="monotone"?pbe:od}function pSe(t,e,n,i){let r=e._path;r||(r=e._path=new Path2D,e.path(r,n,i)&&r.closePath()),z8(t,e.options),t.stroke(r)}function mSe(t,e,n,i){const{segments:r,options:s}=e,o=oA(e);for(const a of r)z8(t,s,a.style),t.beginPath(),o(t,e,a,{start:n,end:n+i-1})&&t.closePath(),t.stroke()}const gSe=typeof Path2D=="function";function vSe(t,e,n,i){gSe&&!e.options.segment?pSe(t,e,n,i):mSe(t,e,n,i)}class jc extends Cr{constructor(e){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,e&&Object.assign(this,e)}updateControlPoints(e,n){const i=this.options;if((i.tension||i.cubicInterpolationMode==="monotone")&&!i.stepped&&!this._pointsUpdated){const r=i.spanGaps?this._loop:this._fullLoop;sbe(this._points,i,e,r,n),this._pointsUpdated=!0}}set points(e){this._points=e,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=_be(this,this.options.segment))}first(){const e=this.segments,n=this.points;return e.length&&n[e[0].start]}last(){const e=this.segments,n=this.points,i=e.length;return i&&n[e[i-1].end]}interpolate(e,n){const i=this.options,r=e[n],s=this.points,o=E8(this,{property:n,start:r,end:r});if(!o.length)return;const a=[],l=hSe(i);let c,u;for(c=0,u=o.length;c<u;++c){const{start:d,end:f}=o[c],m=s[d],g=s[f];if(m===g){a.push(m);continue}const y=Math.abs((r-m[n])/(g[n]-m[n])),x=l(m,g,y,i.stepped);x[n]=e[n],a.push(x)}return a.length===1?a[0]:a}pathSegment(e,n,i){return oA(this)(e,this,n,i)}path(e,n,i){const r=this.segments,s=oA(this);let o=this._loop;n=n||0,i=i||this.points.length-n;for(const a of r)o&=s(e,this,a,{start:n,end:n+i-1});return!!o}draw(e,n,i,r){const s=this.options||{};(this.points||[]).length&&s.borderWidth&&(e.save(),vSe(e,this,i,r),e.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}ye(jc,"id","line"),ye(jc,"defaults",{borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0}),ye(jc,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"}),ye(jc,"descriptors",{_scriptable:!0,_indexable:e=>e!=="borderDash"&&e!=="fill"});function XU(t,e,n,i){const r=t.options,{[n]:s}=t.getProps([n],i);return Math.abs(e-s)<r.radius+r.hitRadius}class Qb extends Cr{constructor(n){super();ye(this,"parsed");ye(this,"skip");ye(this,"stop");this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,n&&Object.assign(this,n)}inRange(n,i,r){const s=this.options,{x:o,y:a}=this.getProps(["x","y"],r);return Math.pow(n-o,2)+Math.pow(i-a,2)<Math.pow(s.hitRadius+s.radius,2)}inXRange(n,i){return XU(this,n,"x",i)}inYRange(n,i){return XU(this,n,"y",i)}getCenterPoint(n){const{x:i,y:r}=this.getProps(["x","y"],n);return{x:i,y:r}}size(n){n=n||this.options||{};let i=n.radius||0;i=Math.max(i,i&&n.hoverRadius||0);const r=i&&n.borderWidth||0;return(i+r)*2}draw(n,i){const r=this.options;this.skip||r.radius<.1||!kl(this,i,this.size(r)/2)||(n.strokeStyle=r.borderColor,n.lineWidth=r.borderWidth,n.fillStyle=r.backgroundColor,nA(n,r,this.x,this.y))}getRange(){const n=this.options||{};return n.radius+n.hitRadius}}ye(Qb,"id","point"),ye(Qb,"defaults",{borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0}),ye(Qb,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});function B8(t,e){const{x:n,y:i,base:r,width:s,height:o}=t.getProps(["x","y","base","width","height"],e);let a,l,c,u,d;return t.horizontal?(d=o/2,a=Math.min(n,r),l=Math.max(n,r),c=i-d,u=i+d):(d=s/2,a=n-d,l=n+d,c=Math.min(i,r),u=Math.max(i,r)),{left:a,top:c,right:l,bottom:u}}function Wc(t,e,n,i){return t?0:fr(e,n,i)}function ySe(t,e,n){const i=t.options.borderWidth,r=t.borderSkipped,s=p8(i);return{t:Wc(r.top,s.top,0,n),r:Wc(r.right,s.right,0,e),b:Wc(r.bottom,s.bottom,0,n),l:Wc(r.left,s.left,0,e)}}function xSe(t,e,n){const{enableBorderRadius:i}=t.getProps(["enableBorderRadius"]),r=t.options.borderRadius,s=nu(r),o=Math.min(e,n),a=t.borderSkipped,l=i||Kt(r);return{topLeft:Wc(!l||a.top||a.left,s.topLeft,0,o),topRight:Wc(!l||a.top||a.right,s.topRight,0,o),bottomLeft:Wc(!l||a.bottom||a.left,s.bottomLeft,0,o),bottomRight:Wc(!l||a.bottom||a.right,s.bottomRight,0,o)}}function _Se(t){const e=B8(t),n=e.right-e.left,i=e.bottom-e.top,r=ySe(t,n/2,i/2),s=xSe(t,n/2,i/2);return{outer:{x:e.left,y:e.top,w:n,h:i,radius:s},inner:{x:e.left+r.l,y:e.top+r.t,w:n-r.l-r.r,h:i-r.t-r.b,radius:{topLeft:Math.max(0,s.topLeft-Math.max(r.t,r.l)),topRight:Math.max(0,s.topRight-Math.max(r.t,r.r)),bottomLeft:Math.max(0,s.bottomLeft-Math.max(r.b,r.l)),bottomRight:Math.max(0,s.bottomRight-Math.max(r.b,r.r))}}}}function MC(t,e,n,i){const r=e===null,s=n===null,a=t&&!(r&&s)&&B8(t,i);return a&&(r||Al(e,a.left,a.right))&&(s||Al(n,a.top,a.bottom))}function bSe(t){return t.topLeft||t.topRight||t.bottomLeft||t.bottomRight}function SSe(t,e){t.rect(e.x,e.y,e.w,e.h)}function EC(t,e,n={}){const i=t.x!==n.x?-e:0,r=t.y!==n.y?-e:0,s=(t.x+t.w!==n.x+n.w?e:0)-i,o=(t.y+t.h!==n.y+n.h?e:0)-r;return{x:t.x+i,y:t.y+r,w:t.w+s,h:t.h+o,radius:t.radius}}class Zb extends Cr{constructor(e){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,e&&Object.assign(this,e)}draw(e){const{inflateAmount:n,options:{borderColor:i,backgroundColor:r}}=this,{inner:s,outer:o}=_Se(this),a=bSe(o.radius)?$p:SSe;e.save(),(o.w!==s.w||o.h!==s.h)&&(e.beginPath(),a(e,EC(o,n,s)),e.clip(),a(e,EC(s,-n,o)),e.fillStyle=i,e.fill("evenodd")),e.beginPath(),a(e,EC(s,n)),e.fillStyle=r,e.fill(),e.restore()}inRange(e,n,i){return MC(this,e,n,i)}inXRange(e,n){return MC(this,e,null,n)}inYRange(e,n){return MC(this,null,e,n)}getCenterPoint(e){const{x:n,y:i,base:r,horizontal:s}=this.getProps(["x","y","base","horizontal"],e);return{x:s?(n+r)/2:n,y:s?i:(i+r)/2}}getRange(e){return e==="x"?this.width/2:this.height/2}}ye(Zb,"id","bar"),ye(Zb,"defaults",{borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0}),ye(Zb,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});var wSe=Object.freeze({__proto__:null,ArcElement:jg,BarElement:Zb,LineElement:jc,PointElement:Qb});const aA=["rgb(54, 162, 235)","rgb(255, 99, 132)","rgb(255, 159, 64)","rgb(255, 205, 86)","rgb(75, 192, 192)","rgb(153, 102, 255)","rgb(201, 203, 207)"],YU=aA.map(t=>t.replace("rgb(","rgba(").replace(")",", 0.5)"));function H8(t){return aA[t%aA.length]}function V8(t){return YU[t%YU.length]}function MSe(t,e){return t.borderColor=H8(e),t.backgroundColor=V8(e),++e}function ESe(t,e){return t.backgroundColor=t.data.map(()=>H8(e++)),e}function TSe(t,e){return t.backgroundColor=t.data.map(()=>V8(e++)),e}function CSe(t){let e=0;return(n,i)=>{const r=t.getDatasetMeta(i).controller;r instanceof bd?e=ESe(n,e):r instanceof E0?e=TSe(n,e):r&&(e=MSe(n,e))}}function qU(t){let e;for(e in t)if(t[e].borderColor||t[e].backgroundColor)return!0;return!1}function RSe(t){return t&&(t.borderColor||t.backgroundColor)}var ASe={id:"colors",defaults:{enabled:!0,forceOverride:!1},beforeLayout(t,e,n){if(!n.enabled)return;const{data:{datasets:i},options:r}=t.config,{elements:s}=r;if(!n.forceOverride&&(qU(i)||RSe(r)||s&&qU(s)))return;const o=CSe(t);i.forEach(o)}};function PSe(t,e,n,i,r){const s=r.samples||i;if(s>=n)return t.slice(e,e+n);const o=[],a=(n-2)/(s-2);let l=0;const c=e+n-1;let u=e,d,f,m,g,y;for(o[l++]=t[u],d=0;d<s-2;d++){let x=0,v=0,_;const b=Math.floor((d+1)*a)+1+e,w=Math.min(Math.floor((d+2)*a)+1,n)+e,C=w-b;for(_=b;_<w;_++)x+=t[_].x,v+=t[_].y;x/=C,v/=C;const T=Math.floor(d*a)+1+e,R=Math.min(Math.floor((d+1)*a)+1,n)+e,{x:I,y:A}=t[u];for(m=g=-1,_=T;_<R;_++)g=.5*Math.abs((I-x)*(t[_].y-A)-(I-t[_].x)*(v-A)),g>m&&(m=g,f=t[_],y=_);o[l++]=f,u=y}return o[l++]=t[c],o}function kSe(t,e,n,i){let r=0,s=0,o,a,l,c,u,d,f,m,g,y;const x=[],v=e+n-1,_=t[e].x,w=t[v].x-_;for(o=e;o<e+n;++o){a=t[o],l=(a.x-_)/w*i,c=a.y;const C=l|0;if(C===u)c<g?(g=c,d=o):c>y&&(y=c,f=o),r=(s*r+a.x)/++s;else{const T=o-1;if(!fn(d)&&!fn(f)){const R=Math.min(d,f),I=Math.max(d,f);R!==m&&R!==T&&x.push({...t[R],x:r}),I!==m&&I!==T&&x.push({...t[I],x:r})}o>0&&T!==m&&x.push(t[T]),x.push(a),u=C,s=0,g=y=c,d=f=m=o}}return x}function j8(t){if(t._decimated){const e=t._data;delete t._decimated,delete t._data,Object.defineProperty(t,"data",{configurable:!0,enumerable:!0,writable:!0,value:e})}}function KU(t){t.data.datasets.forEach(e=>{j8(e)})}function ISe(t,e){const n=e.length;let i=0,r;const{iScale:s}=t,{min:o,max:a,minDefined:l,maxDefined:c}=s.getUserBounds();return l&&(i=fr(Pl(e,s.axis,o).lo,0,n-1)),c?r=fr(Pl(e,s.axis,a).hi+1,i,n)-i:r=n-i,{start:i,count:r}}var LSe={id:"decimation",defaults:{algorithm:"min-max",enabled:!1},beforeElementsUpdate:(t,e,n)=>{if(!n.enabled){KU(t);return}const i=t.width;t.data.datasets.forEach((r,s)=>{const{_data:o,indexAxis:a}=r,l=t.getDatasetMeta(s),c=o||r.data;if(Hg([a,t.options.indexAxis])==="y"||!l.controller.supportsDecimation)return;const u=t.scales[l.xAxisID];if(u.type!=="linear"&&u.type!=="time"||t.options.parsing)return;let{start:d,count:f}=ISe(l,c);const m=n.threshold||4*i;if(f<=m){j8(r);return}fn(o)&&(r._data=c,delete r.data,Object.defineProperty(r,"data",{configurable:!0,enumerable:!0,get:function(){return this._decimated},set:function(y){this._data=y}}));let g;switch(n.algorithm){case"lttb":g=PSe(c,d,f,i,n);break;case"min-max":g=kSe(c,d,f,i);break;default:throw new Error(`Unsupported decimation algorithm '${n.algorithm}'`)}r._decimated=g})},destroy(t){KU(t)}};function DSe(t,e,n){const i=t.segments,r=t.points,s=e.points,o=[];for(const a of i){let{start:l,end:c}=a;c=WI(l,c,r);const u=lA(n,r[l],r[c],a.loop);if(!e.segments){o.push({source:a,target:u,start:r[l],end:r[c]});continue}const d=E8(e,u);for(const f of d){const m=lA(n,s[f.start],s[f.end],f.loop),g=M8(a,r,m);for(const y of g)o.push({source:y,target:f,start:{[n]:QU(u,m,"start",Math.max)},end:{[n]:QU(u,m,"end",Math.min)}})}}return o}function lA(t,e,n,i){if(i)return;let r=e[t],s=n[t];return t==="angle"&&(r=qs(r),s=qs(s)),{property:t,start:r,end:s}}function OSe(t,e){const{x:n=null,y:i=null}=t||{},r=e.points,s=[];return e.segments.forEach(({start:o,end:a})=>{a=WI(o,a,r);const l=r[o],c=r[a];i!==null?(s.push({x:l.x,y:i}),s.push({x:c.x,y:i})):n!==null&&(s.push({x:n,y:l.y}),s.push({x:n,y:c.y}))}),s}function WI(t,e,n){for(;e>t;e--){const i=n[e];if(!isNaN(i.x)&&!isNaN(i.y))break}return e}function QU(t,e,n,i){return t&&e?i(t[n],e[n]):t?t[n]:e?e[n]:0}function W8(t,e){let n=[],i=!1;return yn(t)?(i=!0,n=t):n=OSe(t,e),n.length?new jc({points:n,options:{tension:0},_loop:i,_fullLoop:i}):null}function ZU(t){return t&&t.fill!==!1}function NSe(t,e,n){let r=t[e].fill;const s=[e];let o;if(!n)return r;for(;r!==!1&&s.indexOf(r)===-1;){if(!ti(r))return r;if(o=t[r],!o)return!1;if(o.visible)return r;s.push(r),r=o.fill}return!1}function FSe(t,e,n){const i=HSe(t);if(Kt(i))return isNaN(i.value)?!1:i;let r=parseFloat(i);return ti(r)&&Math.floor(r)===r?zSe(i[0],e,r,n):["origin","start","end","stack","shape"].indexOf(i)>=0&&i}function zSe(t,e,n,i){return(t==="-"||t==="+")&&(n=e+n),n===e||n<0||n>=i?!1:n}function USe(t,e){let n=null;return t==="start"?n=e.bottom:t==="end"?n=e.top:Kt(t)?n=e.getPixelForValue(t.value):e.getBasePixel&&(n=e.getBasePixel()),n}function BSe(t,e,n){let i;return t==="start"?i=n:t==="end"?i=e.options.reverse?e.min:e.max:Kt(t)?i=t.value:i=e.getBaseValue(),i}function HSe(t){const e=t.options,n=e.fill;let i=zt(n&&n.target,n);return i===void 0&&(i=!!e.backgroundColor),i===!1||i===null?!1:i===!0?"origin":i}function VSe(t){const{scale:e,index:n,line:i}=t,r=[],s=i.segments,o=i.points,a=jSe(e,n);a.push(W8({x:null,y:e.bottom},i));for(let l=0;l<s.length;l++){const c=s[l];for(let u=c.start;u<=c.end;u++)WSe(r,o[u],a)}return new jc({points:r,options:{}})}function jSe(t,e){const n=[],i=t.getMatchingVisibleMetas("line");for(let r=0;r<i.length;r++){const s=i[r];if(s.index===e)break;s.hidden||n.unshift(s.dataset)}return n}function WSe(t,e,n){const i=[];for(let r=0;r<n.length;r++){const s=n[r],{first:o,last:a,point:l}=GSe(s,e,"x");if(!(!l||o&&a)){if(o)i.unshift(l);else if(t.push(l),!a)break}}t.push(...i)}function GSe(t,e,n){const i=t.interpolate(e,n);if(!i)return{};const r=i[n],s=t.segments,o=t.points;let a=!1,l=!1;for(let c=0;c<s.length;c++){const u=s[c],d=o[u.start][n],f=o[u.end][n];if(Al(r,d,f)){a=r===d,l=r===f;break}}return{first:a,last:l,point:i}}class G8{constructor(e){this.x=e.x,this.y=e.y,this.radius=e.radius}pathSegment(e,n,i){const{x:r,y:s,radius:o}=this;return n=n||{start:0,end:Gn},e.arc(r,s,o,n.end,n.start,!0),!i.bounds}interpolate(e){const{x:n,y:i,radius:r}=this,s=e.angle;return{x:n+Math.cos(s)*r,y:i+Math.sin(s)*r,angle:s}}}function $Se(t){const{chart:e,fill:n,line:i}=t;if(ti(n))return XSe(e,n);if(n==="stack")return VSe(t);if(n==="shape")return!0;const r=YSe(t);return r instanceof G8?r:W8(r,i)}function XSe(t,e){const n=t.getDatasetMeta(e);return n&&t.isDatasetVisible(e)?n.dataset:null}function YSe(t){return(t.scale||{}).getPointPositionForValue?KSe(t):qSe(t)}function qSe(t){const{scale:e={},fill:n}=t,i=USe(n,e);if(ti(i)){const r=e.isHorizontal();return{x:r?i:null,y:r?null:i}}return null}function KSe(t){const{scale:e,fill:n}=t,i=e.options,r=e.getLabels().length,s=i.reverse?e.max:e.min,o=BSe(n,e,s),a=[];if(i.grid.circular){const l=e.getPointPositionForValue(0,s);return new G8({x:l.x,y:l.y,radius:e.getDistanceFromCenterForValue(o)})}for(let l=0;l<r;++l)a.push(e.getPointPositionForValue(l,o));return a}function TC(t,e,n){const i=$Se(e),{line:r,scale:s,axis:o}=e,a=r.options,l=a.fill,c=a.backgroundColor,{above:u=c,below:d=c}=l||{};i&&r.points.length&&(vy(t,n),QSe(t,{line:r,target:i,above:u,below:d,area:n,scale:s,axis:o}),yy(t))}function QSe(t,e){const{line:n,target:i,above:r,below:s,area:o,scale:a}=e,l=n._loop?"angle":e.axis;t.save(),l==="x"&&s!==r&&(JU(t,i,o.top),eB(t,{line:n,target:i,color:r,scale:a,property:l}),t.restore(),t.save(),JU(t,i,o.bottom)),eB(t,{line:n,target:i,color:s,scale:a,property:l}),t.restore()}function JU(t,e,n){const{segments:i,points:r}=e;let s=!0,o=!1;t.beginPath();for(const a of i){const{start:l,end:c}=a,u=r[l],d=r[WI(l,c,r)];s?(t.moveTo(u.x,u.y),s=!1):(t.lineTo(u.x,n),t.lineTo(u.x,u.y)),o=!!e.pathSegment(t,a,{move:o}),o?t.closePath():t.lineTo(d.x,n)}t.lineTo(e.first().x,n),t.closePath(),t.clip()}function eB(t,e){const{line:n,target:i,property:r,color:s,scale:o}=e,a=DSe(n,i,r);for(const{source:l,target:c,start:u,end:d}of a){const{style:{backgroundColor:f=s}={}}=l,m=i!==!0;t.save(),t.fillStyle=f,ZSe(t,o,m&&lA(r,u,d)),t.beginPath();const g=!!n.pathSegment(t,l);let y;if(m){g?t.closePath():tB(t,i,d,r);const x=!!i.pathSegment(t,c,{move:g,reverse:!0});y=g&&x,y||tB(t,i,u,r)}t.closePath(),t.fill(y?"evenodd":"nonzero"),t.restore()}}function ZSe(t,e,n){const{top:i,bottom:r}=e.chart.chartArea,{property:s,start:o,end:a}=n||{};s==="x"&&(t.beginPath(),t.rect(o,i,a-o,r-i),t.clip())}function tB(t,e,n,i){const r=e.interpolate(n,i);r&&t.lineTo(r.x,r.y)}var JSe={id:"filler",afterDatasetsUpdate(t,e,n){const i=(t.data.datasets||[]).length,r=[];let s,o,a,l;for(o=0;o<i;++o)s=t.getDatasetMeta(o),a=s.dataset,l=null,a&&a.options&&a instanceof jc&&(l={visible:t.isDatasetVisible(o),index:o,fill:FSe(a,o,i),chart:t,axis:s.controller.options.indexAxis,scale:s.vScale,line:a}),s.$filler=l,r.push(l);for(o=0;o<i;++o)l=r[o],!(!l||l.fill===!1)&&(l.fill=NSe(r,o,n.propagate))},beforeDraw(t,e,n){const i=n.drawTime==="beforeDraw",r=t.getSortedVisibleDatasetMetas(),s=t.chartArea;for(let o=r.length-1;o>=0;--o){const a=r[o].$filler;a&&(a.line.updateControlPoints(s,a.axis),i&&a.fill&&TC(t.ctx,a,s))}},beforeDatasetsDraw(t,e,n){if(n.drawTime!=="beforeDatasetsDraw")return;const i=t.getSortedVisibleDatasetMetas();for(let r=i.length-1;r>=0;--r){const s=i[r].$filler;ZU(s)&&TC(t.ctx,s,t.chartArea)}},beforeDatasetDraw(t,e,n){const i=e.meta.$filler;!ZU(i)||n.drawTime!=="beforeDatasetDraw"||TC(t.ctx,i,t.chartArea)},defaults:{propagate:!0,drawTime:"beforeDatasetDraw"}};const nB=(t,e)=>{let{boxHeight:n=e,boxWidth:i=e}=t;return t.usePointStyle&&(n=Math.min(n,e),i=t.pointStyleWidth||Math.min(i,e)),{boxWidth:i,boxHeight:n,itemHeight:Math.max(e,n)}},ewe=(t,e)=>t!==null&&e!==null&&t.datasetIndex===e.datasetIndex&&t.index===e.index;class iB extends Cr{constructor(e){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,n,i){this.maxWidth=e,this.maxHeight=n,this._margins=i,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const e=this.options.labels||{};let n=Rn(e.generateLabels,[this.chart],this)||[];e.filter&&(n=n.filter(i=>e.filter(i,this.chart.data))),e.sort&&(n=n.sort((i,r)=>e.sort(i,r,this.chart.data))),this.options.reverse&&n.reverse(),this.legendItems=n}fit(){const{options:e,ctx:n}=this;if(!e.display){this.width=this.height=0;return}const i=e.labels,r=di(i.font),s=r.size,o=this._computeTitleHeight(),{boxWidth:a,itemHeight:l}=nB(i,s);let c,u;n.font=r.string,this.isHorizontal()?(c=this.maxWidth,u=this._fitRows(o,s,a,l)+10):(u=this.maxHeight,c=this._fitCols(o,r,a,l)+10),this.width=Math.min(c,e.maxWidth||this.maxWidth),this.height=Math.min(u,e.maxHeight||this.maxHeight)}_fitRows(e,n,i,r){const{ctx:s,maxWidth:o,options:{labels:{padding:a}}}=this,l=this.legendHitBoxes=[],c=this.lineWidths=[0],u=r+a;let d=e;s.textAlign="left",s.textBaseline="middle";let f=-1,m=-u;return this.legendItems.forEach((g,y)=>{const x=i+n/2+s.measureText(g.text).width;(y===0||c[c.length-1]+x+2*a>o)&&(d+=u,c[c.length-(y>0?0:1)]=0,m+=u,f++),l[y]={left:0,top:m,row:f,width:x,height:r},c[c.length-1]+=x+a}),d}_fitCols(e,n,i,r){const{ctx:s,maxHeight:o,options:{labels:{padding:a}}}=this,l=this.legendHitBoxes=[],c=this.columnSizes=[],u=o-e;let d=a,f=0,m=0,g=0,y=0;return this.legendItems.forEach((x,v)=>{const{itemWidth:_,itemHeight:b}=twe(i,n,s,x,r);v>0&&m+b+2*a>u&&(d+=f+a,c.push({width:f,height:m}),g+=f+a,y++,f=m=0),l[v]={left:g,top:m,col:y,width:_,height:b},f=Math.max(f,_),m+=b+a}),d+=f,c.push({width:f,height:m}),d}adjustHitBoxes(){if(!this.options.display)return;const e=this._computeTitleHeight(),{legendHitBoxes:n,options:{align:i,labels:{padding:r},rtl:s}}=this,o=ap(s,this.left,this.width);if(this.isHorizontal()){let a=0,l=Hr(i,this.left+r,this.right-this.lineWidths[a]);for(const c of n)a!==c.row&&(a=c.row,l=Hr(i,this.left+r,this.right-this.lineWidths[a])),c.top+=this.top+e+r,c.left=o.leftForLtr(o.x(l),c.width),l+=c.width+r}else{let a=0,l=Hr(i,this.top+e+r,this.bottom-this.columnSizes[a].height);for(const c of n)c.col!==a&&(a=c.col,l=Hr(i,this.top+e+r,this.bottom-this.columnSizes[a].height)),c.top=l,c.left+=this.left+r,c.left=o.leftForLtr(o.x(c.left),c.width),l+=c.height+r}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const e=this.ctx;vy(e,this),this._draw(),yy(e)}}_draw(){const{options:e,columnSizes:n,lineWidths:i,ctx:r}=this,{align:s,labels:o}=e,a=ui.color,l=ap(e.rtl,this.left,this.width),c=di(o.font),{padding:u}=o,d=c.size,f=d/2;let m;this.drawTitle(),r.textAlign=l.textAlign("left"),r.textBaseline="middle",r.lineWidth=.5,r.font=c.string;const{boxWidth:g,boxHeight:y,itemHeight:x}=nB(o,d),v=function(T,R,I){if(isNaN(g)||g<=0||isNaN(y)||y<0)return;r.save();const A=zt(I.lineWidth,1);if(r.fillStyle=zt(I.fillStyle,a),r.lineCap=zt(I.lineCap,"butt"),r.lineDashOffset=zt(I.lineDashOffset,0),r.lineJoin=zt(I.lineJoin,"miter"),r.lineWidth=A,r.strokeStyle=zt(I.strokeStyle,a),r.setLineDash(zt(I.lineDash,[])),o.usePointStyle){const L={radius:y*Math.SQRT2/2,pointStyle:I.pointStyle,rotation:I.rotation,borderWidth:A},O=l.xPlus(T,g/2),H=R+f;h8(r,L,O,H,o.pointStyleWidth&&g)}else{const L=R+Math.max((d-y)/2,0),O=l.leftForLtr(T,g),H=nu(I.borderRadius);r.beginPath(),Object.values(H).some(q=>q!==0)?$p(r,{x:O,y:L,w:g,h:y,radius:H}):r.rect(O,L,g,y),r.fill(),A!==0&&r.stroke()}r.restore()},_=function(T,R,I){rf(r,I.text,T,R+x/2,c,{strikethrough:I.hidden,textAlign:l.textAlign(I.textAlign)})},b=this.isHorizontal(),w=this._computeTitleHeight();b?m={x:Hr(s,this.left+u,this.right-i[0]),y:this.top+u+w,line:0}:m={x:this.left+u,y:Hr(s,this.top+w+u,this.bottom-n[0].height),line:0},b8(this.ctx,e.textDirection);const C=x+u;this.legendItems.forEach((T,R)=>{r.strokeStyle=T.fontColor,r.fillStyle=T.fontColor;const I=r.measureText(T.text).width,A=l.textAlign(T.textAlign||(T.textAlign=o.textAlign)),L=g+f+I;let O=m.x,H=m.y;l.setWidth(this.width),b?R>0&&O+L+u>this.right&&(H=m.y+=C,m.line++,O=m.x=Hr(s,this.left+u,this.right-i[m.line])):R>0&&H+C>this.bottom&&(O=m.x=O+n[m.line].width+u,m.line++,H=m.y=Hr(s,this.top+w+u,this.bottom-n[m.line].height));const q=l.x(O);if(v(q,H,T),O=w_e(A,O+g+f,b?O+L:this.right,e.rtl),_(l.x(O),H,T),b)m.x+=L+u;else if(typeof T.text!="string"){const U=c.lineHeight;m.y+=$8(T,U)+u}else m.y+=C}),S8(this.ctx,e.textDirection)}drawTitle(){const e=this.options,n=e.title,i=di(n.font),r=Wi(n.padding);if(!n.display)return;const s=ap(e.rtl,this.left,this.width),o=this.ctx,a=n.position,l=i.size/2,c=r.top+l;let u,d=this.left,f=this.width;if(this.isHorizontal())f=Math.max(...this.lineWidths),u=this.top+c,d=Hr(e.align,d,this.right-f);else{const g=this.columnSizes.reduce((y,x)=>Math.max(y,x.height),0);u=c+Hr(e.align,this.top,this.bottom-g-e.labels.padding-this._computeTitleHeight())}const m=Hr(a,d,d+f);o.textAlign=s.textAlign(DI(a)),o.textBaseline="middle",o.strokeStyle=n.color,o.fillStyle=n.color,o.font=i.string,rf(o,n.text,m,u,i)}_computeTitleHeight(){const e=this.options.title,n=di(e.font),i=Wi(e.padding);return e.display?n.lineHeight+i.height:0}_getLegendItemAt(e,n){let i,r,s;if(Al(e,this.left,this.right)&&Al(n,this.top,this.bottom)){for(s=this.legendHitBoxes,i=0;i<s.length;++i)if(r=s[i],Al(e,r.left,r.left+r.width)&&Al(n,r.top,r.top+r.height))return this.legendItems[i]}return null}handleEvent(e){const n=this.options;if(!rwe(e.type,n))return;const i=this._getLegendItemAt(e.x,e.y);if(e.type==="mousemove"||e.type==="mouseout"){const r=this._hoveredItem,s=ewe(r,i);r&&!s&&Rn(n.onLeave,[e,r,this],this),this._hoveredItem=i,i&&!s&&Rn(n.onHover,[e,i,this],this)}else i&&Rn(n.onClick,[e,i,this],this)}}function twe(t,e,n,i,r){const s=nwe(i,t,e,n),o=iwe(r,i,e.lineHeight);return{itemWidth:s,itemHeight:o}}function nwe(t,e,n,i){let r=t.text;return r&&typeof r!="string"&&(r=r.reduce((s,o)=>s.length>o.length?s:o)),e+n.size/2+i.measureText(r).width}function iwe(t,e,n){let i=t;return typeof e.text!="string"&&(i=$8(e,n)),i}function $8(t,e){const n=t.text?t.text.length:0;return e*n}function rwe(t,e){return!!((t==="mousemove"||t==="mouseout")&&(e.onHover||e.onLeave)||e.onClick&&(t==="click"||t==="mouseup"))}var swe={id:"legend",_element:iB,start(t,e,n){const i=t.legend=new iB({ctx:t.ctx,options:n,chart:t});Wr.configure(t,i,n),Wr.addBox(t,i)},stop(t){Wr.removeBox(t,t.legend),delete t.legend},beforeUpdate(t,e,n){const i=t.legend;Wr.configure(t,i,n),i.options=n},afterUpdate(t){const e=t.legend;e.buildLabels(),e.adjustHitBoxes()},afterEvent(t,e){e.replay||t.legend.handleEvent(e.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(t,e,n){const i=e.datasetIndex,r=n.chart;r.isDatasetVisible(i)?(r.hide(i),e.hidden=!0):(r.show(i),e.hidden=!1)},onHover:null,onLeave:null,labels:{color:t=>t.chart.options.color,boxWidth:40,padding:10,generateLabels(t){const e=t.data.datasets,{labels:{usePointStyle:n,pointStyle:i,textAlign:r,color:s,useBorderRadius:o,borderRadius:a}}=t.legend.options;return t._getSortedDatasetMetas().map(l=>{const c=l.controller.getStyle(n?0:void 0),u=Wi(c.borderWidth);return{text:e[l.index].label,fillStyle:c.backgroundColor,fontColor:s,hidden:!l.visible,lineCap:c.borderCapStyle,lineDash:c.borderDash,lineDashOffset:c.borderDashOffset,lineJoin:c.borderJoinStyle,lineWidth:(u.width+u.height)/4,strokeStyle:c.borderColor,pointStyle:i||c.pointStyle,rotation:c.rotation,textAlign:r||c.textAlign,borderRadius:o&&(a||c.borderRadius),datasetIndex:l.index}},this)}},title:{color:t=>t.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:t=>!t.startsWith("on"),labels:{_scriptable:t=>!["generateLabels","filter","sort"].includes(t)}}};class GI extends Cr{constructor(e){super(),this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,n){const i=this.options;if(this.left=0,this.top=0,!i.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=e,this.height=this.bottom=n;const r=yn(i.text)?i.text.length:1;this._padding=Wi(i.padding);const s=r*di(i.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=s:this.width=s}isHorizontal(){const e=this.options.position;return e==="top"||e==="bottom"}_drawArgs(e){const{top:n,left:i,bottom:r,right:s,options:o}=this,a=o.align;let l=0,c,u,d;return this.isHorizontal()?(u=Hr(a,i,s),d=n+e,c=s-i):(o.position==="left"?(u=i+e,d=Hr(a,r,n),l=on*-.5):(u=s-e,d=Hr(a,n,r),l=on*.5),c=r-n),{titleX:u,titleY:d,maxWidth:c,rotation:l}}draw(){const e=this.ctx,n=this.options;if(!n.display)return;const i=di(n.font),s=i.lineHeight/2+this._padding.top,{titleX:o,titleY:a,maxWidth:l,rotation:c}=this._drawArgs(s);rf(e,n.text,0,0,i,{color:n.color,maxWidth:l,rotation:c,textAlign:DI(n.align),textBaseline:"middle",translation:[o,a]})}}function owe(t,e){const n=new GI({ctx:t.ctx,options:e,chart:t});Wr.configure(t,n,e),Wr.addBox(t,n),t.titleBlock=n}var awe={id:"title",_element:GI,start(t,e,n){owe(t,n)},stop(t){const e=t.titleBlock;Wr.removeBox(t,e),delete t.titleBlock},beforeUpdate(t,e,n){const i=t.titleBlock;Wr.configure(t,i,n),i.options=n},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const sb=new WeakMap;var lwe={id:"subtitle",start(t,e,n){const i=new GI({ctx:t.ctx,options:n,chart:t});Wr.configure(t,i,n),Wr.addBox(t,i),sb.set(t,i)},stop(t){Wr.removeBox(t,sb.get(t)),sb.delete(t)},beforeUpdate(t,e,n){const i=sb.get(t);Wr.configure(t,i,n),i.options=n},defaults:{align:"center",display:!1,font:{weight:"normal"},fullSize:!0,padding:0,position:"top",text:"",weight:1500},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const Wg={average(t){if(!t.length)return!1;let e,n,i=0,r=0,s=0;for(e=0,n=t.length;e<n;++e){const o=t[e].element;if(o&&o.hasValue()){const a=o.tooltipPosition();i+=a.x,r+=a.y,++s}}return{x:i/s,y:r/s}},nearest(t,e){if(!t.length)return!1;let n=e.x,i=e.y,r=Number.POSITIVE_INFINITY,s,o,a;for(s=0,o=t.length;s<o;++s){const l=t[s].element;if(l&&l.hasValue()){const c=l.getCenterPoint(),u=Gp(e,c);u<r&&(r=u,a=l)}}if(a){const l=a.tooltipPosition();n=l.x,i=l.y}return{x:n,y:i}}};function Sa(t,e){return e&&(yn(e)?Array.prototype.push.apply(t,e):t.push(e)),t}function gl(t){return(typeof t=="string"||t instanceof String)&&t.indexOf(`
`)>-1?t.split(`
`):t}function cwe(t,e){const{element:n,datasetIndex:i,index:r}=e,s=t.getDatasetMeta(i).controller,{label:o,value:a}=s.getLabelAndValue(r);return{chart:t,label:o,parsed:s.getParsed(r),raw:t.data.datasets[i].data[r],formattedValue:a,dataset:s.getDataset(),dataIndex:r,datasetIndex:i,element:n}}function rB(t,e){const n=t.chart.ctx,{body:i,footer:r,title:s}=t,{boxWidth:o,boxHeight:a}=e,l=di(e.bodyFont),c=di(e.titleFont),u=di(e.footerFont),d=s.length,f=r.length,m=i.length,g=Wi(e.padding);let y=g.height,x=0,v=i.reduce((w,C)=>w+C.before.length+C.lines.length+C.after.length,0);if(v+=t.beforeBody.length+t.afterBody.length,d&&(y+=d*c.lineHeight+(d-1)*e.titleSpacing+e.titleMarginBottom),v){const w=e.displayColors?Math.max(a,l.lineHeight):l.lineHeight;y+=m*w+(v-m)*l.lineHeight+(v-1)*e.bodySpacing}f&&(y+=e.footerMarginTop+f*u.lineHeight+(f-1)*e.footerSpacing);let _=0;const b=function(w){x=Math.max(x,n.measureText(w).width+_)};return n.save(),n.font=c.string,Pn(t.title,b),n.font=l.string,Pn(t.beforeBody.concat(t.afterBody),b),_=e.displayColors?o+2+e.boxPadding:0,Pn(i,w=>{Pn(w.before,b),Pn(w.lines,b),Pn(w.after,b)}),_=0,n.font=u.string,Pn(t.footer,b),n.restore(),x+=g.width,{width:x,height:y}}function uwe(t,e){const{y:n,height:i}=e;return n<i/2?"top":n>t.height-i/2?"bottom":"center"}function dwe(t,e,n,i){const{x:r,width:s}=i,o=n.caretSize+n.caretPadding;if(t==="left"&&r+s+o>e.width||t==="right"&&r-s-o<0)return!0}function fwe(t,e,n,i){const{x:r,width:s}=n,{width:o,chartArea:{left:a,right:l}}=t;let c="center";return i==="center"?c=r<=(a+l)/2?"left":"right":r<=s/2?c="left":r>=o-s/2&&(c="right"),dwe(c,t,e,n)&&(c="center"),c}function sB(t,e,n){const i=n.yAlign||e.yAlign||uwe(t,n);return{xAlign:n.xAlign||e.xAlign||fwe(t,e,n,i),yAlign:i}}function hwe(t,e){let{x:n,width:i}=t;return e==="right"?n-=i:e==="center"&&(n-=i/2),n}function pwe(t,e,n){let{y:i,height:r}=t;return e==="top"?i+=n:e==="bottom"?i-=r+n:i-=r/2,i}function oB(t,e,n,i){const{caretSize:r,caretPadding:s,cornerRadius:o}=t,{xAlign:a,yAlign:l}=n,c=r+s,{topLeft:u,topRight:d,bottomLeft:f,bottomRight:m}=nu(o);let g=hwe(e,a);const y=pwe(e,l,c);return l==="center"?a==="left"?g+=c:a==="right"&&(g-=c):a==="left"?g-=Math.max(u,f)+r:a==="right"&&(g+=Math.max(d,m)+r),{x:fr(g,0,i.width-e.width),y:fr(y,0,i.height-e.height)}}function ob(t,e,n){const i=Wi(n.padding);return e==="center"?t.x+t.width/2:e==="right"?t.x+t.width-i.right:t.x+i.left}function aB(t){return Sa([],gl(t))}function mwe(t,e,n){return Ru(t,{tooltip:e,tooltipItems:n,type:"tooltip"})}function lB(t,e){const n=e&&e.dataset&&e.dataset.tooltip&&e.dataset.tooltip.callbacks;return n?t.override(n):t}const X8={beforeTitle:hl,title(t){if(t.length>0){const e=t[0],n=e.chart.data.labels,i=n?n.length:0;if(this&&this.options&&this.options.mode==="dataset")return e.dataset.label||"";if(e.label)return e.label;if(i>0&&e.dataIndex<i)return n[e.dataIndex]}return""},afterTitle:hl,beforeBody:hl,beforeLabel:hl,label(t){if(this&&this.options&&this.options.mode==="dataset")return t.label+": "+t.formattedValue||t.formattedValue;let e=t.dataset.label||"";e&&(e+=": ");const n=t.formattedValue;return fn(n)||(e+=n),e},labelColor(t){const n=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{borderColor:n.borderColor,backgroundColor:n.backgroundColor,borderWidth:n.borderWidth,borderDash:n.borderDash,borderDashOffset:n.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(t){const n=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{pointStyle:n.pointStyle,rotation:n.rotation}},afterLabel:hl,afterBody:hl,beforeFooter:hl,footer:hl,afterFooter:hl};function vs(t,e,n,i){const r=t[e].call(n,i);return typeof r>"u"?X8[e].call(n,i):r}class cA extends Cr{constructor(e){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=e.chart,this.options=e.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(e){this.options=e,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const e=this._cachedAnimations;if(e)return e;const n=this.chart,i=this.options.setContext(this.getContext()),r=i.enabled&&n.options.animation&&i.animations,s=new VI(this.chart,r);return r._cacheable&&(this._cachedAnimations=Object.freeze(s)),s}getContext(){return this.$context||(this.$context=mwe(this.chart.getContext(),this,this._tooltipItems))}getTitle(e,n){const{callbacks:i}=n,r=vs(i,"beforeTitle",this,e),s=vs(i,"title",this,e),o=vs(i,"afterTitle",this,e);let a=[];return a=Sa(a,gl(r)),a=Sa(a,gl(s)),a=Sa(a,gl(o)),a}getBeforeBody(e,n){return aB(vs(n.callbacks,"beforeBody",this,e))}getBody(e,n){const{callbacks:i}=n,r=[];return Pn(e,s=>{const o={before:[],lines:[],after:[]},a=lB(i,s);Sa(o.before,gl(vs(a,"beforeLabel",this,s))),Sa(o.lines,vs(a,"label",this,s)),Sa(o.after,gl(vs(a,"afterLabel",this,s))),r.push(o)}),r}getAfterBody(e,n){return aB(vs(n.callbacks,"afterBody",this,e))}getFooter(e,n){const{callbacks:i}=n,r=vs(i,"beforeFooter",this,e),s=vs(i,"footer",this,e),o=vs(i,"afterFooter",this,e);let a=[];return a=Sa(a,gl(r)),a=Sa(a,gl(s)),a=Sa(a,gl(o)),a}_createItems(e){const n=this._active,i=this.chart.data,r=[],s=[],o=[];let a=[],l,c;for(l=0,c=n.length;l<c;++l)a.push(cwe(this.chart,n[l]));return e.filter&&(a=a.filter((u,d,f)=>e.filter(u,d,f,i))),e.itemSort&&(a=a.sort((u,d)=>e.itemSort(u,d,i))),Pn(a,u=>{const d=lB(e.callbacks,u);r.push(vs(d,"labelColor",this,u)),s.push(vs(d,"labelPointStyle",this,u)),o.push(vs(d,"labelTextColor",this,u))}),this.labelColors=r,this.labelPointStyles=s,this.labelTextColors=o,this.dataPoints=a,a}update(e,n){const i=this.options.setContext(this.getContext()),r=this._active;let s,o=[];if(!r.length)this.opacity!==0&&(s={opacity:0});else{const a=Wg[i.position].call(this,r,this._eventPosition);o=this._createItems(i),this.title=this.getTitle(o,i),this.beforeBody=this.getBeforeBody(o,i),this.body=this.getBody(o,i),this.afterBody=this.getAfterBody(o,i),this.footer=this.getFooter(o,i);const l=this._size=rB(this,i),c=Object.assign({},a,l),u=sB(this.chart,i,c),d=oB(i,c,u,this.chart);this.xAlign=u.xAlign,this.yAlign=u.yAlign,s={opacity:1,x:d.x,y:d.y,width:l.width,height:l.height,caretX:a.x,caretY:a.y}}this._tooltipItems=o,this.$context=void 0,s&&this._resolveAnimations().update(this,s),e&&i.external&&i.external.call(this,{chart:this.chart,tooltip:this,replay:n})}drawCaret(e,n,i,r){const s=this.getCaretPosition(e,i,r);n.lineTo(s.x1,s.y1),n.lineTo(s.x2,s.y2),n.lineTo(s.x3,s.y3)}getCaretPosition(e,n,i){const{xAlign:r,yAlign:s}=this,{caretSize:o,cornerRadius:a}=i,{topLeft:l,topRight:c,bottomLeft:u,bottomRight:d}=nu(a),{x:f,y:m}=e,{width:g,height:y}=n;let x,v,_,b,w,C;return s==="center"?(w=m+y/2,r==="left"?(x=f,v=x-o,b=w+o,C=w-o):(x=f+g,v=x+o,b=w-o,C=w+o),_=x):(r==="left"?v=f+Math.max(l,u)+o:r==="right"?v=f+g-Math.max(c,d)-o:v=this.caretX,s==="top"?(b=m,w=b-o,x=v-o,_=v+o):(b=m+y,w=b+o,x=v+o,_=v-o),C=b),{x1:x,x2:v,x3:_,y1:b,y2:w,y3:C}}drawTitle(e,n,i){const r=this.title,s=r.length;let o,a,l;if(s){const c=ap(i.rtl,this.x,this.width);for(e.x=ob(this,i.titleAlign,i),n.textAlign=c.textAlign(i.titleAlign),n.textBaseline="middle",o=di(i.titleFont),a=i.titleSpacing,n.fillStyle=i.titleColor,n.font=o.string,l=0;l<s;++l)n.fillText(r[l],c.x(e.x),e.y+o.lineHeight/2),e.y+=o.lineHeight+a,l+1===s&&(e.y+=i.titleMarginBottom-a)}}_drawColorBox(e,n,i,r,s){const o=this.labelColors[i],a=this.labelPointStyles[i],{boxHeight:l,boxWidth:c}=s,u=di(s.bodyFont),d=ob(this,"left",s),f=r.x(d),m=l<u.lineHeight?(u.lineHeight-l)/2:0,g=n.y+m;if(s.usePointStyle){const y={radius:Math.min(c,l)/2,pointStyle:a.pointStyle,rotation:a.rotation,borderWidth:1},x=r.leftForLtr(f,c)+c/2,v=g+l/2;e.strokeStyle=s.multiKeyBackground,e.fillStyle=s.multiKeyBackground,nA(e,y,x,v),e.strokeStyle=o.borderColor,e.fillStyle=o.backgroundColor,nA(e,y,x,v)}else{e.lineWidth=Kt(o.borderWidth)?Math.max(...Object.values(o.borderWidth)):o.borderWidth||1,e.strokeStyle=o.borderColor,e.setLineDash(o.borderDash||[]),e.lineDashOffset=o.borderDashOffset||0;const y=r.leftForLtr(f,c),x=r.leftForLtr(r.xPlus(f,1),c-2),v=nu(o.borderRadius);Object.values(v).some(_=>_!==0)?(e.beginPath(),e.fillStyle=s.multiKeyBackground,$p(e,{x:y,y:g,w:c,h:l,radius:v}),e.fill(),e.stroke(),e.fillStyle=o.backgroundColor,e.beginPath(),$p(e,{x,y:g+1,w:c-2,h:l-2,radius:v}),e.fill()):(e.fillStyle=s.multiKeyBackground,e.fillRect(y,g,c,l),e.strokeRect(y,g,c,l),e.fillStyle=o.backgroundColor,e.fillRect(x,g+1,c-2,l-2))}e.fillStyle=this.labelTextColors[i]}drawBody(e,n,i){const{body:r}=this,{bodySpacing:s,bodyAlign:o,displayColors:a,boxHeight:l,boxWidth:c,boxPadding:u}=i,d=di(i.bodyFont);let f=d.lineHeight,m=0;const g=ap(i.rtl,this.x,this.width),y=function(I){n.fillText(I,g.x(e.x+m),e.y+f/2),e.y+=f+s},x=g.textAlign(o);let v,_,b,w,C,T,R;for(n.textAlign=o,n.textBaseline="middle",n.font=d.string,e.x=ob(this,x,i),n.fillStyle=i.bodyColor,Pn(this.beforeBody,y),m=a&&x!=="right"?o==="center"?c/2+u:c+2+u:0,w=0,T=r.length;w<T;++w){for(v=r[w],_=this.labelTextColors[w],n.fillStyle=_,Pn(v.before,y),b=v.lines,a&&b.length&&(this._drawColorBox(n,e,w,g,i),f=Math.max(d.lineHeight,l)),C=0,R=b.length;C<R;++C)y(b[C]),f=d.lineHeight;Pn(v.after,y)}m=0,f=d.lineHeight,Pn(this.afterBody,y),e.y-=s}drawFooter(e,n,i){const r=this.footer,s=r.length;let o,a;if(s){const l=ap(i.rtl,this.x,this.width);for(e.x=ob(this,i.footerAlign,i),e.y+=i.footerMarginTop,n.textAlign=l.textAlign(i.footerAlign),n.textBaseline="middle",o=di(i.footerFont),n.fillStyle=i.footerColor,n.font=o.string,a=0;a<s;++a)n.fillText(r[a],l.x(e.x),e.y+o.lineHeight/2),e.y+=o.lineHeight+i.footerSpacing}}drawBackground(e,n,i,r){const{xAlign:s,yAlign:o}=this,{x:a,y:l}=e,{width:c,height:u}=i,{topLeft:d,topRight:f,bottomLeft:m,bottomRight:g}=nu(r.cornerRadius);n.fillStyle=r.backgroundColor,n.strokeStyle=r.borderColor,n.lineWidth=r.borderWidth,n.beginPath(),n.moveTo(a+d,l),o==="top"&&this.drawCaret(e,n,i,r),n.lineTo(a+c-f,l),n.quadraticCurveTo(a+c,l,a+c,l+f),o==="center"&&s==="right"&&this.drawCaret(e,n,i,r),n.lineTo(a+c,l+u-g),n.quadraticCurveTo(a+c,l+u,a+c-g,l+u),o==="bottom"&&this.drawCaret(e,n,i,r),n.lineTo(a+m,l+u),n.quadraticCurveTo(a,l+u,a,l+u-m),o==="center"&&s==="left"&&this.drawCaret(e,n,i,r),n.lineTo(a,l+d),n.quadraticCurveTo(a,l,a+d,l),n.closePath(),n.fill(),r.borderWidth>0&&n.stroke()}_updateAnimationTarget(e){const n=this.chart,i=this.$animations,r=i&&i.x,s=i&&i.y;if(r||s){const o=Wg[e.position].call(this,this._active,this._eventPosition);if(!o)return;const a=this._size=rB(this,e),l=Object.assign({},o,this._size),c=sB(n,e,l),u=oB(e,l,c,n);(r._to!==u.x||s._to!==u.y)&&(this.xAlign=c.xAlign,this.yAlign=c.yAlign,this.width=a.width,this.height=a.height,this.caretX=o.x,this.caretY=o.y,this._resolveAnimations().update(this,u))}}_willRender(){return!!this.opacity}draw(e){const n=this.options.setContext(this.getContext());let i=this.opacity;if(!i)return;this._updateAnimationTarget(n);const r={width:this.width,height:this.height},s={x:this.x,y:this.y};i=Math.abs(i)<.001?0:i;const o=Wi(n.padding),a=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;n.enabled&&a&&(e.save(),e.globalAlpha=i,this.drawBackground(s,e,r,n),b8(e,n.textDirection),s.y+=o.top,this.drawTitle(s,e,n),this.drawBody(s,e,n),this.drawFooter(s,e,n),S8(e,n.textDirection),e.restore())}getActiveElements(){return this._active||[]}setActiveElements(e,n){const i=this._active,r=e.map(({datasetIndex:a,index:l})=>{const c=this.chart.getDatasetMeta(a);if(!c)throw new Error("Cannot find a dataset at index "+a);return{datasetIndex:a,element:c.data[l],index:l}}),s=!Y1(i,r),o=this._positionChanged(r,n);(s||o)&&(this._active=r,this._eventPosition=n,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(e,n,i=!0){if(n&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const r=this.options,s=this._active||[],o=this._getActiveElements(e,s,n,i),a=this._positionChanged(o,e),l=n||!Y1(o,s)||a;return l&&(this._active=o,(r.enabled||r.external)&&(this._eventPosition={x:e.x,y:e.y},this.update(!0,n))),l}_getActiveElements(e,n,i,r){const s=this.options;if(e.type==="mouseout")return[];if(!r)return n.filter(a=>this.chart.data.datasets[a.datasetIndex]&&this.chart.getDatasetMeta(a.datasetIndex).controller.getParsed(a.index)!==void 0);const o=this.chart.getElementsAtEventForMode(e,s.mode,s,i);return s.reverse&&o.reverse(),o}_positionChanged(e,n){const{caretX:i,caretY:r,options:s}=this,o=Wg[s.position].call(this,e,n);return o!==!1&&(i!==o.x||r!==o.y)}}ye(cA,"positioners",Wg);var gwe={id:"tooltip",_element:cA,positioners:Wg,afterInit(t,e,n){n&&(t.tooltip=new cA({chart:t,options:n}))},beforeUpdate(t,e,n){t.tooltip&&t.tooltip.initialize(n)},reset(t,e,n){t.tooltip&&t.tooltip.initialize(n)},afterDraw(t){const e=t.tooltip;if(e&&e._willRender()){const n={tooltip:e};if(t.notifyPlugins("beforeTooltipDraw",{...n,cancelable:!0})===!1)return;e.draw(t.ctx),t.notifyPlugins("afterTooltipDraw",n)}},afterEvent(t,e){if(t.tooltip){const n=e.replay;t.tooltip.handleEvent(e.event,n,e.inChartArea)&&(e.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(t,e)=>e.bodyFont.size,boxWidth:(t,e)=>e.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:X8},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:t=>t!=="filter"&&t!=="itemSort"&&t!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]},vwe=Object.freeze({__proto__:null,Colors:ASe,Decimation:LSe,Filler:JSe,Legend:swe,SubTitle:lwe,Title:awe,Tooltip:gwe});const ywe=(t,e,n,i)=>(typeof e=="string"?(n=t.push(e)-1,i.unshift({index:n,label:e})):isNaN(e)&&(n=null),n);function xwe(t,e,n,i){const r=t.indexOf(e);if(r===-1)return ywe(t,e,n,i);const s=t.lastIndexOf(e);return r!==s?n:r}const _we=(t,e)=>t===null?null:fr(Math.round(t),0,e);function cB(t){const e=this.getLabels();return t>=0&&t<e.length?e[t]:t}class uA extends bf{constructor(e){super(e),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(e){const n=this._addedLabels;if(n.length){const i=this.getLabels();for(const{index:r,label:s}of n)i[r]===s&&i.splice(r,1);this._addedLabels=[]}super.init(e)}parse(e,n){if(fn(e))return null;const i=this.getLabels();return n=isFinite(n)&&i[n]===e?n:xwe(i,e,zt(n,e),this._addedLabels),_we(n,i.length-1)}determineDataLimits(){const{minDefined:e,maxDefined:n}=this.getUserBounds();let{min:i,max:r}=this.getMinMax(!0);this.options.bounds==="ticks"&&(e||(i=0),n||(r=this.getLabels().length-1)),this.min=i,this.max=r}buildTicks(){const e=this.min,n=this.max,i=this.options.offset,r=[];let s=this.getLabels();s=e===0&&n===s.length-1?s:s.slice(e,n+1),this._valueRange=Math.max(s.length-(i?0:1),1),this._startValue=this.min-(i?.5:0);for(let o=e;o<=n;o++)r.push({value:o});return r}getLabelForValue(e){return cB.call(this,e)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(e){return typeof e!="number"&&(e=this.parse(e)),e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getPixelForTick(e){const n=this.ticks;return e<0||e>n.length-1?null:this.getPixelForValue(n[e].value)}getValueForPixel(e){return Math.round(this._startValue+this.getDecimalForPixel(e)*this._valueRange)}getBasePixel(){return this.bottom}}ye(uA,"id","category"),ye(uA,"defaults",{ticks:{callback:cB}});function bwe(t,e){const n=[],{bounds:r,step:s,min:o,max:a,precision:l,count:c,maxTicks:u,maxDigits:d,includeBounds:f}=t,m=s||1,g=u-1,{min:y,max:x}=e,v=!fn(o),_=!fn(a),b=!fn(c),w=(x-y)/(d+1);let C=iU((x-y)/g/m)*m,T,R,I,A;if(C<1e-14&&!v&&!_)return[{value:y},{value:x}];A=Math.ceil(x/C)-Math.floor(y/C),A>g&&(C=iU(A*C/g/m)*m),fn(l)||(T=Math.pow(10,l),C=Math.ceil(C*T)/T),r==="ticks"?(R=Math.floor(y/C)*C,I=Math.ceil(x/C)*C):(R=y,I=x),v&&_&&s&&g_e((a-o)/s,C/1e3)?(A=Math.round(Math.min((a-o)/C,u)),C=(a-o)/A,R=o,I=a):b?(R=v?o:R,I=_?a:I,A=c-1,C=(I-R)/A):(A=(I-R)/C,b0(A,Math.round(A),C/1e3)?A=Math.round(A):A=Math.ceil(A));const L=Math.max(rU(C),rU(R));T=Math.pow(10,fn(l)?L:l),R=Math.round(R*T)/T,I=Math.round(I*T)/T;let O=0;for(v&&(f&&R!==o?(n.push({value:o}),R<o&&O++,b0(Math.round((R+O*C)*T)/T,o,uB(o,w,t))&&O++):R<o&&O++);O<A;++O){const H=Math.round((R+O*C)*T)/T;if(_&&H>a)break;n.push({value:H})}return _&&f&&I!==a?n.length&&b0(n[n.length-1].value,a,uB(a,w,t))?n[n.length-1].value=a:n.push({value:a}):(!_||I===a)&&n.push({value:I}),n}function uB(t,e,{horizontal:n,minRotation:i}){const r=Vi(i),s=(n?Math.sin(r):Math.cos(r))||.001,o=.75*e*(""+t).length;return Math.min(e/s,o)}class nS extends bf{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(e,n){return fn(e)||(typeof e=="number"||e instanceof Number)&&!isFinite(+e)?null:+e}handleTickRangeOptions(){const{beginAtZero:e}=this.options,{minDefined:n,maxDefined:i}=this.getUserBounds();let{min:r,max:s}=this;const o=l=>r=n?r:l,a=l=>s=i?s:l;if(e){const l=Wa(r),c=Wa(s);l<0&&c<0?a(0):l>0&&c>0&&o(0)}if(r===s){let l=s===0?1:Math.abs(s*.05);a(s+l),e||o(r-l)}this.min=r,this.max=s}getTickLimit(){const e=this.options.ticks;let{maxTicksLimit:n,stepSize:i}=e,r;return i?(r=Math.ceil(this.max/i)-Math.floor(this.min/i)+1,r>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${i} would result generating up to ${r} ticks. Limiting to 1000.`),r=1e3)):(r=this.computeTickLimit(),n=n||11),n&&(r=Math.min(n,r)),r}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const e=this.options,n=e.ticks;let i=this.getTickLimit();i=Math.max(2,i);const r={maxTicks:i,bounds:e.bounds,min:e.min,max:e.max,precision:n.precision,step:n.stepSize,count:n.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:n.minRotation||0,includeBounds:n.includeBounds!==!1},s=this._range||this,o=bwe(r,s);return e.bounds==="ticks"&&r8(o,this,"value"),e.reverse?(o.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),o}configure(){const e=this.ticks;let n=this.min,i=this.max;if(super.configure(),this.options.offset&&e.length){const r=(i-n)/Math.max(e.length-1,1)/2;n-=r,i+=r}this._startValue=n,this._endValue=i,this._valueRange=i-n}getLabelForValue(e){return gy(e,this.chart.options.locale,this.options.ticks.format)}}class dA extends nS{determineDataLimits(){const{min:e,max:n}=this.getMinMax(!0);this.min=ti(e)?e:0,this.max=ti(n)?n:1,this.handleTickRangeOptions()}computeTickLimit(){const e=this.isHorizontal(),n=e?this.width:this.height,i=Vi(this.options.ticks.minRotation),r=(e?Math.sin(i):Math.cos(i))||.001,s=this._resolveTickFontOptions(0);return Math.ceil(n/Math.min(40,s.lineHeight/r))}getPixelForValue(e){return e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getValueForPixel(e){return this._startValue+this.getDecimalForPixel(e)*this._valueRange}}ye(dA,"id","linear"),ye(dA,"defaults",{ticks:{callback:lM.formatters.numeric}});const Tv=t=>Math.floor(Vc(t)),Qu=(t,e)=>Math.pow(10,Tv(t)+e);function dB(t){return t/Math.pow(10,Tv(t))===1}function fB(t,e,n){const i=Math.pow(10,n),r=Math.floor(t/i);return Math.ceil(e/i)-r}function Swe(t,e){const n=e-t;let i=Tv(n);for(;fB(t,e,i)>10;)i++;for(;fB(t,e,i)<10;)i--;return Math.min(i,Tv(t))}function wwe(t,{min:e,max:n}){e=Gs(t.min,e);const i=[],r=Tv(e);let s=Swe(e,n),o=s<0?Math.pow(10,Math.abs(s)):1;const a=Math.pow(10,s),l=r>s?Math.pow(10,r):0,c=Math.round((e-l)*o)/o,u=Math.floor((e-l)/a/10)*a*10;let d=Math.floor((c-u)/Math.pow(10,s)),f=Gs(t.min,Math.round((l+u+d*Math.pow(10,s))*o)/o);for(;f<n;)i.push({value:f,major:dB(f),significand:d}),d>=10?d=d<15?15:20:d++,d>=20&&(s++,d=2,o=s>=0?1:o),f=Math.round((l+u+d*Math.pow(10,s))*o)/o;const m=Gs(t.max,f);return i.push({value:m,major:dB(m),significand:d}),i}class fA extends bf{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._valueRange=0}parse(e,n){const i=nS.prototype.parse.apply(this,[e,n]);if(i===0){this._zero=!0;return}return ti(i)&&i>0?i:null}determineDataLimits(){const{min:e,max:n}=this.getMinMax(!0);this.min=ti(e)?Math.max(0,e):null,this.max=ti(n)?Math.max(0,n):null,this.options.beginAtZero&&(this._zero=!0),this._zero&&this.min!==this._suggestedMin&&!ti(this._userMin)&&(this.min=e===Qu(this.min,0)?Qu(this.min,-1):Qu(this.min,0)),this.handleTickRangeOptions()}handleTickRangeOptions(){const{minDefined:e,maxDefined:n}=this.getUserBounds();let i=this.min,r=this.max;const s=a=>i=e?i:a,o=a=>r=n?r:a;i===r&&(i<=0?(s(1),o(10)):(s(Qu(i,-1)),o(Qu(r,1)))),i<=0&&s(Qu(r,-1)),r<=0&&o(Qu(i,1)),this.min=i,this.max=r}buildTicks(){const e=this.options,n={min:this._userMin,max:this._userMax},i=wwe(n,this);return e.bounds==="ticks"&&r8(i,this,"value"),e.reverse?(i.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),i}getLabelForValue(e){return e===void 0?"0":gy(e,this.chart.options.locale,this.options.ticks.format)}configure(){const e=this.min;super.configure(),this._startValue=Vc(e),this._valueRange=Vc(this.max)-Vc(e)}getPixelForValue(e){return(e===void 0||e===0)&&(e=this.min),e===null||isNaN(e)?NaN:this.getPixelForDecimal(e===this.min?0:(Vc(e)-this._startValue)/this._valueRange)}getValueForPixel(e){const n=this.getDecimalForPixel(e);return Math.pow(10,this._startValue+n*this._valueRange)}}ye(fA,"id","logarithmic"),ye(fA,"defaults",{ticks:{callback:lM.formatters.logarithmic,major:{enabled:!0}}});function hA(t){const e=t.ticks;if(e.display&&t.display){const n=Wi(e.backdropPadding);return zt(e.font&&e.font.size,ui.font.size)+n.height}return 0}function Mwe(t,e,n){return n=yn(n)?n:[n],{w:L_e(t,e.string,n),h:n.length*e.lineHeight}}function hB(t,e,n,i,r){return t===i||t===r?{start:e-n/2,end:e+n/2}:t<i||t>r?{start:e-n,end:e}:{start:e,end:e+n}}function Ewe(t){const e={l:t.left+t._padding.left,r:t.right-t._padding.right,t:t.top+t._padding.top,b:t.bottom-t._padding.bottom},n=Object.assign({},e),i=[],r=[],s=t._pointLabels.length,o=t.options.pointLabels,a=o.centerPointLabels?on/s:0;for(let l=0;l<s;l++){const c=o.setContext(t.getPointLabelContext(l));r[l]=c.padding;const u=t.getPointPosition(l,t.drawingArea+r[l],a),d=di(c.font),f=Mwe(t.ctx,d,t._pointLabels[l]);i[l]=f;const m=qs(t.getIndexAngle(l)+a),g=Math.round(aM(m)),y=hB(g,u.x,f.w,0,180),x=hB(g,u.y,f.h,90,270);Twe(n,e,m,y,x)}t.setCenterPoint(e.l-n.l,n.r-e.r,e.t-n.t,n.b-e.b),t._pointLabelItems=Awe(t,i,r)}function Twe(t,e,n,i,r){const s=Math.abs(Math.sin(n)),o=Math.abs(Math.cos(n));let a=0,l=0;i.start<e.l?(a=(e.l-i.start)/s,t.l=Math.min(t.l,e.l-a)):i.end>e.r&&(a=(i.end-e.r)/s,t.r=Math.max(t.r,e.r+a)),r.start<e.t?(l=(e.t-r.start)/o,t.t=Math.min(t.t,e.t-l)):r.end>e.b&&(l=(r.end-e.b)/o,t.b=Math.max(t.b,e.b+l))}function Cwe(t,e,n){const i=t.drawingArea,{extra:r,additionalAngle:s,padding:o,size:a}=n,l=t.getPointPosition(e,i+r+o,s),c=Math.round(aM(qs(l.angle+Qn))),u=Iwe(l.y,a.h,c),d=Pwe(c),f=kwe(l.x,a.w,d);return{visible:!0,x:l.x,y:u,textAlign:d,left:f,top:u,right:f+a.w,bottom:u+a.h}}function Rwe(t,e){if(!e)return!0;const{left:n,top:i,right:r,bottom:s}=t;return!(kl({x:n,y:i},e)||kl({x:n,y:s},e)||kl({x:r,y:i},e)||kl({x:r,y:s},e))}function Awe(t,e,n){const i=[],r=t._pointLabels.length,s=t.options,{centerPointLabels:o,display:a}=s.pointLabels,l={extra:hA(s)/2,additionalAngle:o?on/r:0};let c;for(let u=0;u<r;u++){l.padding=n[u],l.size=e[u];const d=Cwe(t,u,l);i.push(d),a==="auto"&&(d.visible=Rwe(d,c),d.visible&&(c=d))}return i}function Pwe(t){return t===0||t===180?"center":t<180?"left":"right"}function kwe(t,e,n){return n==="right"?t-=e:n==="center"&&(t-=e/2),t}function Iwe(t,e,n){return n===90||n===270?t-=e/2:(n>270||n<90)&&(t-=e),t}function Lwe(t,e,n){const{left:i,top:r,right:s,bottom:o}=n,{backdropColor:a}=e;if(!fn(a)){const l=nu(e.borderRadius),c=Wi(e.backdropPadding);t.fillStyle=a;const u=i-c.left,d=r-c.top,f=s-i+c.width,m=o-r+c.height;Object.values(l).some(g=>g!==0)?(t.beginPath(),$p(t,{x:u,y:d,w:f,h:m,radius:l}),t.fill()):t.fillRect(u,d,f,m)}}function Dwe(t,e){const{ctx:n,options:{pointLabels:i}}=t;for(let r=e-1;r>=0;r--){const s=t._pointLabelItems[r];if(!s.visible)continue;const o=i.setContext(t.getPointLabelContext(r));Lwe(n,o,s);const a=di(o.font),{x:l,y:c,textAlign:u}=s;rf(n,t._pointLabels[r],l,c+a.lineHeight/2,a,{color:o.color,textAlign:u,textBaseline:"middle"})}}function Y8(t,e,n,i){const{ctx:r}=t;if(n)r.arc(t.xCenter,t.yCenter,e,0,Gn);else{let s=t.getPointPosition(0,e);r.moveTo(s.x,s.y);for(let o=1;o<i;o++)s=t.getPointPosition(o,e),r.lineTo(s.x,s.y)}}function Owe(t,e,n,i,r){const s=t.ctx,o=e.circular,{color:a,lineWidth:l}=e;!o&&!i||!a||!l||n<0||(s.save(),s.strokeStyle=a,s.lineWidth=l,s.setLineDash(r.dash),s.lineDashOffset=r.dashOffset,s.beginPath(),Y8(t,n,o,i),s.closePath(),s.stroke(),s.restore())}function Nwe(t,e,n){return Ru(t,{label:n,index:e,type:"pointLabel"})}class Gg extends nS{constructor(e){super(e),this.xCenter=void 0,this.yCenter=void 0,this.drawingArea=void 0,this._pointLabels=[],this._pointLabelItems=[]}setDimensions(){const e=this._padding=Wi(hA(this.options)/2),n=this.width=this.maxWidth-e.width,i=this.height=this.maxHeight-e.height;this.xCenter=Math.floor(this.left+n/2+e.left),this.yCenter=Math.floor(this.top+i/2+e.top),this.drawingArea=Math.floor(Math.min(n,i)/2)}determineDataLimits(){const{min:e,max:n}=this.getMinMax(!1);this.min=ti(e)&&!isNaN(e)?e:0,this.max=ti(n)&&!isNaN(n)?n:0,this.handleTickRangeOptions()}computeTickLimit(){return Math.ceil(this.drawingArea/hA(this.options))}generateTickLabels(e){nS.prototype.generateTickLabels.call(this,e),this._pointLabels=this.getLabels().map((n,i)=>{const r=Rn(this.options.pointLabels.callback,[n,i],this);return r||r===0?r:""}).filter((n,i)=>this.chart.getDataVisibility(i))}fit(){const e=this.options;e.display&&e.pointLabels.display?Ewe(this):this.setCenterPoint(0,0,0,0)}setCenterPoint(e,n,i,r){this.xCenter+=Math.floor((e-n)/2),this.yCenter+=Math.floor((i-r)/2),this.drawingArea-=Math.min(this.drawingArea/2,Math.max(e,n,i,r))}getIndexAngle(e){const n=Gn/(this._pointLabels.length||1),i=this.options.startAngle||0;return qs(e*n+Vi(i))}getDistanceFromCenterForValue(e){if(fn(e))return NaN;const n=this.drawingArea/(this.max-this.min);return this.options.reverse?(this.max-e)*n:(e-this.min)*n}getValueForDistanceFromCenter(e){if(fn(e))return NaN;const n=e/(this.drawingArea/(this.max-this.min));return this.options.reverse?this.max-n:this.min+n}getPointLabelContext(e){const n=this._pointLabels||[];if(e>=0&&e<n.length){const i=n[e];return Nwe(this.getContext(),e,i)}}getPointPosition(e,n,i=0){const r=this.getIndexAngle(e)-Qn+i;return{x:Math.cos(r)*n+this.xCenter,y:Math.sin(r)*n+this.yCenter,angle:r}}getPointPositionForValue(e,n){return this.getPointPosition(e,this.getDistanceFromCenterForValue(n))}getBasePosition(e){return this.getPointPositionForValue(e||0,this.getBaseValue())}getPointLabelPosition(e){const{left:n,top:i,right:r,bottom:s}=this._pointLabelItems[e];return{left:n,top:i,right:r,bottom:s}}drawBackground(){const{backgroundColor:e,grid:{circular:n}}=this.options;if(e){const i=this.ctx;i.save(),i.beginPath(),Y8(this,this.getDistanceFromCenterForValue(this._endValue),n,this._pointLabels.length),i.closePath(),i.fillStyle=e,i.fill(),i.restore()}}drawGrid(){const e=this.ctx,n=this.options,{angleLines:i,grid:r,border:s}=n,o=this._pointLabels.length;let a,l,c;if(n.pointLabels.display&&Dwe(this,o),r.display&&this.ticks.forEach((u,d)=>{if(d!==0){l=this.getDistanceFromCenterForValue(u.value);const f=this.getContext(d),m=r.setContext(f),g=s.setContext(f);Owe(this,m,l,o,g)}}),i.display){for(e.save(),a=o-1;a>=0;a--){const u=i.setContext(this.getPointLabelContext(a)),{color:d,lineWidth:f}=u;!f||!d||(e.lineWidth=f,e.strokeStyle=d,e.setLineDash(u.borderDash),e.lineDashOffset=u.borderDashOffset,l=this.getDistanceFromCenterForValue(n.ticks.reverse?this.min:this.max),c=this.getPointPosition(a,l),e.beginPath(),e.moveTo(this.xCenter,this.yCenter),e.lineTo(c.x,c.y),e.stroke())}e.restore()}}drawBorder(){}drawLabels(){const e=this.ctx,n=this.options,i=n.ticks;if(!i.display)return;const r=this.getIndexAngle(0);let s,o;e.save(),e.translate(this.xCenter,this.yCenter),e.rotate(r),e.textAlign="center",e.textBaseline="middle",this.ticks.forEach((a,l)=>{if(l===0&&!n.reverse)return;const c=i.setContext(this.getContext(l)),u=di(c.font);if(s=this.getDistanceFromCenterForValue(this.ticks[l].value),c.showLabelBackdrop){e.font=u.string,o=e.measureText(a.label).width,e.fillStyle=c.backdropColor;const d=Wi(c.backdropPadding);e.fillRect(-o/2-d.left,-s-u.size/2-d.top,o+d.width,u.size+d.height)}rf(e,a.label,0,-s,u,{color:c.color,strokeColor:c.textStrokeColor,strokeWidth:c.textStrokeWidth})}),e.restore()}drawTitle(){}}ye(Gg,"id","radialLinear"),ye(Gg,"defaults",{display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,lineWidth:1,borderDash:[],borderDashOffset:0},grid:{circular:!1},startAngle:0,ticks:{showLabelBackdrop:!0,callback:lM.formatters.numeric},pointLabels:{backdropColor:void 0,backdropPadding:2,display:!0,font:{size:10},callback(e){return e},padding:5,centerPointLabels:!1}}),ye(Gg,"defaultRoutes",{"angleLines.color":"borderColor","pointLabels.color":"color","ticks.color":"color"}),ye(Gg,"descriptors",{angleLines:{_fallback:"grid"}});const uM={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},Cs=Object.keys(uM);function pB(t,e){return t-e}function mB(t,e){if(fn(e))return null;const n=t._adapter,{parser:i,round:r,isoWeekday:s}=t._parseOpts;let o=e;return typeof i=="function"&&(o=i(o)),ti(o)||(o=typeof i=="string"?n.parse(o,i):n.parse(o)),o===null?null:(r&&(o=r==="week"&&(mu(s)||s===!0)?n.startOf(o,"isoWeek",s):n.startOf(o,r)),+o)}function gB(t,e,n,i){const r=Cs.length;for(let s=Cs.indexOf(t);s<r-1;++s){const o=uM[Cs[s]],a=o.steps?o.steps:Number.MAX_SAFE_INTEGER;if(o.common&&Math.ceil((n-e)/(a*o.size))<=i)return Cs[s]}return Cs[r-1]}function Fwe(t,e,n,i,r){for(let s=Cs.length-1;s>=Cs.indexOf(n);s--){const o=Cs[s];if(uM[o].common&&t._adapter.diff(r,i,o)>=e-1)return o}return Cs[n?Cs.indexOf(n):0]}function zwe(t){for(let e=Cs.indexOf(t)+1,n=Cs.length;e<n;++e)if(uM[Cs[e]].common)return Cs[e]}function vB(t,e,n){if(!n)t[e]=!0;else if(n.length){const{lo:i,hi:r}=LI(n,e),s=n[i]>=e?n[i]:n[r];t[s]=!0}}function Uwe(t,e,n,i){const r=t._adapter,s=+r.startOf(e[0].value,i),o=e[e.length-1].value;let a,l;for(a=s;a<=o;a=+r.add(a,1,i))l=n[a],l>=0&&(e[l].major=!0);return e}function yB(t,e,n){const i=[],r={},s=e.length;let o,a;for(o=0;o<s;++o)a=e[o],r[a]=o,i.push({value:a,major:!1});return s===0||!n?i:Uwe(t,i,r,n)}class Cv extends bf{constructor(e){super(e),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(e,n={}){const i=e.time||(e.time={}),r=this._adapter=new R8._date(e.adapters.date);r.init(n),_0(i.displayFormats,r.formats()),this._parseOpts={parser:i.parser,round:i.round,isoWeekday:i.isoWeekday},super.init(e),this._normalized=n.normalized}parse(e,n){return e===void 0?null:mB(this,e)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const e=this.options,n=this._adapter,i=e.time.unit||"day";let{min:r,max:s,minDefined:o,maxDefined:a}=this.getUserBounds();function l(c){!o&&!isNaN(c.min)&&(r=Math.min(r,c.min)),!a&&!isNaN(c.max)&&(s=Math.max(s,c.max))}(!o||!a)&&(l(this._getLabelBounds()),(e.bounds!=="ticks"||e.ticks.source!=="labels")&&l(this.getMinMax(!1))),r=ti(r)&&!isNaN(r)?r:+n.startOf(Date.now(),i),s=ti(s)&&!isNaN(s)?s:+n.endOf(Date.now(),i)+1,this.min=Math.min(r,s-1),this.max=Math.max(r+1,s)}_getLabelBounds(){const e=this.getLabelTimestamps();let n=Number.POSITIVE_INFINITY,i=Number.NEGATIVE_INFINITY;return e.length&&(n=e[0],i=e[e.length-1]),{min:n,max:i}}buildTicks(){const e=this.options,n=e.time,i=e.ticks,r=i.source==="labels"?this.getLabelTimestamps():this._generate();e.bounds==="ticks"&&r.length&&(this.min=this._userMin||r[0],this.max=this._userMax||r[r.length-1]);const s=this.min,o=this.max,a=__e(r,s,o);return this._unit=n.unit||(i.autoSkip?gB(n.minUnit,this.min,this.max,this._getLabelCapacity(s)):Fwe(this,a.length,n.minUnit,this.min,this.max)),this._majorUnit=!i.major.enabled||this._unit==="year"?void 0:zwe(this._unit),this.initOffsets(r),e.reverse&&a.reverse(),yB(this,a,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(e=>+e.value))}initOffsets(e=[]){let n=0,i=0,r,s;this.options.offset&&e.length&&(r=this.getDecimalForValue(e[0]),e.length===1?n=1-r:n=(this.getDecimalForValue(e[1])-r)/2,s=this.getDecimalForValue(e[e.length-1]),e.length===1?i=s:i=(s-this.getDecimalForValue(e[e.length-2]))/2);const o=e.length<3?.5:.25;n=fr(n,0,o),i=fr(i,0,o),this._offsets={start:n,end:i,factor:1/(n+1+i)}}_generate(){const e=this._adapter,n=this.min,i=this.max,r=this.options,s=r.time,o=s.unit||gB(s.minUnit,n,i,this._getLabelCapacity(n)),a=zt(r.ticks.stepSize,1),l=o==="week"?s.isoWeekday:!1,c=mu(l)||l===!0,u={};let d=n,f,m;if(c&&(d=+e.startOf(d,"isoWeek",l)),d=+e.startOf(d,c?"day":o),e.diff(i,n,o)>1e5*a)throw new Error(n+" and "+i+" are too far apart with stepSize of "+a+" "+o);const g=r.ticks.source==="data"&&this.getDataTimestamps();for(f=d,m=0;f<i;f=+e.add(f,a,o),m++)vB(u,f,g);return(f===i||r.bounds==="ticks"||m===1)&&vB(u,f,g),Object.keys(u).sort(pB).map(y=>+y)}getLabelForValue(e){const n=this._adapter,i=this.options.time;return i.tooltipFormat?n.format(e,i.tooltipFormat):n.format(e,i.displayFormats.datetime)}format(e,n){const r=this.options.time.displayFormats,s=this._unit,o=n||r[s];return this._adapter.format(e,o)}_tickFormatFunction(e,n,i,r){const s=this.options,o=s.ticks.callback;if(o)return Rn(o,[e,n,i],this);const a=s.time.displayFormats,l=this._unit,c=this._majorUnit,u=l&&a[l],d=c&&a[c],f=i[n],m=c&&d&&f&&f.major;return this._adapter.format(e,r||(m?d:u))}generateTickLabels(e){let n,i,r;for(n=0,i=e.length;n<i;++n)r=e[n],r.label=this._tickFormatFunction(r.value,n,e)}getDecimalForValue(e){return e===null?NaN:(e-this.min)/(this.max-this.min)}getPixelForValue(e){const n=this._offsets,i=this.getDecimalForValue(e);return this.getPixelForDecimal((n.start+i)*n.factor)}getValueForPixel(e){const n=this._offsets,i=this.getDecimalForPixel(e)/n.factor-n.end;return this.min+i*(this.max-this.min)}_getLabelSize(e){const n=this.options.ticks,i=this.ctx.measureText(e).width,r=Vi(this.isHorizontal()?n.maxRotation:n.minRotation),s=Math.cos(r),o=Math.sin(r),a=this._resolveTickFontOptions(0).size;return{w:i*s+a*o,h:i*o+a*s}}_getLabelCapacity(e){const n=this.options.time,i=n.displayFormats,r=i[n.unit]||i.millisecond,s=this._tickFormatFunction(e,0,yB(this,[e],this._majorUnit),r),o=this._getLabelSize(s),a=Math.floor(this.isHorizontal()?this.width/o.w:this.height/o.h)-1;return a>0?a:1}getDataTimestamps(){let e=this._cache.data||[],n,i;if(e.length)return e;const r=this.getMatchingVisibleMetas();if(this._normalized&&r.length)return this._cache.data=r[0].controller.getAllParsedValues(this);for(n=0,i=r.length;n<i;++n)e=e.concat(r[n].controller.getAllParsedValues(this));return this._cache.data=this.normalize(e)}getLabelTimestamps(){const e=this._cache.labels||[];let n,i;if(e.length)return e;const r=this.getLabels();for(n=0,i=r.length;n<i;++n)e.push(mB(this,r[n]));return this._cache.labels=this._normalized?e:this.normalize(e)}normalize(e){return a8(e.sort(pB))}}ye(Cv,"id","time"),ye(Cv,"defaults",{bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}});function ab(t,e,n){let i=0,r=t.length-1,s,o,a,l;n?(e>=t[i].pos&&e<=t[r].pos&&({lo:i,hi:r}=Pl(t,"pos",e)),{pos:s,time:a}=t[i],{pos:o,time:l}=t[r]):(e>=t[i].time&&e<=t[r].time&&({lo:i,hi:r}=Pl(t,"time",e)),{time:s,pos:a}=t[i],{time:o,pos:l}=t[r]);const c=o-s;return c?a+(l-a)*(e-s)/c:a}class iS extends Cv{constructor(e){super(e),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const e=this._getTimestampsForTable(),n=this._table=this.buildLookupTable(e);this._minPos=ab(n,this.min),this._tableRange=ab(n,this.max)-this._minPos,super.initOffsets(e)}buildLookupTable(e){const{min:n,max:i}=this,r=[],s=[];let o,a,l,c,u;for(o=0,a=e.length;o<a;++o)c=e[o],c>=n&&c<=i&&r.push(c);if(r.length<2)return[{time:n,pos:0},{time:i,pos:1}];for(o=0,a=r.length;o<a;++o)u=r[o+1],l=r[o-1],c=r[o],Math.round((u+l)/2)!==c&&s.push({time:c,pos:o/(a-1)});return s}_generate(){const e=this.min,n=this.max;let i=super.getDataTimestamps();return(!i.includes(e)||!i.length)&&i.splice(0,0,e),(!i.includes(n)||i.length===1)&&i.push(n),i.sort((r,s)=>r-s)}_getTimestampsForTable(){let e=this._cache.all||[];if(e.length)return e;const n=this.getDataTimestamps(),i=this.getLabelTimestamps();return n.length&&i.length?e=this.normalize(n.concat(i)):e=n.length?n:i,e=this._cache.all=e,e}getDecimalForValue(e){return(ab(this._table,e)-this._minPos)/this._tableRange}getValueForPixel(e){const n=this._offsets,i=this.getDecimalForPixel(e)/n.factor-n.end;return ab(this._table,i*this._tableRange+this._minPos,!0)}}ye(iS,"id","timeseries"),ye(iS,"defaults",Cv.defaults);var Bwe=Object.freeze({__proto__:null,CategoryScale:uA,LinearScale:dA,LogarithmicScale:fA,RadialLinearScale:Gg,TimeScale:Cv,TimeSeriesScale:iS});const Hwe=[Ybe,wSe,vwe,Bwe];Nl.register(...Hwe);const q8="label";function xB(t,e){typeof t=="function"?t(e):t&&(t.current=e)}function Vwe(t,e){const n=t.options;n&&e&&Object.assign(n,e)}function K8(t,e){t.labels=e}function Q8(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:q8;const i=[];t.datasets=e.map(r=>{const s=t.datasets.find(o=>o[n]===r[n]);return!s||!r.data||i.includes(s)?{...r}:(i.push(s),Object.assign(s,r),s)})}function jwe(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:q8;const n={labels:[],datasets:[]};return K8(n,t.labels),Q8(n,t.datasets,e),n}function Wwe(t,e){const{height:n=150,width:i=300,redraw:r=!1,datasetIdKey:s,type:o,data:a,options:l,plugins:c=[],fallbackContent:u,updateMode:d,...f}=t,m=k.useRef(null),g=k.useRef(),y=()=>{m.current&&(g.current=new Nl(m.current,{type:o,data:jwe(a,s),options:l&&{...l},plugins:c}),xB(e,g.current))},x=()=>{xB(e,null),g.current&&(g.current.destroy(),g.current=null)};return k.useEffect(()=>{!r&&g.current&&l&&Vwe(g.current,l)},[r,l]),k.useEffect(()=>{!r&&g.current&&K8(g.current.config.data,a.labels)},[r,a.labels]),k.useEffect(()=>{!r&&g.current&&a.datasets&&Q8(g.current.config.data,a.datasets,s)},[r,a.datasets]),k.useEffect(()=>{g.current&&(r?(x(),setTimeout(y)):g.current.update(d))},[r,l,a.labels,a.datasets,d]),k.useEffect(()=>{g.current&&(x(),setTimeout(y))},[o]),k.useEffect(()=>(y(),()=>x()),[]),Qt.createElement("canvas",Object.assign({ref:m,role:"img",height:n,width:i},f),u)}const Gwe=k.forwardRef(Wwe);function $we(t,e){return Nl.register(e),k.forwardRef((n,i)=>Qt.createElement(Gwe,Object.assign({},n,{ref:i,type:t})))}const Xwe=$we("line",M0);/*!
* chartjs-plugin-annotation v3.0.1
* https://www.chartjs.org/chartjs-plugin-annotation/index
 * (c) 2023 chartjs-plugin-annotation Contributors
 * Released under the MIT License
 */const _B={modes:{point(t,e){return Jb(t,e,{intersect:!0})},nearest(t,e,n){return Kwe(t,e,n)},x(t,e,n){return Jb(t,e,{intersect:n.intersect,axis:"x"})},y(t,e,n){return Jb(t,e,{intersect:n.intersect,axis:"y"})}}};function $I(t,e,n){return(_B.modes[n.mode]||_B.modes.nearest)(t,e,n)}function Ywe(t,e,n){return n!=="x"&&n!=="y"?t.inRange(e.x,e.y,"x",!0)||t.inRange(e.x,e.y,"y",!0):t.inRange(e.x,e.y,n,!0)}function qwe(t,e,n){return n==="x"?{x:t.x,y:e.y}:n==="y"?{x:e.x,y:t.y}:e}function Jb(t,e,n){return t.visibleElements.filter(i=>n.intersect?i.inRange(e.x,e.y):Ywe(i,e,n.axis))}function Kwe(t,e,n){let i=Number.POSITIVE_INFINITY;return Jb(t,e,n).reduce((r,s)=>{const o=s.getCenterPoint(),a=qwe(e,o,n.axis),l=Gp(e,a);return l<i?(r=[s],i=l):l===i&&r.push(s),r},[]).sort((r,s)=>r._index-s._index).slice(0,1)}const Qwe=(t,e)=>e>t||t.length>e.length&&t.slice(0,e.length)===e,Sd=.001,dM=(t,e,n)=>Math.min(n,Math.max(e,t));function Zwe(t,e,n){for(const i of Object.keys(t))t[i]=dM(t[i],e,n);return t}function Jwe(t,e,n,i){if(!t||!e||n<=0)return!1;const r=i/2;return Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2)<=Math.pow(n+r,2)}function Z8(t,{x:e,y:n,x2:i,y2:r},s,o){const a=o/2,l=t.x>=e-a-Sd&&t.x<=i+a+Sd,c=t.y>=n-a-Sd&&t.y<=r+a+Sd;return s==="x"?l:(s==="y"||l)&&c}function hm(t,e){const{centerX:n,centerY:i}=t.getProps(["centerX","centerY"],e);return{x:n,y:i}}function eMe(t,e,n,i=!0){const r=n.split(".");let s=0;for(const o of e.split(".")){const a=r[s++];if(parseInt(o,10)<parseInt(a,10))break;if(Qwe(a,o)){if(i)throw new Error(`${t} v${n} is not supported. v${e} or newer is required.`);return!1}}return!0}const J8=t=>typeof t=="string"&&t.endsWith("%"),e$=t=>parseFloat(t)/100,t$=t=>dM(e$(t),0,1),lb=(t,e)=>({x:t,y:e,x2:t,y2:e,width:0,height:0}),tMe={box:t=>lb(t.centerX,t.centerY),ellipse:t=>({centerX:t.centerX,centerY:t.centerX,radius:0,width:0,height:0}),label:t=>lb(t.centerX,t.centerY),line:t=>lb(t.x,t.y),point:t=>({centerX:t.centerX,centerY:t.centerY,radius:0,width:0,height:0}),polygon:t=>lb(t.centerX,t.centerY)};function XI(t,e){return e==="start"?0:e==="end"?t:J8(e)?t$(e)*t:t/2}function gu(t,e,n=!0){return typeof e=="number"?e:J8(e)?(n?t$(e):e$(e))*t:t}function nMe(t,e){const{x:n,width:i}=t,r=e.textAlign;return r==="center"?n+i/2:r==="end"||r==="right"?n+i:n}function YI(t,e="center"){return Kt(t)?{x:zt(t.x,e),y:zt(t.y,e)}:(t=zt(t,e),{x:t,y:t})}function n$(t){return t&&(Ns(t.xValue)||Ns(t.yValue))}function _y(t,e,n){const i=n.init;if(i){if(i===!0)return r$(e,n)}else return;return iMe(t,e,n)}function i$(t,e,n){let i=!1;return e.forEach(r=>{Ls(t[r])?(i=!0,n[r]=t[r]):Ns(n[r])&&delete n[r]}),i}function r$(t,e){const n=e.type||"line";return tMe[n](t)}function iMe(t,e,n){const i=Rn(n.init,[{chart:t,properties:e,options:n}]);if(i===!0)return r$(e,n);if(Kt(i))return i}const CC=new Map,rMe=t=>isNaN(t)||t<=0,sMe=t=>t.reduce(function(e,n){return e+=n.string,e},"");function fM(t){if(t&&typeof t=="object"){const e=t.toString();return e==="[object HTMLImageElement]"||e==="[object HTMLCanvasElement]"}}function qI(t,{x:e,y:n},i){i&&(t.translate(e,n),t.rotate(Vi(i)),t.translate(-e,-n))}function vu(t,e){if(e&&e.borderWidth)return t.lineCap=e.borderCapStyle,t.setLineDash(e.borderDash),t.lineDashOffset=e.borderDashOffset,t.lineJoin=e.borderJoinStyle,t.lineWidth=e.borderWidth,t.strokeStyle=e.borderColor,!0}function pm(t,e){t.shadowColor=e.backgroundShadowColor,t.shadowBlur=e.shadowBlur,t.shadowOffsetX=e.shadowOffsetX,t.shadowOffsetY=e.shadowOffsetY}function KI(t,e){const n=e.content;if(fM(n))return{width:gu(n.width,e.width),height:gu(n.height,e.height)};const i=e.font,r=yn(i)?i.map(l=>di(l)):[di(i)],s=e.textStrokeWidth,o=yn(n)?n:[n],a=o.join()+sMe(r)+s+(t._measureText?"-spriting":"");return CC.has(a)||CC.set(a,uMe(t,o,r,s)),CC.get(a)}function s$(t,e,n){const{x:i,y:r,width:s,height:o}=e;t.save(),pm(t,n);const a=vu(t,n);t.fillStyle=n.backgroundColor,t.beginPath(),$p(t,{x:i,y:r,w:s,h:o,radius:Zwe(nu(n.borderRadius),0,Math.min(s,o)/2)}),t.closePath(),t.fill(),a&&(t.shadowColor=n.borderShadowColor,t.stroke()),t.restore()}function oMe(t,e,n){const i=n.content;if(fM(i)){t.save(),t.globalAlpha=hMe(n.opacity,i.style.opacity),t.drawImage(i,e.x,e.y,e.width,e.height),t.restore();return}const r=yn(i)?i:[i],s=n.font,o=yn(s)?s.map(d=>di(d)):[di(s)],a=n.color,l=yn(a)?a:[a],c=nMe(e,n),u=e.y+n.textStrokeWidth/2;t.save(),t.textBaseline="middle",t.textAlign=n.textAlign,aMe(t,n)&&dMe(t,{x:c,y:u},r,o),fMe(t,{x:c,y:u},r,{fonts:o,colors:l}),t.restore()}function aMe(t,e){if(e.textStrokeWidth>0)return t.lineJoin="round",t.miterLimit=2,t.lineWidth=e.textStrokeWidth,t.strokeStyle=e.textStrokeColor,!0}function lMe(t,e,n,i){const{radius:r,options:s}=e,o=s.pointStyle,a=s.rotation;let l=(a||0)*II;if(fM(o)){t.save(),t.translate(n,i),t.rotate(l),t.drawImage(o,-o.width/2,-o.height/2,o.width,o.height),t.restore();return}rMe(r)||cMe(t,{x:n,y:i,radius:r,rotation:a,style:o,rad:l})}function cMe(t,{x:e,y:n,radius:i,rotation:r,style:s,rad:o}){let a,l,c,u;switch(t.beginPath(),s){default:t.arc(e,n,i,0,Gn),t.closePath();break;case"triangle":t.moveTo(e+Math.sin(o)*i,n-Math.cos(o)*i),o+=Q1,t.lineTo(e+Math.sin(o)*i,n-Math.cos(o)*i),o+=Q1,t.lineTo(e+Math.sin(o)*i,n-Math.cos(o)*i),t.closePath();break;case"rectRounded":u=i*.516,c=i-u,a=Math.cos(o+Po)*c,l=Math.sin(o+Po)*c,t.arc(e-a,n-l,u,o-on,o-Qn),t.arc(e+l,n-a,u,o-Qn,o),t.arc(e+a,n+l,u,o,o+Qn),t.arc(e-l,n+a,u,o+Qn,o+on),t.closePath();break;case"rect":if(!r){c=Math.SQRT1_2*i,t.rect(e-c,n-c,2*c,2*c);break}o+=Po;case"rectRot":a=Math.cos(o)*i,l=Math.sin(o)*i,t.moveTo(e-a,n-l),t.lineTo(e+l,n-a),t.lineTo(e+a,n+l),t.lineTo(e-l,n+a),t.closePath();break;case"crossRot":o+=Po;case"cross":a=Math.cos(o)*i,l=Math.sin(o)*i,t.moveTo(e-a,n-l),t.lineTo(e+a,n+l),t.moveTo(e+l,n-a),t.lineTo(e-l,n+a);break;case"star":a=Math.cos(o)*i,l=Math.sin(o)*i,t.moveTo(e-a,n-l),t.lineTo(e+a,n+l),t.moveTo(e+l,n-a),t.lineTo(e-l,n+a),o+=Po,a=Math.cos(o)*i,l=Math.sin(o)*i,t.moveTo(e-a,n-l),t.lineTo(e+a,n+l),t.moveTo(e+l,n-a),t.lineTo(e-l,n+a);break;case"line":a=Math.cos(o)*i,l=Math.sin(o)*i,t.moveTo(e-a,n-l),t.lineTo(e+a,n+l);break;case"dash":t.moveTo(e,n),t.lineTo(e+Math.cos(o)*i,n+Math.sin(o)*i);break}t.fill()}function uMe(t,e,n,i){t.save();const r=e.length;let s=0,o=i;for(let a=0;a<r;a++){const l=n[Math.min(a,n.length-1)];t.font=l.string;const c=e[a];s=Math.max(s,t.measureText(c).width+i),o+=l.lineHeight}return t.restore(),{width:s,height:o}}function dMe(t,{x:e,y:n},i,r){t.beginPath();let s=0;i.forEach(function(o,a){const l=r[Math.min(a,r.length-1)],c=l.lineHeight;t.font=l.string,t.strokeText(o,e,n+c/2+s),s+=c}),t.stroke()}function fMe(t,{x:e,y:n},i,{fonts:r,colors:s}){let o=0;i.forEach(function(a,l){const c=s[Math.min(l,s.length-1)],u=r[Math.min(l,r.length-1)],d=u.lineHeight;t.beginPath(),t.font=u.string,t.fillStyle=c,t.fillText(a,e,n+d/2+o),o+=d,t.fill()})}function hMe(t,e){const n=mu(t)?t:e;return mu(n)?dM(n,0,1):1}const bB={xScaleID:{min:"xMin",max:"xMax",start:"left",end:"right",startProp:"x",endProp:"x2"},yScaleID:{min:"yMin",max:"yMax",start:"bottom",end:"top",startProp:"y",endProp:"y2"}};function qp(t,e,n){return e=typeof e=="number"?e:t.parse(e),ti(e)?t.getPixelForValue(e):n}function sf(t,e,n){const i=e[n];if(i||n==="scaleID")return i;const r=n.charAt(0),s=Object.values(t).filter(o=>o.axis&&o.axis===r);return s.length?s[0].id:r}function o$(t,e){if(t){const n=t.options.reverse,i=qp(t,e.min,n?e.end:e.start),r=qp(t,e.max,n?e.start:e.end);return{start:i,end:r}}}function a$(t,e){const{chartArea:n,scales:i}=t,r=i[sf(i,e,"xScaleID")],s=i[sf(i,e,"yScaleID")];let o=n.width/2,a=n.height/2;return r&&(o=qp(r,e.xValue,r.left+r.width/2)),s&&(a=qp(s,e.yValue,s.top+s.height/2)),{x:o,y:a}}function QI(t,e){const n=t.scales,i=n[sf(n,e,"xScaleID")],r=n[sf(n,e,"yScaleID")];if(!i&&!r)return{};let{left:s,right:o}=i||t.chartArea,{top:a,bottom:l}=r||t.chartArea;const c=SB(i,{min:e.xMin,max:e.xMax,start:s,end:o});s=c.start,o=c.end;const u=SB(r,{min:e.yMin,max:e.yMax,start:l,end:a});return a=u.start,l=u.end,{x:s,y:a,x2:o,y2:l,width:o-s,height:l-a,centerX:s+(o-s)/2,centerY:a+(l-a)/2}}function l$(t,e){if(!n$(e)){const n=QI(t,e);let i=e.radius;(!i||isNaN(i))&&(i=Math.min(n.width,n.height)/2,e.radius=i);const r=i*2,s=n.centerX+e.xAdjust,o=n.centerY+e.yAdjust;return{x:s-i,y:o-i,x2:s+i,y2:o+i,centerX:s,centerY:o,width:r,height:r,radius:i}}return mMe(t,e)}function pMe(t,e){const{scales:n,chartArea:i}=t,r=n[e.scaleID],s={x:i.left,y:i.top,x2:i.right,y2:i.bottom};return r?gMe(r,s,e):vMe(n,s,e),s}function c$(t,e){const n=QI(t,e);return n.initProperties=_y(t,n,e),n.elements=[{type:"label",optionScope:"label",properties:_Me(t,n,e),initProperties:n.initProperties}],n}function mMe(t,e){const n=a$(t,e),i=e.radius*2;return{x:n.x-e.radius+e.xAdjust,y:n.y-e.radius+e.yAdjust,x2:n.x+e.radius+e.xAdjust,y2:n.y+e.radius+e.yAdjust,centerX:n.x+e.xAdjust,centerY:n.y+e.yAdjust,radius:e.radius,width:i,height:i}}function SB(t,e){const n=o$(t,e)||e;return{start:Math.min(n.start,n.end),end:Math.max(n.start,n.end)}}function gMe(t,e,n){const i=qp(t,n.value,NaN),r=qp(t,n.endValue,i);t.isHorizontal()?(e.x=i,e.x2=r):(e.y=i,e.y2=r)}function vMe(t,e,n){for(const i of Object.keys(bB)){const r=t[sf(t,n,i)];if(r){const{min:s,max:o,start:a,end:l,startProp:c,endProp:u}=bB[i],d=o$(r,{min:n[s],max:n[o],start:r[a],end:r[l]});e[c]=d.start,e[u]=d.end}}}function yMe({properties:t,options:e},n,i,r){const{x:s,x2:o,width:a}=t;return u$({start:s,end:o,size:a,borderWidth:e.borderWidth},{position:i.x,padding:{start:r.left,end:r.right},adjust:e.label.xAdjust,size:n.width})}function xMe({properties:t,options:e},n,i,r){const{y:s,y2:o,height:a}=t;return u$({start:s,end:o,size:a,borderWidth:e.borderWidth},{position:i.y,padding:{start:r.top,end:r.bottom},adjust:e.label.yAdjust,size:n.height})}function u$(t,e){const{start:n,end:i,borderWidth:r}=t,{position:s,padding:{start:o,end:a},adjust:l}=e,c=i-r-n-o-a-e.size;return n+r/2+l+XI(c,s)}function _Me(t,e,n){const i=n.label;i.backgroundColor="transparent",i.callout.display=!1;const r=YI(i.position),s=Wi(i.padding),o=KI(t.ctx,i),a=yMe({properties:e,options:n},o,r,s),l=xMe({properties:e,options:n},o,r,s),c=o.width+s.width,u=o.height+s.height;return{x:a,y:l,x2:a+c,y2:l+u,width:c,height:u,centerX:a+c/2,centerY:l+u/2,rotation:i.rotation}}function Sf(t,e,n){const i=Math.cos(n),r=Math.sin(n),s=e.x,o=e.y;return{x:s+i*(t.x-s)-r*(t.y-o),y:o+r*(t.x-s)+i*(t.y-o)}}const pA=["enter","leave"],ZI=pA.concat("click");function bMe(t,e,n){e.listened=i$(n,ZI,e.listeners),e.moveListened=!1,e._getElements=$I,pA.forEach(i=>{Ls(n[i])&&(e.moveListened=!0)}),(!e.listened||!e.moveListened)&&e.annotations.forEach(i=>{!e.listened&&Ls(i.click)&&(e.listened=!0),e.moveListened||pA.forEach(r=>{Ls(i[r])&&(e.listened=!0,e.moveListened=!0)})})}function SMe(t,e,n){if(t.listened)switch(e.type){case"mousemove":case"mouseout":return wMe(t,e,n);case"click":return MMe(t,e,n)}}function wMe(t,e,n){if(!t.moveListened)return;let i;e.type==="mousemove"?i=$I(t,e,n.interaction):i=[];const r=t.hovered;t.hovered=i;const s={state:t,event:e};let o=wB(s,"leave",r,i);return wB(s,"enter",i,r)||o}function wB({state:t,event:e},n,i,r){let s;for(const o of i)r.indexOf(o)<0&&(s=d$(o.options[n]||t.listeners[n],o,e)||s);return s}function MMe(t,e,n){const i=t.listeners,r=$I(t,e,n.interaction);let s;for(const o of r)s=d$(o.options.click||i.click,o,e)||s;return s}function d$(t,e,n){return Rn(t,[e.$context,n])===!0}const rS=["afterDraw","beforeDraw"];function EMe(t,e,n){const i=e.visibleElements;e.hooked=i$(n,rS,e.hooks),e.hooked||i.forEach(r=>{e.hooked||rS.forEach(s=>{Ls(r.options[s])&&(e.hooked=!0)})})}function MB(t,e,n){if(t.hooked){const i=e.options[n]||t.hooks[n];return Rn(i,[e.$context])}}function TMe(t,e,n){const i=kMe(t.scales,e,n);let r=EB(e,i,"min","suggestedMin");r=EB(e,i,"max","suggestedMax")||r,r&&Ls(e.handleTickRangeOptions)&&e.handleTickRangeOptions()}function CMe(t,e){for(const n of t)AMe(n,e)}function EB(t,e,n,i){if(ti(e[n])&&!RMe(t.options,n,i)){const r=t[n]!==e[n];return t[n]=e[n],r}}function RMe(t,e,n){return Ns(t[e])||Ns(t[n])}function AMe(t,e){for(const n of["scaleID","xScaleID","yScaleID"]){const i=sf(e,t,n);i&&!e[i]&&PMe(t,n)&&console.warn(`No scale found with id '${i}' for annotation '${t.id}'`)}}function PMe(t,e){if(e==="scaleID")return!0;const n=e.charAt(0);for(const i of["Min","Max","Value"])if(Ns(t[n+i]))return!0;return!1}function kMe(t,e,n){const i=e.axis,r=e.id,s=i+"ScaleID",o={min:zt(e.min,Number.NEGATIVE_INFINITY),max:zt(e.max,Number.POSITIVE_INFINITY)};for(const a of n)a.scaleID===r?TB(a,e,["value","endValue"],o):sf(t,a,s)===r&&TB(a,e,[i+"Min",i+"Max",i+"Value"],o);return o}function TB(t,e,n,i){for(const r of n){const s=t[r];if(Ns(s)){const o=e.parse(s);i.min=Math.min(i.min,o),i.max=Math.max(i.max,o)}}}class mm extends Cr{inRange(e,n,i,r){const{x:s,y:o}=Sf({x:e,y:n},this.getCenterPoint(r),Vi(-this.options.rotation));return Z8({x:s,y:o},this.getProps(["x","y","x2","y2"],r),i,this.options.borderWidth)}getCenterPoint(e){return hm(this,e)}draw(e){e.save(),qI(e,this.getCenterPoint(),this.options.rotation),s$(e,this,this.options),e.restore()}get label(){return this.elements&&this.elements[0]}resolveElementProperties(e,n){return c$(e,n)}}mm.id="boxAnnotation";mm.defaults={adjustScaleRange:!0,backgroundShadowColor:"transparent",borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderRadius:0,borderShadowColor:"transparent",borderWidth:1,display:!0,init:void 0,label:{backgroundColor:"transparent",borderWidth:0,callout:{display:!1},color:"black",content:null,display:!1,drawTime:void 0,font:{family:void 0,lineHeight:void 0,size:void 0,style:void 0,weight:"bold"},height:void 0,opacity:void 0,padding:6,position:"center",rotation:void 0,textAlign:"start",textStrokeColor:void 0,textStrokeWidth:0,width:void 0,xAdjust:0,yAdjust:0,z:void 0},rotation:0,shadowBlur:0,shadowOffsetX:0,shadowOffsetY:0,xMax:void 0,xMin:void 0,xScaleID:void 0,yMax:void 0,yMin:void 0,yScaleID:void 0,z:0};mm.defaultRoutes={borderColor:"color",backgroundColor:"color"};mm.descriptors={label:{_fallback:!0}};const f$=["left","bottom","top","right"];class by extends Cr{inRange(e,n,i,r){const{x:s,y:o}=Sf({x:e,y:n},this.getCenterPoint(r),Vi(-this.rotation));return Z8({x:s,y:o},this.getProps(["x","y","x2","y2"],r),i,this.options.borderWidth)}getCenterPoint(e){return hm(this,e)}draw(e){const n=this.options,i=!Ns(this._visible)||this._visible;!n.display||!n.content||!i||(e.save(),qI(e,this.getCenterPoint(),this.rotation),LMe(e,this),s$(e,this,n),oMe(e,BMe(this),n),e.restore())}resolveElementProperties(e,n){let i;if(n$(n))i=a$(e,n);else{const{centerX:a,centerY:l}=QI(e,n);i={x:a,y:l}}const r=Wi(n.padding),s=KI(e.ctx,n),o=IMe(i,s,n,r);return{initProperties:_y(e,o,n),pointX:i.x,pointY:i.y,...o,rotation:n.rotation}}}by.id="labelAnnotation";by.defaults={adjustScaleRange:!0,backgroundColor:"transparent",backgroundShadowColor:"transparent",borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderRadius:0,borderShadowColor:"transparent",borderWidth:0,callout:{borderCapStyle:"butt",borderColor:void 0,borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:1,display:!1,margin:5,position:"auto",side:5,start:"50%"},color:"black",content:null,display:!0,font:{family:void 0,lineHeight:void 0,size:void 0,style:void 0,weight:void 0},height:void 0,init:void 0,opacity:void 0,padding:6,position:"center",rotation:0,shadowBlur:0,shadowOffsetX:0,shadowOffsetY:0,textAlign:"center",textStrokeColor:void 0,textStrokeWidth:0,width:void 0,xAdjust:0,xMax:void 0,xMin:void 0,xScaleID:void 0,xValue:void 0,yAdjust:0,yMax:void 0,yMin:void 0,yScaleID:void 0,yValue:void 0,z:0};by.defaultRoutes={borderColor:"color"};function IMe(t,e,n,i){const r=e.width+i.width+n.borderWidth,s=e.height+i.height+n.borderWidth,o=YI(n.position,"center"),a=CB(t.x,r,n.xAdjust,o.x),l=CB(t.y,s,n.yAdjust,o.y);return{x:a,y:l,x2:a+r,y2:l+s,width:r,height:s,centerX:a+r/2,centerY:l+s/2}}function CB(t,e,n=0,i){return t-XI(e,i)+n}function LMe(t,e){const{pointX:n,pointY:i,options:r}=e,s=r.callout,o=s&&s.display&&zMe(e,s);if(!o||HMe(e,s,o))return;if(t.save(),t.beginPath(),!vu(t,s))return t.restore();const{separatorStart:l,separatorEnd:c}=DMe(e,o),{sideStart:u,sideEnd:d}=NMe(e,o,l);(s.margin>0||r.borderWidth===0)&&(t.moveTo(l.x,l.y),t.lineTo(c.x,c.y)),t.moveTo(u.x,u.y),t.lineTo(d.x,d.y);const f=Sf({x:n,y:i},e.getCenterPoint(),Vi(-e.rotation));t.lineTo(f.x,f.y),t.stroke(),t.restore()}function DMe(t,e){const{x:n,y:i,x2:r,y2:s}=t,o=OMe(t,e);let a,l;return e==="left"||e==="right"?(a={x:n+o,y:i},l={x:a.x,y:s}):(a={x:n,y:i+o},l={x:r,y:a.y}),{separatorStart:a,separatorEnd:l}}function OMe(t,e){const{width:n,height:i,options:r}=t,s=r.callout.margin+r.borderWidth/2;return e==="right"?n+s:e==="bottom"?i+s:-s}function NMe(t,e,n){const{y:i,width:r,height:s,options:o}=t,a=o.callout.start,l=FMe(e,o.callout);let c,u;return e==="left"||e==="right"?(c={x:n.x,y:i+gu(s,a)},u={x:c.x+l,y:c.y}):(c={x:n.x+gu(r,a),y:n.y},u={x:c.x,y:c.y+l}),{sideStart:c,sideEnd:u}}function FMe(t,e){const n=e.side;return t==="left"||t==="top"?-n:n}function zMe(t,e){const n=e.position;return f$.includes(n)?n:UMe(t,e)}function UMe(t,e){const{x:n,y:i,x2:r,y2:s,width:o,height:a,pointX:l,pointY:c,centerX:u,centerY:d,rotation:f}=t,m={x:u,y:d},g=e.start,y=gu(o,g),x=gu(a,g),v=[n,n+y,n+y,r],_=[i+x,s,i,s],b=[];for(let w=0;w<4;w++){const C=Sf({x:v[w],y:_[w]},m,Vi(f));b.push({position:f$[w],distance:Gp(C,{x:l,y:c})})}return b.sort((w,C)=>w.distance-C.distance)[0].position}function BMe({x:t,y:e,width:n,height:i,options:r}){const s=r.borderWidth/2,o=Wi(r.padding);return{x:t+o.left+s,y:e+o.top+s,width:n-o.left-o.right-r.borderWidth,height:i-o.top-o.bottom-r.borderWidth}}function HMe(t,e,n){const{pointX:i,pointY:r}=t,s=e.margin;let o=i,a=r;return n==="left"?o+=s:n==="right"?o-=s:n==="top"?a+=s:n==="bottom"&&(a-=s),t.inRange(o,a)}const JI=(t,e,n)=>({x:t.x+n*(e.x-t.x),y:t.y+n*(e.y-t.y)}),mA=(t,e,n)=>JI(e,n,Math.abs((t-e.y)/(n.y-e.y))).x,RB=(t,e,n)=>JI(e,n,Math.abs((t-e.x)/(n.x-e.x))).y,$g=t=>t*t,VMe=(t,e,{x:n,y:i,x2:r,y2:s},o)=>o==="y"?{start:Math.min(i,s),end:Math.max(i,s),value:e}:{start:Math.min(n,r),end:Math.max(n,r),value:t},AB=(t,e,n,i)=>(1-i)*(1-i)*t+2*(1-i)*i*e+i*i*n,gA=(t,e,n,i)=>({x:AB(t.x,e.x,n.x,i),y:AB(t.y,e.y,n.y,i)}),PB=(t,e,n,i)=>2*(1-i)*(e-t)+2*i*(n-e),kB=(t,e,n,i)=>-Math.atan2(PB(t.x,e.x,n.x,i),PB(t.y,e.y,n.y,i))+.5*on;class Sy extends Cr{inRange(e,n,i,r){const s=this.options.borderWidth/2;if(i!=="x"&&i!=="y"){const o={mouseX:e,mouseY:n},{path:a,ctx:l}=this;if(a){vu(l,this.options);const{chart:u}=this.$context,d=e*u.currentDevicePixelRatio,f=n*u.currentDevicePixelRatio,m=l.isPointInStroke(a,d,f)||vA(this,o,r);return l.restore(),m}const c=$g(s);return $Me(this,o,c,r)||vA(this,o,r)}return jMe(this,{mouseX:e,mouseY:n},i,{hBorderWidth:s,useFinalPosition:r})}getCenterPoint(e){return hm(this,e)}draw(e){const{x:n,y:i,x2:r,y2:s,cp:o,options:a}=this;if(e.save(),!vu(e,a))return e.restore();pm(e,a);const l=Math.sqrt(Math.pow(r-n,2)+Math.pow(s-i,2));if(a.curve&&o)return eEe(e,this,o,l),e.restore();const{startOpts:c,endOpts:u,startAdjust:d,endAdjust:f}=h$(this),m=Math.atan2(s-i,r-n);e.translate(n,i),e.rotate(m),e.beginPath(),e.moveTo(0+d,0),e.lineTo(l-f,0),e.shadowColor=a.borderShadowColor,e.stroke(),yA(e,0,d,c),yA(e,l,-f,u),e.restore()}get label(){return this.elements&&this.elements[0]}resolveElementProperties(e,n){const i=pMe(e,n),{x:r,y:s,x2:o,y2:a}=i,l=WMe(i,e.chartArea),c=l?GMe({x:r,y:s},{x:o,y:a},e.chartArea):{x:r,y:s,x2:o,y2:a,width:Math.abs(o-r),height:Math.abs(a-s)};if(c.centerX=(o+r)/2,c.centerY=(a+s)/2,c.initProperties=_y(e,c,n),n.curve){const d={x:c.x,y:c.y},f={x:c.x2,y:c.y2};c.cp=JMe(c,n,Gp(d,f))}const u=XMe(e,c,n.label);return u._visible=l,c.elements=[{type:"label",optionScope:"label",properties:u,initProperties:c.initProperties}],c}}Sy.id="lineAnnotation";const IB={backgroundColor:void 0,backgroundShadowColor:void 0,borderColor:void 0,borderDash:void 0,borderDashOffset:void 0,borderShadowColor:void 0,borderWidth:void 0,display:void 0,fill:void 0,length:void 0,shadowBlur:void 0,shadowOffsetX:void 0,shadowOffsetY:void 0,width:void 0};Sy.defaults={adjustScaleRange:!0,arrowHeads:{display:!1,end:Object.assign({},IB),fill:!1,length:12,start:Object.assign({},IB),width:6},borderDash:[],borderDashOffset:0,borderShadowColor:"transparent",borderWidth:2,curve:!1,controlPoint:{y:"-50%"},display:!0,endValue:void 0,init:void 0,label:{backgroundColor:"rgba(0,0,0,0.8)",backgroundShadowColor:"transparent",borderCapStyle:"butt",borderColor:"black",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderRadius:6,borderShadowColor:"transparent",borderWidth:0,callout:Object.assign({},by.defaults.callout),color:"#fff",content:null,display:!1,drawTime:void 0,font:{family:void 0,lineHeight:void 0,size:void 0,style:void 0,weight:"bold"},height:void 0,opacity:void 0,padding:6,position:"center",rotation:0,shadowBlur:0,shadowOffsetX:0,shadowOffsetY:0,textAlign:"center",textStrokeColor:void 0,textStrokeWidth:0,width:void 0,xAdjust:0,yAdjust:0,z:void 0},scaleID:void 0,shadowBlur:0,shadowOffsetX:0,shadowOffsetY:0,value:void 0,xMax:void 0,xMin:void 0,xScaleID:void 0,yMax:void 0,yMin:void 0,yScaleID:void 0,z:0};Sy.descriptors={arrowHeads:{start:{_fallback:!0},end:{_fallback:!0},_fallback:!0}};Sy.defaultRoutes={borderColor:"color"};function jMe(t,{mouseX:e,mouseY:n},i,{hBorderWidth:r,useFinalPosition:s}){const o=VMe(e,n,t.getProps(["x","y","x2","y2"],s),i);return o.value>=o.start-r&&o.value<=o.end+r||vA(t,{mouseX:e,mouseY:n},s,i)}function WMe({x:t,y:e,x2:n,y2:i},{top:r,right:s,bottom:o,left:a}){return!(t<a&&n<a||t>s&&n>s||e<r&&i<r||e>o&&i>o)}function LB({x:t,y:e},n,{top:i,right:r,bottom:s,left:o}){return t<o&&(e=RB(o,{x:t,y:e},n),t=o),t>r&&(e=RB(r,{x:t,y:e},n),t=r),e<i&&(t=mA(i,{x:t,y:e},n),e=i),e>s&&(t=mA(s,{x:t,y:e},n),e=s),{x:t,y:e}}function GMe(t,e,n){const{x:i,y:r}=LB(t,e,n),{x:s,y:o}=LB(e,t,n);return{x:i,y:r,x2:s,y2:o,width:Math.abs(s-i),height:Math.abs(o-r)}}function $Me(t,{mouseX:e,mouseY:n},i=Sd,r){const{x:s,y:o,x2:a,y2:l}=t.getProps(["x","y","x2","y2"],r),c=a-s,u=l-o,d=$g(c)+$g(u),f=d===0?-1:((e-s)*c+(n-o)*u)/d;let m,g;return f<0?(m=s,g=o):f>1?(m=a,g=l):(m=s+f*c,g=o+f*u),$g(e-m)+$g(n-g)<=i}function vA(t,{mouseX:e,mouseY:n},i,r){const s=t.label;return s.options.display&&s.inRange(e,n,r,i)}function XMe(t,e,n){const i=n.borderWidth,r=Wi(n.padding),s=KI(t.ctx,n),o=s.width+r.width+i,a=s.height+r.height+i;return qMe(e,n,{width:o,height:a,padding:r},t.chartArea)}function YMe(t){const{x:e,y:n,x2:i,y2:r}=t,s=Math.atan2(r-n,i-e);return s>on/2?s-on:s<on/-2?s+on:s}function qMe(t,e,n,i){const{width:r,height:s,padding:o}=n,{xAdjust:a,yAdjust:l}=e,c={x:t.x,y:t.y},u={x:t.x2,y:t.y2},d=e.rotation==="auto"?YMe(t):Vi(e.rotation),f=KMe(r,s,d),m=QMe(t,e,{labelSize:f,padding:o},i),g=t.cp?gA(c,t.cp,u,m):JI(c,u,m),y={size:f.w,min:i.left,max:i.right,padding:o.left},x={size:f.h,min:i.top,max:i.bottom,padding:o.top},v=OB(g.x,y)+a,_=OB(g.y,x)+l;return{x:v-r/2,y:_-s/2,x2:v+r/2,y2:_+s/2,centerX:v,centerY:_,pointX:g.x,pointY:g.y,width:r,height:s,rotation:aM(d)}}function KMe(t,e,n){const i=Math.cos(n),r=Math.sin(n);return{w:Math.abs(t*i)+Math.abs(e*r),h:Math.abs(t*r)+Math.abs(e*i)}}function QMe(t,e,n,i){let r;const s=ZMe(t,i);return e.position==="start"?r=DB({w:t.x2-t.x,h:t.y2-t.y},n,e,s):e.position==="end"?r=1-DB({w:t.x-t.x2,h:t.y-t.y2},n,e,s):r=XI(1,e.position),r}function DB(t,e,n,i){const{labelSize:r,padding:s}=e,o=t.w*i.dx,a=t.h*i.dy,l=o>0&&(r.w/2+s.left-i.x)/o,c=a>0&&(r.h/2+s.top-i.y)/a;return dM(Math.max(l,c),0,.25)}function ZMe(t,e){const{x:n,x2:i,y:r,y2:s}=t,o=Math.min(r,s)-e.top,a=Math.min(n,i)-e.left,l=e.bottom-Math.max(r,s),c=e.right-Math.max(n,i);return{x:Math.min(a,c),y:Math.min(o,l),dx:a<=c?1:-1,dy:o<=l?1:-1}}function OB(t,e){const{size:n,min:i,max:r,padding:s}=e,o=n/2;return n>r-i?(r+i)/2:(i>=t-s-o&&(t=i+s+o),r<=t+s+o&&(t=r-s-o),t)}function h$(t){const e=t.options,n=e.arrowHeads&&e.arrowHeads.start,i=e.arrowHeads&&e.arrowHeads.end;return{startOpts:n,endOpts:i,startAdjust:NB(t,n),endAdjust:NB(t,i)}}function NB(t,e){if(!e||!e.display)return 0;const{length:n,width:i}=e,r=t.options.borderWidth/2,s={x:n,y:i+r};return Math.abs(mA(0,s,{x:0,y:r}))}function yA(t,e,n,i){if(!i||!i.display)return;const{length:r,width:s,fill:o,backgroundColor:a,borderColor:l}=i,c=Math.abs(e-r)+n;t.beginPath(),pm(t,i),vu(t,i),t.moveTo(c,-s),t.lineTo(e+n,0),t.lineTo(c,s),o===!0?(t.fillStyle=a||l,t.closePath(),t.fill(),t.shadowColor="transparent"):t.shadowColor=i.borderShadowColor,t.stroke()}function JMe(t,e,n){const{x:i,y:r,x2:s,y2:o,centerX:a,centerY:l}=t,c=Math.atan2(o-r,s-i),u=YI(e.controlPoint,0),d={x:a+gu(n,u.x,!1),y:l+gu(n,u.y,!1)};return Sf(d,{x:a,y:l},c)}function FB(t,{x:e,y:n},{angle:i,adjust:r},s){!s||!s.display||(t.save(),t.translate(e,n),t.rotate(i),yA(t,0,-r,s),t.restore())}function eEe(t,e,n,i){const{x:r,y:s,x2:o,y2:a,options:l}=e,{startOpts:c,endOpts:u,startAdjust:d,endAdjust:f}=h$(e),m={x:r,y:s},g={x:o,y:a},y=kB(m,n,g,0),x=kB(m,n,g,1)-on,v=gA(m,n,g,d/i),_=gA(m,n,g,1-f/i),b=new Path2D;t.beginPath(),b.moveTo(v.x,v.y),b.quadraticCurveTo(n.x,n.y,_.x,_.y),t.shadowColor=l.borderShadowColor,t.stroke(b),e.path=b,e.ctx=t,FB(t,v,{angle:y,adjust:d},c),FB(t,_,{angle:x,adjust:f},u)}class wy extends Cr{inRange(e,n,i,r){const s=this.options.rotation,o=this.options.borderWidth;if(i!=="x"&&i!=="y")return tEe({x:e,y:n},this.getProps(["width","height","centerX","centerY"],r),s,o);const{x:a,y:l,x2:c,y2:u}=this.getProps(["x","y","x2","y2"],r),d=o/2,f=i==="y"?{start:l,end:u}:{start:a,end:c},m=Sf({x:e,y:n},this.getCenterPoint(r),Vi(-s));return m[i]>=f.start-d-Sd&&m[i]<=f.end+d+Sd}getCenterPoint(e){return hm(this,e)}draw(e){const{width:n,height:i,centerX:r,centerY:s,options:o}=this;e.save(),qI(e,this.getCenterPoint(),o.rotation),pm(e,this.options),e.beginPath(),e.fillStyle=o.backgroundColor;const a=vu(e,o);e.ellipse(r,s,i/2,n/2,on/2,0,2*on),e.fill(),a&&(e.shadowColor=o.borderShadowColor,e.stroke()),e.restore()}get label(){return this.elements&&this.elements[0]}resolveElementProperties(e,n){return c$(e,n)}}wy.id="ellipseAnnotation";wy.defaults={adjustScaleRange:!0,backgroundShadowColor:"transparent",borderDash:[],borderDashOffset:0,borderShadowColor:"transparent",borderWidth:1,display:!0,init:void 0,label:Object.assign({},mm.defaults.label),rotation:0,shadowBlur:0,shadowOffsetX:0,shadowOffsetY:0,xMax:void 0,xMin:void 0,xScaleID:void 0,yMax:void 0,yMin:void 0,yScaleID:void 0,z:0};wy.defaultRoutes={borderColor:"color",backgroundColor:"color"};wy.descriptors={label:{_fallback:!0}};function tEe(t,e,n,i){const{width:r,height:s,centerX:o,centerY:a}=e,l=r/2,c=s/2;if(l<=0||c<=0)return!1;const u=Vi(n||0),d=i/2||0,f=Math.cos(u),m=Math.sin(u),g=Math.pow(f*(t.x-o)+m*(t.y-a),2),y=Math.pow(m*(t.x-o)-f*(t.y-a),2);return g/Math.pow(l+d,2)+y/Math.pow(c+d,2)<=1.0001}class hM extends Cr{inRange(e,n,i,r){const{x:s,y:o,x2:a,y2:l,width:c}=this.getProps(["x","y","x2","y2","width"],r),u=this.options.borderWidth;if(i!=="x"&&i!=="y")return Jwe({x:e,y:n},this.getCenterPoint(r),c/2,u);const d=u/2,f=i==="y"?{start:o,end:l,value:n}:{start:s,end:a,value:e};return f.value>=f.start-d&&f.value<=f.end+d}getCenterPoint(e){return hm(this,e)}draw(e){const n=this.options,i=n.borderWidth;if(n.radius<.1)return;e.save(),e.fillStyle=n.backgroundColor,pm(e,n);const r=vu(e,n);lMe(e,this,this.centerX,this.centerY),r&&!fM(n.pointStyle)&&(e.shadowColor=n.borderShadowColor,e.stroke()),e.restore(),n.borderWidth=i}resolveElementProperties(e,n){const i=l$(e,n);return i.initProperties=_y(e,i,n),i}}hM.id="pointAnnotation";hM.defaults={adjustScaleRange:!0,backgroundShadowColor:"transparent",borderDash:[],borderDashOffset:0,borderShadowColor:"transparent",borderWidth:1,display:!0,init:void 0,pointStyle:"circle",radius:10,rotation:0,shadowBlur:0,shadowOffsetX:0,shadowOffsetY:0,xAdjust:0,xMax:void 0,xMin:void 0,xScaleID:void 0,xValue:void 0,yAdjust:0,yMax:void 0,yMin:void 0,yScaleID:void 0,yValue:void 0,z:0};hM.defaultRoutes={borderColor:"color",backgroundColor:"color"};class pM extends Cr{inRange(e,n,i,r){if(i!=="x"&&i!=="y")return this.options.radius>=.1&&this.elements.length>1&&iEe(this.elements,e,n,r);const s=Sf({x:e,y:n},this.getCenterPoint(r),Vi(-this.options.rotation)),o=this.elements.map(c=>i==="y"?c.bY:c.bX),a=Math.min(...o),l=Math.max(...o);return s[i]>=a&&s[i]<=l}getCenterPoint(e){return hm(this,e)}draw(e){const{elements:n,options:i}=this;e.save(),e.beginPath(),e.fillStyle=i.backgroundColor,pm(e,i);const r=vu(e,i);let s=!0;for(const o of n)s?(e.moveTo(o.x,o.y),s=!1):e.lineTo(o.x,o.y);e.closePath(),e.fill(),r&&(e.shadowColor=i.borderShadowColor,e.stroke()),e.restore()}resolveElementProperties(e,n){const i=l$(e,n),{sides:r,rotation:s}=n,o=[],a=2*on/r;let l=s*II;for(let c=0;c<r;c++,l+=a){const u=nEe(i,n,l);u.initProperties=_y(e,i,n),o.push(u)}return i.elements=o,i}}pM.id="polygonAnnotation";pM.defaults={adjustScaleRange:!0,backgroundShadowColor:"transparent",borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderShadowColor:"transparent",borderWidth:1,display:!0,init:void 0,point:{radius:0},radius:10,rotation:0,shadowBlur:0,shadowOffsetX:0,shadowOffsetY:0,sides:3,xAdjust:0,xMax:void 0,xMin:void 0,xScaleID:void 0,xValue:void 0,yAdjust:0,yMax:void 0,yMin:void 0,yScaleID:void 0,yValue:void 0,z:0};pM.defaultRoutes={borderColor:"color",backgroundColor:"color"};function nEe({centerX:t,centerY:e},{radius:n,borderWidth:i},r){const s=i/2,o=Math.sin(r),a=Math.cos(r),l={x:t+o*n,y:e-a*n};return{type:"point",optionScope:"point",properties:{x:l.x,y:l.y,centerX:l.x,centerY:l.y,bX:t+o*(n+s),bY:e-a*(n+s)}}}function iEe(t,e,n,i){let r=!1,s=t[t.length-1].getProps(["bX","bY"],i);for(const o of t){const a=o.getProps(["bX","bY"],i);a.bY>n!=s.bY>n&&e<(s.bX-a.bX)*(n-a.bY)/(s.bY-a.bY)+a.bX&&(r=!r),s=a}return r}const iu={box:mm,ellipse:wy,label:by,line:Sy,point:hM,polygon:pM};Object.keys(iu).forEach(t=>{ui.describe(`elements.${iu[t].id}`,{_fallback:"plugins.annotation.common"})});const rEe={update:Object.assign},sEe=ZI.concat(rS),zB=(t,e)=>Kt(e)?_A(t,e):t,xA=t=>t==="color"||t==="font";function eL(t="line"){return iu[t]?t:(console.warn(`Unknown annotation type: '${t}', defaulting to 'line'`),"line")}function oEe(t,e,n,i){const r=lEe(t,n.animations,i),s=e.annotations,o=dEe(e.elements,s);for(let a=0;a<s.length;a++){const l=s[a],c=p$(o,a,l.type),u=l.setContext(uEe(t,c,l)),d=c.resolveElementProperties(t,u);d.skip=aEe(d),"elements"in d&&(cEe(c,d.elements,u,r),delete d.elements),Ns(c.x)||Object.assign(c,d),Object.assign(c,d.initProperties),d.options=m$(u),r.update(c,d)}}function aEe(t){return isNaN(t.x)||isNaN(t.y)}function lEe(t,e,n){return n==="reset"||n==="none"||n==="resize"?rEe:new VI(t,e)}function cEe(t,e,n,i){const r=t.elements||(t.elements=[]);r.length=e.length;for(let s=0;s<e.length;s++){const o=e[s],a=o.properties,l=p$(r,s,o.type,o.initProperties),c=n[o.optionScope].override(o);a.options=m$(c),i.update(l,a)}}function p$(t,e,n,i){const r=iu[eL(n)];let s=t[e];return(!s||!(s instanceof r))&&(s=t[e]=new r,Object.assign(s,i)),s}function m$(t){const e=iu[eL(t.type)],n={};n.id=t.id,n.type=t.type,n.drawTime=t.drawTime,Object.assign(n,_A(t,e.defaults),_A(t,e.defaultRoutes));for(const i of sEe)n[i]=t[i];return n}function _A(t,e){const n={};for(const i of Object.keys(e)){const r=e[i],s=t[i];xA(i)&&yn(s)?n[i]=s.map(o=>zB(o,r)):n[i]=zB(s,r)}return n}function uEe(t,e,n){return e.$context||(e.$context=Object.assign(Object.create(t.getContext()),{element:e,id:n.id,type:"annotation"}))}function dEe(t,e){const n=e.length,i=t.length;if(i<n){const r=n-i;t.splice(i,0,...new Array(r))}else i>n&&t.splice(n,i-n);return t}var fEe="3.0.1";const bc=new Map,hEe=ZI.concat(rS);var pEe={id:"annotation",version:fEe,beforeRegister(){eMe("chart.js","4.0",Nl.version)},afterRegister(){Nl.register(iu)},afterUnregister(){Nl.unregister(iu)},beforeInit(t){bc.set(t,{annotations:[],elements:[],visibleElements:[],listeners:{},listened:!1,moveListened:!1,hooks:{},hooked:!1,hovered:[]})},beforeUpdate(t,e,n){const i=bc.get(t),r=i.annotations=[];let s=n.annotations;Kt(s)?Object.keys(s).forEach(o=>{const a=s[o];Kt(a)&&(a.id=o,r.push(a))}):yn(s)&&r.push(...s),CMe(r,t.scales)},afterDataLimits(t,e){const n=bc.get(t);TMe(t,e.scale,n.annotations.filter(i=>i.display&&i.adjustScaleRange))},afterUpdate(t,e,n){const i=bc.get(t);bMe(t,i,n),oEe(t,i,n,e.mode),i.visibleElements=i.elements.filter(r=>!r.skip&&r.options.display),EMe(t,i,n)},beforeDatasetsDraw(t,e,n){cb(t,"beforeDatasetsDraw",n.clip)},afterDatasetsDraw(t,e,n){cb(t,"afterDatasetsDraw",n.clip)},beforeDraw(t,e,n){cb(t,"beforeDraw",n.clip)},afterDraw(t,e,n){cb(t,"afterDraw",n.clip)},beforeEvent(t,e,n){const i=bc.get(t);SMe(i,e.event,n)&&(e.changed=!0)},afterDestroy(t){bc.delete(t)},_getState(t){return bc.get(t)},defaults:{animations:{numbers:{properties:["x","y","x2","y2","width","height","centerX","centerY","pointX","pointY","radius"],type:"number"}},clip:!0,interaction:{mode:void 0,axis:void 0,intersect:void 0},common:{drawTime:"afterDatasetsDraw",init:!1,label:{}}},descriptors:{_indexable:!1,_scriptable:t=>!hEe.includes(t)&&t!=="init",annotations:{_allKeys:!1,_fallback:(t,e)=>`elements.${iu[eL(e.type)].id}`},interaction:{_fallback:!0},common:{label:{_indexable:xA,_fallback:!0},_indexable:xA}},additionalOptionScopes:[""]};function cb(t,e,n){const{ctx:i,chartArea:r}=t,s=bc.get(t);n&&vy(i,r);const o=mEe(s.visibleElements,e).sort((a,l)=>a.element.options.z-l.element.options.z);for(const a of o)gEe(i,r,s,a);n&&yy(i)}function mEe(t,e){const n=[];for(const i of t)if(i.options.drawTime===e&&n.push({element:i,main:!0}),i.elements&&i.elements.length)for(const r of i.elements)r.options.display&&r.options.drawTime===e&&n.push({element:r});return n}function gEe(t,e,n,i){const r=i.element;i.main?(MB(n,r,"beforeDraw"),r.draw(t,e),MB(n,r,"afterDraw")):r.draw(t,e)}function vEe(t){return'Expect percentile to be >= 0 but given "'+t+'" and its type is "'+typeof t+'".'}function yEe(t){return'Expect percentile to be <= 100 but given "'+t+'" and its type is "'+typeof t+'".'}function xEe(t){return'Expect percentile to be a number but given "'+t+'" and its type is "'+typeof t+'".'}function _Ee(t){return t.reduce(function(e,n){return isNaN(Number(n))?e.push(xEe(n)):n<0?e.push(vEe(n)):n>100&&e.push(yEe(n)),e},[])}function UB(t,e){if(t===0)return e[0];var n=Math.ceil(e.length*(t/100))-1;return e[n]}function bEe(t,e,n){var i=Array.isArray(t)?t:[t],r=_Ee(i);if(r.length)throw new Error(r.join(" "));return e=e.slice().sort(function(s,o){return n&&(s=n(s),o=n(o)),s=Number.isNaN(s)?Number.NEGATIVE_INFINITY:s,o=Number.isNaN(o)?Number.NEGATIVE_INFINITY:o,s>o?1:s<o?-1:0}),i.length===1?UB(i[0],e):i.map(function(s){return UB(s,e)})}var SEe=bEe;const ub=Bv(SEe);function It(t){const e=Object.prototype.toString.call(t);return t instanceof Date||typeof t=="object"&&e==="[object Date]"?new t.constructor(+t):typeof t=="number"||e==="[object Number]"||typeof e=="string"||e==="[object String]"?new Date(t):new Date(NaN)}function qn(t,e){return t instanceof Date?new t.constructor(e):new Date(e)}function mM(t,e){const n=It(t);return isNaN(e)?qn(t,NaN):(e&&n.setDate(n.getDate()+e),n)}function tL(t,e){const n=It(t);if(isNaN(e))return qn(t,NaN);if(!e)return n;const i=n.getDate(),r=qn(t,n.getTime());r.setMonth(n.getMonth()+e+1,0);const s=r.getDate();return i>=s?r:(n.setFullYear(r.getFullYear(),r.getMonth(),i),n)}function gM(t,e){const n=+It(t);return qn(t,n+e)}const g$=6048e5,wEe=864e5,My=6e4,Ey=36e5,MEe=1e3;function EEe(t,e){return gM(t,e*Ey)}let TEe={};function wf(){return TEe}function qa(t,e){var a,l,c,u;const n=wf(),i=(e==null?void 0:e.weekStartsOn)??((l=(a=e==null?void 0:e.locale)==null?void 0:a.options)==null?void 0:l.weekStartsOn)??n.weekStartsOn??((u=(c=n.locale)==null?void 0:c.options)==null?void 0:u.weekStartsOn)??0,r=It(t),s=r.getDay(),o=(s<i?7:0)+s-i;return r.setDate(r.getDate()-o),r.setHours(0,0,0,0),r}function Kp(t){return qa(t,{weekStartsOn:1})}function v$(t){const e=It(t),n=e.getFullYear(),i=qn(t,0);i.setFullYear(n+1,0,4),i.setHours(0,0,0,0);const r=Kp(i),s=qn(t,0);s.setFullYear(n,0,4),s.setHours(0,0,0,0);const o=Kp(s);return e.getTime()>=r.getTime()?n+1:e.getTime()>=o.getTime()?n:n-1}function bA(t){const e=It(t);return e.setHours(0,0,0,0),e}function sS(t){const e=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return e.setUTCFullYear(t.getFullYear()),t.getTime()-e.getTime()}function y$(t,e){const n=bA(t),i=bA(e),r=n.getTime()-sS(n),s=i.getTime()-sS(i);return Math.round((r-s)/wEe)}function CEe(t){const e=v$(t),n=qn(t,0);return n.setFullYear(e,0,4),n.setHours(0,0,0,0),Kp(n)}function REe(t,e){return gM(t,e*My)}function AEe(t,e){const n=e*3;return tL(t,n)}function PEe(t,e){return gM(t,e*1e3)}function kEe(t,e){const n=e*7;return mM(t,n)}function IEe(t,e){return tL(t,e*12)}function T0(t,e){const n=It(t),i=It(e),r=n.getTime()-i.getTime();return r<0?-1:r>0?1:r}function LEe(t){return t instanceof Date||typeof t=="object"&&Object.prototype.toString.call(t)==="[object Date]"}function x$(t){if(!LEe(t)&&typeof t!="number")return!1;const e=It(t);return!isNaN(Number(e))}function DEe(t,e){const n=It(t),i=It(e),r=n.getFullYear()-i.getFullYear(),s=n.getMonth()-i.getMonth();return r*12+s}function OEe(t,e){const n=It(t),i=It(e);return n.getFullYear()-i.getFullYear()}function _$(t,e){const n=It(t),i=It(e),r=BB(n,i),s=Math.abs(y$(n,i));n.setDate(n.getDate()-r*s);const o=+(BB(n,i)===-r),a=r*(s-o);return a===0?0:a}function BB(t,e){const n=t.getFullYear()-e.getFullYear()||t.getMonth()-e.getMonth()||t.getDate()-e.getDate()||t.getHours()-e.getHours()||t.getMinutes()-e.getMinutes()||t.getSeconds()-e.getSeconds()||t.getMilliseconds()-e.getMilliseconds();return n<0?-1:n>0?1:n}function vM(t,e){return It(t).getTime()-It(e).getTime()}function Ty(t){return t?Math[t]:Math.trunc}function NEe(t,e,n){const i=vM(t,e)/Ey;return Ty(n==null?void 0:n.roundingMethod)(i)}function FEe(t,e,n){const i=vM(t,e)/My;return Ty(n==null?void 0:n.roundingMethod)(i)}function b$(t){const e=It(t);return e.setHours(23,59,59,999),e}function S$(t){const e=It(t),n=e.getMonth();return e.setFullYear(e.getFullYear(),n+1,0),e.setHours(23,59,59,999),e}function zEe(t){const e=It(t);return+b$(e)==+S$(e)}function w$(t,e){const n=It(t),i=It(e),r=T0(n,i),s=Math.abs(DEe(n,i));let o;if(s<1)o=0;else{n.getMonth()===1&&n.getDate()>27&&n.setDate(30),n.setMonth(n.getMonth()-r*s);let a=T0(n,i)===-r;zEe(It(t))&&s===1&&T0(t,i)===1&&(a=!1),o=r*(s-Number(a))}return o===0?0:o}function UEe(t,e,n){const i=w$(t,e)/3;return Ty(n==null?void 0:n.roundingMethod)(i)}function BEe(t,e,n){const i=vM(t,e)/1e3;return Ty(n==null?void 0:n.roundingMethod)(i)}function HEe(t,e,n){const i=_$(t,e)/7;return Ty(n==null?void 0:n.roundingMethod)(i)}function VEe(t,e){const n=It(t),i=It(e),r=T0(n,i),s=Math.abs(OEe(n,i));n.setFullYear(1584),i.setFullYear(1584);const o=T0(n,i)===-r,a=r*(s-+o);return a===0?0:a}function jEe(t){const e=It(t);return e.setSeconds(0,0),e}function WEe(t){const e=It(t),n=e.getMonth(),i=n-n%3;return e.setMonth(i,1),e.setHours(0,0,0,0),e}function GEe(t){const e=It(t);return e.setDate(1),e.setHours(0,0,0,0),e}function $Ee(t){const e=It(t),n=e.getFullYear();return e.setFullYear(n+1,0,0),e.setHours(23,59,59,999),e}function M$(t){const e=It(t),n=qn(t,0);return n.setFullYear(e.getFullYear(),0,1),n.setHours(0,0,0,0),n}function XEe(t){const e=It(t);return e.setMinutes(59,59,999),e}function YEe(t,e){var a,l,c,u;const n=wf(),i=(e==null?void 0:e.weekStartsOn)??((l=(a=e==null?void 0:e.locale)==null?void 0:a.options)==null?void 0:l.weekStartsOn)??n.weekStartsOn??((u=(c=n.locale)==null?void 0:c.options)==null?void 0:u.weekStartsOn)??0,r=It(t),s=r.getDay(),o=(s<i?-7:0)+6-(s-i);return r.setDate(r.getDate()+o),r.setHours(23,59,59,999),r}function qEe(t){const e=It(t);return e.setSeconds(59,999),e}function KEe(t){const e=It(t),n=e.getMonth(),i=n-n%3+3;return e.setMonth(i,0),e.setHours(23,59,59,999),e}function QEe(t){const e=It(t);return e.setMilliseconds(999),e}const ZEe={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},JEe=(t,e,n)=>{let i;const r=ZEe[t];return typeof r=="string"?i=r:e===1?i=r.one:i=r.other.replace("{{count}}",e.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"in "+i:i+" ago":i};function RC(t){return(e={})=>{const n=e.width?String(e.width):t.defaultWidth;return t.formats[n]||t.formats[t.defaultWidth]}}const eTe={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},tTe={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},nTe={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},iTe={date:RC({formats:eTe,defaultWidth:"full"}),time:RC({formats:tTe,defaultWidth:"full"}),dateTime:RC({formats:nTe,defaultWidth:"full"})},rTe={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},sTe=(t,e,n,i)=>rTe[t];function Mg(t){return(e,n)=>{const i=n!=null&&n.context?String(n.context):"standalone";let r;if(i==="formatting"&&t.formattingValues){const o=t.defaultFormattingWidth||t.defaultWidth,a=n!=null&&n.width?String(n.width):o;r=t.formattingValues[a]||t.formattingValues[o]}else{const o=t.defaultWidth,a=n!=null&&n.width?String(n.width):t.defaultWidth;r=t.values[a]||t.values[o]}const s=t.argumentCallback?t.argumentCallback(e):e;return r[s]}}const oTe={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},aTe={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},lTe={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},cTe={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},uTe={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},dTe={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},fTe=(t,e)=>{const n=Number(t),i=n%100;if(i>20||i<10)switch(i%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},hTe={ordinalNumber:fTe,era:Mg({values:oTe,defaultWidth:"wide"}),quarter:Mg({values:aTe,defaultWidth:"wide",argumentCallback:t=>t-1}),month:Mg({values:lTe,defaultWidth:"wide"}),day:Mg({values:cTe,defaultWidth:"wide"}),dayPeriod:Mg({values:uTe,defaultWidth:"wide",formattingValues:dTe,defaultFormattingWidth:"wide"})};function Eg(t){return(e,n={})=>{const i=n.width,r=i&&t.matchPatterns[i]||t.matchPatterns[t.defaultMatchWidth],s=e.match(r);if(!s)return null;const o=s[0],a=i&&t.parsePatterns[i]||t.parsePatterns[t.defaultParseWidth],l=Array.isArray(a)?mTe(a,d=>d.test(o)):pTe(a,d=>d.test(o));let c;c=t.valueCallback?t.valueCallback(l):l,c=n.valueCallback?n.valueCallback(c):c;const u=e.slice(o.length);return{value:c,rest:u}}}function pTe(t,e){for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)&&e(t[n]))return n}function mTe(t,e){for(let n=0;n<t.length;n++)if(e(t[n]))return n}function gTe(t){return(e,n={})=>{const i=e.match(t.matchPattern);if(!i)return null;const r=i[0],s=e.match(t.parsePattern);if(!s)return null;let o=t.valueCallback?t.valueCallback(s[0]):s[0];o=n.valueCallback?n.valueCallback(o):o;const a=e.slice(r.length);return{value:o,rest:a}}}const vTe=/^(\d+)(th|st|nd|rd)?/i,yTe=/\d+/i,xTe={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},_Te={any:[/^b/i,/^(a|c)/i]},bTe={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},STe={any:[/1/i,/2/i,/3/i,/4/i]},wTe={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},MTe={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},ETe={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},TTe={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},CTe={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},RTe={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},ATe={ordinalNumber:gTe({matchPattern:vTe,parsePattern:yTe,valueCallback:t=>parseInt(t,10)}),era:Eg({matchPatterns:xTe,defaultMatchWidth:"wide",parsePatterns:_Te,defaultParseWidth:"any"}),quarter:Eg({matchPatterns:bTe,defaultMatchWidth:"wide",parsePatterns:STe,defaultParseWidth:"any",valueCallback:t=>t+1}),month:Eg({matchPatterns:wTe,defaultMatchWidth:"wide",parsePatterns:MTe,defaultParseWidth:"any"}),day:Eg({matchPatterns:ETe,defaultMatchWidth:"wide",parsePatterns:TTe,defaultParseWidth:"any"}),dayPeriod:Eg({matchPatterns:CTe,defaultMatchWidth:"any",parsePatterns:RTe,defaultParseWidth:"any"})},E$={code:"en-US",formatDistance:JEe,formatLong:iTe,formatRelative:sTe,localize:hTe,match:ATe,options:{weekStartsOn:0,firstWeekContainsDate:1}};function PTe(t){const e=It(t);return y$(e,M$(e))+1}function T$(t){const e=It(t),n=Kp(e).getTime()-CEe(e).getTime();return Math.round(n/g$)+1}function nL(t,e){var u,d,f,m;const n=It(t),i=n.getFullYear(),r=wf(),s=(e==null?void 0:e.firstWeekContainsDate)??((d=(u=e==null?void 0:e.locale)==null?void 0:u.options)==null?void 0:d.firstWeekContainsDate)??r.firstWeekContainsDate??((m=(f=r.locale)==null?void 0:f.options)==null?void 0:m.firstWeekContainsDate)??1,o=qn(t,0);o.setFullYear(i+1,0,s),o.setHours(0,0,0,0);const a=qa(o,e),l=qn(t,0);l.setFullYear(i,0,s),l.setHours(0,0,0,0);const c=qa(l,e);return n.getTime()>=a.getTime()?i+1:n.getTime()>=c.getTime()?i:i-1}function kTe(t,e){var a,l,c,u;const n=wf(),i=(e==null?void 0:e.firstWeekContainsDate)??((l=(a=e==null?void 0:e.locale)==null?void 0:a.options)==null?void 0:l.firstWeekContainsDate)??n.firstWeekContainsDate??((u=(c=n.locale)==null?void 0:c.options)==null?void 0:u.firstWeekContainsDate)??1,r=nL(t,e),s=qn(t,0);return s.setFullYear(r,0,i),s.setHours(0,0,0,0),qa(s,e)}function C$(t,e){const n=It(t),i=qa(n,e).getTime()-kTe(n,e).getTime();return Math.round(i/g$)+1}function Cn(t,e){const n=t<0?"-":"",i=Math.abs(t).toString().padStart(e,"0");return n+i}const mc={y(t,e){const n=t.getFullYear(),i=n>0?n:1-n;return Cn(e==="yy"?i%100:i,e.length)},M(t,e){const n=t.getMonth();return e==="M"?String(n+1):Cn(n+1,2)},d(t,e){return Cn(t.getDate(),e.length)},a(t,e){const n=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h(t,e){return Cn(t.getHours()%12||12,e.length)},H(t,e){return Cn(t.getHours(),e.length)},m(t,e){return Cn(t.getMinutes(),e.length)},s(t,e){return Cn(t.getSeconds(),e.length)},S(t,e){const n=e.length,i=t.getMilliseconds(),r=Math.floor(i*Math.pow(10,n-3));return Cn(r,e.length)}},_h={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},ITe={G:function(t,e,n){const i=t.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return n.era(i,{width:"abbreviated"});case"GGGGG":return n.era(i,{width:"narrow"});case"GGGG":default:return n.era(i,{width:"wide"})}},y:function(t,e,n){if(e==="yo"){const i=t.getFullYear(),r=i>0?i:1-i;return n.ordinalNumber(r,{unit:"year"})}return mc.y(t,e)},Y:function(t,e,n,i){const r=nL(t,i),s=r>0?r:1-r;if(e==="YY"){const o=s%100;return Cn(o,2)}return e==="Yo"?n.ordinalNumber(s,{unit:"year"}):Cn(s,e.length)},R:function(t,e){const n=v$(t);return Cn(n,e.length)},u:function(t,e){const n=t.getFullYear();return Cn(n,e.length)},Q:function(t,e,n){const i=Math.ceil((t.getMonth()+1)/3);switch(e){case"Q":return String(i);case"QQ":return Cn(i,2);case"Qo":return n.ordinalNumber(i,{unit:"quarter"});case"QQQ":return n.quarter(i,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(i,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(i,{width:"wide",context:"formatting"})}},q:function(t,e,n){const i=Math.ceil((t.getMonth()+1)/3);switch(e){case"q":return String(i);case"qq":return Cn(i,2);case"qo":return n.ordinalNumber(i,{unit:"quarter"});case"qqq":return n.quarter(i,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(i,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(i,{width:"wide",context:"standalone"})}},M:function(t,e,n){const i=t.getMonth();switch(e){case"M":case"MM":return mc.M(t,e);case"Mo":return n.ordinalNumber(i+1,{unit:"month"});case"MMM":return n.month(i,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(i,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(i,{width:"wide",context:"formatting"})}},L:function(t,e,n){const i=t.getMonth();switch(e){case"L":return String(i+1);case"LL":return Cn(i+1,2);case"Lo":return n.ordinalNumber(i+1,{unit:"month"});case"LLL":return n.month(i,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(i,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(i,{width:"wide",context:"standalone"})}},w:function(t,e,n,i){const r=C$(t,i);return e==="wo"?n.ordinalNumber(r,{unit:"week"}):Cn(r,e.length)},I:function(t,e,n){const i=T$(t);return e==="Io"?n.ordinalNumber(i,{unit:"week"}):Cn(i,e.length)},d:function(t,e,n){return e==="do"?n.ordinalNumber(t.getDate(),{unit:"date"}):mc.d(t,e)},D:function(t,e,n){const i=PTe(t);return e==="Do"?n.ordinalNumber(i,{unit:"dayOfYear"}):Cn(i,e.length)},E:function(t,e,n){const i=t.getDay();switch(e){case"E":case"EE":case"EEE":return n.day(i,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(i,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(i,{width:"short",context:"formatting"});case"EEEE":default:return n.day(i,{width:"wide",context:"formatting"})}},e:function(t,e,n,i){const r=t.getDay(),s=(r-i.weekStartsOn+8)%7||7;switch(e){case"e":return String(s);case"ee":return Cn(s,2);case"eo":return n.ordinalNumber(s,{unit:"day"});case"eee":return n.day(r,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(r,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(r,{width:"short",context:"formatting"});case"eeee":default:return n.day(r,{width:"wide",context:"formatting"})}},c:function(t,e,n,i){const r=t.getDay(),s=(r-i.weekStartsOn+8)%7||7;switch(e){case"c":return String(s);case"cc":return Cn(s,e.length);case"co":return n.ordinalNumber(s,{unit:"day"});case"ccc":return n.day(r,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(r,{width:"narrow",context:"standalone"});case"cccccc":return n.day(r,{width:"short",context:"standalone"});case"cccc":default:return n.day(r,{width:"wide",context:"standalone"})}},i:function(t,e,n){const i=t.getDay(),r=i===0?7:i;switch(e){case"i":return String(r);case"ii":return Cn(r,e.length);case"io":return n.ordinalNumber(r,{unit:"day"});case"iii":return n.day(i,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(i,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(i,{width:"short",context:"formatting"});case"iiii":default:return n.day(i,{width:"wide",context:"formatting"})}},a:function(t,e,n){const r=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(r,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(r,{width:"wide",context:"formatting"})}},b:function(t,e,n){const i=t.getHours();let r;switch(i===12?r=_h.noon:i===0?r=_h.midnight:r=i/12>=1?"pm":"am",e){case"b":case"bb":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(r,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(r,{width:"wide",context:"formatting"})}},B:function(t,e,n){const i=t.getHours();let r;switch(i>=17?r=_h.evening:i>=12?r=_h.afternoon:i>=4?r=_h.morning:r=_h.night,e){case"B":case"BB":case"BBB":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(r,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(r,{width:"wide",context:"formatting"})}},h:function(t,e,n){if(e==="ho"){let i=t.getHours()%12;return i===0&&(i=12),n.ordinalNumber(i,{unit:"hour"})}return mc.h(t,e)},H:function(t,e,n){return e==="Ho"?n.ordinalNumber(t.getHours(),{unit:"hour"}):mc.H(t,e)},K:function(t,e,n){const i=t.getHours()%12;return e==="Ko"?n.ordinalNumber(i,{unit:"hour"}):Cn(i,e.length)},k:function(t,e,n){let i=t.getHours();return i===0&&(i=24),e==="ko"?n.ordinalNumber(i,{unit:"hour"}):Cn(i,e.length)},m:function(t,e,n){return e==="mo"?n.ordinalNumber(t.getMinutes(),{unit:"minute"}):mc.m(t,e)},s:function(t,e,n){return e==="so"?n.ordinalNumber(t.getSeconds(),{unit:"second"}):mc.s(t,e)},S:function(t,e){return mc.S(t,e)},X:function(t,e,n,i){const s=(i._originalDate||t).getTimezoneOffset();if(s===0)return"Z";switch(e){case"X":return VB(s);case"XXXX":case"XX":return ad(s);case"XXXXX":case"XXX":default:return ad(s,":")}},x:function(t,e,n,i){const s=(i._originalDate||t).getTimezoneOffset();switch(e){case"x":return VB(s);case"xxxx":case"xx":return ad(s);case"xxxxx":case"xxx":default:return ad(s,":")}},O:function(t,e,n,i){const s=(i._originalDate||t).getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+HB(s,":");case"OOOO":default:return"GMT"+ad(s,":")}},z:function(t,e,n,i){const s=(i._originalDate||t).getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+HB(s,":");case"zzzz":default:return"GMT"+ad(s,":")}},t:function(t,e,n,i){const r=i._originalDate||t,s=Math.floor(r.getTime()/1e3);return Cn(s,e.length)},T:function(t,e,n,i){const s=(i._originalDate||t).getTime();return Cn(s,e.length)}};function HB(t,e=""){const n=t>0?"-":"+",i=Math.abs(t),r=Math.floor(i/60),s=i%60;return s===0?n+String(r):n+String(r)+e+Cn(s,2)}function VB(t,e){return t%60===0?(t>0?"-":"+")+Cn(Math.abs(t)/60,2):ad(t,e)}function ad(t,e=""){const n=t>0?"-":"+",i=Math.abs(t),r=Cn(Math.floor(i/60),2),s=Cn(i%60,2);return n+r+e+s}const jB=(t,e)=>{switch(t){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},R$=(t,e)=>{switch(t){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},LTe=(t,e)=>{const n=t.match(/(P+)(p+)?/)||[],i=n[1],r=n[2];if(!r)return jB(t,e);let s;switch(i){case"P":s=e.dateTime({width:"short"});break;case"PP":s=e.dateTime({width:"medium"});break;case"PPP":s=e.dateTime({width:"long"});break;case"PPPP":default:s=e.dateTime({width:"full"});break}return s.replace("{{date}}",jB(i,e)).replace("{{time}}",R$(r,e))},SA={p:R$,P:LTe},DTe=["D","DD"],OTe=["YY","YYYY"];function A$(t){return DTe.indexOf(t)!==-1}function P$(t){return OTe.indexOf(t)!==-1}function oS(t,e,n){if(t==="YYYY")throw new RangeError(`Use \`yyyy\` instead of \`YYYY\` (in \`${e}\`) for formatting years to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`);if(t==="YY")throw new RangeError(`Use \`yy\` instead of \`YY\` (in \`${e}\`) for formatting years to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`);if(t==="D")throw new RangeError(`Use \`d\` instead of \`D\` (in \`${e}\`) for formatting days of the month to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`);if(t==="DD")throw new RangeError(`Use \`dd\` instead of \`DD\` (in \`${e}\`) for formatting days of the month to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`)}const NTe=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,FTe=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,zTe=/^'([^]*?)'?$/,UTe=/''/g,BTe=/[a-zA-Z]/;function HTe(t,e,n){var u,d,f,m,g,y,x,v;const i=wf(),r=(n==null?void 0:n.locale)??i.locale??E$,s=(n==null?void 0:n.firstWeekContainsDate)??((d=(u=n==null?void 0:n.locale)==null?void 0:u.options)==null?void 0:d.firstWeekContainsDate)??i.firstWeekContainsDate??((m=(f=i.locale)==null?void 0:f.options)==null?void 0:m.firstWeekContainsDate)??1,o=(n==null?void 0:n.weekStartsOn)??((y=(g=n==null?void 0:n.locale)==null?void 0:g.options)==null?void 0:y.weekStartsOn)??i.weekStartsOn??((v=(x=i.locale)==null?void 0:x.options)==null?void 0:v.weekStartsOn)??0,a=It(t);if(!x$(a))throw new RangeError("Invalid time value");const l={firstWeekContainsDate:s,weekStartsOn:o,locale:r,_originalDate:a};return e.match(FTe).map(function(_){const b=_[0];if(b==="p"||b==="P"){const w=SA[b];return w(_,r.formatLong)}return _}).join("").match(NTe).map(function(_){if(_==="''")return"'";const b=_[0];if(b==="'")return VTe(_);const w=ITe[b];if(w)return!(n!=null&&n.useAdditionalWeekYearTokens)&&P$(_)&&oS(_,e,String(t)),!(n!=null&&n.useAdditionalDayOfYearTokens)&&A$(_)&&oS(_,e,String(t)),w(a,_,r.localize,l);if(b.match(BTe))throw new RangeError("Format string contains an unescaped latin alphabet character `"+b+"`");return _}).join("")}function VTe(t){const e=t.match(zTe);return e?e[1].replace(UTe,"'"):t}function jTe(){return Object.assign({},wf())}function WTe(t){let n=It(t).getDay();return n===0&&(n=7),n}function GTe(t,e){const n=e instanceof Date?qn(e,0):new e(0);return n.setFullYear(t.getFullYear(),t.getMonth(),t.getDate()),n.setHours(t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()),n}const $Te=10;class k${constructor(){ye(this,"subPriority",0)}validate(e,n){return!0}}class XTe extends k${constructor(e,n,i,r,s){super(),this.value=e,this.validateValue=n,this.setValue=i,this.priority=r,s&&(this.subPriority=s)}validate(e,n){return this.validateValue(e,this.value,n)}set(e,n,i){return this.setValue(e,n,this.value,i)}}class YTe extends k${constructor(){super(...arguments);ye(this,"priority",$Te);ye(this,"subPriority",-1)}set(n,i){return i.timestampIsSet?n:qn(n,GTe(n,Date))}}class Mn{run(e,n,i,r){const s=this.parse(e,n,i,r);return s?{setter:new XTe(s.value,this.validate,this.set,this.priority,this.subPriority),rest:s.rest}:null}validate(e,n,i){return!0}}class qTe extends Mn{constructor(){super(...arguments);ye(this,"priority",140);ye(this,"incompatibleTokens",["R","u","t","T"])}parse(n,i,r){switch(i){case"G":case"GG":case"GGG":return r.era(n,{width:"abbreviated"})||r.era(n,{width:"narrow"});case"GGGGG":return r.era(n,{width:"narrow"});case"GGGG":default:return r.era(n,{width:"wide"})||r.era(n,{width:"abbreviated"})||r.era(n,{width:"narrow"})}}set(n,i,r){return i.era=r,n.setFullYear(r,0,1),n.setHours(0,0,0,0),n}}const Pi={month:/^(1[0-2]|0?\d)/,date:/^(3[0-1]|[0-2]?\d)/,dayOfYear:/^(36[0-6]|3[0-5]\d|[0-2]?\d?\d)/,week:/^(5[0-3]|[0-4]?\d)/,hour23h:/^(2[0-3]|[0-1]?\d)/,hour24h:/^(2[0-4]|[0-1]?\d)/,hour11h:/^(1[0-1]|0?\d)/,hour12h:/^(1[0-2]|0?\d)/,minute:/^[0-5]?\d/,second:/^[0-5]?\d/,singleDigit:/^\d/,twoDigits:/^\d{1,2}/,threeDigits:/^\d{1,3}/,fourDigits:/^\d{1,4}/,anyDigitsSigned:/^-?\d+/,singleDigitSigned:/^-?\d/,twoDigitsSigned:/^-?\d{1,2}/,threeDigitsSigned:/^-?\d{1,3}/,fourDigitsSigned:/^-?\d{1,4}/},Ia={basicOptionalMinutes:/^([+-])(\d{2})(\d{2})?|Z/,basic:/^([+-])(\d{2})(\d{2})|Z/,basicOptionalSeconds:/^([+-])(\d{2})(\d{2})((\d{2}))?|Z/,extended:/^([+-])(\d{2}):(\d{2})|Z/,extendedOptionalSeconds:/^([+-])(\d{2}):(\d{2})(:(\d{2}))?|Z/};function ki(t,e){return t&&{value:e(t.value),rest:t.rest}}function ci(t,e){const n=e.match(t);return n?{value:parseInt(n[0],10),rest:e.slice(n[0].length)}:null}function La(t,e){const n=e.match(t);if(!n)return null;if(n[0]==="Z")return{value:0,rest:e.slice(1)};const i=n[1]==="+"?1:-1,r=n[2]?parseInt(n[2],10):0,s=n[3]?parseInt(n[3],10):0,o=n[5]?parseInt(n[5],10):0;return{value:i*(r*Ey+s*My+o*MEe),rest:e.slice(n[0].length)}}function I$(t){return ci(Pi.anyDigitsSigned,t)}function wi(t,e){switch(t){case 1:return ci(Pi.singleDigit,e);case 2:return ci(Pi.twoDigits,e);case 3:return ci(Pi.threeDigits,e);case 4:return ci(Pi.fourDigits,e);default:return ci(new RegExp("^\\d{1,"+t+"}"),e)}}function aS(t,e){switch(t){case 1:return ci(Pi.singleDigitSigned,e);case 2:return ci(Pi.twoDigitsSigned,e);case 3:return ci(Pi.threeDigitsSigned,e);case 4:return ci(Pi.fourDigitsSigned,e);default:return ci(new RegExp("^-?\\d{1,"+t+"}"),e)}}function iL(t){switch(t){case"morning":return 4;case"evening":return 17;case"pm":case"noon":case"afternoon":return 12;case"am":case"midnight":case"night":default:return 0}}function L$(t,e){const n=e>0,i=n?e:1-e;let r;if(i<=50)r=t||100;else{const s=i+50,o=Math.floor(s/100)*100,a=t>=s%100;r=t+o-(a?100:0)}return n?r:1-r}function D$(t){return t%400===0||t%4===0&&t%100!==0}class KTe extends Mn{constructor(){super(...arguments);ye(this,"priority",130);ye(this,"incompatibleTokens",["Y","R","u","w","I","i","e","c","t","T"])}parse(n,i,r){const s=o=>({year:o,isTwoDigitYear:i==="yy"});switch(i){case"y":return ki(wi(4,n),s);case"yo":return ki(r.ordinalNumber(n,{unit:"year"}),s);default:return ki(wi(i.length,n),s)}}validate(n,i){return i.isTwoDigitYear||i.year>0}set(n,i,r){const s=n.getFullYear();if(r.isTwoDigitYear){const a=L$(r.year,s);return n.setFullYear(a,0,1),n.setHours(0,0,0,0),n}const o=!("era"in i)||i.era===1?r.year:1-r.year;return n.setFullYear(o,0,1),n.setHours(0,0,0,0),n}}class QTe extends Mn{constructor(){super(...arguments);ye(this,"priority",130);ye(this,"incompatibleTokens",["y","R","u","Q","q","M","L","I","d","D","i","t","T"])}parse(n,i,r){const s=o=>({year:o,isTwoDigitYear:i==="YY"});switch(i){case"Y":return ki(wi(4,n),s);case"Yo":return ki(r.ordinalNumber(n,{unit:"year"}),s);default:return ki(wi(i.length,n),s)}}validate(n,i){return i.isTwoDigitYear||i.year>0}set(n,i,r,s){const o=nL(n,s);if(r.isTwoDigitYear){const l=L$(r.year,o);return n.setFullYear(l,0,s.firstWeekContainsDate),n.setHours(0,0,0,0),qa(n,s)}const a=!("era"in i)||i.era===1?r.year:1-r.year;return n.setFullYear(a,0,s.firstWeekContainsDate),n.setHours(0,0,0,0),qa(n,s)}}class ZTe extends Mn{constructor(){super(...arguments);ye(this,"priority",130);ye(this,"incompatibleTokens",["G","y","Y","u","Q","q","M","L","w","d","D","e","c","t","T"])}parse(n,i){return aS(i==="R"?4:i.length,n)}set(n,i,r){const s=qn(n,0);return s.setFullYear(r,0,4),s.setHours(0,0,0,0),Kp(s)}}class JTe extends Mn{constructor(){super(...arguments);ye(this,"priority",130);ye(this,"incompatibleTokens",["G","y","Y","R","w","I","i","e","c","t","T"])}parse(n,i){return aS(i==="u"?4:i.length,n)}set(n,i,r){return n.setFullYear(r,0,1),n.setHours(0,0,0,0),n}}class eCe extends Mn{constructor(){super(...arguments);ye(this,"priority",120);ye(this,"incompatibleTokens",["Y","R","q","M","L","w","I","d","D","i","e","c","t","T"])}parse(n,i,r){switch(i){case"Q":case"QQ":return wi(i.length,n);case"Qo":return r.ordinalNumber(n,{unit:"quarter"});case"QQQ":return r.quarter(n,{width:"abbreviated",context:"formatting"})||r.quarter(n,{width:"narrow",context:"formatting"});case"QQQQQ":return r.quarter(n,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(n,{width:"wide",context:"formatting"})||r.quarter(n,{width:"abbreviated",context:"formatting"})||r.quarter(n,{width:"narrow",context:"formatting"})}}validate(n,i){return i>=1&&i<=4}set(n,i,r){return n.setMonth((r-1)*3,1),n.setHours(0,0,0,0),n}}class tCe extends Mn{constructor(){super(...arguments);ye(this,"priority",120);ye(this,"incompatibleTokens",["Y","R","Q","M","L","w","I","d","D","i","e","c","t","T"])}parse(n,i,r){switch(i){case"q":case"qq":return wi(i.length,n);case"qo":return r.ordinalNumber(n,{unit:"quarter"});case"qqq":return r.quarter(n,{width:"abbreviated",context:"standalone"})||r.quarter(n,{width:"narrow",context:"standalone"});case"qqqqq":return r.quarter(n,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(n,{width:"wide",context:"standalone"})||r.quarter(n,{width:"abbreviated",context:"standalone"})||r.quarter(n,{width:"narrow",context:"standalone"})}}validate(n,i){return i>=1&&i<=4}set(n,i,r){return n.setMonth((r-1)*3,1),n.setHours(0,0,0,0),n}}class nCe extends Mn{constructor(){super(...arguments);ye(this,"incompatibleTokens",["Y","R","q","Q","L","w","I","D","i","e","c","t","T"]);ye(this,"priority",110)}parse(n,i,r){const s=o=>o-1;switch(i){case"M":return ki(ci(Pi.month,n),s);case"MM":return ki(wi(2,n),s);case"Mo":return ki(r.ordinalNumber(n,{unit:"month"}),s);case"MMM":return r.month(n,{width:"abbreviated",context:"formatting"})||r.month(n,{width:"narrow",context:"formatting"});case"MMMMM":return r.month(n,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(n,{width:"wide",context:"formatting"})||r.month(n,{width:"abbreviated",context:"formatting"})||r.month(n,{width:"narrow",context:"formatting"})}}validate(n,i){return i>=0&&i<=11}set(n,i,r){return n.setMonth(r,1),n.setHours(0,0,0,0),n}}class iCe extends Mn{constructor(){super(...arguments);ye(this,"priority",110);ye(this,"incompatibleTokens",["Y","R","q","Q","M","w","I","D","i","e","c","t","T"])}parse(n,i,r){const s=o=>o-1;switch(i){case"L":return ki(ci(Pi.month,n),s);case"LL":return ki(wi(2,n),s);case"Lo":return ki(r.ordinalNumber(n,{unit:"month"}),s);case"LLL":return r.month(n,{width:"abbreviated",context:"standalone"})||r.month(n,{width:"narrow",context:"standalone"});case"LLLLL":return r.month(n,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(n,{width:"wide",context:"standalone"})||r.month(n,{width:"abbreviated",context:"standalone"})||r.month(n,{width:"narrow",context:"standalone"})}}validate(n,i){return i>=0&&i<=11}set(n,i,r){return n.setMonth(r,1),n.setHours(0,0,0,0),n}}function rCe(t,e,n){const i=It(t),r=C$(i,n)-e;return i.setDate(i.getDate()-r*7),i}class sCe extends Mn{constructor(){super(...arguments);ye(this,"priority",100);ye(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","i","t","T"])}parse(n,i,r){switch(i){case"w":return ci(Pi.week,n);case"wo":return r.ordinalNumber(n,{unit:"week"});default:return wi(i.length,n)}}validate(n,i){return i>=1&&i<=53}set(n,i,r,s){return qa(rCe(n,r,s),s)}}function oCe(t,e){const n=It(t),i=T$(n)-e;return n.setDate(n.getDate()-i*7),n}class aCe extends Mn{constructor(){super(...arguments);ye(this,"priority",100);ye(this,"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","e","c","t","T"])}parse(n,i,r){switch(i){case"I":return ci(Pi.week,n);case"Io":return r.ordinalNumber(n,{unit:"week"});default:return wi(i.length,n)}}validate(n,i){return i>=1&&i<=53}set(n,i,r){return Kp(oCe(n,r))}}const lCe=[31,28,31,30,31,30,31,31,30,31,30,31],cCe=[31,29,31,30,31,30,31,31,30,31,30,31];class uCe extends Mn{constructor(){super(...arguments);ye(this,"priority",90);ye(this,"subPriority",1);ye(this,"incompatibleTokens",["Y","R","q","Q","w","I","D","i","e","c","t","T"])}parse(n,i,r){switch(i){case"d":return ci(Pi.date,n);case"do":return r.ordinalNumber(n,{unit:"date"});default:return wi(i.length,n)}}validate(n,i){const r=n.getFullYear(),s=D$(r),o=n.getMonth();return s?i>=1&&i<=cCe[o]:i>=1&&i<=lCe[o]}set(n,i,r){return n.setDate(r),n.setHours(0,0,0,0),n}}class dCe extends Mn{constructor(){super(...arguments);ye(this,"priority",90);ye(this,"subpriority",1);ye(this,"incompatibleTokens",["Y","R","q","Q","M","L","w","I","d","E","i","e","c","t","T"])}parse(n,i,r){switch(i){case"D":case"DD":return ci(Pi.dayOfYear,n);case"Do":return r.ordinalNumber(n,{unit:"date"});default:return wi(i.length,n)}}validate(n,i){const r=n.getFullYear();return D$(r)?i>=1&&i<=366:i>=1&&i<=365}set(n,i,r){return n.setMonth(0,r),n.setHours(0,0,0,0),n}}function rL(t,e,n){var d,f,m,g;const i=wf(),r=(n==null?void 0:n.weekStartsOn)??((f=(d=n==null?void 0:n.locale)==null?void 0:d.options)==null?void 0:f.weekStartsOn)??i.weekStartsOn??((g=(m=i.locale)==null?void 0:m.options)==null?void 0:g.weekStartsOn)??0,s=It(t),o=s.getDay(),l=(e%7+7)%7,c=7-r,u=e<0||e>6?e-(o+c)%7:(l+c)%7-(o+c)%7;return mM(s,u)}class fCe extends Mn{constructor(){super(...arguments);ye(this,"priority",90);ye(this,"incompatibleTokens",["D","i","e","c","t","T"])}parse(n,i,r){switch(i){case"E":case"EE":case"EEE":return r.day(n,{width:"abbreviated",context:"formatting"})||r.day(n,{width:"short",context:"formatting"})||r.day(n,{width:"narrow",context:"formatting"});case"EEEEE":return r.day(n,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(n,{width:"short",context:"formatting"})||r.day(n,{width:"narrow",context:"formatting"});case"EEEE":default:return r.day(n,{width:"wide",context:"formatting"})||r.day(n,{width:"abbreviated",context:"formatting"})||r.day(n,{width:"short",context:"formatting"})||r.day(n,{width:"narrow",context:"formatting"})}}validate(n,i){return i>=0&&i<=6}set(n,i,r,s){return n=rL(n,r,s),n.setHours(0,0,0,0),n}}class hCe extends Mn{constructor(){super(...arguments);ye(this,"priority",90);ye(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","c","t","T"])}parse(n,i,r,s){const o=a=>{const l=Math.floor((a-1)/7)*7;return(a+s.weekStartsOn+6)%7+l};switch(i){case"e":case"ee":return ki(wi(i.length,n),o);case"eo":return ki(r.ordinalNumber(n,{unit:"day"}),o);case"eee":return r.day(n,{width:"abbreviated",context:"formatting"})||r.day(n,{width:"short",context:"formatting"})||r.day(n,{width:"narrow",context:"formatting"});case"eeeee":return r.day(n,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(n,{width:"short",context:"formatting"})||r.day(n,{width:"narrow",context:"formatting"});case"eeee":default:return r.day(n,{width:"wide",context:"formatting"})||r.day(n,{width:"abbreviated",context:"formatting"})||r.day(n,{width:"short",context:"formatting"})||r.day(n,{width:"narrow",context:"formatting"})}}validate(n,i){return i>=0&&i<=6}set(n,i,r,s){return n=rL(n,r,s),n.setHours(0,0,0,0),n}}class pCe extends Mn{constructor(){super(...arguments);ye(this,"priority",90);ye(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","e","t","T"])}parse(n,i,r,s){const o=a=>{const l=Math.floor((a-1)/7)*7;return(a+s.weekStartsOn+6)%7+l};switch(i){case"c":case"cc":return ki(wi(i.length,n),o);case"co":return ki(r.ordinalNumber(n,{unit:"day"}),o);case"ccc":return r.day(n,{width:"abbreviated",context:"standalone"})||r.day(n,{width:"short",context:"standalone"})||r.day(n,{width:"narrow",context:"standalone"});case"ccccc":return r.day(n,{width:"narrow",context:"standalone"});case"cccccc":return r.day(n,{width:"short",context:"standalone"})||r.day(n,{width:"narrow",context:"standalone"});case"cccc":default:return r.day(n,{width:"wide",context:"standalone"})||r.day(n,{width:"abbreviated",context:"standalone"})||r.day(n,{width:"short",context:"standalone"})||r.day(n,{width:"narrow",context:"standalone"})}}validate(n,i){return i>=0&&i<=6}set(n,i,r,s){return n=rL(n,r,s),n.setHours(0,0,0,0),n}}function mCe(t,e){const n=It(t),i=WTe(n),r=e-i;return mM(n,r)}class gCe extends Mn{constructor(){super(...arguments);ye(this,"priority",90);ye(this,"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","E","e","c","t","T"])}parse(n,i,r){const s=o=>o===0?7:o;switch(i){case"i":case"ii":return wi(i.length,n);case"io":return r.ordinalNumber(n,{unit:"day"});case"iii":return ki(r.day(n,{width:"abbreviated",context:"formatting"})||r.day(n,{width:"short",context:"formatting"})||r.day(n,{width:"narrow",context:"formatting"}),s);case"iiiii":return ki(r.day(n,{width:"narrow",context:"formatting"}),s);case"iiiiii":return ki(r.day(n,{width:"short",context:"formatting"})||r.day(n,{width:"narrow",context:"formatting"}),s);case"iiii":default:return ki(r.day(n,{width:"wide",context:"formatting"})||r.day(n,{width:"abbreviated",context:"formatting"})||r.day(n,{width:"short",context:"formatting"})||r.day(n,{width:"narrow",context:"formatting"}),s)}}validate(n,i){return i>=1&&i<=7}set(n,i,r){return n=mCe(n,r),n.setHours(0,0,0,0),n}}class vCe extends Mn{constructor(){super(...arguments);ye(this,"priority",80);ye(this,"incompatibleTokens",["b","B","H","k","t","T"])}parse(n,i,r){switch(i){case"a":case"aa":case"aaa":return r.dayPeriod(n,{width:"abbreviated",context:"formatting"})||r.dayPeriod(n,{width:"narrow",context:"formatting"});case"aaaaa":return r.dayPeriod(n,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(n,{width:"wide",context:"formatting"})||r.dayPeriod(n,{width:"abbreviated",context:"formatting"})||r.dayPeriod(n,{width:"narrow",context:"formatting"})}}set(n,i,r){return n.setHours(iL(r),0,0,0),n}}class yCe extends Mn{constructor(){super(...arguments);ye(this,"priority",80);ye(this,"incompatibleTokens",["a","B","H","k","t","T"])}parse(n,i,r){switch(i){case"b":case"bb":case"bbb":return r.dayPeriod(n,{width:"abbreviated",context:"formatting"})||r.dayPeriod(n,{width:"narrow",context:"formatting"});case"bbbbb":return r.dayPeriod(n,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(n,{width:"wide",context:"formatting"})||r.dayPeriod(n,{width:"abbreviated",context:"formatting"})||r.dayPeriod(n,{width:"narrow",context:"formatting"})}}set(n,i,r){return n.setHours(iL(r),0,0,0),n}}class xCe extends Mn{constructor(){super(...arguments);ye(this,"priority",80);ye(this,"incompatibleTokens",["a","b","t","T"])}parse(n,i,r){switch(i){case"B":case"BB":case"BBB":return r.dayPeriod(n,{width:"abbreviated",context:"formatting"})||r.dayPeriod(n,{width:"narrow",context:"formatting"});case"BBBBB":return r.dayPeriod(n,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(n,{width:"wide",context:"formatting"})||r.dayPeriod(n,{width:"abbreviated",context:"formatting"})||r.dayPeriod(n,{width:"narrow",context:"formatting"})}}set(n,i,r){return n.setHours(iL(r),0,0,0),n}}class _Ce extends Mn{constructor(){super(...arguments);ye(this,"priority",70);ye(this,"incompatibleTokens",["H","K","k","t","T"])}parse(n,i,r){switch(i){case"h":return ci(Pi.hour12h,n);case"ho":return r.ordinalNumber(n,{unit:"hour"});default:return wi(i.length,n)}}validate(n,i){return i>=1&&i<=12}set(n,i,r){const s=n.getHours()>=12;return s&&r<12?n.setHours(r+12,0,0,0):!s&&r===12?n.setHours(0,0,0,0):n.setHours(r,0,0,0),n}}class bCe extends Mn{constructor(){super(...arguments);ye(this,"priority",70);ye(this,"incompatibleTokens",["a","b","h","K","k","t","T"])}parse(n,i,r){switch(i){case"H":return ci(Pi.hour23h,n);case"Ho":return r.ordinalNumber(n,{unit:"hour"});default:return wi(i.length,n)}}validate(n,i){return i>=0&&i<=23}set(n,i,r){return n.setHours(r,0,0,0),n}}class SCe extends Mn{constructor(){super(...arguments);ye(this,"priority",70);ye(this,"incompatibleTokens",["h","H","k","t","T"])}parse(n,i,r){switch(i){case"K":return ci(Pi.hour11h,n);case"Ko":return r.ordinalNumber(n,{unit:"hour"});default:return wi(i.length,n)}}validate(n,i){return i>=0&&i<=11}set(n,i,r){return n.getHours()>=12&&r<12?n.setHours(r+12,0,0,0):n.setHours(r,0,0,0),n}}class wCe extends Mn{constructor(){super(...arguments);ye(this,"priority",70);ye(this,"incompatibleTokens",["a","b","h","H","K","t","T"])}parse(n,i,r){switch(i){case"k":return ci(Pi.hour24h,n);case"ko":return r.ordinalNumber(n,{unit:"hour"});default:return wi(i.length,n)}}validate(n,i){return i>=1&&i<=24}set(n,i,r){const s=r<=24?r%24:r;return n.setHours(s,0,0,0),n}}class MCe extends Mn{constructor(){super(...arguments);ye(this,"priority",60);ye(this,"incompatibleTokens",["t","T"])}parse(n,i,r){switch(i){case"m":return ci(Pi.minute,n);case"mo":return r.ordinalNumber(n,{unit:"minute"});default:return wi(i.length,n)}}validate(n,i){return i>=0&&i<=59}set(n,i,r){return n.setMinutes(r,0,0),n}}class ECe extends Mn{constructor(){super(...arguments);ye(this,"priority",50);ye(this,"incompatibleTokens",["t","T"])}parse(n,i,r){switch(i){case"s":return ci(Pi.second,n);case"so":return r.ordinalNumber(n,{unit:"second"});default:return wi(i.length,n)}}validate(n,i){return i>=0&&i<=59}set(n,i,r){return n.setSeconds(r,0),n}}class TCe extends Mn{constructor(){super(...arguments);ye(this,"priority",30);ye(this,"incompatibleTokens",["t","T"])}parse(n,i){const r=s=>Math.floor(s*Math.pow(10,-i.length+3));return ki(wi(i.length,n),r)}set(n,i,r){return n.setMilliseconds(r),n}}class CCe extends Mn{constructor(){super(...arguments);ye(this,"priority",10);ye(this,"incompatibleTokens",["t","T","x"])}parse(n,i){switch(i){case"X":return La(Ia.basicOptionalMinutes,n);case"XX":return La(Ia.basic,n);case"XXXX":return La(Ia.basicOptionalSeconds,n);case"XXXXX":return La(Ia.extendedOptionalSeconds,n);case"XXX":default:return La(Ia.extended,n)}}set(n,i,r){return i.timestampIsSet?n:qn(n,n.getTime()-sS(n)-r)}}class RCe extends Mn{constructor(){super(...arguments);ye(this,"priority",10);ye(this,"incompatibleTokens",["t","T","X"])}parse(n,i){switch(i){case"x":return La(Ia.basicOptionalMinutes,n);case"xx":return La(Ia.basic,n);case"xxxx":return La(Ia.basicOptionalSeconds,n);case"xxxxx":return La(Ia.extendedOptionalSeconds,n);case"xxx":default:return La(Ia.extended,n)}}set(n,i,r){return i.timestampIsSet?n:qn(n,n.getTime()-sS(n)-r)}}class ACe extends Mn{constructor(){super(...arguments);ye(this,"priority",40);ye(this,"incompatibleTokens","*")}parse(n){return I$(n)}set(n,i,r){return[qn(n,r*1e3),{timestampIsSet:!0}]}}class PCe extends Mn{constructor(){super(...arguments);ye(this,"priority",20);ye(this,"incompatibleTokens","*")}parse(n){return I$(n)}set(n,i,r){return[qn(n,r),{timestampIsSet:!0}]}}const kCe={G:new qTe,y:new KTe,Y:new QTe,R:new ZTe,u:new JTe,Q:new eCe,q:new tCe,M:new nCe,L:new iCe,w:new sCe,I:new aCe,d:new uCe,D:new dCe,E:new fCe,e:new hCe,c:new pCe,i:new gCe,a:new vCe,b:new yCe,B:new xCe,h:new _Ce,H:new bCe,K:new SCe,k:new wCe,m:new MCe,s:new ECe,S:new TCe,X:new CCe,x:new RCe,t:new ACe,T:new PCe},ICe=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,LCe=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,DCe=/^'([^]*?)'?$/,OCe=/''/g,NCe=/\S/,FCe=/[a-zA-Z]/;function zCe(t,e,n,i){var y,x,v,_,b,w,C,T;const r=jTe(),s=(i==null?void 0:i.locale)??r.locale??E$,o=(i==null?void 0:i.firstWeekContainsDate)??((x=(y=i==null?void 0:i.locale)==null?void 0:y.options)==null?void 0:x.firstWeekContainsDate)??r.firstWeekContainsDate??((_=(v=r.locale)==null?void 0:v.options)==null?void 0:_.firstWeekContainsDate)??1,a=(i==null?void 0:i.weekStartsOn)??((w=(b=i==null?void 0:i.locale)==null?void 0:b.options)==null?void 0:w.weekStartsOn)??r.weekStartsOn??((T=(C=r.locale)==null?void 0:C.options)==null?void 0:T.weekStartsOn)??0;if(e==="")return t===""?It(n):qn(n,NaN);const l={firstWeekContainsDate:o,weekStartsOn:a,locale:s},c=[new YTe],u=e.match(LCe).map(R=>{const I=R[0];if(I in SA){const A=SA[I];return A(R,s.formatLong)}return R}).join("").match(ICe),d=[];for(let R of u){!(i!=null&&i.useAdditionalWeekYearTokens)&&P$(R)&&oS(R,e,t),!(i!=null&&i.useAdditionalDayOfYearTokens)&&A$(R)&&oS(R,e,t);const I=R[0],A=kCe[I];if(A){const{incompatibleTokens:L}=A;if(Array.isArray(L)){const H=d.find(q=>L.includes(q.token)||q.token===I);if(H)throw new RangeError(`The format string mustn't contain \`${H.fullToken}\` and \`${R}\` at the same time`)}else if(A.incompatibleTokens==="*"&&d.length>0)throw new RangeError(`The format string mustn't contain \`${R}\` and any other token at the same time`);d.push({token:I,fullToken:R});const O=A.run(t,R,s.match,l);if(!O)return qn(n,NaN);c.push(O.setter),t=O.rest}else{if(I.match(FCe))throw new RangeError("Format string contains an unescaped latin alphabet character `"+I+"`");if(R==="''"?R="'":I==="'"&&(R=UCe(R)),t.indexOf(R)===0)t=t.slice(R.length);else return qn(n,NaN)}}if(t.length>0&&NCe.test(t))return qn(n,NaN);const f=c.map(R=>R.priority).sort((R,I)=>I-R).filter((R,I,A)=>A.indexOf(R)===I).map(R=>c.filter(I=>I.priority===R).sort((I,A)=>A.subPriority-I.subPriority)).map(R=>R[0]);let m=It(n);if(isNaN(m.getTime()))return qn(n,NaN);const g={};for(const R of f){if(!R.validate(m,l))return qn(n,NaN);const I=R.set(m,g,l);Array.isArray(I)?(m=I[0],Object.assign(g,I[1])):m=I}return qn(n,m)}function UCe(t){return t.match(DCe)[1].replace(OCe,"'")}function BCe(t){const e=It(t);return e.setMinutes(0,0,0),e}function HCe(t){const e=It(t);return e.setMilliseconds(0),e}function VCe(t,e){const n=(e==null?void 0:e.additionalDigits)??2,i=$Ce(t);let r;if(i.date){const l=XCe(i.date,n);r=YCe(l.restDateString,l.year)}if(!r||isNaN(r.getTime()))return new Date(NaN);const s=r.getTime();let o=0,a;if(i.time&&(o=qCe(i.time),isNaN(o)))return new Date(NaN);if(i.timezone){if(a=KCe(i.timezone),isNaN(a))return new Date(NaN)}else{const l=new Date(s+o),c=new Date(0);return c.setFullYear(l.getUTCFullYear(),l.getUTCMonth(),l.getUTCDate()),c.setHours(l.getUTCHours(),l.getUTCMinutes(),l.getUTCSeconds(),l.getUTCMilliseconds()),c}return new Date(s+o+a)}const db={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},jCe=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,WCe=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,GCe=/^([+-])(\d{2})(?::?(\d{2}))?$/;function $Ce(t){const e={},n=t.split(db.dateTimeDelimiter);let i;if(n.length>2)return e;if(/:/.test(n[0])?i=n[0]:(e.date=n[0],i=n[1],db.timeZoneDelimiter.test(e.date)&&(e.date=t.split(db.timeZoneDelimiter)[0],i=t.substr(e.date.length,t.length))),i){const r=db.timezone.exec(i);r?(e.time=i.replace(r[1],""),e.timezone=r[1]):e.time=i}return e}function XCe(t,e){const n=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+e)+"})|(\\d{2}|[+-]\\d{"+(2+e)+"})$)"),i=t.match(n);if(!i)return{year:NaN,restDateString:""};const r=i[1]?parseInt(i[1]):null,s=i[2]?parseInt(i[2]):null;return{year:s===null?r:s*100,restDateString:t.slice((i[1]||i[2]).length)}}function YCe(t,e){if(e===null)return new Date(NaN);const n=t.match(jCe);if(!n)return new Date(NaN);const i=!!n[4],r=Tg(n[1]),s=Tg(n[2])-1,o=Tg(n[3]),a=Tg(n[4]),l=Tg(n[5])-1;if(i)return t2e(e,a,l)?QCe(e,a,l):new Date(NaN);{const c=new Date(0);return!JCe(e,s,o)||!e2e(e,r)?new Date(NaN):(c.setUTCFullYear(e,s,Math.max(r,o)),c)}}function Tg(t){return t?parseInt(t):1}function qCe(t){const e=t.match(WCe);if(!e)return NaN;const n=AC(e[1]),i=AC(e[2]),r=AC(e[3]);return n2e(n,i,r)?n*Ey+i*My+r*1e3:NaN}function AC(t){return t&&parseFloat(t.replace(",","."))||0}function KCe(t){if(t==="Z")return 0;const e=t.match(GCe);if(!e)return 0;const n=e[1]==="+"?-1:1,i=parseInt(e[2]),r=e[3]&&parseInt(e[3])||0;return i2e(i,r)?n*(i*Ey+r*My):NaN}function QCe(t,e,n){const i=new Date(0);i.setUTCFullYear(t,0,4);const r=i.getUTCDay()||7,s=(e-1)*7+n+1-r;return i.setUTCDate(i.getUTCDate()+s),i}const ZCe=[31,null,31,30,31,30,31,31,30,31,30,31];function O$(t){return t%400===0||t%4===0&&t%100!==0}function JCe(t,e,n){return e>=0&&e<=11&&n>=1&&n<=(ZCe[e]||(O$(t)?29:28))}function e2e(t,e){return e>=1&&e<=(O$(t)?366:365)}function t2e(t,e,n){return e>=1&&e<=53&&n>=0&&n<=6}function n2e(t,e,n){return t===24?e===0&&n===0:n>=0&&n<60&&e>=0&&e<60&&t>=0&&t<25}function i2e(t,e){return e>=0&&e<=59}/*!
 * chartjs-adapter-date-fns v3.0.0
 * https://www.chartjs.org
 * (c) 2022 chartjs-adapter-date-fns Contributors
 * Released under the MIT license
 */const r2e={datetime:"MMM d, yyyy, h:mm:ss aaaa",millisecond:"h:mm:ss.SSS aaaa",second:"h:mm:ss aaaa",minute:"h:mm aaaa",hour:"ha",day:"MMM d",week:"PP",month:"MMM yyyy",quarter:"qqq - yyyy",year:"yyyy"};R8._date.override({_id:"date-fns",formats:function(){return r2e},parse:function(t,e){if(t===null||typeof t>"u")return null;const n=typeof t;return n==="number"||t instanceof Date?t=It(t):n==="string"&&(typeof e=="string"?t=zCe(t,e,new Date,this.options):t=VCe(t,this.options)),x$(t)?t.getTime():null},format:function(t,e){return HTe(t,e,this.options)},add:function(t,e,n){switch(n){case"millisecond":return gM(t,e);case"second":return PEe(t,e);case"minute":return REe(t,e);case"hour":return EEe(t,e);case"day":return mM(t,e);case"week":return kEe(t,e);case"month":return tL(t,e);case"quarter":return AEe(t,e);case"year":return IEe(t,e);default:return t}},diff:function(t,e,n){switch(n){case"millisecond":return vM(t,e);case"second":return BEe(t,e);case"minute":return FEe(t,e);case"hour":return NEe(t,e);case"day":return _$(t,e);case"week":return HEe(t,e);case"month":return w$(t,e);case"quarter":return UEe(t,e);case"year":return VEe(t,e);default:return 0}},startOf:function(t,e,n){switch(e){case"second":return HCe(t);case"minute":return jEe(t);case"hour":return BCe(t);case"day":return bA(t);case"week":return qa(t);case"isoWeek":return qa(t,{weekStartsOn:+n});case"month":return GEe(t);case"quarter":return WEe(t);case"year":return M$(t);default:return t}},endOf:function(t,e){switch(e){case"second":return QEe(t);case"minute":return qEe(t);case"hour":return XEe(t);case"day":return b$(t);case"week":return YEe(t);case"month":return S$(t);case"quarter":return KEe(t);case"year":return $Ee(t);default:return t}}});Nl.register(pEe);Nl.register(iS);const s2e=({highScore:t,scores:e,leaderboard:n})=>{const i=vr(),r=e.map(d=>d.date),s=e.map(d=>d.score),o=n.map(d=>d.score),a=ub(90,o),l=ub(75,o),c=ub(50,o),u=ub(25,o);return M.jsx(M.Fragment,{children:e.length>0&&n.length>0?M.jsx(Xwe,{data:{labels:r,datasets:[{label:"Score History",data:s,fill:!0,borderColor:i.palette.primary.main,backgroundColor:`${i.palette.primary.main}99`,tension:.05}]},options:{maintainAspectRatio:!1,plugins:{legend:{display:!1},annotation:{annotations:{personalBest:{type:"line",yMin:t,yMax:t,borderColor:i.palette.primary.dark,borderWidth:2,label:{display:!0,position:"0%",content:`Personal Best: ${t}`,color:i.palette.text.primary,backgroundColor:i.palette.background.default}},ninetiethPercentile:{type:"line",yMin:a,yMax:a,borderColor:i.palette.text.disabled,borderWidth:2,label:{display:!0,position:"100%",content:"90th Percentile",color:i.palette.text.secondary,backgroundColor:i.palette.background.default}},seventyfifthPercentile:{type:"line",yMin:l,yMax:l,borderColor:i.palette.text.disabled,borderWidth:2,label:{display:!0,position:"100%",content:"75th Percentile",color:i.palette.text.secondary,backgroundColor:i.palette.background.default}},fiftiethPercentile:{type:"line",yMin:c,yMax:c,borderColor:i.palette.text.disabled,borderWidth:2,label:{display:!0,position:"100%",content:"50th Percentile",color:i.palette.text.secondary,backgroundColor:i.palette.background.default}},twentyfifthPercentile:{type:"line",yMin:u,yMax:u,borderColor:i.palette.text.disabled,borderWidth:2,label:{display:!0,position:"100%",content:"25th Percentile",color:i.palette.text.secondary,backgroundColor:i.palette.background.default}}}}},scales:{x:{type:"timeseries",time:{unit:"day"},display:!1}}}}):M.jsx(gt,{height:"100%",justifyContent:"center",alignItems:"center",children:M.jsx($e,{variant:"h6",children:"No Scores"})})})},o2e=({score:t,scores:e,leaderboard:n,highScore:i})=>M.jsxs(gt,{flex:1,gap:2,children:[M.jsx($e,{textAlign:"center",variant:"h5",children:"Score History"}),M.jsxs($e,{textAlign:"center",variant:"h4",children:["Final Score: ",t]}),M.jsx($e,{textAlign:"center",variant:"h6",children:typeof i=="string"?"Sign in to save score":`Current High Score: ${i}`}),typeof i=="number"&&M.jsx(gt,{flexGrow:1,children:M.jsx(s2e,{highScore:i,scores:e,leaderboard:n})})]}),a2e=({shotsFired:t,shotsHit:e,damage:n,accuracy:i,score:r,highScore:s})=>{const o=vr();return M.jsxs(gt,{flex:1,gap:2,children:[M.jsx($e,{textAlign:"center",variant:"h5",children:"Score Calculation"}),M.jsx(JV,{children:M.jsxs(QV,{children:[M.jsx(ej,{children:M.jsxs(ld,{children:[M.jsx(Dn,{}),M.jsx(Dn,{color:o.palette.primary.main,children:"Given"}),M.jsx(Dn,{color:o.palette.primary.main,children:"x"}),M.jsx(Dn,{color:o.palette.primary.main,children:"="})]})}),M.jsxs(ZV,{children:[M.jsxs(ld,{children:[M.jsx(Dn,{children:"Damage"}),M.jsx(Dn,{children:n}),M.jsx(Dn,{children:"0"}),M.jsx(Dn,{children:"0.0"})]}),M.jsxs(ld,{children:[M.jsx(Dn,{children:"HITS"}),M.jsx(Dn,{children:e}),M.jsx(Dn,{children:"0"}),M.jsx(Dn,{children:"0"})]}),M.jsxs(ld,{children:[M.jsx(Dn,{children:"KILLS"}),M.jsx(Dn,{children:e}),M.jsx(Dn,{children:"1"}),M.jsx(Dn,{children:e})]}),M.jsxs(ld,{children:[M.jsx(Dn,{children:"TOTAL"}),M.jsx(Dn,{children:e}),M.jsx(Dn,{}),M.jsx(Dn,{})]})]})]})}),M.jsxs(gt,{flexDirection:"row",justifyContent:"space-between",children:[M.jsxs(gt,{flex:1,gap:2,sx:{borderWidth:1,borderStyle:"solid",borderColor:o.palette.primary.light},children:[M.jsx($e,{textAlign:"center",color:o.palette.primary.main,children:"x Acc"}),M.jsx($e,{textAlign:"center",children:`${e} / ${t}`}),M.jsx($e,{textAlign:"center",children:`${i}%`})]}),M.jsx(jl,{orientation:"vertical"}),M.jsxs(gt,{flex:1,gap:2,children:[M.jsx($e,{textAlign:"center",color:o.palette.primary.main,children:"Dmg Eff"}),M.jsx($e,{textAlign:"center",children:`${n} / ${t*25}`}),M.jsx($e,{textAlign:"center",children:`${i}%`})]}),M.jsx(jl,{orientation:"vertical"}),M.jsxs(gt,{flex:1,gap:2,children:[M.jsx($e,{textAlign:"center",color:o.palette.primary.main,children:"Kdr"}),M.jsx($e,{textAlign:"center",children:`${e} / 0`}),M.jsx($e,{textAlign:"center",children:"100%"})]})]}),M.jsxs(gt,{children:[M.jsxs($e,{variant:"h6",color:o.palette.primary.main,textAlign:"center",children:["Final Score:"," ",M.jsx(Vl,{component:"span",color:o.palette.text.primary,children:r})]}),typeof s=="string"?M.jsx($e,{variant:"h6",color:o.palette.primary.main,textAlign:"center",children:"Sign in to save score"}):M.jsxs($e,{variant:"h6",color:o.palette.primary.main,textAlign:"center",children:["Current High Score:"," ",M.jsx(Vl,{component:"span",color:o.palette.text.primary,children:s})]})]})]})};function l2e(t,e){let n=e.indexOf(t);n===-1&&e.push(t);const i=e.slice().sort((s,o)=>s-o);n=i.indexOf(t);const r=((n+1)/i.length*100).toFixed(2);return parseFloat(r)}function c2e(t){const e=t.slice().sort((i,r)=>i-r),n=e.length;if(n%2===0){const i=n/2-1,r=n/2,s=((e[i]+e[r])/2).toFixed(2);return parseFloat(s)}else{const i=Math.floor(n/2);return e[i]}}const u2e=({highScore:t,leaderboard:e,accountId:n})=>{const i=vr(),r=e.map(s=>s.score);return M.jsx(M.Fragment,{children:e.length>0?M.jsxs(gt,{flex:1,children:[M.jsx($e,{textAlign:"center",variant:"h5",children:"Tile Frenzy"}),M.jsxs(gt,{flexDirection:"row",justifyContent:"space-between",children:[M.jsxs($e,{children:["Entries: ",e.length]}),M.jsxs($e,{children:["Median: ",c2e(r)]}),M.jsxs($e,{children:["Percentile: ",l2e(t,r)]})]}),M.jsx(JV,{children:M.jsxs(QV,{stickyHeader:!0,children:[M.jsx(ej,{children:M.jsxs(ld,{children:[M.jsx(Dn,{children:"Rank"}),M.jsx(Dn,{children:"Player"}),M.jsx(Dn,{children:"Score"}),M.jsx(Dn,{children:"Acc"})]})}),M.jsx(ZV,{children:e.map((s,o)=>M.jsxs(ld,{sx:{"&:nth-of-type(odd)":{backgroundColor:n&&n===s.accountId._id?i.palette.primary.main:i.palette.action.hover},"&:last-child td, &:last-child th":{border:0},backgroundColor:n&&n===s.accountId._id?i.palette.primary.main:i.palette.background.default},children:[M.jsx(Dn,{children:o+1}),M.jsx(Dn,{children:M.jsxs(gt,{flexDirection:"row",alignItems:"center",gap:2,children:[M.jsx(Jc,{src:s.accountId.image,alt:s.accountId.image,sx:{width:24,height:24}}),M.jsx($e,{variant:"body2",children:s.accountId.username})]})}),M.jsx(Dn,{children:s.score}),M.jsx(Dn,{children:s.accuracy})]},s.accountId.username))})]})})]}):M.jsx(gt,{height:"100%",justifyContent:"center",alignItems:"center",children:M.jsx($e,{variant:"h6",children:"No Leaderboard"})})})},d2e=async({scenarioName:t})=>{try{return(await ca.get(`https://aim-blitz-server.onrender.com/api/accounts/scenarios/${t}/scores`)).data}catch(e){console.error("Error during getScores:",e);const n=e;return{success:!1,message:n.response?n.response.data.message:"Network Error or CORS issue",data:null,error:n.response?n.response.data.error:{code:"0",details:"Network Error or CORS issue"}}}},f2e=({scenarioName:t})=>_P({queryKey:["api","accounts",t,"scores"],queryFn:()=>d2e({scenarioName:t})}),h2e=async({scenarioName:t})=>{try{return(await ca.get(`https://aim-blitz-server.onrender.com/api/scenarios/${t}/leaderboard`)).data}catch(e){console.error("Error during getLeaderboard:",e);const n=e;return{success:!1,message:n.response?n.response.data.message:"Network Error or CORS issue",data:null,error:n.response?n.response.data.error:{code:"0",details:"Network Error or CORS issue"}}}},p2e=({scenarioName:t})=>_P({queryKey:["api","scenarios",t,"leaderboard"],queryFn:()=>h2e({scenarioName:t})}),N$=({scenarioName:t})=>{var x,v,_,b;const e=vr(),{showScoreboard:n,setShowScoreboard:i}=ql(),{shotsFired:r,shotsHit:s,damage:o,accuracy:a,score:l}=xf(),{data:c,isLoading:u}=ff(),{data:d,isLoading:f}=f2e({scenarioName:t}),{data:m,isLoading:g}=p2e({scenarioName:t}),y=d!=null&&d.success?Math.max(...d.data.scores.map(w=>w.score)):"Sign in to save";return M.jsx(M.Fragment,{children:n&&M.jsxs(gt,{width:"80%",height:"80%",position:"absolute",top:"50%",left:"50%",paddingX:2,borderRadius:1,sx:{transform:"translate(-50%,-50%)",background:e.palette.background.default,backgroundImage:e.palette.mode==="dark"?"linear-gradient(rgba(255, 255, 255, 0.05), rgba(255, 255, 255, 0.05))":"linear-gradient(rgba(0, 0, 0, 0.05), rgba(0, 0, 0, 0.05))"},children:[M.jsx(gt,{flexDirection:"row",paddingY:1,marginY:1,children:M.jsxs($e,{variant:"h4",children:["Challenge Results: ",M.jsx(Vl,{component:"span",children:"Tile Frenzy"})]})}),M.jsx(jl,{flexItem:!0}),M.jsxs(gt,{flexDirection:"row",flexWrap:"wrap",gap:2,overflow:"auto",flex:1,paddingY:1,marginY:1,children:[M.jsx(gt,{flex:1,children:!f&&!g?M.jsx(o2e,{score:l,scores:(x=d==null?void 0:d.data)==null?void 0:x.scores,leaderboard:(v=m==null?void 0:m.data)==null?void 0:v.leaderboard,highScore:y}):M.jsx(gt,{width:"100%",height:"100%",justifyContent:"center",alignItems:"center",children:M.jsx(Lb,{})})}),M.jsx(gt,{flex:1,children:u?M.jsx(gt,{width:"100%",height:"100%",justifyContent:"center",alignItems:"center",children:M.jsx(Lb,{})}):M.jsx(a2e,{shotsFired:r,shotsHit:s,damage:o,accuracy:a,score:l,highScore:y})}),M.jsx(gt,{flex:1,children:!u&&!g?M.jsx(u2e,{highScore:typeof y=="number"?y:l,leaderboard:(_=m==null?void 0:m.data)==null?void 0:_.leaderboard,accountId:(b=c==null?void 0:c.data)==null?void 0:b.account._id}):M.jsx(gt,{width:"100%",height:"100%",justifyContent:"center",alignItems:"center",children:M.jsx(Lb,{})})})]}),M.jsx(jl,{flexItem:!0}),M.jsxs(gt,{flexDirection:"row",justifyContent:"space-between",paddingY:1,marginY:1,children:[M.jsx(bi,{variant:"contained",onClick:()=>i(!1),children:"Done"}),M.jsx(bi,{variant:"contained",onClick:()=>i(!1),children:"Replay"})]})]})})},F$=()=>{const t=vr(),{isChallenge:e}=ql(),{shotsHit:n,shotsFired:i,accuracy:r,damage:s}=xf();return M.jsx(M.Fragment,{children:e&&M.jsxs(gt,{sx:{position:"absolute",top:0,left:0,px:2,py:1,backgroundColor:`${t.palette.background.default}BF`,backgroundImage:t.palette.mode==="dark"?"linear-gradient(rgba(255, 255, 255, 0.05), rgba(255, 255, 255, 0.05))":"linear-gradient(rgba(0, 0, 0, 0.05), rgba(0, 0, 0, 0.05))",borderRadius:1,margin:1},children:[M.jsxs($e,{children:["Kill Count: ",n]}),M.jsxs($e,{children:["Accuracy: ",n,"/",i," (",r,"%)"]}),M.jsxs($e,{children:["Damage: ",s,"/",i*25," (",r,"%)"]})]})})};function m2e(t){return function(e){t.forEach(function(n){typeof n=="function"?n(e):n!=null&&(n.current=e)})}}let Cg;function g2e(){var t;if(Cg!==void 0)return Cg;try{let e;const n=document.createElement("canvas");return Cg=!!(window.WebGL2RenderingContext&&(e=n.getContext("webgl2"))),e&&((t=e.getExtension("WEBGL_lose_context"))==null||t.loseContext()),Cg}catch{return Cg=!1}}var v2e=Object.defineProperty,y2e=(t,e,n)=>e in t?v2e(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,$i=(t,e,n)=>(y2e(t,typeof e!="symbol"?e+"":e,n),n);const bh=new Ya(0,0,0,"YXZ"),Sh=new W,x2e={type:"change"},_2e={type:"lock"},b2e={type:"unlock"},WB=Math.PI/2;let S2e=class extends lo{constructor(e,n){super(),$i(this,"camera"),$i(this,"domElement"),$i(this,"isLocked"),$i(this,"minPolarAngle"),$i(this,"maxPolarAngle"),$i(this,"pointerSpeed"),$i(this,"onMouseMove",i=>{if(!this.domElement||this.isLocked===!1)return;const r=i.movementX||i.mozMovementX||i.webkitMovementX||0,s=i.movementY||i.mozMovementY||i.webkitMovementY||0;bh.setFromQuaternion(this.camera.quaternion),bh.y-=r*.002*this.pointerSpeed,bh.x-=s*.002*this.pointerSpeed,bh.x=Math.max(WB-this.maxPolarAngle,Math.min(WB-this.minPolarAngle,bh.x)),this.camera.quaternion.setFromEuler(bh),this.dispatchEvent(x2e)}),$i(this,"onPointerlockChange",()=>{this.domElement&&(this.domElement.ownerDocument.pointerLockElement===this.domElement?(this.dispatchEvent(_2e),this.isLocked=!0):(this.dispatchEvent(b2e),this.isLocked=!1))}),$i(this,"onPointerlockError",()=>{console.error("THREE.PointerLockControls: Unable to use Pointer Lock API")}),$i(this,"connect",i=>{this.domElement=i||this.domElement,this.domElement&&(this.domElement.ownerDocument.addEventListener("mousemove",this.onMouseMove),this.domElement.ownerDocument.addEventListener("pointerlockchange",this.onPointerlockChange),this.domElement.ownerDocument.addEventListener("pointerlockerror",this.onPointerlockError))}),$i(this,"disconnect",()=>{this.domElement&&(this.domElement.ownerDocument.removeEventListener("mousemove",this.onMouseMove),this.domElement.ownerDocument.removeEventListener("pointerlockchange",this.onPointerlockChange),this.domElement.ownerDocument.removeEventListener("pointerlockerror",this.onPointerlockError))}),$i(this,"dispose",()=>{this.disconnect()}),$i(this,"getObject",()=>this.camera),$i(this,"direction",new W(0,0,-1)),$i(this,"getDirection",i=>i.copy(this.direction).applyQuaternion(this.camera.quaternion)),$i(this,"moveForward",i=>{Sh.setFromMatrixColumn(this.camera.matrix,0),Sh.crossVectors(this.camera.up,Sh),this.camera.position.addScaledVector(Sh,i)}),$i(this,"moveRight",i=>{Sh.setFromMatrixColumn(this.camera.matrix,0),this.camera.position.addScaledVector(Sh,i)}),$i(this,"lock",()=>{this.domElement&&this.domElement.requestPointerLock()}),$i(this,"unlock",()=>{this.domElement&&this.domElement.ownerDocument.exitPointerLock()}),this.camera=e,this.domElement=n,this.isLocked=!1,this.minPolarAngle=0,this.maxPolarAngle=Math.PI,this.pointerSpeed=1,n&&this.connect(n)}};const GB=t=>t===Object(t)&&!Array.isArray(t)&&typeof t!="function";function yM(t,e){const n=ns(r=>r.gl),i=py(sM,GB(t)?Object.values(t):t);if(k.useLayoutEffect(()=>{e==null||e(i)},[e]),k.useEffect(()=>{"initTexture"in n&&(Array.isArray(i)?i:[i]).forEach(n.initTexture)},[n,i]),GB(t)){const r={};let s=0;for(const o in t)r[o]=i[s++];return r}else return i}yM.preload=t=>py.preload(sM,t);yM.clear=t=>py.clear(sM,t);function w2e(t,e,n){const i=ns(f=>f.size),r=ns(f=>f.viewport),s=typeof t=="number"?t:i.width*r.dpr,o=typeof e=="number"?e:i.height*r.dpr,a=(typeof t=="number"?n:t)||{},{samples:l=0,depth:c,...u}=a,d=k.useMemo(()=>{const f=new ii(s,o,{minFilter:Bn,magFilter:Bn,type:du,...u});return c&&(f.depthTexture=new cy(s,o,eo)),f.samples=l,f},[]);return k.useLayoutEffect(()=>{d.setSize(s,o),l&&(d.samples=l)},[l,d,s,o]),k.useEffect(()=>()=>d.dispose(),[]),d}const M2e=t=>typeof t=="function",E2e=k.forwardRef(({envMap:t,resolution:e=256,frames:n=1/0,makeDefault:i,children:r,...s},o)=>{const a=ns(({set:x})=>x),l=ns(({camera:x})=>x),c=ns(({size:x})=>x),u=k.useRef(null),d=k.useRef(null),f=w2e(e);k.useLayoutEffect(()=>{s.manual||(u.current.aspect=c.width/c.height)},[c,s]),k.useLayoutEffect(()=>{u.current.updateProjectionMatrix()});let m=0,g=null;const y=M2e(r);return UG(x=>{y&&(n===1/0||m<n)&&(d.current.visible=!1,x.gl.setRenderTarget(f),g=x.scene.background,t&&(x.scene.background=t),x.gl.render(x.scene,u.current),x.scene.background=g,x.gl.setRenderTarget(null),d.current.visible=!0,m++)}),k.useLayoutEffect(()=>{if(i){const x=l;return a(()=>({camera:u.current})),()=>a(()=>({camera:x}))}},[u,i,a]),k.createElement(k.Fragment,null,k.createElement("perspectiveCamera",z({ref:m2e([u,o])},s),!y&&r),k.createElement("group",{ref:d},y&&r(f.texture)))}),T2e=k.forwardRef(({domElement:t,selector:e,onChange:n,onLock:i,onUnlock:r,enabled:s=!0,makeDefault:o,...a},l)=>{const{camera:c,...u}=a,d=ns(C=>C.setEvents),f=ns(C=>C.gl),m=ns(C=>C.camera),g=ns(C=>C.invalidate),y=ns(C=>C.events),x=ns(C=>C.get),v=ns(C=>C.set),_=c||m,b=t||y.connected||f.domElement,w=k.useMemo(()=>new S2e(_),[_]);return k.useEffect(()=>{if(s){w.connect(b);const C=x().events.compute;return d({compute(T,R){const I=R.size.width/2,A=R.size.height/2;R.pointer.set(I/R.size.width*2-1,-(A/R.size.height)*2+1),R.raycaster.setFromCamera(R.pointer,R.camera)}}),()=>{w.disconnect(),d({compute:C})}}},[s,w]),k.useEffect(()=>{const C=I=>{g(),n&&n(I)};w.addEventListener("change",C),i&&w.addEventListener("lock",i),r&&w.addEventListener("unlock",r);const T=()=>w.lock(),R=e?Array.from(document.querySelectorAll(e)):[document];return R.forEach(I=>I&&I.addEventListener("click",T)),()=>{w.removeEventListener("change",C),i&&w.removeEventListener("lock",i),r&&w.removeEventListener("unlock",r),R.forEach(I=>I?I.removeEventListener("click",T):void 0)}},[n,i,r,e,w,g]),k.useEffect(()=>{if(o){const C=x().controls;return v({controls:w}),()=>v({controls:C})}},[o,w]),k.createElement("primitive",z({ref:l,object:w},u))}),z$=({position:t})=>{const{localSettings:e}=hf(),{setPointerLockControls:n,setIsLocked:i}=_f(),{isChallenge:r,showScoreboard:s}=ql(),{toggleTimer:o}=CI(),a=k.useRef(null),l=()=>{i(!0),r&&o()},c=()=>{i(!1),r&&o()};return k.useEffect(()=>{a.current!==null&&a.current.camera.rotation.set(0,0,0)},[r,s]),k.useEffect(()=>{n(a)},[n]),M.jsxs(M.Fragment,{children:[M.jsx(E2e,{makeDefault:!0,position:t,rotation:[0,0,0],fov:e.fov.value}),M.jsx(T2e,{ref:a,selector:"#play-button",pointerSpeed:e.sensitivity.value,onLock:l,onUnlock:c})]})},Ac=8,_l=8,Rg=.08,fb=8,$B=.16,lS=8,XB=8,YB=.16,qB=8,C2e=()=>{const{localSettings:t}=hf(),[e,n,i]=yM([t.walls.texture,t.floors.texture,t.ceilings.texture]);e.wrapS=wr,e.wrapT=wr,e.repeat.set(t.walls.scale,t.walls.scale),n.wrapS=wr,n.wrapT=wr,n.repeat.set(t.floors.scale,t.floors.scale),i.wrapS=wr,i.wrapT=wr,i.repeat.set(t.ceilings.scale,t.ceilings.scale);const r=({color:a,position:l,rotation:c,map:u,roughness:d,metalness:f})=>M.jsxs("mesh",{position:l,rotation:c,children:[M.jsx("boxGeometry",{args:[Ac,_l,Rg]}),M.jsx("meshStandardMaterial",{color:a,map:u,roughness:d,metalness:f})]}),s=({color:a,position:l,rotation:c,map:u,roughness:d,metalness:f})=>M.jsxs("mesh",{position:l,rotation:c,children:[M.jsx("boxGeometry",{args:[fb,$B,lS]}),M.jsx("meshStandardMaterial",{color:a,map:u,roughness:d,metalness:f})]}),o=({color:a,position:l,rotation:c,map:u,roughness:d,metalness:f})=>M.jsxs("mesh",{position:l,rotation:c,children:[M.jsx("boxGeometry",{args:[XB,YB,qB]}),M.jsx("meshStandardMaterial",{color:a,map:u,roughness:d,metalness:f})]});return M.jsxs("group",{children:[M.jsx(r,{position:new W(Ac/2,_l/2,-Rg/2),color:new Be(t.walls.color),map:e,roughness:t.walls?t.walls.roughness:0,metalness:t.walls?t.walls.metallic:0}),M.jsx(r,{position:new W(Ac/2,_l/2,Rg/2+fb),color:new Be(t.walls.color),map:e,roughness:t.walls?t.walls.roughness:0,metalness:t.walls?t.walls.metallic:0}),M.jsx(r,{position:new W(-Rg/2,_l/2,Ac/2),rotation:new Ya(0,Math.PI/2,0),color:new Be(t.walls.color),map:e,roughness:t.walls?t.walls.roughness:0,metalness:t.walls?t.walls.metallic:0}),M.jsx(r,{position:new W(fb+Rg/2,_l/2,Ac/2),rotation:new Ya(0,Math.PI/2,0),color:new Be(t.walls.color),map:e,roughness:t.walls?t.walls.roughness:0,metalness:t.walls?t.walls.metallic:0}),M.jsx(s,{position:new W(fb/2,-$B/2,lS/2),color:new Be(t.floors.color),map:n,roughness:t.floors?t.floors.roughness:0,metalness:t.floors?t.floors.metallic:0}),M.jsx(o,{position:new W(XB/2,YB/2+_l,qB/2),color:new Be(t.ceilings.color),map:i,roughness:t.ceilings?t.ceilings.roughness:0,metalness:t.ceilings?t.ceilings.metallic:0})]})},R2e=k.createContext(null);/**
 * postprocessing v6.33.4 build Sat Dec 02 2023
 * https://github.com/pmndrs/postprocessing
 * Copyright 2015-2023 Raoul van Rüschen
 * @license Zlib
 */var sL="varying vec2 vUv;void main(){vUv=position.xy*0.5+0.5;gl_Position=vec4(position.xy,1.0,1.0);}",nn={SKIP:9,SET:30,ADD:0,ALPHA:1,AVERAGE:2,COLOR:3,COLOR_BURN:4,COLOR_DODGE:5,DARKEN:6,DIFFERENCE:7,DIVIDE:8,DST:9,EXCLUSION:10,HARD_LIGHT:11,HARD_MIX:12,HUE:13,INVERT:14,INVERT_RGB:15,LIGHTEN:16,LINEAR_BURN:17,LINEAR_DODGE:18,LINEAR_LIGHT:19,LUMINOSITY:20,MULTIPLY:21,NEGATION:22,NORMAL:23,OVERLAY:24,PIN_LIGHT:25,REFLECT:26,SATURATION:27,SCREEN:28,SOFT_LIGHT:29,SRC:30,SUBTRACT:31,VIVID_LIGHT:32},U$="",Bi="srgb",xM="srgb-linear",C0={DEFAULT:0,KEEP_MAX_DEPTH:1,DISCARD_MAX_DEPTH:2},Ga={NONE:0,DEPTH:1,CONVOLUTION:2},vn={FRAGMENT_HEAD:"FRAGMENT_HEAD",FRAGMENT_MAIN_UV:"FRAGMENT_MAIN_UV",FRAGMENT_MAIN_IMAGE:"FRAGMENT_MAIN_IMAGE",VERTEX_HEAD:"VERTEX_HEAD",VERTEX_MAIN_SUPPORT:"VERTEX_MAIN_SUPPORT"},oL={VERY_SMALL:0,SMALL:1,MEDIUM:2,LARGE:3,VERY_LARGE:4,HUGE:5},B$=Number(pf.replace(/\D+/g,"")),H$=B$>=152,A2e=new Map([[iy,xM],[Va,Bi]]),P2e=new Map([[xM,iy],[Bi,Va]]);function of(t){return t===null?null:H$?t.outputColorSpace:A2e.get(t.outputEncoding)}function Fl(t,e){t!==null&&(H$?t.colorSpace=e:t.encoding=P2e.get(e))}function Cy(t){return B$<154?t.replace("colorspace_fragment","encodings_fragment"):t}var k2e=`#ifdef FRAMEBUFFER_PRECISION_HIGH
uniform mediump sampler2D inputBuffer;
#else
uniform lowp sampler2D inputBuffer;
#endif
varying vec2 vUv0;varying vec2 vUv1;varying vec2 vUv2;varying vec2 vUv3;void main(){vec4 sum=texture2D(inputBuffer,vUv0);sum+=texture2D(inputBuffer,vUv1);sum+=texture2D(inputBuffer,vUv2);sum+=texture2D(inputBuffer,vUv3);gl_FragColor=sum*0.25;
#include <colorspace_fragment>
}`,I2e="uniform vec4 texelSize;uniform float kernel;uniform float scale;varying vec2 vUv0;varying vec2 vUv1;varying vec2 vUv2;varying vec2 vUv3;void main(){vec2 uv=position.xy*0.5+0.5;vec2 dUv=(texelSize.xy*vec2(kernel)+texelSize.zw)*scale;vUv0=vec2(uv.x-dUv.x,uv.y+dUv.y);vUv1=vec2(uv.x+dUv.x,uv.y+dUv.y);vUv2=vec2(uv.x+dUv.x,uv.y-dUv.y);vUv3=vec2(uv.x-dUv.x,uv.y-dUv.y);gl_Position=vec4(position.xy,1.0,1.0);}",L2e=[new Float32Array([0,0]),new Float32Array([0,1,1]),new Float32Array([0,1,1,2]),new Float32Array([0,1,2,2,3]),new Float32Array([0,1,2,3,4,4,5]),new Float32Array([0,1,2,3,4,5,7,8,9,10])],D2e=class extends er{constructor(t=new wn){super({name:"KawaseBlurMaterial",uniforms:{inputBuffer:new sn(null),texelSize:new sn(new wn),scale:new sn(1),kernel:new sn(0)},blending:Er,toneMapped:!1,depthWrite:!1,depthTest:!1,fragmentShader:k2e,vertexShader:I2e}),this.fragmentShader=Cy(this.fragmentShader),this.setTexelSize(t.x,t.y),this.kernelSize=oL.MEDIUM}set inputBuffer(t){this.uniforms.inputBuffer.value=t}setInputBuffer(t){this.inputBuffer=t}get kernelSequence(){return L2e[this.kernelSize]}get scale(){return this.uniforms.scale.value}set scale(t){this.uniforms.scale.value=t}getScale(){return this.uniforms.scale.value}setScale(t){this.uniforms.scale.value=t}getKernel(){return null}get kernel(){return this.uniforms.kernel.value}set kernel(t){this.uniforms.kernel.value=t}setKernel(t){this.kernel=t}setTexelSize(t,e){this.uniforms.texelSize.value.set(t,e,t*.5,e*.5)}setSize(t,e){const n=1/t,i=1/e;this.uniforms.texelSize.value.set(n,i,n*.5,i*.5)}},O2e=`#include <common>
#include <dithering_pars_fragment>
#ifdef FRAMEBUFFER_PRECISION_HIGH
uniform mediump sampler2D inputBuffer;
#else
uniform lowp sampler2D inputBuffer;
#endif
uniform float opacity;varying vec2 vUv;void main(){vec4 texel=texture2D(inputBuffer,vUv);gl_FragColor=opacity*texel;
#include <colorspace_fragment>
#include <dithering_fragment>
}`,V$=class extends er{constructor(){super({name:"CopyMaterial",uniforms:{inputBuffer:new sn(null),opacity:new sn(1)},blending:Er,toneMapped:!1,depthWrite:!1,depthTest:!1,fragmentShader:O2e,vertexShader:sL}),this.fragmentShader=Cy(this.fragmentShader)}set inputBuffer(t){this.uniforms.inputBuffer.value=t}setInputBuffer(t){this.uniforms.inputBuffer.value=t}getOpacity(t){return this.uniforms.opacity.value}setOpacity(t){this.uniforms.opacity.value=t}},N2e=`#include <packing>
#ifdef GL_FRAGMENT_PRECISION_HIGH
uniform highp sampler2D depthBuffer;
#else
uniform mediump sampler2D depthBuffer;
#endif
#ifdef DOWNSAMPLE_NORMALS
uniform lowp sampler2D normalBuffer;
#endif
varying vec2 vUv0;varying vec2 vUv1;varying vec2 vUv2;varying vec2 vUv3;float readDepth(const in vec2 uv){
#if DEPTH_PACKING == 3201
return unpackRGBAToDepth(texture2D(depthBuffer,uv));
#else
return texture2D(depthBuffer,uv).r;
#endif
}int findBestDepth(const in float samples[4]){float c=(samples[0]+samples[1]+samples[2]+samples[3])*0.25;float distances[4];distances[0]=abs(c-samples[0]);distances[1]=abs(c-samples[1]);distances[2]=abs(c-samples[2]);distances[3]=abs(c-samples[3]);float maxDistance=max(max(distances[0],distances[1]),max(distances[2],distances[3]));int remaining[3];int rejected[3];int i,j,k;for(i=0,j=0,k=0;i<4;++i){if(distances[i]<maxDistance){remaining[j++]=i;}else{rejected[k++]=i;}}for(;j<3;++j){remaining[j]=rejected[--k];}vec3 s=vec3(samples[remaining[0]],samples[remaining[1]],samples[remaining[2]]);c=(s.x+s.y+s.z)/3.0;distances[0]=abs(c-s.x);distances[1]=abs(c-s.y);distances[2]=abs(c-s.z);float minDistance=min(distances[0],min(distances[1],distances[2]));for(i=0;i<3;++i){if(distances[i]==minDistance){break;}}return remaining[i];}void main(){float d[4];d[0]=readDepth(vUv0);d[1]=readDepth(vUv1);d[2]=readDepth(vUv2);d[3]=readDepth(vUv3);int index=findBestDepth(d);
#ifdef DOWNSAMPLE_NORMALS
vec3 n[4];n[0]=texture2D(normalBuffer,vUv0).rgb;n[1]=texture2D(normalBuffer,vUv1).rgb;n[2]=texture2D(normalBuffer,vUv2).rgb;n[3]=texture2D(normalBuffer,vUv3).rgb;
#else
vec3 n[4];n[0]=vec3(0.0);n[1]=vec3(0.0);n[2]=vec3(0.0);n[3]=vec3(0.0);
#endif
gl_FragColor=vec4(n[index],d[index]);}`,F2e="uniform vec2 texelSize;varying vec2 vUv0;varying vec2 vUv1;varying vec2 vUv2;varying vec2 vUv3;void main(){vec2 uv=position.xy*0.5+0.5;vUv0=uv;vUv1=vec2(uv.x,uv.y+texelSize.y);vUv2=vec2(uv.x+texelSize.x,uv.y);vUv3=uv+texelSize;gl_Position=vec4(position.xy,1.0,1.0);}",z2e=class extends er{constructor(){super({name:"DepthDownsamplingMaterial",defines:{DEPTH_PACKING:"0"},uniforms:{depthBuffer:new sn(null),normalBuffer:new sn(null),texelSize:new sn(new Ae)},blending:Er,toneMapped:!1,depthWrite:!1,depthTest:!1,fragmentShader:N2e,vertexShader:F2e})}set depthBuffer(t){this.uniforms.depthBuffer.value=t}set depthPacking(t){this.defines.DEPTH_PACKING=t.toFixed(0),this.needsUpdate=!0}setDepthBuffer(t,e=la){this.depthBuffer=t,this.depthPacking=e}set normalBuffer(t){this.uniforms.normalBuffer.value=t,t!==null?this.defines.DOWNSAMPLE_NORMALS="1":delete this.defines.DOWNSAMPLE_NORMALS,this.needsUpdate=!0}setNormalBuffer(t){this.normalBuffer=t}setTexelSize(t,e){this.uniforms.texelSize.value.set(t,e)}setSize(t,e){this.uniforms.texelSize.value.set(1/t,1/e)}},U2e=`#include <common>
#include <packing>
#ifdef GL_FRAGMENT_PRECISION_HIGH
uniform highp sampler2D depthBuffer0;uniform highp sampler2D depthBuffer1;
#else
uniform mediump sampler2D depthBuffer0;uniform mediump sampler2D depthBuffer1;
#endif
uniform sampler2D inputBuffer;uniform vec2 cameraNearFar;float getViewZ(const in float depth){
#ifdef PERSPECTIVE_CAMERA
return perspectiveDepthToViewZ(depth,cameraNearFar.x,cameraNearFar.y);
#else
return orthographicDepthToViewZ(depth,cameraNearFar.x,cameraNearFar.y);
#endif
}varying vec2 vUv;void main(){vec2 depth;
#if DEPTH_PACKING_0 == 3201
depth.x=unpackRGBAToDepth(texture2D(depthBuffer0,vUv));
#else
depth.x=texture2D(depthBuffer0,vUv).r;
#ifdef LOG_DEPTH
float d=pow(2.0,depth.x*log2(cameraNearFar.y+1.0))-1.0;float a=cameraNearFar.y/(cameraNearFar.y-cameraNearFar.x);float b=cameraNearFar.y*cameraNearFar.x/(cameraNearFar.x-cameraNearFar.y);depth.x=a+b/d;
#endif
#endif
#if DEPTH_PACKING_1 == 3201
depth.y=unpackRGBAToDepth(texture2D(depthBuffer1,vUv));
#else
depth.y=texture2D(depthBuffer1,vUv).r;
#ifdef LOG_DEPTH
float d=pow(2.0,depth.y*log2(cameraNearFar.y+1.0))-1.0;float a=cameraNearFar.y/(cameraNearFar.y-cameraNearFar.x);float b=cameraNearFar.y*cameraNearFar.x/(cameraNearFar.x-cameraNearFar.y);depth.y=a+b/d;
#endif
#endif
bool isMaxDepth=(depth.x==1.0);
#ifdef PERSPECTIVE_CAMERA
depth.x=viewZToOrthographicDepth(getViewZ(depth.x),cameraNearFar.x,cameraNearFar.y);depth.y=viewZToOrthographicDepth(getViewZ(depth.y),cameraNearFar.x,cameraNearFar.y);
#endif
#if DEPTH_TEST_STRATEGY == 0
bool keep=depthTest(depth.x,depth.y);
#elif DEPTH_TEST_STRATEGY == 1
bool keep=isMaxDepth||depthTest(depth.x,depth.y);
#else
bool keep=!isMaxDepth&&depthTest(depth.x,depth.y);
#endif
if(keep){gl_FragColor=texture2D(inputBuffer,vUv);}else{discard;}}`,B2e=class extends er{constructor(){super({name:"DepthMaskMaterial",defines:{DEPTH_EPSILON:"0.0001",DEPTH_PACKING_0:"0",DEPTH_PACKING_1:"0",DEPTH_TEST_STRATEGY:C0.KEEP_MAX_DEPTH},uniforms:{inputBuffer:new sn(null),depthBuffer0:new sn(null),depthBuffer1:new sn(null),cameraNearFar:new sn(new Ae(1,1))},blending:Er,toneMapped:!1,depthWrite:!1,depthTest:!1,fragmentShader:U2e,vertexShader:sL}),this.depthMode=V1}set depthBuffer0(t){this.uniforms.depthBuffer0.value=t}set depthPacking0(t){this.defines.DEPTH_PACKING_0=t.toFixed(0),this.needsUpdate=!0}setDepthBuffer0(t,e=la){this.depthBuffer0=t,this.depthPacking0=e}set depthBuffer1(t){this.uniforms.depthBuffer1.value=t}set depthPacking1(t){this.defines.DEPTH_PACKING_1=t.toFixed(0),this.needsUpdate=!0}setDepthBuffer1(t,e=la){this.depthBuffer1=t,this.depthPacking1=e}get maxDepthStrategy(){return Number(this.defines.DEPTH_TEST_STRATEGY)}set maxDepthStrategy(t){this.defines.DEPTH_TEST_STRATEGY=t.toFixed(0),this.needsUpdate=!0}get keepFar(){return this.maxDepthStrategy}set keepFar(t){this.maxDepthStrategy=t?C0.KEEP_MAX_DEPTH:C0.DISCARD_MAX_DEPTH}getMaxDepthStrategy(){return this.maxDepthStrategy}setMaxDepthStrategy(t){this.maxDepthStrategy=t}get epsilon(){return Number(this.defines.DEPTH_EPSILON)}set epsilon(t){this.defines.DEPTH_EPSILON=t.toFixed(16),this.needsUpdate=!0}getEpsilon(){return this.epsilon}setEpsilon(t){this.epsilon=t}get depthMode(){return Number(this.defines.DEPTH_MODE)}set depthMode(t){let e;switch(t){case Nk:e="false";break;case Fk:e="true";break;case nv:e="abs(d1 - d0) <= DEPTH_EPSILON";break;case kw:e="abs(d1 - d0) > DEPTH_EPSILON";break;case V1:e="d0 > d1";break;case zp:e="d0 >= d1";break;case zk:e="d0 <= d1";break;case Uk:default:e="d0 < d1";break}this.defines.DEPTH_MODE=t.toFixed(0),this.defines["depthTest(d0, d1)"]=e,this.needsUpdate=!0}getDepthMode(){return this.depthMode}setDepthMode(t){this.depthMode=t}adoptCameraSettings(t){this.copyCameraSettings(t)}copyCameraSettings(t){t&&(this.uniforms.cameraNearFar.value.set(t.near,t.far),t instanceof zi?this.defines.PERSPECTIVE_CAMERA="1":delete this.defines.PERSPECTIVE_CAMERA,this.needsUpdate=!0)}},H2e=`#ifdef FRAMEBUFFER_PRECISION_HIGH
uniform mediump sampler2D inputBuffer;
#else
uniform lowp sampler2D inputBuffer;
#endif
#define WEIGHT_INNER 0.125
#define WEIGHT_OUTER 0.0555555
varying vec2 vUv;varying vec2 vUv00;varying vec2 vUv01;varying vec2 vUv02;varying vec2 vUv03;varying vec2 vUv04;varying vec2 vUv05;varying vec2 vUv06;varying vec2 vUv07;varying vec2 vUv08;varying vec2 vUv09;varying vec2 vUv10;varying vec2 vUv11;float clampToBorder(const in vec2 uv){return float(uv.s>=0.0&&uv.s<=1.0&&uv.t>=0.0&&uv.t<=1.0);}void main(){vec4 c=vec4(0.0);vec4 w=WEIGHT_INNER*vec4(clampToBorder(vUv00),clampToBorder(vUv01),clampToBorder(vUv02),clampToBorder(vUv03));c+=w.x*texture2D(inputBuffer,vUv00);c+=w.y*texture2D(inputBuffer,vUv01);c+=w.z*texture2D(inputBuffer,vUv02);c+=w.w*texture2D(inputBuffer,vUv03);w=WEIGHT_OUTER*vec4(clampToBorder(vUv04),clampToBorder(vUv05),clampToBorder(vUv06),clampToBorder(vUv07));c+=w.x*texture2D(inputBuffer,vUv04);c+=w.y*texture2D(inputBuffer,vUv05);c+=w.z*texture2D(inputBuffer,vUv06);c+=w.w*texture2D(inputBuffer,vUv07);w=WEIGHT_OUTER*vec4(clampToBorder(vUv08),clampToBorder(vUv09),clampToBorder(vUv10),clampToBorder(vUv11));c+=w.x*texture2D(inputBuffer,vUv08);c+=w.y*texture2D(inputBuffer,vUv09);c+=w.z*texture2D(inputBuffer,vUv10);c+=w.w*texture2D(inputBuffer,vUv11);c+=WEIGHT_OUTER*texture2D(inputBuffer,vUv);gl_FragColor=c;
#include <colorspace_fragment>
}`,V2e="uniform vec2 texelSize;varying vec2 vUv;varying vec2 vUv00;varying vec2 vUv01;varying vec2 vUv02;varying vec2 vUv03;varying vec2 vUv04;varying vec2 vUv05;varying vec2 vUv06;varying vec2 vUv07;varying vec2 vUv08;varying vec2 vUv09;varying vec2 vUv10;varying vec2 vUv11;void main(){vUv=position.xy*0.5+0.5;vUv00=vUv+texelSize*vec2(-1.0,1.0);vUv01=vUv+texelSize*vec2(1.0,1.0);vUv02=vUv+texelSize*vec2(-1.0,-1.0);vUv03=vUv+texelSize*vec2(1.0,-1.0);vUv04=vUv+texelSize*vec2(-2.0,2.0);vUv05=vUv+texelSize*vec2(0.0,2.0);vUv06=vUv+texelSize*vec2(2.0,2.0);vUv07=vUv+texelSize*vec2(-2.0,0.0);vUv08=vUv+texelSize*vec2(2.0,0.0);vUv09=vUv+texelSize*vec2(-2.0,-2.0);vUv10=vUv+texelSize*vec2(0.0,-2.0);vUv11=vUv+texelSize*vec2(2.0,-2.0);gl_Position=vec4(position.xy,1.0,1.0);}",j2e=class extends er{constructor(){super({name:"DownsamplingMaterial",uniforms:{inputBuffer:new sn(null),texelSize:new sn(new Ae)},blending:Er,toneMapped:!1,depthWrite:!1,depthTest:!1,fragmentShader:H2e,vertexShader:V2e}),this.fragmentShader=Cy(this.fragmentShader)}set inputBuffer(t){this.uniforms.inputBuffer.value=t}setSize(t,e){this.uniforms.texelSize.value.set(1/t,1/e)}},W2e=`#include <common>
#include <packing>
#include <dithering_pars_fragment>
#define packFloatToRGBA(v) packDepthToRGBA(v)
#define unpackRGBAToFloat(v) unpackRGBAToDepth(v)
#ifdef FRAMEBUFFER_PRECISION_HIGH
uniform mediump sampler2D inputBuffer;
#else
uniform lowp sampler2D inputBuffer;
#endif
#if DEPTH_PACKING == 3201
uniform lowp sampler2D depthBuffer;
#elif defined(GL_FRAGMENT_PRECISION_HIGH)
uniform highp sampler2D depthBuffer;
#else
uniform mediump sampler2D depthBuffer;
#endif
uniform vec2 resolution;uniform vec2 texelSize;uniform float cameraNear;uniform float cameraFar;uniform float aspect;uniform float time;varying vec2 vUv;
#if THREE_REVISION < 143
#define luminance(v) linearToRelativeLuminance(v)
#endif
#if THREE_REVISION >= 137
vec4 sRGBToLinear(const in vec4 value){return vec4(mix(pow(value.rgb*0.9478672986+vec3(0.0521327014),vec3(2.4)),value.rgb*0.0773993808,vec3(lessThanEqual(value.rgb,vec3(0.04045)))),value.a);}
#endif
float readDepth(const in vec2 uv){
#if DEPTH_PACKING == 3201
return unpackRGBAToDepth(texture2D(depthBuffer,uv));
#else
return texture2D(depthBuffer,uv).r;
#endif
}float getViewZ(const in float depth){
#ifdef PERSPECTIVE_CAMERA
return perspectiveDepthToViewZ(depth,cameraNear,cameraFar);
#else
return orthographicDepthToViewZ(depth,cameraNear,cameraFar);
#endif
}vec3 RGBToHCV(const in vec3 RGB){vec4 P=mix(vec4(RGB.bg,-1.0,2.0/3.0),vec4(RGB.gb,0.0,-1.0/3.0),step(RGB.b,RGB.g));vec4 Q=mix(vec4(P.xyw,RGB.r),vec4(RGB.r,P.yzx),step(P.x,RGB.r));float C=Q.x-min(Q.w,Q.y);float H=abs((Q.w-Q.y)/(6.0*C+EPSILON)+Q.z);return vec3(H,C,Q.x);}vec3 RGBToHSL(const in vec3 RGB){vec3 HCV=RGBToHCV(RGB);float L=HCV.z-HCV.y*0.5;float S=HCV.y/(1.0-abs(L*2.0-1.0)+EPSILON);return vec3(HCV.x,S,L);}vec3 HueToRGB(const in float H){float R=abs(H*6.0-3.0)-1.0;float G=2.0-abs(H*6.0-2.0);float B=2.0-abs(H*6.0-4.0);return clamp(vec3(R,G,B),0.0,1.0);}vec3 HSLToRGB(const in vec3 HSL){vec3 RGB=HueToRGB(HSL.x);float C=(1.0-abs(2.0*HSL.z-1.0))*HSL.y;return(RGB-0.5)*C+HSL.z;}FRAGMENT_HEAD void main(){FRAGMENT_MAIN_UV vec4 color0=texture2D(inputBuffer,UV);vec4 color1=vec4(0.0);FRAGMENT_MAIN_IMAGE color0.a=clamp(color0.a,0.0,1.0);gl_FragColor=color0;
#ifdef ENCODE_OUTPUT
#include <colorspace_fragment>
#endif
#include <dithering_fragment>
}`,G2e="uniform vec2 resolution;uniform vec2 texelSize;uniform float cameraNear;uniform float cameraFar;uniform float aspect;uniform float time;varying vec2 vUv;VERTEX_HEAD void main(){vUv=position.xy*0.5+0.5;VERTEX_MAIN_SUPPORT gl_Position=vec4(position.xy,1.0,1.0);}",$2e=class extends er{constructor(t,e,n,i,r=!1){super({name:"EffectMaterial",defines:{THREE_REVISION:pf.replace(/\D+/g,""),DEPTH_PACKING:"0",ENCODE_OUTPUT:"1"},uniforms:{inputBuffer:new sn(null),depthBuffer:new sn(null),resolution:new sn(new Ae),texelSize:new sn(new Ae),cameraNear:new sn(.3),cameraFar:new sn(1e3),aspect:new sn(1),time:new sn(0)},blending:Er,toneMapped:!1,depthWrite:!1,depthTest:!1,dithering:r}),t&&this.setShaderParts(t),e&&this.setDefines(e),n&&this.setUniforms(n),this.copyCameraSettings(i)}set inputBuffer(t){this.uniforms.inputBuffer.value=t}setInputBuffer(t){this.uniforms.inputBuffer.value=t}get depthBuffer(){return this.uniforms.depthBuffer.value}set depthBuffer(t){this.uniforms.depthBuffer.value=t}get depthPacking(){return Number(this.defines.DEPTH_PACKING)}set depthPacking(t){this.defines.DEPTH_PACKING=t.toFixed(0),this.needsUpdate=!0}setDepthBuffer(t,e=la){this.depthBuffer=t,this.depthPacking=e}setShaderData(t){this.setShaderParts(t.shaderParts),this.setDefines(t.defines),this.setUniforms(t.uniforms),this.setExtensions(t.extensions)}setShaderParts(t){return this.fragmentShader=W2e.replace(vn.FRAGMENT_HEAD,t.get(vn.FRAGMENT_HEAD)||"").replace(vn.FRAGMENT_MAIN_UV,t.get(vn.FRAGMENT_MAIN_UV)||"").replace(vn.FRAGMENT_MAIN_IMAGE,t.get(vn.FRAGMENT_MAIN_IMAGE)||""),this.vertexShader=G2e.replace(vn.VERTEX_HEAD,t.get(vn.VERTEX_HEAD)||"").replace(vn.VERTEX_MAIN_SUPPORT,t.get(vn.VERTEX_MAIN_SUPPORT)||""),this.fragmentShader=Cy(this.fragmentShader),this.needsUpdate=!0,this}setDefines(t){for(const e of t.entries())this.defines[e[0]]=e[1];return this.needsUpdate=!0,this}setUniforms(t){for(const e of t.entries())this.uniforms[e[0]]=e[1];return this}setExtensions(t){this.extensions={};for(const e of t)this.extensions[e]=!0;return this}get encodeOutput(){return this.defines.ENCODE_OUTPUT!==void 0}set encodeOutput(t){this.encodeOutput!==t&&(t?this.defines.ENCODE_OUTPUT="1":delete this.defines.ENCODE_OUTPUT,this.needsUpdate=!0)}isOutputEncodingEnabled(t){return this.encodeOutput}setOutputEncodingEnabled(t){this.encodeOutput=t}get time(){return this.uniforms.time.value}set time(t){this.uniforms.time.value=t}setDeltaTime(t){this.uniforms.time.value+=t}adoptCameraSettings(t){this.copyCameraSettings(t)}copyCameraSettings(t){t&&(this.uniforms.cameraNear.value=t.near,this.uniforms.cameraFar.value=t.far,t instanceof zi?this.defines.PERSPECTIVE_CAMERA="1":delete this.defines.PERSPECTIVE_CAMERA,this.needsUpdate=!0)}setSize(t,e){const n=this.uniforms;n.resolution.value.set(t,e),n.texelSize.value.set(1/t,1/e),n.aspect.value=t/e}static get Section(){return vn}},X2e=`#include <common>
#if THREE_REVISION < 143
#define luminance(v) linearToRelativeLuminance(v)
#endif
#ifdef FRAMEBUFFER_PRECISION_HIGH
uniform mediump sampler2D inputBuffer;
#else
uniform lowp sampler2D inputBuffer;
#endif
#ifdef RANGE
uniform vec2 range;
#elif defined(THRESHOLD)
uniform float threshold;uniform float smoothing;
#endif
varying vec2 vUv;void main(){vec4 texel=texture2D(inputBuffer,vUv);float l=luminance(texel.rgb);
#ifdef RANGE
float low=step(range.x,l);float high=step(l,range.y);l*=low*high;
#elif defined(THRESHOLD)
l=smoothstep(threshold,threshold+smoothing,l);
#endif
#ifdef COLOR
gl_FragColor=vec4(texel.rgb*l,l);
#else
gl_FragColor=vec4(l);
#endif
}`,Y2e=class extends er{constructor(t=!1,e=null){super({name:"LuminanceMaterial",defines:{THREE_REVISION:pf.replace(/\D+/g,"")},uniforms:{inputBuffer:new sn(null),threshold:new sn(0),smoothing:new sn(1),range:new sn(null)},blending:Er,toneMapped:!1,depthWrite:!1,depthTest:!1,fragmentShader:X2e,vertexShader:sL}),this.colorOutput=t,this.luminanceRange=e}set inputBuffer(t){this.uniforms.inputBuffer.value=t}setInputBuffer(t){this.uniforms.inputBuffer.value=t}get threshold(){return this.uniforms.threshold.value}set threshold(t){this.smoothing>0||t>0?this.defines.THRESHOLD="1":delete this.defines.THRESHOLD,this.uniforms.threshold.value=t}getThreshold(){return this.threshold}setThreshold(t){this.threshold=t}get smoothing(){return this.uniforms.smoothing.value}set smoothing(t){this.threshold>0||t>0?this.defines.THRESHOLD="1":delete this.defines.THRESHOLD,this.uniforms.smoothing.value=t}getSmoothingFactor(){return this.smoothing}setSmoothingFactor(t){this.smoothing=t}get useThreshold(){return this.threshold>0||this.smoothing>0}set useThreshold(t){}get colorOutput(){return this.defines.COLOR!==void 0}set colorOutput(t){t?this.defines.COLOR="1":delete this.defines.COLOR,this.needsUpdate=!0}isColorOutputEnabled(t){return this.colorOutput}setColorOutputEnabled(t){this.colorOutput=t}get useRange(){return this.luminanceRange!==null}set useRange(t){this.luminanceRange=null}get luminanceRange(){return this.uniforms.range.value}set luminanceRange(t){t!==null?this.defines.RANGE="1":delete this.defines.RANGE,this.uniforms.range.value=t,this.needsUpdate=!0}getLuminanceRange(){return this.luminanceRange}setLuminanceRange(t){this.luminanceRange=t}},q2e=`#ifdef FRAMEBUFFER_PRECISION_HIGH
uniform mediump sampler2D inputBuffer;uniform mediump sampler2D supportBuffer;
#else
uniform lowp sampler2D inputBuffer;uniform lowp sampler2D supportBuffer;
#endif
uniform float radius;varying vec2 vUv;varying vec2 vUv0;varying vec2 vUv1;varying vec2 vUv2;varying vec2 vUv3;varying vec2 vUv4;varying vec2 vUv5;varying vec2 vUv6;varying vec2 vUv7;void main(){vec4 c=vec4(0.0);c+=texture2D(inputBuffer,vUv0)*0.0625;c+=texture2D(inputBuffer,vUv1)*0.125;c+=texture2D(inputBuffer,vUv2)*0.0625;c+=texture2D(inputBuffer,vUv3)*0.125;c+=texture2D(inputBuffer,vUv)*0.25;c+=texture2D(inputBuffer,vUv4)*0.125;c+=texture2D(inputBuffer,vUv5)*0.0625;c+=texture2D(inputBuffer,vUv6)*0.125;c+=texture2D(inputBuffer,vUv7)*0.0625;vec4 baseColor=texture2D(supportBuffer,vUv);gl_FragColor=mix(baseColor,c,radius);
#include <colorspace_fragment>
}`,K2e="uniform vec2 texelSize;varying vec2 vUv;varying vec2 vUv0;varying vec2 vUv1;varying vec2 vUv2;varying vec2 vUv3;varying vec2 vUv4;varying vec2 vUv5;varying vec2 vUv6;varying vec2 vUv7;void main(){vUv=position.xy*0.5+0.5;vUv0=vUv+texelSize*vec2(-1.0,1.0);vUv1=vUv+texelSize*vec2(0.0,1.0);vUv2=vUv+texelSize*vec2(1.0,1.0);vUv3=vUv+texelSize*vec2(-1.0,0.0);vUv4=vUv+texelSize*vec2(1.0,0.0);vUv5=vUv+texelSize*vec2(-1.0,-1.0);vUv6=vUv+texelSize*vec2(0.0,-1.0);vUv7=vUv+texelSize*vec2(1.0,-1.0);gl_Position=vec4(position.xy,1.0,1.0);}",Q2e=class extends er{constructor(){super({name:"UpsamplingMaterial",uniforms:{inputBuffer:new sn(null),supportBuffer:new sn(null),texelSize:new sn(new Ae),radius:new sn(.85)},blending:Er,toneMapped:!1,depthWrite:!1,depthTest:!1,fragmentShader:q2e,vertexShader:K2e}),this.fragmentShader=Cy(this.fragmentShader)}set inputBuffer(t){this.uniforms.inputBuffer.value=t}set supportBuffer(t){this.uniforms.supportBuffer.value=t}get radius(){return this.uniforms.radius.value}set radius(t){this.uniforms.radius.value=t}setSize(t,e){this.uniforms.texelSize.value.set(1/t,1/e)}},Z2e=new lm,gc=null;function J2e(){if(gc===null){const t=new Float32Array([-1,-1,0,3,-1,0,-1,3,0]),e=new Float32Array([0,0,2,0,0,2]);gc=new $t,gc.setAttribute!==void 0?(gc.setAttribute("position",new hn(t,3)),gc.setAttribute("uv",new hn(e,2))):(gc.addAttribute("position",new hn(t,3)),gc.addAttribute("uv",new hn(e,2)))}return gc}var fs=class j${constructor(e="Pass",n=new Vp,i=Z2e){this.name=e,this.renderer=null,this.scene=n,this.camera=i,this.screen=null,this.rtt=!0,this.needsSwap=!0,this.needsDepthTexture=!1,this.enabled=!0}get renderToScreen(){return!this.rtt}set renderToScreen(e){if(this.rtt===e){const n=this.fullscreenMaterial;n!==null&&(n.needsUpdate=!0),this.rtt=!e}}set mainScene(e){}set mainCamera(e){}setRenderer(e){this.renderer=e}isEnabled(){return this.enabled}setEnabled(e){this.enabled=e}get fullscreenMaterial(){return this.screen!==null?this.screen.material:null}set fullscreenMaterial(e){let n=this.screen;n!==null?n.material=e:(n=new Hi(J2e(),e),n.frustumCulled=!1,this.scene===null&&(this.scene=new Vp),this.scene.add(n),this.screen=n)}getFullscreenMaterial(){return this.fullscreenMaterial}setFullscreenMaterial(e){this.fullscreenMaterial=e}getDepthTexture(){return null}setDepthTexture(e,n=la){}render(e,n,i,r,s){throw new Error("Render method not implemented!")}setSize(e,n){}initialize(e,n,i){}dispose(){for(const e of Object.keys(this)){const n=this[e];(n instanceof ii||n instanceof ir||n instanceof ni||n instanceof j$)&&this[e].dispose()}}},eRe=class extends fs{constructor(t,e=!0){super("CopyPass"),this.fullscreenMaterial=new V$,this.needsSwap=!1,this.renderTarget=t,t===void 0&&(this.renderTarget=new ii(1,1,{minFilter:Bn,magFilter:Bn,stencilBuffer:!1,depthBuffer:!1}),this.renderTarget.texture.name="CopyPass.Target"),this.autoResize=e}get resize(){return this.autoResize}set resize(t){this.autoResize=t}get texture(){return this.renderTarget.texture}getTexture(){return this.renderTarget.texture}setAutoResizeEnabled(t){this.autoResize=t}render(t,e,n,i,r){this.fullscreenMaterial.inputBuffer=e.texture,t.setRenderTarget(this.renderToScreen?null:this.renderTarget),t.render(this.scene,this.camera)}setSize(t,e){this.autoResize&&this.renderTarget.setSize(t,e)}initialize(t,e,n){n!==void 0&&(this.renderTarget.texture.type=n,n!==mr?this.fullscreenMaterial.defines.FRAMEBUFFER_PRECISION_HIGH="1":of(t)===Bi&&Fl(this.renderTarget.texture,Bi))}},tRe=class extends fs{constructor(){super("ClearMaskPass",null,null),this.needsSwap=!1}render(t,e,n,i,r){const s=t.state.buffers.stencil;s.setLocked(!1),s.setTest(!1)}},KB=new Be,aL=class extends fs{constructor(t=!0,e=!0,n=!1){super("ClearPass",null,null),this.needsSwap=!1,this.color=t,this.depth=e,this.stencil=n,this.overrideClearColor=null,this.overrideClearAlpha=-1}setClearFlags(t,e,n){this.color=t,this.depth=e,this.stencil=n}getOverrideClearColor(){return this.overrideClearColor}setOverrideClearColor(t){this.overrideClearColor=t}getOverrideClearAlpha(){return this.overrideClearAlpha}setOverrideClearAlpha(t){this.overrideClearAlpha=t}render(t,e,n,i,r){const s=this.overrideClearColor,o=this.overrideClearAlpha,a=t.getClearAlpha(),l=s!==null,c=o>=0;l?(t.getClearColor(KB),t.setClearColor(s,c?o:a)):c&&t.setClearAlpha(o),t.setRenderTarget(this.renderToScreen?null:e),t.clear(this.color,this.depth,this.stencil),l?t.setClearColor(KB,a):c&&t.setClearAlpha(a)}},lL=class extends fs{constructor(t,e,n=null){super("RenderPass",t,e),this.needsSwap=!1,this.clearPass=new aL,this.overrideMaterialManager=n===null?null:new ZB(n),this.ignoreBackground=!1,this.skipShadowMapUpdate=!1,this.selection=null}set mainScene(t){this.scene=t}set mainCamera(t){this.camera=t}get renderToScreen(){return super.renderToScreen}set renderToScreen(t){super.renderToScreen=t,this.clearPass.renderToScreen=t}get overrideMaterial(){const t=this.overrideMaterialManager;return t!==null?t.material:null}set overrideMaterial(t){const e=this.overrideMaterialManager;t!==null?e!==null?e.setMaterial(t):this.overrideMaterialManager=new ZB(t):e!==null&&(e.dispose(),this.overrideMaterialManager=null)}getOverrideMaterial(){return this.overrideMaterial}setOverrideMaterial(t){this.overrideMaterial=t}get clear(){return this.clearPass.enabled}set clear(t){this.clearPass.enabled=t}getSelection(){return this.selection}setSelection(t){this.selection=t}isBackgroundDisabled(){return this.ignoreBackground}setBackgroundDisabled(t){this.ignoreBackground=t}isShadowMapDisabled(){return this.skipShadowMapUpdate}setShadowMapDisabled(t){this.skipShadowMapUpdate=t}getClearPass(){return this.clearPass}render(t,e,n,i,r){const s=this.scene,o=this.camera,a=this.selection,l=o.layers.mask,c=s.background,u=t.shadowMap.autoUpdate,d=this.renderToScreen?null:e;a!==null&&o.layers.set(a.getLayer()),this.skipShadowMapUpdate&&(t.shadowMap.autoUpdate=!1),(this.ignoreBackground||this.clearPass.overrideClearColor!==null)&&(s.background=null),this.clearPass.enabled&&this.clearPass.render(t,e),t.setRenderTarget(d),this.overrideMaterialManager!==null?this.overrideMaterialManager.render(t,s,o):t.render(s,o),o.layers.mask=l,s.background=c,t.shadowMap.autoUpdate=u}},nRe=class extends fs{constructor(t,e,{renderTarget:n,resolutionScale:i=1,width:r=Ji.AUTO_SIZE,height:s=Ji.AUTO_SIZE,resolutionX:o=r,resolutionY:a=s}={}){super("DepthPass"),this.needsSwap=!1,this.renderPass=new lL(t,e,new Uw({depthPacking:Ow}));const l=this.renderPass;l.skipShadowMapUpdate=!0,l.ignoreBackground=!0;const c=l.clearPass;c.overrideClearColor=new Be(16777215),c.overrideClearAlpha=1,this.renderTarget=n,this.renderTarget===void 0&&(this.renderTarget=new ii(1,1,{minFilter:Un,magFilter:Un}),this.renderTarget.texture.name="DepthPass.Target");const u=this.resolution=new Ji(this,o,a,i);u.addEventListener("change",d=>this.setSize(u.baseWidth,u.baseHeight))}set mainScene(t){this.renderPass.mainScene=t}set mainCamera(t){this.renderPass.mainCamera=t}get texture(){return this.renderTarget.texture}getTexture(){return this.renderTarget.texture}getResolution(){return this.resolution}getResolutionScale(){return this.resolution.scale}setResolutionScale(t){this.resolution.scale=t}render(t,e,n,i,r){const s=this.renderToScreen?null:this.renderTarget;this.renderPass.render(t,s)}setSize(t,e){const n=this.resolution;n.setBaseSize(t,e),this.renderTarget.setSize(n.width,n.height)}},iRe=class extends fs{constructor({normalBuffer:t=null,resolutionScale:e=.5,width:n=Ji.AUTO_SIZE,height:i=Ji.AUTO_SIZE,resolutionX:r=n,resolutionY:s=i}={}){super("DepthDownsamplingPass");const o=new z2e;o.normalBuffer=t,this.fullscreenMaterial=o,this.needsDepthTexture=!0,this.needsSwap=!1,this.renderTarget=new ii(1,1,{minFilter:Un,magFilter:Un,depthBuffer:!1,type:eo}),this.renderTarget.texture.name="DepthDownsamplingPass.Target",this.renderTarget.texture.generateMipmaps=!1;const a=this.resolution=new Ji(this,r,s,e);a.addEventListener("change",l=>this.setSize(a.baseWidth,a.baseHeight))}get texture(){return this.renderTarget.texture}getTexture(){return this.renderTarget.texture}getResolution(){return this.resolution}setDepthTexture(t,e=la){this.fullscreenMaterial.depthBuffer=t,this.fullscreenMaterial.depthPacking=e}render(t,e,n,i,r){t.setRenderTarget(this.renderToScreen?null:this.renderTarget),t.render(this.scene,this.camera)}setSize(t,e){const n=this.resolution;n.setBaseSize(t,e),this.renderTarget.setSize(n.width,n.height),this.fullscreenMaterial.setSize(t,e)}initialize(t,e,n){const i=t.getContext();if(!(i.getExtension("EXT_color_buffer_float")||i.getExtension("EXT_color_buffer_half_float")))throw new Error("Rendering to float texture is not supported.")}};function QB(t,e,n){for(const i of e){const r="$1"+t+i.charAt(0).toUpperCase()+i.slice(1),s=new RegExp("([^\\.])(\\b"+i+"\\b)","g");for(const o of n.entries())o[1]!==null&&n.set(o[0],o[1].replace(s,r))}}function rRe(t,e,n){let i=e.getFragmentShader(),r=e.getVertexShader();const s=i!==void 0&&/mainImage/.test(i),o=i!==void 0&&/mainUv/.test(i);if(n.attributes|=e.getAttributes(),i===void 0)throw new Error(`Missing fragment shader (${e.name})`);if(o&&n.attributes&Ga.CONVOLUTION)throw new Error(`Effects that transform UVs are incompatible with convolution effects (${e.name})`);if(!s&&!o)throw new Error(`Could not find mainImage or mainUv function (${e.name})`);{const a=/\w+\s+(\w+)\([\w\s,]*\)\s*{/g,l=n.shaderParts;let c=l.get(vn.FRAGMENT_HEAD)||"",u=l.get(vn.FRAGMENT_MAIN_UV)||"",d=l.get(vn.FRAGMENT_MAIN_IMAGE)||"",f=l.get(vn.VERTEX_HEAD)||"",m=l.get(vn.VERTEX_MAIN_SUPPORT)||"";const g=new Set,y=new Set;if(o&&(u+=`	${t}MainUv(UV);
`,n.uvTransformation=!0),r!==null&&/mainSupport/.test(r)){const _=/mainSupport *\([\w\s]*?uv\s*?\)/.test(r);m+=`	${t}MainSupport(`,m+=_?`vUv);
`:`);
`;for(const b of r.matchAll(/(?:varying\s+\w+\s+([\S\s]*?);)/g))for(const w of b[1].split(/\s*,\s*/))n.varyings.add(w),g.add(w),y.add(w);for(const b of r.matchAll(a))y.add(b[1])}for(const _ of i.matchAll(a))y.add(_[1]);for(const _ of e.defines.keys())y.add(_.replace(/\([\w\s,]*\)/g,""));for(const _ of e.uniforms.keys())y.add(_);y.delete("while"),y.delete("for"),y.delete("if"),e.uniforms.forEach((_,b)=>n.uniforms.set(t+b.charAt(0).toUpperCase()+b.slice(1),_)),e.defines.forEach((_,b)=>n.defines.set(t+b.charAt(0).toUpperCase()+b.slice(1),_));const x=new Map([["fragment",i],["vertex",r]]);QB(t,y,n.defines),QB(t,y,x),i=x.get("fragment"),r=x.get("vertex");const v=e.blendMode;if(n.blendModes.set(v.blendFunction,v),s){e.inputColorSpace!==null&&e.inputColorSpace!==n.colorSpace&&(d+=e.inputColorSpace===Bi?`color0 = LinearTosRGB(color0);
	`:`color0 = sRGBToLinear(color0);
	`),e.outputColorSpace!==U$?n.colorSpace=e.outputColorSpace:e.inputColorSpace!==null&&(n.colorSpace=e.inputColorSpace);const _=/MainImage *\([\w\s,]*?depth[\w\s,]*?\)/;d+=`${t}MainImage(color0, UV, `,n.attributes&Ga.DEPTH&&_.test(i)&&(d+="depth, ",n.readDepth=!0),d+=`color1);
	`;const b=t+"BlendOpacity";n.uniforms.set(b,v.opacity),d+=`color0 = blend${v.blendFunction}(color0, color1, ${b});

	`,c+=`uniform float ${b};

`}if(c+=i+`
`,r!==null&&(f+=r+`
`),l.set(vn.FRAGMENT_HEAD,c),l.set(vn.FRAGMENT_MAIN_UV,u),l.set(vn.FRAGMENT_MAIN_IMAGE,d),l.set(vn.VERTEX_HEAD,f),l.set(vn.VERTEX_MAIN_SUPPORT,m),e.extensions!==null)for(const _ of e.extensions)n.extensions.add(_)}}var sRe=class extends fs{constructor(t,...e){super("EffectPass"),this.fullscreenMaterial=new $2e(null,null,null,t),this.listener=n=>this.handleEvent(n),this.effects=[],this.setEffects(e),this.skipRendering=!1,this.minTime=1,this.maxTime=Number.POSITIVE_INFINITY,this.timeScale=1}set mainScene(t){for(const e of this.effects)e.mainScene=t}set mainCamera(t){this.fullscreenMaterial.copyCameraSettings(t);for(const e of this.effects)e.mainCamera=t}get encodeOutput(){return this.fullscreenMaterial.encodeOutput}set encodeOutput(t){this.fullscreenMaterial.encodeOutput=t}get dithering(){return this.fullscreenMaterial.dithering}set dithering(t){const e=this.fullscreenMaterial;e.dithering=t,e.needsUpdate=!0}setEffects(t){for(const e of this.effects)e.removeEventListener("change",this.listener);this.effects=t.sort((e,n)=>n.attributes-e.attributes);for(const e of this.effects)e.addEventListener("change",this.listener)}updateMaterial(){const t=new mRe;let e=0;for(const o of this.effects)if(o.blendMode.blendFunction===nn.DST)t.attributes|=o.getAttributes()&Ga.DEPTH;else{if(t.attributes&o.getAttributes()&Ga.CONVOLUTION)throw new Error(`Convolution effects cannot be merged (${o.name})`);rRe("e"+e++,o,t)}let n=t.shaderParts.get(vn.FRAGMENT_HEAD),i=t.shaderParts.get(vn.FRAGMENT_MAIN_IMAGE),r=t.shaderParts.get(vn.FRAGMENT_MAIN_UV);const s=/\bblend\b/g;for(const o of t.blendModes.values())n+=o.getShaderCode().replace(s,`blend${o.blendFunction}`)+`
`;t.attributes&Ga.DEPTH?(t.readDepth&&(i=`float depth = readDepth(UV);

	`+i),this.needsDepthTexture=this.getDepthTexture()===null):this.needsDepthTexture=!1,t.colorSpace===Bi&&(i+=`color0 = sRGBToLinear(color0);
	`),t.uvTransformation?(r=`vec2 transformedUv = vUv;
`+r,t.defines.set("UV","transformedUv")):t.defines.set("UV","vUv"),t.shaderParts.set(vn.FRAGMENT_HEAD,n),t.shaderParts.set(vn.FRAGMENT_MAIN_IMAGE,i),t.shaderParts.set(vn.FRAGMENT_MAIN_UV,r);for(const[o,a]of t.shaderParts)a!==null&&t.shaderParts.set(o,a.trim().replace(/^#/,`
#`));this.skipRendering=e===0,this.needsSwap=!this.skipRendering,this.fullscreenMaterial.setShaderData(t)}recompile(){this.updateMaterial()}getDepthTexture(){return this.fullscreenMaterial.depthBuffer}setDepthTexture(t,e=la){this.fullscreenMaterial.depthBuffer=t,this.fullscreenMaterial.depthPacking=e;for(const n of this.effects)n.setDepthTexture(t,e)}render(t,e,n,i,r){for(const s of this.effects)s.update(t,e,i);if(!this.skipRendering||this.renderToScreen){const s=this.fullscreenMaterial;s.inputBuffer=e.texture,s.time+=i*this.timeScale,t.setRenderTarget(this.renderToScreen?null:n),t.render(this.scene,this.camera)}}setSize(t,e){this.fullscreenMaterial.setSize(t,e);for(const n of this.effects)n.setSize(t,e)}initialize(t,e,n){this.renderer=t;for(const i of this.effects)i.initialize(t,e,n);this.updateMaterial(),n!==void 0&&n!==mr&&(this.fullscreenMaterial.defines.FRAMEBUFFER_PRECISION_HIGH="1")}dispose(){super.dispose();for(const t of this.effects)t.removeEventListener("change",this.listener),t.dispose()}handleEvent(t){switch(t.type){case"change":this.recompile();break}}},oRe=class extends fs{constructor({kernelSize:t=oL.MEDIUM,resolutionScale:e=.5,width:n=Ji.AUTO_SIZE,height:i=Ji.AUTO_SIZE,resolutionX:r=n,resolutionY:s=i}={}){super("KawaseBlurPass"),this.renderTargetA=new ii(1,1,{depthBuffer:!1}),this.renderTargetA.texture.name="Blur.Target.A",this.renderTargetB=this.renderTargetA.clone(),this.renderTargetB.texture.name="Blur.Target.B";const o=this.resolution=new Ji(this,r,s,e);o.addEventListener("change",a=>this.setSize(o.baseWidth,o.baseHeight)),this._blurMaterial=new D2e,this._blurMaterial.kernelSize=t,this.copyMaterial=new V$}getResolution(){return this.resolution}get blurMaterial(){return this._blurMaterial}set blurMaterial(t){this._blurMaterial=t}get dithering(){return this.copyMaterial.dithering}set dithering(t){this.copyMaterial.dithering=t}get kernelSize(){return this.blurMaterial.kernelSize}set kernelSize(t){this.blurMaterial.kernelSize=t}get width(){return this.resolution.width}set width(t){this.resolution.preferredWidth=t}get height(){return this.resolution.height}set height(t){this.resolution.preferredHeight=t}get scale(){return this.blurMaterial.scale}set scale(t){this.blurMaterial.scale=t}getScale(){return this.blurMaterial.scale}setScale(t){this.blurMaterial.scale=t}getKernelSize(){return this.kernelSize}setKernelSize(t){this.kernelSize=t}getResolutionScale(){return this.resolution.scale}setResolutionScale(t){this.resolution.scale=t}render(t,e,n,i,r){const s=this.scene,o=this.camera,a=this.renderTargetA,l=this.renderTargetB,c=this.blurMaterial,u=c.kernelSequence;let d=e;this.fullscreenMaterial=c;for(let f=0,m=u.length;f<m;++f){const g=f&1?l:a;c.kernel=u[f],c.inputBuffer=d.texture,t.setRenderTarget(g),t.render(s,o),d=g}this.fullscreenMaterial=this.copyMaterial,this.copyMaterial.inputBuffer=d.texture,t.setRenderTarget(this.renderToScreen?null:n),t.render(s,o)}setSize(t,e){const n=this.resolution;n.setBaseSize(t,e);const i=n.width,r=n.height;this.renderTargetA.setSize(i,r),this.renderTargetB.setSize(i,r),this.blurMaterial.setSize(t,e)}initialize(t,e,n){n!==void 0&&(this.renderTargetA.texture.type=n,this.renderTargetB.texture.type=n,n!==mr?(this.blurMaterial.defines.FRAMEBUFFER_PRECISION_HIGH="1",this.copyMaterial.defines.FRAMEBUFFER_PRECISION_HIGH="1"):of(t)===Bi&&(Fl(this.renderTargetA.texture,Bi),Fl(this.renderTargetB.texture,Bi)))}static get AUTO_SIZE(){return Ji.AUTO_SIZE}},aRe=class extends fs{constructor({renderTarget:t,luminanceRange:e,colorOutput:n,resolutionScale:i=1,width:r=Ji.AUTO_SIZE,height:s=Ji.AUTO_SIZE,resolutionX:o=r,resolutionY:a=s}={}){super("LuminancePass"),this.fullscreenMaterial=new Y2e(n,e),this.needsSwap=!1,this.renderTarget=t,this.renderTarget===void 0&&(this.renderTarget=new ii(1,1,{depthBuffer:!1}),this.renderTarget.texture.name="LuminancePass.Target");const l=this.resolution=new Ji(this,o,a,i);l.addEventListener("change",c=>this.setSize(l.baseWidth,l.baseHeight))}get texture(){return this.renderTarget.texture}getTexture(){return this.renderTarget.texture}getResolution(){return this.resolution}render(t,e,n,i,r){const s=this.fullscreenMaterial;s.inputBuffer=e.texture,t.setRenderTarget(this.renderToScreen?null:this.renderTarget),t.render(this.scene,this.camera)}setSize(t,e){const n=this.resolution;n.setBaseSize(t,e),this.renderTarget.setSize(n.width,n.height)}initialize(t,e,n){n!==void 0&&n!==mr&&(this.renderTarget.texture.type=n,this.fullscreenMaterial.defines.FRAMEBUFFER_PRECISION_HIGH="1")}},lRe=class extends fs{constructor(t,e){super("MaskPass",t,e),this.needsSwap=!1,this.clearPass=new aL(!1,!1,!0),this.inverse=!1}set mainScene(t){this.scene=t}set mainCamera(t){this.camera=t}get inverted(){return this.inverse}set inverted(t){this.inverse=t}get clear(){return this.clearPass.enabled}set clear(t){this.clearPass.enabled=t}getClearPass(){return this.clearPass}isInverted(){return this.inverted}setInverted(t){this.inverted=t}render(t,e,n,i,r){const s=t.getContext(),o=t.state.buffers,a=this.scene,l=this.camera,c=this.clearPass,u=this.inverted?0:1,d=1-u;o.color.setMask(!1),o.depth.setMask(!1),o.color.setLocked(!0),o.depth.setLocked(!0),o.stencil.setTest(!0),o.stencil.setOp(s.REPLACE,s.REPLACE,s.REPLACE),o.stencil.setFunc(s.ALWAYS,u,4294967295),o.stencil.setClear(d),o.stencil.setLocked(!0),this.clearPass.enabled&&(this.renderToScreen?c.render(t,null):(c.render(t,e),c.render(t,n))),this.renderToScreen?(t.setRenderTarget(null),t.render(a,l)):(t.setRenderTarget(e),t.render(a,l),t.setRenderTarget(n),t.render(a,l)),o.color.setLocked(!1),o.depth.setLocked(!1),o.stencil.setLocked(!1),o.stencil.setFunc(s.EQUAL,1,4294967295),o.stencil.setOp(s.KEEP,s.KEEP,s.KEEP),o.stencil.setLocked(!0)}},cRe=class extends fs{constructor(){super("MipmapBlurPass"),this.needsSwap=!1,this.renderTarget=new ii(1,1,{depthBuffer:!1}),this.renderTarget.texture.name="Upsampling.Mipmap0",this.downsamplingMipmaps=[],this.upsamplingMipmaps=[],this.downsamplingMaterial=new j2e,this.upsamplingMaterial=new Q2e,this.resolution=new Ae}get texture(){return this.renderTarget.texture}get levels(){return this.downsamplingMipmaps.length}set levels(t){if(this.levels!==t){const e=this.renderTarget;this.dispose(),this.downsamplingMipmaps=[],this.upsamplingMipmaps=[];for(let n=0;n<t;++n){const i=e.clone();i.texture.name="Downsampling.Mipmap"+n,this.downsamplingMipmaps.push(i)}this.upsamplingMipmaps.push(e);for(let n=1,i=t-1;n<i;++n){const r=e.clone();r.texture.name="Upsampling.Mipmap"+n,this.upsamplingMipmaps.push(r)}this.setSize(this.resolution.x,this.resolution.y)}}get radius(){return this.upsamplingMaterial.radius}set radius(t){this.upsamplingMaterial.radius=t}render(t,e,n,i,r){const{scene:s,camera:o}=this,{downsamplingMaterial:a,upsamplingMaterial:l}=this,{downsamplingMipmaps:c,upsamplingMipmaps:u}=this;let d=e;this.fullscreenMaterial=a;for(let f=0,m=c.length;f<m;++f){const g=c[f];a.setSize(d.width,d.height),a.inputBuffer=d.texture,t.setRenderTarget(g),t.render(s,o),d=g}this.fullscreenMaterial=l;for(let f=u.length-1;f>=0;--f){const m=u[f];l.setSize(d.width,d.height),l.inputBuffer=d.texture,l.supportBuffer=c[f].texture,t.setRenderTarget(m),t.render(s,o),d=m}}setSize(t,e){const n=this.resolution;n.set(t,e);let i=n.width,r=n.height;for(let s=0,o=this.downsamplingMipmaps.length;s<o;++s)i=Math.round(i*.5),r=Math.round(r*.5),this.downsamplingMipmaps[s].setSize(i,r),s<this.upsamplingMipmaps.length&&this.upsamplingMipmaps[s].setSize(i,r)}initialize(t,e,n){if(n!==void 0){const i=this.downsamplingMipmaps.concat(this.upsamplingMipmaps);for(const r of i)r.texture.type=n;if(n!==mr)this.downsamplingMaterial.defines.FRAMEBUFFER_PRECISION_HIGH="1",this.upsamplingMaterial.defines.FRAMEBUFFER_PRECISION_HIGH="1";else if(of(t)===Bi)for(const r of i)Fl(r.texture,Bi)}}dispose(){super.dispose();for(const t of this.downsamplingMipmaps.concat(this.upsamplingMipmaps))t.dispose()}},uRe=class extends fs{constructor(t,e,{renderTarget:n,resolutionScale:i=1,width:r=Ji.AUTO_SIZE,height:s=Ji.AUTO_SIZE,resolutionX:o=r,resolutionY:a=s}={}){super("NormalPass"),this.needsSwap=!1,this.renderPass=new lL(t,e,new mI);const l=this.renderPass;l.ignoreBackground=!0,l.skipShadowMapUpdate=!0;const c=l.getClearPass();c.overrideClearColor=new Be(7829503),c.overrideClearAlpha=1,this.renderTarget=n,this.renderTarget===void 0&&(this.renderTarget=new ii(1,1,{minFilter:Un,magFilter:Un}),this.renderTarget.texture.name="NormalPass.Target");const u=this.resolution=new Ji(this,o,a,i);u.addEventListener("change",d=>this.setSize(u.baseWidth,u.baseHeight))}set mainScene(t){this.renderPass.mainScene=t}set mainCamera(t){this.renderPass.mainCamera=t}get texture(){return this.renderTarget.texture}getTexture(){return this.renderTarget.texture}getResolution(){return this.resolution}getResolutionScale(){return this.resolution.scale}setResolutionScale(t){this.resolution.scale=t}render(t,e,n,i,r){const s=this.renderToScreen?null:this.renderTarget;this.renderPass.render(t,s,s)}setSize(t,e){const n=this.resolution;n.setBaseSize(t,e),this.renderTarget.setSize(n.width,n.height)}},dRe=class extends fs{constructor(t,e="inputBuffer"){super("ShaderPass"),this.fullscreenMaterial=t,this.input=e}setInput(t){this.input=t}render(t,e,n,i,r){const s=this.fullscreenMaterial.uniforms;e!==null&&s!==void 0&&s[this.input]!==void 0&&(s[this.input].value=e.texture),t.setRenderTarget(this.renderToScreen?null:n),t.render(this.scene,this.camera)}initialize(t,e,n){n!==void 0&&n!==mr&&(this.fullscreenMaterial.defines.FRAMEBUFFER_PRECISION_HIGH="1")}},PC=1/1e3,fRe=1e3,hRe=class{constructor(){this.startTime=performance.now(),this.previousTime=0,this.currentTime=0,this._delta=0,this._elapsed=0,this._fixedDelta=1e3/60,this.timescale=1,this.useFixedDelta=!1,this._autoReset=!1}get autoReset(){return this._autoReset}set autoReset(t){typeof document<"u"&&document.hidden!==void 0&&(t?document.addEventListener("visibilitychange",this):document.removeEventListener("visibilitychange",this),this._autoReset=t)}get delta(){return this._delta*PC}get fixedDelta(){return this._fixedDelta*PC}set fixedDelta(t){this._fixedDelta=t*fRe}get elapsed(){return this._elapsed*PC}update(t){this.useFixedDelta?this._delta=this.fixedDelta:(this.previousTime=this.currentTime,this.currentTime=(t!==void 0?t:performance.now())-this.startTime,this._delta=this.currentTime-this.previousTime),this._delta*=this.timescale,this._elapsed+=this._delta}reset(){this._delta=0,this._elapsed=0,this.currentTime=performance.now()-this.startTime}handleEvent(t){document.hidden||(this.currentTime=performance.now()-this.startTime)}dispose(){this.autoReset=!1}},pRe=class{constructor(e=null,{depthBuffer:n=!0,stencilBuffer:i=!1,multisampling:r=0,frameBufferType:s}={}){this.renderer=null,this.inputBuffer=this.createBuffer(n,i,s,r),this.outputBuffer=this.inputBuffer.clone(),this.copyPass=new eRe,this.depthTexture=null,this.passes=[],this.timer=new hRe,this.autoRenderToScreen=!0,this.setRenderer(e)}get multisampling(){return this.inputBuffer.samples||0}set multisampling(e){const n=this.inputBuffer,i=this.multisampling;i>0&&e>0?(this.inputBuffer.samples=e,this.outputBuffer.samples=e,this.inputBuffer.dispose(),this.outputBuffer.dispose()):i!==e&&(this.inputBuffer.dispose(),this.outputBuffer.dispose(),this.inputBuffer=this.createBuffer(n.depthBuffer,n.stencilBuffer,n.texture.type,e),this.inputBuffer.depthTexture=this.depthTexture,this.outputBuffer=this.inputBuffer.clone())}getTimer(){return this.timer}getRenderer(){return this.renderer}setRenderer(e){if(this.renderer=e,e!==null){const n=e.getSize(new Ae),i=e.getContext().getContextAttributes().alpha,r=this.inputBuffer.texture.type;r===mr&&of(e)===Bi&&(Fl(this.inputBuffer.texture,Bi),Fl(this.outputBuffer.texture,Bi),this.inputBuffer.dispose(),this.outputBuffer.dispose()),e.autoClear=!1,this.setSize(n.width,n.height);for(const s of this.passes)s.initialize(e,i,r)}}replaceRenderer(e,n=!0){const i=this.renderer,r=i.domElement.parentNode;return this.setRenderer(e),n&&r!==null&&(r.removeChild(i.domElement),r.appendChild(e.domElement)),i}createDepthTexture(){const e=this.depthTexture=new cy;return this.inputBuffer.depthTexture=e,this.inputBuffer.dispose(),this.inputBuffer.stencilBuffer?(e.format=fu,e.type=Ol):e.type=Na,e}deleteDepthTexture(){if(this.depthTexture!==null){this.depthTexture.dispose(),this.depthTexture=null,this.inputBuffer.depthTexture=null,this.inputBuffer.dispose();for(const e of this.passes)e.setDepthTexture(null)}}createBuffer(e,n,i,r){const s=this.renderer,o=s===null?new Ae:s.getDrawingBufferSize(new Ae),a={minFilter:Bn,magFilter:Bn,stencilBuffer:n,depthBuffer:e,type:i},l=new ii(o.width,o.height,a);return r>0&&(l.ignoreDepthForMultisampleCopy=!1,l.samples=r),i===mr&&of(s)===Bi&&Fl(l.texture,Bi),l.texture.name="EffectComposer.Buffer",l.texture.generateMipmaps=!1,l}setMainScene(e){for(const n of this.passes)n.mainScene=e}setMainCamera(e){for(const n of this.passes)n.mainCamera=e}addPass(e,n){const i=this.passes,r=this.renderer,s=r.getDrawingBufferSize(new Ae),o=r.getContext().getContextAttributes().alpha,a=this.inputBuffer.texture.type;if(e.setRenderer(r),e.setSize(s.width,s.height),e.initialize(r,o,a),this.autoRenderToScreen&&(i.length>0&&(i[i.length-1].renderToScreen=!1),e.renderToScreen&&(this.autoRenderToScreen=!1)),n!==void 0?i.splice(n,0,e):i.push(e),this.autoRenderToScreen&&(i[i.length-1].renderToScreen=!0),e.needsDepthTexture||this.depthTexture!==null)if(this.depthTexture===null){const l=this.createDepthTexture();for(e of i)e.setDepthTexture(l)}else e.setDepthTexture(this.depthTexture)}removePass(e){const n=this.passes,i=n.indexOf(e);if(i!==-1&&n.splice(i,1).length>0){if(this.depthTexture!==null){const o=(l,c)=>l||c.needsDepthTexture;n.reduce(o,!1)||(e.getDepthTexture()===this.depthTexture&&e.setDepthTexture(null),this.deleteDepthTexture())}this.autoRenderToScreen&&i===n.length&&(e.renderToScreen=!1,n.length>0&&(n[n.length-1].renderToScreen=!0))}}removeAllPasses(){const e=this.passes;this.deleteDepthTexture(),e.length>0&&(this.autoRenderToScreen&&(e[e.length-1].renderToScreen=!1),this.passes=[])}render(e){const n=this.renderer,i=this.copyPass;let r=this.inputBuffer,s=this.outputBuffer,o=!1,a,l,c;e===void 0&&(this.timer.update(),e=this.timer.delta);for(const u of this.passes)u.enabled&&(u.render(n,r,s,e,o),u.needsSwap&&(o&&(i.renderToScreen=u.renderToScreen,a=n.getContext(),l=n.state.buffers.stencil,l.setFunc(a.NOTEQUAL,1,4294967295),i.render(n,r,s,e,o),l.setFunc(a.EQUAL,1,4294967295)),c=r,r=s,s=c),u instanceof lRe?o=!0:u instanceof tRe&&(o=!1))}setSize(e,n,i){const r=this.renderer,s=r.getSize(new Ae);(e===void 0||n===void 0)&&(e=s.width,n=s.height),(s.width!==e||s.height!==n)&&r.setSize(e,n,i);const o=r.getDrawingBufferSize(new Ae);this.inputBuffer.setSize(o.width,o.height),this.outputBuffer.setSize(o.width,o.height);for(const a of this.passes)a.setSize(o.width,o.height)}reset(){const e=this.timer.autoReset;this.dispose(),this.autoRenderToScreen=!0,this.timer.autoReset=e}dispose(){for(const e of this.passes)e.dispose();this.passes=[],this.inputBuffer!==null&&this.inputBuffer.dispose(),this.outputBuffer!==null&&this.outputBuffer.dispose(),this.deleteDepthTexture(),this.copyPass.dispose(),this.timer.dispose()}},mRe=class{constructor(){this.shaderParts=new Map([[vn.FRAGMENT_HEAD,null],[vn.FRAGMENT_MAIN_UV,null],[vn.FRAGMENT_MAIN_IMAGE,null],[vn.VERTEX_HEAD,null],[vn.VERTEX_MAIN_SUPPORT,null]]),this.defines=new Map,this.uniforms=new Map,this.blendModes=new Map,this.extensions=new Set,this.attributes=Ga.NONE,this.varyings=new Set,this.uvTransformation=!1,this.readDepth=!1,this.colorSpace=xM}},kC=!1,ZB=class{constructor(t=null){this.originalMaterials=new Map,this.material=null,this.materials=null,this.materialsBackSide=null,this.materialsDoubleSide=null,this.materialsFlatShaded=null,this.materialsFlatShadedBackSide=null,this.materialsFlatShadedDoubleSide=null,this.setMaterial(t),this.meshCount=0,this.replaceMaterial=e=>{if(e.isMesh){let n;if(e.material.flatShading)switch(e.material.side){case Es:n=this.materialsFlatShadedDoubleSide;break;case Zi:n=this.materialsFlatShadedBackSide;break;default:n=this.materialsFlatShaded;break}else switch(e.material.side){case Es:n=this.materialsDoubleSide;break;case Zi:n=this.materialsBackSide;break;default:n=this.materials;break}this.originalMaterials.set(e,e.material),e.isSkinnedMesh?e.material=n[2]:e.isInstancedMesh?e.material=n[1]:e.material=n[0],++this.meshCount}}}cloneMaterial(t){if(!(t instanceof er))return t.clone();const e=t.uniforms,n=new Map;for(const r in e){const s=e[r].value;s.isRenderTargetTexture&&(e[r].value=null,n.set(r,s))}const i=t.clone();for(const r of n)e[r[0]].value=r[1],i.uniforms[r[0]].value=r[1];return i}setMaterial(t){if(this.disposeMaterials(),this.material=t,t!==null){const e=this.materials=[this.cloneMaterial(t),this.cloneMaterial(t),this.cloneMaterial(t)];for(const n of e)n.uniforms=Object.assign({},t.uniforms),n.side=$a;e[2].skinning=!0,this.materialsBackSide=e.map(n=>{const i=this.cloneMaterial(n);return i.uniforms=Object.assign({},t.uniforms),i.side=Zi,i}),this.materialsDoubleSide=e.map(n=>{const i=this.cloneMaterial(n);return i.uniforms=Object.assign({},t.uniforms),i.side=Es,i}),this.materialsFlatShaded=e.map(n=>{const i=this.cloneMaterial(n);return i.uniforms=Object.assign({},t.uniforms),i.flatShading=!0,i}),this.materialsFlatShadedBackSide=e.map(n=>{const i=this.cloneMaterial(n);return i.uniforms=Object.assign({},t.uniforms),i.flatShading=!0,i.side=Zi,i}),this.materialsFlatShadedDoubleSide=e.map(n=>{const i=this.cloneMaterial(n);return i.uniforms=Object.assign({},t.uniforms),i.flatShading=!0,i.side=Es,i})}}render(t,e,n){const i=t.shadowMap.enabled;if(t.shadowMap.enabled=!1,kC){const r=this.originalMaterials;this.meshCount=0,e.traverse(this.replaceMaterial),t.render(e,n);for(const s of r)s[0].material=s[1];this.meshCount!==r.size&&r.clear()}else{const r=e.overrideMaterial;e.overrideMaterial=this.material,t.render(e,n),e.overrideMaterial=r}t.shadowMap.enabled=i}disposeMaterials(){if(this.material!==null){const t=this.materials.concat(this.materialsBackSide).concat(this.materialsDoubleSide).concat(this.materialsFlatShaded).concat(this.materialsFlatShadedBackSide).concat(this.materialsFlatShadedDoubleSide);for(const e of t)e.dispose()}}dispose(){this.originalMaterials.clear(),this.disposeMaterials()}static get workaroundEnabled(){return kC}static set workaroundEnabled(t){kC=t}},vc=-1,Ji=class extends lo{constructor(t,e=vc,n=vc,i=1){super(),this.resizable=t,this.baseSize=new Ae(1,1),this.preferredSize=new Ae(e,n),this.target=this.preferredSize,this.s=i,this.effectiveSize=new Ae,this.addEventListener("change",()=>this.updateEffectiveSize()),this.updateEffectiveSize()}updateEffectiveSize(){const t=this.baseSize,e=this.preferredSize,n=this.effectiveSize,i=this.scale;e.width!==vc?n.width=e.width:e.height!==vc?n.width=Math.round(e.height*(t.width/Math.max(t.height,1))):n.width=Math.round(t.width*i),e.height!==vc?n.height=e.height:e.width!==vc?n.height=Math.round(e.width/Math.max(t.width/Math.max(t.height,1),1)):n.height=Math.round(t.height*i)}get width(){return this.effectiveSize.width}set width(t){this.preferredWidth=t}get height(){return this.effectiveSize.height}set height(t){this.preferredHeight=t}getWidth(){return this.width}getHeight(){return this.height}get scale(){return this.s}set scale(t){this.s!==t&&(this.s=t,this.preferredSize.setScalar(vc),this.dispatchEvent({type:"change"}),this.resizable.setSize(this.baseSize.width,this.baseSize.height))}getScale(){return this.scale}setScale(t){this.scale=t}get baseWidth(){return this.baseSize.width}set baseWidth(t){this.baseSize.width!==t&&(this.baseSize.width=t,this.dispatchEvent({type:"change"}),this.resizable.setSize(this.baseSize.width,this.baseSize.height))}getBaseWidth(){return this.baseWidth}setBaseWidth(t){this.baseWidth=t}get baseHeight(){return this.baseSize.height}set baseHeight(t){this.baseSize.height!==t&&(this.baseSize.height=t,this.dispatchEvent({type:"change"}),this.resizable.setSize(this.baseSize.width,this.baseSize.height))}getBaseHeight(){return this.baseHeight}setBaseHeight(t){this.baseHeight=t}setBaseSize(t,e){(this.baseSize.width!==t||this.baseSize.height!==e)&&(this.baseSize.set(t,e),this.dispatchEvent({type:"change"}),this.resizable.setSize(this.baseSize.width,this.baseSize.height))}get preferredWidth(){return this.preferredSize.width}set preferredWidth(t){this.preferredSize.width!==t&&(this.preferredSize.width=t,this.dispatchEvent({type:"change"}),this.resizable.setSize(this.baseSize.width,this.baseSize.height))}getPreferredWidth(){return this.preferredWidth}setPreferredWidth(t){this.preferredWidth=t}get preferredHeight(){return this.preferredSize.height}set preferredHeight(t){this.preferredSize.height!==t&&(this.preferredSize.height=t,this.dispatchEvent({type:"change"}),this.resizable.setSize(this.baseSize.width,this.baseSize.height))}getPreferredHeight(){return this.preferredHeight}setPreferredHeight(t){this.preferredHeight=t}setPreferredSize(t,e){(this.preferredSize.width!==t||this.preferredSize.height!==e)&&(this.preferredSize.set(t,e),this.dispatchEvent({type:"change"}),this.resizable.setSize(this.baseSize.width,this.baseSize.height))}copy(t){this.s=t.scale,this.baseSize.set(t.baseWidth,t.baseHeight),this.preferredSize.set(t.preferredWidth,t.preferredHeight),this.dispatchEvent({type:"change"}),this.resizable.setSize(this.baseSize.width,this.baseSize.height)}static get AUTO_SIZE(){return vc}},gRe=class extends Set{constructor(t,e=10){super(),this.l=e,this.exclusive=!1,t!==void 0&&this.set(t)}get layer(){return this.l}set layer(t){const e=this.l;for(const n of this)n.layers.disable(e),n.layers.enable(t);this.l=t}getLayer(){return this.layer}setLayer(t){this.layer=t}isExclusive(){return this.exclusive}setExclusive(t){this.exclusive=t}clear(){const t=this.layer;for(const e of this)e.layers.disable(t);return super.clear()}set(t){this.clear();for(const e of t)this.add(e);return this}indexOf(t){return this.has(t)?0:-1}add(t){return this.exclusive?t.layers.set(this.layer):t.layers.enable(this.layer),super.add(t)}delete(t){return this.has(t)&&t.layers.disable(this.layer),super.delete(t)}toggle(t){let e;return this.has(t)?(this.delete(t),e=!1):(this.add(t),e=!0),e}setVisible(t){for(const e of this)t?e.layers.enable(0):e.layers.disable(0);return this}},vRe="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return mix(x,x+y,opacity);}",yRe="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return mix(x,y,min(y.a,opacity));}",xRe="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return mix(x,(x+y)*0.5,opacity);}",_Re="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){vec3 xHSL=RGBToHSL(x.rgb);vec3 yHSL=RGBToHSL(y.rgb);vec3 z=HSLToRGB(vec3(yHSL.rg,xHSL.b));return vec4(mix(x.rgb,z,opacity),y.a);}",bRe="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){vec4 z=mix(step(0.0,y)*(1.0-min(vec4(1.0),(1.0-x)/y)),vec4(1.0),step(1.0,x));return mix(x,z,opacity);}",SRe="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){vec4 z=step(0.0,x)*mix(min(vec4(1.0),x/max(1.0-y,1e-9)),vec4(1.0),step(1.0,y));return mix(x,z,opacity);}",wRe="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return mix(x,min(x,y),opacity);}",MRe="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return mix(x,abs(x-y),opacity);}",ERe="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return mix(x,x/max(y,1e-12),opacity);}",TRe="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return mix(x,(x+y-2.0*x*y),opacity);}",CRe="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){vec4 a=min(x,1.0),b=min(y,1.0);vec4 z=mix(2.0*a*b,1.0-2.0*(1.0-a)*(1.0-b),step(0.5,y));return mix(x,z,opacity);}",RRe="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return mix(x,step(1.0,x+y),opacity);}",ARe="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){vec3 xHSL=RGBToHSL(x.rgb);vec3 yHSL=RGBToHSL(y.rgb);vec3 z=HSLToRGB(vec3(yHSL.r,xHSL.gb));return vec4(mix(x.rgb,z,opacity),y.a);}",PRe="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return mix(x,1.0-y,opacity);}",kRe="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return mix(x,y*(1.0-x),opacity);}",IRe="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return mix(x,max(x,y),opacity);}",LRe="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return mix(x,clamp(y+x-1.0,0.0,1.0),opacity);}",DRe="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return mix(x,min(x+y,1.0),opacity);}",ORe="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return mix(x,clamp(2.0*y+x-1.0,0.0,1.0),opacity);}",NRe="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){vec3 xHSL=RGBToHSL(x.rgb);vec3 yHSL=RGBToHSL(y.rgb);vec3 z=HSLToRGB(vec3(xHSL.rg,yHSL.b));return vec4(mix(x.rgb,z,opacity),y.a);}",FRe="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return mix(x,x*y,opacity);}",zRe="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return mix(x,1.0-abs(1.0-x-y),opacity);}",URe="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return mix(x,y,opacity);}",BRe="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){vec4 z=mix(2.0*y*x,1.0-2.0*(1.0-y)*(1.0-x),step(0.5,x));return mix(x,z,opacity);}",HRe="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){vec4 y2=2.0*y;vec4 z=mix(mix(y2,x,step(0.5*x,y)),max(vec4(0.0),y2-1.0),step(x,(y2-1.0)));return mix(x,z,opacity);}",VRe="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){vec4 z=mix(min(x*x/max(1.0-y,1e-12),1.0),y,step(1.0,y));return mix(x,z,opacity);}",jRe="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){vec3 xHSL=RGBToHSL(x.rgb);vec3 yHSL=RGBToHSL(y.rgb);vec3 z=HSLToRGB(vec3(xHSL.r,yHSL.g,xHSL.b));return vec4(mix(x.rgb,z,opacity),y.a);}",WRe="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return mix(x,x+y-min(x*y,1.0),opacity);}",GRe="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){vec4 y2=2.0*y;vec4 w=step(0.5,y);vec4 z=mix(x-(1.0-y2)*x*(1.0-x),mix(x+(y2-1.0)*(sqrt(x)-x),x+(y2-1.0)*x*((16.0*x-12.0)*x+3.0),w*(1.0-step(0.25,x))),w);return mix(x,z,opacity);}",$Re="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return y;}",XRe="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return mix(x,max(x+y-1.0,0.0),opacity);}",YRe="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){vec4 z=mix(max(1.0-min((1.0-x)/(2.0*y),1.0),0.0),min(x/(2.0*(1.0-y)),1.0),step(0.5,y));return mix(x,z,opacity);}",qRe=new Map([[nn.ADD,vRe],[nn.ALPHA,yRe],[nn.AVERAGE,xRe],[nn.COLOR,_Re],[nn.COLOR_BURN,bRe],[nn.COLOR_DODGE,SRe],[nn.DARKEN,wRe],[nn.DIFFERENCE,MRe],[nn.DIVIDE,ERe],[nn.DST,null],[nn.EXCLUSION,TRe],[nn.HARD_LIGHT,CRe],[nn.HARD_MIX,RRe],[nn.HUE,ARe],[nn.INVERT,PRe],[nn.INVERT_RGB,kRe],[nn.LIGHTEN,IRe],[nn.LINEAR_BURN,LRe],[nn.LINEAR_DODGE,DRe],[nn.LINEAR_LIGHT,ORe],[nn.LUMINOSITY,NRe],[nn.MULTIPLY,FRe],[nn.NEGATION,zRe],[nn.NORMAL,URe],[nn.OVERLAY,BRe],[nn.PIN_LIGHT,HRe],[nn.REFLECT,VRe],[nn.SATURATION,jRe],[nn.SCREEN,WRe],[nn.SOFT_LIGHT,GRe],[nn.SRC,$Re],[nn.SUBTRACT,XRe],[nn.VIVID_LIGHT,YRe]]),KRe=class extends lo{constructor(t,e=1){super(),this._blendFunction=t,this.opacity=new sn(e)}getOpacity(){return this.opacity.value}setOpacity(t){this.opacity.value=t}get blendFunction(){return this._blendFunction}set blendFunction(t){this._blendFunction=t,this.dispatchEvent({type:"change"})}getBlendFunction(){return this.blendFunction}setBlendFunction(t){this.blendFunction=t}getShaderCode(){return qRe.get(this.blendFunction)}},wA=class extends lo{constructor(t,e,{attributes:n=Ga.NONE,blendFunction:i=nn.NORMAL,defines:r=new Map,uniforms:s=new Map,extensions:o=null,vertexShader:a=null}={}){super(),this.name=t,this.renderer=null,this.attributes=n,this.fragmentShader=e,this.vertexShader=a,this.defines=r,this.uniforms=s,this.extensions=o,this.blendMode=new KRe(i),this.blendMode.addEventListener("change",l=>this.setChanged()),this._inputColorSpace=xM,this._outputColorSpace=U$}get inputColorSpace(){return this._inputColorSpace}set inputColorSpace(t){this._inputColorSpace=t,this.setChanged()}get outputColorSpace(){return this._outputColorSpace}set outputColorSpace(t){this._outputColorSpace=t,this.setChanged()}set mainScene(t){}set mainCamera(t){}getName(){return this.name}setRenderer(t){this.renderer=t}getDefines(){return this.defines}getUniforms(){return this.uniforms}getExtensions(){return this.extensions}getBlendMode(){return this.blendMode}getAttributes(){return this.attributes}setAttributes(t){this.attributes=t,this.setChanged()}getFragmentShader(){return this.fragmentShader}setFragmentShader(t){this.fragmentShader=t,this.setChanged()}getVertexShader(){return this.vertexShader}setVertexShader(t){this.vertexShader=t,this.setChanged()}setChanged(){this.dispatchEvent({type:"change"})}setDepthTexture(t,e=la){}update(t,e,n){}setSize(t,e){}initialize(t,e,n){}dispose(){for(const t of Object.keys(this)){const e=this[t];(e instanceof ii||e instanceof ir||e instanceof ni||e instanceof fs)&&this[t].dispose()}}},QRe=`#ifdef FRAMEBUFFER_PRECISION_HIGH
uniform mediump sampler2D map;
#else
uniform lowp sampler2D map;
#endif
uniform float intensity;void mainImage(const in vec4 inputColor,const in vec2 uv,out vec4 outputColor){vec4 texel=texture2D(map,uv);outputColor=vec4(texel.rgb*intensity,texel.a);}`,ZRe=class extends wA{constructor({blendFunction:t=nn.SCREEN,luminanceThreshold:e=.9,luminanceSmoothing:n=.025,mipmapBlur:i=!1,intensity:r=1,radius:s=.85,levels:o=8,kernelSize:a=oL.LARGE,resolutionScale:l=.5,width:c=Ji.AUTO_SIZE,height:u=Ji.AUTO_SIZE,resolutionX:d=c,resolutionY:f=u}={}){super("BloomEffect",QRe,{blendFunction:t,uniforms:new Map([["map",new sn(null)],["intensity",new sn(r)]])}),this.renderTarget=new ii(1,1,{depthBuffer:!1}),this.renderTarget.texture.name="Bloom.Target",this.blurPass=new oRe({kernelSize:a}),this.luminancePass=new aRe({colorOutput:!0}),this.luminanceMaterial.threshold=e,this.luminanceMaterial.smoothing=n,this.mipmapBlurPass=new cRe,this.mipmapBlurPass.enabled=i,this.mipmapBlurPass.radius=s,this.mipmapBlurPass.levels=o,this.uniforms.get("map").value=i?this.mipmapBlurPass.texture:this.renderTarget.texture;const m=this.resolution=new Ji(this,d,f,l);m.addEventListener("change",g=>this.setSize(m.baseWidth,m.baseHeight))}get texture(){return this.mipmapBlurPass.enabled?this.mipmapBlurPass.texture:this.renderTarget.texture}getTexture(){return this.texture}getResolution(){return this.resolution}getBlurPass(){return this.blurPass}getLuminancePass(){return this.luminancePass}get luminanceMaterial(){return this.luminancePass.fullscreenMaterial}getLuminanceMaterial(){return this.luminancePass.fullscreenMaterial}get width(){return this.resolution.width}set width(t){this.resolution.preferredWidth=t}get height(){return this.resolution.height}set height(t){this.resolution.preferredHeight=t}get dithering(){return this.blurPass.dithering}set dithering(t){this.blurPass.dithering=t}get kernelSize(){return this.blurPass.kernelSize}set kernelSize(t){this.blurPass.kernelSize=t}get distinction(){return console.warn(this.name,"distinction was removed"),1}set distinction(t){console.warn(this.name,"distinction was removed")}get intensity(){return this.uniforms.get("intensity").value}set intensity(t){this.uniforms.get("intensity").value=t}getIntensity(){return this.intensity}setIntensity(t){this.intensity=t}getResolutionScale(){return this.resolution.scale}setResolutionScale(t){this.resolution.scale=t}update(t,e,n){const i=this.renderTarget,r=this.luminancePass;r.enabled?(r.render(t,e),this.mipmapBlurPass.enabled?this.mipmapBlurPass.render(t,r.renderTarget):this.blurPass.render(t,r.renderTarget,i)):this.mipmapBlurPass.enabled?this.mipmapBlurPass.render(t,e):this.blurPass.render(t,e,i)}setSize(t,e){const n=this.resolution;n.setBaseSize(t,e),this.renderTarget.setSize(n.width,n.height),this.blurPass.resolution.copy(n),this.luminancePass.setSize(t,e),this.mipmapBlurPass.setSize(t,e)}initialize(t,e,n){this.blurPass.initialize(t,e,n),this.luminancePass.initialize(t,e,n),this.mipmapBlurPass.initialize(t,e,n),n!==void 0&&(this.renderTarget.texture.type=n,of(t)===Bi&&Fl(this.renderTarget.texture,Bi))}},JRe=class extends ZRe{constructor(t,e,n){super(n),this.setAttributes(this.getAttributes()|Ga.DEPTH),this.camera=e,this.depthPass=new nRe(t,e),this.clearPass=new aL(!0,!1,!1),this.clearPass.overrideClearColor=new Be(0),this.depthMaskPass=new dRe(new B2e);const i=this.depthMaskMaterial;i.copyCameraSettings(e),i.depthBuffer1=this.depthPass.texture,i.depthPacking1=Ow,i.depthMode=nv,this.renderTargetMasked=new ii(1,1,{depthBuffer:!1}),this.renderTargetMasked.texture.name="Bloom.Masked",this.selection=new gRe,this.selection.layer=11,this._inverted=!1,this._ignoreBackground=!1}set mainScene(t){this.depthPass.mainScene=t}set mainCamera(t){this.camera=t,this.depthPass.mainCamera=t,this.depthMaskMaterial.copyCameraSettings(t)}getSelection(){return this.selection}get depthMaskMaterial(){return this.depthMaskPass.fullscreenMaterial}get inverted(){return this._inverted}set inverted(t){this._inverted=t,this.depthMaskMaterial.depthMode=t?kw:nv}isInverted(){return this.inverted}setInverted(t){this.inverted=t}get ignoreBackground(){return this._ignoreBackground}set ignoreBackground(t){this._ignoreBackground=t,this.depthMaskMaterial.maxDepthStrategy=t?C0.DISCARD_MAX_DEPTH:C0.KEEP_MAX_DEPTH}isBackgroundDisabled(){return this.ignoreBackground}setBackgroundDisabled(t){this.ignoreBackground=t}setDepthTexture(t,e=la){this.depthMaskMaterial.depthBuffer0=t,this.depthMaskMaterial.depthPacking0=e}update(t,e,n){const i=this.camera,r=this.selection,s=this.inverted;let o=e;if(this.ignoreBackground||!s||r.size>0){const a=i.layers.mask;i.layers.set(r.layer),this.depthPass.render(t),i.layers.mask=a,o=this.renderTargetMasked,this.clearPass.render(t,o),this.depthMaskPass.render(t,e,o)}super.update(t,o,n)}setSize(t,e){super.setSize(t,e),this.renderTargetMasked.setSize(t,e),this.depthPass.setSize(t,e)}initialize(t,e,n){super.initialize(t,e,n),this.clearPass.initialize(t,e,n),this.depthPass.initialize(t,e,n),this.depthMaskPass.initialize(t,e,n),t.capabilities.logarithmicDepthBuffer&&(this.depthMaskPass.fullscreenMaterial.defines.LOG_DEPTH="1"),n!==void 0&&(this.renderTargetMasked.texture.type=n,of(t)===Bi&&Fl(this.renderTargetMasked.texture,Bi))}};const W$=k.createContext(null),JB=t=>(t.getAttributes()&Ga.CONVOLUTION)===Ga.CONVOLUTION,G$=Qt.memo(k.forwardRef(({children:t,camera:e,scene:n,resolutionScale:i,enabled:r=!0,renderPriority:s=1,autoClear:o=!0,depthBuffer:a,disableNormalPass:l,stencilBuffer:c,multisampling:u=8,frameBufferType:d=du},f)=>{const{gl:m,scene:g,camera:y,size:x}=ns(),v=n||g,_=e||y,[b,w,C]=k.useMemo(()=>{const A=g2e(),L=new pRe(m,{depthBuffer:a,stencilBuffer:c,multisampling:u>0&&A?u:0,frameBufferType:d});L.addPass(new lL(v,_));let O=null,H=null;return l||(H=new uRe(v,_),H.enabled=!1,L.addPass(H),i!==void 0&&A&&(O=new iRe({normalBuffer:H.texture,resolutionScale:i}),O.enabled=!1,L.addPass(O))),[L,H,O]},[_,m,a,c,u,d,v,l,i]);k.useEffect(()=>b==null?void 0:b.setSize(x.width,x.height),[b,x]),UG((A,L)=>{if(r){const O=m.autoClear;m.autoClear=o,c&&!o&&m.clearStencil(),b.render(L),m.autoClear=O}},r?s:0);const T=k.useRef(null),R=fxe(T);k.useLayoutEffect(()=>{const A=[];if(T.current&&R.current&&b){const L=R.current.objects;for(let O=0;O<L.length;O++){const H=L[O];if(H instanceof wA){const q=[H];if(!JB(H)){let G=null;for(;(G=L[O+1])instanceof wA&&!JB(G);)q.push(G),O++}const U=new sRe(_,...q);A.push(U)}else H instanceof fs&&A.push(H)}for(const O of A)b==null||b.addPass(O);w&&(w.enabled=!0),C&&(C.enabled=!0)}return()=>{for(const L of A)b==null||b.removePass(L);w&&(w.enabled=!1),C&&(C.enabled=!1)}},[b,t,_,w,C,R]);const I=k.useMemo(()=>({composer:b,normalPass:w,downSamplingPass:C,resolutionScale:i,camera:_,scene:v}),[b,w,C,i,_,v]);return k.useImperativeHandle(f,()=>b,[b]),M.jsx(W$.Provider,{value:I,children:M.jsx("group",{ref:T,children:t})})})),hb=t=>typeof t=="object"&&t!=null&&"current"in t?t.current:t,eAe=(t,e)=>t.layers.enable(e.selection.layer),tAe=(t,e)=>t.layers.disable(e.selection.layer),$$=k.forwardRef(function({selection:e=[],selectionLayer:n=10,lights:i=[],luminanceThreshold:r,luminanceSmoothing:s,intensity:o,width:a,height:l,kernelSize:c,mipmapBlur:u,...d},f){i.length===0&&console.warn("SelectiveBloom requires lights to work.");const m=ns(_=>_.invalidate),{scene:g,camera:y}=k.useContext(W$),x=k.useMemo(()=>new JRe(g,y,{blendFunction:nn.ADD,luminanceThreshold:r,luminanceSmoothing:s,intensity:o,width:a,height:l,kernelSize:c,mipmapBlur:u,...d}),[g,y,r,s,o,a,l,c,u,d]),v=k.useContext(R2e);return k.useEffect(()=>{if(!v&&e)return x.selection.set(Array.isArray(e)?e.map(hb):[hb(e)]),m(),()=>{x.selection.clear(),m()}},[x,e,v,m]),k.useEffect(()=>{x.selection.layer=n,m()},[x,m,n]),k.useEffect(()=>{if(i&&i.length>0)return i.forEach(_=>eAe(hb(_),x)),m(),()=>{i.forEach(_=>tAe(hb(_),x)),m()}},[x,m,i,n]),k.useEffect(()=>{var _;if(v&&v.enabled&&(_=v.selected)!=null&&_.length)return x.selection.set(v.selected),m(),()=>{x.selection.clear(),m()}},[v,x.selection,m]),M.jsx("primitive",{ref:f,object:x,dispose:null})}),xs=.4,IC=Ac/(xs*2),nAe=_l/(xs*2),iAe=()=>{const t=k.useRef(null),e=k.useRef(null),n=k.useRef(null),i=k.useMemo(()=>[t,e,n],[]),r=k.useRef(null),{localSettings:s}=hf(),{setShotsHit:o}=xf(),{isChallenge:a,showScoreboard:l,isResetting:c,setIsResetting:u}=ql(),{isLocked:d}=_f(),f=k.useCallback(m=>{let g=xs+xs*2*Math.floor(Math.random()*IC),y=xs+xs*2*Math.floor(Math.random()*nAe);for(let x=0;x<i.length;x++){const v=i[x];if(v.current.uuid!==m.uuid){for(;g===v.current.position.x;)g=xs+xs*2*Math.floor(Math.random()*IC);for(;y===v.current.position.y;)y=xs+xs*2*Math.floor(Math.random()*IC)}}m.position.set(g,y,xs)},[i]);return k.useEffect(()=>{i.forEach(m=>{f(m.current)})},[i,f,a,l]),k.useEffect(()=>{c&&(i.forEach(m=>{f(m.current)}),u(!1))},[i,f,c,u]),M.jsxs(M.Fragment,{children:[M.jsx("pointLight",{ref:r,position:[Ac/2,_l/2,lS/2]}),M.jsxs("group",{children:[M.jsxs("mesh",{ref:t,onPointerDown:m=>{f(m.object),a&&d&&o(g=>g+1)},children:[M.jsx("sphereGeometry",{args:[xs]}),M.jsx("meshStandardMaterial",{color:new Be(s.enemies.color)})]}),M.jsxs("mesh",{ref:e,onPointerDown:m=>{f(m.object),a&&d&&o(g=>g+1)},children:[M.jsx("sphereGeometry",{args:[xs]}),M.jsx("meshStandardMaterial",{color:new Be(s.enemies.color)})]}),M.jsxs("mesh",{ref:n,onPointerDown:m=>{f(m.object),a&&d&&o(g=>g+1)},children:[M.jsx("sphereGeometry",{args:[xs]}),M.jsx("meshStandardMaterial",{color:new Be(s.enemies.color)})]})]}),s.enemies.glow&&t&&t&&e&&n&&M.jsx(G$,{children:M.jsx($$,{lights:[r],selection:[t,e,n],luminanceThreshold:0})})]})},e4="tile-frenzy",rAe=()=>M.jsx(Lk,{children:M.jsx(gW,{children:M.jsx(yW,{children:M.jsx(_W,{damagePerHit:25,children:M.jsx(KG,{timeDuration:30,scenarioName:e4,children:M.jsxs(gt,{width:"100%",height:"100%",children:[M.jsxs($G,{children:[M.jsx(C2e,{}),M.jsx(iAe,{}),M.jsx(z$,{position:[Ac/2,_l/2,lS-1]})]}),M.jsx(XG,{}),M.jsx(QG,{}),M.jsx(ZG,{}),M.jsx(N$,{scenarioName:e4}),M.jsx(F$,{})]})})})})})}),sAe=async({accountId:t})=>{try{return(await ca.get(`https://aim-blitz-server.onrender.com/api/accounts/${t}`)).data}catch(e){console.error("Error during getAccountById:",e);const n=e;return{success:!1,message:n.response?n.response.data.message:"Network Error or CORS issue",data:null,error:n.response?n.response.data.error:{code:"0",details:"Network Error or CORS issue"}}}},oAe=async({accountId:t})=>{try{return(await ca.get(`https://aim-blitz-server.onrender.com/api/accounts/${t}/recent-scores`)).data}catch(e){console.error("Error during getRecentScoresById:",e);const n=e;return{success:!1,message:n.response?n.response.data.message:"Network Error or CORS issue",data:null,error:n.response?n.response.data.error:{code:"0",details:"Network Error or CORS issue"}}}},Pc=8,bl=8,Ag=.08,pb=8,t4=.16,cS=8,n4=8,i4=.16,r4=8,aAe=()=>{const{localSettings:t}=hf(),[e,n,i]=yM([t.walls.texture,t.floors.texture,t.ceilings.texture]);e.wrapS=wr,e.wrapT=wr,e.repeat.set(t.walls.scale,t.walls.scale),n.wrapS=wr,n.wrapT=wr,n.repeat.set(t.floors.scale,t.floors.scale),i.wrapS=wr,i.wrapT=wr,i.repeat.set(t.ceilings.scale,t.ceilings.scale);const r=({color:a,position:l,rotation:c,map:u,roughness:d,metalness:f})=>M.jsxs("mesh",{position:l,rotation:c,children:[M.jsx("boxGeometry",{args:[Pc,bl,Ag]}),M.jsx("meshStandardMaterial",{color:a,map:u,roughness:d,metalness:f})]}),s=({color:a,position:l,rotation:c,map:u,roughness:d,metalness:f})=>M.jsxs("mesh",{position:l,rotation:c,children:[M.jsx("boxGeometry",{args:[pb,t4,cS]}),M.jsx("meshStandardMaterial",{color:a,map:u,roughness:d,metalness:f})]}),o=({color:a,position:l,rotation:c,map:u,roughness:d,metalness:f})=>M.jsxs("mesh",{position:l,rotation:c,children:[M.jsx("boxGeometry",{args:[n4,i4,r4]}),M.jsx("meshStandardMaterial",{color:a,map:u,roughness:d,metalness:f})]});return M.jsxs("group",{children:[M.jsx(r,{position:new W(Pc/2,bl/2,-Ag/2),color:new Be(t.walls.color),map:e,roughness:t.walls?t.walls.roughness:0,metalness:t.walls?t.walls.metallic:0}),M.jsx(r,{position:new W(Pc/2,bl/2,Ag/2+pb),color:new Be(t.walls.color),map:e,roughness:t.walls?t.walls.roughness:0,metalness:t.walls?t.walls.metallic:0}),M.jsx(r,{position:new W(-Ag/2,bl/2,Pc/2),rotation:new Ya(0,Math.PI/2,0),color:new Be(t.walls.color),map:e,roughness:t.walls?t.walls.roughness:0,metalness:t.walls?t.walls.metallic:0}),M.jsx(r,{position:new W(pb+Ag/2,bl/2,Pc/2),rotation:new Ya(0,Math.PI/2,0),color:new Be(t.walls.color),map:e,roughness:t.walls?t.walls.roughness:0,metalness:t.walls?t.walls.metallic:0}),M.jsx(s,{position:new W(pb/2,-t4/2,cS/2),color:new Be(t.floors.color),map:n,roughness:t.floors?t.floors.roughness:0,metalness:t.floors?t.floors.metallic:0}),M.jsx(o,{position:new W(n4/2,i4/2+bl,r4/2),color:new Be(t.ceilings.color),map:i,roughness:t.ceilings?t.ceilings.roughness:0,metalness:t.ceilings?t.ceilings.metallic:0})]})},zr=.125,LC=Pc/(zr*2),lAe=bl/(zr*2),cAe=()=>{const t=k.useRef(null),e=k.useRef(null),n=k.useRef(null),i=k.useRef(null),r=k.useRef(null),s=k.useMemo(()=>[t,e,n,i,r],[]),o=k.useRef(null),{localSettings:a}=hf(),{setShotsHit:l}=xf(),{isChallenge:c,showScoreboard:u,isResetting:d,setIsResetting:f}=ql(),{isLocked:m}=_f(),g=k.useCallback(y=>{let x=zr+zr*2*Math.floor(Math.random()*LC),v=zr+zr*2*Math.floor(Math.random()*lAe);for(let _=0;_<s.length;_++){const b=s[_];if(b.current.uuid!==y.uuid){for(;x===b.current.position.x;)x=zr+zr*2*Math.floor(Math.random()*LC);for(;v===b.current.position.y;)v=zr+zr*2*Math.floor(Math.random()*LC)}}y.position.set(x,v,zr)},[s]);return k.useEffect(()=>{s.forEach(y=>{g(y.current)})},[s,g,c,u]),k.useEffect(()=>{d&&(s.forEach(y=>{g(y.current)}),f(!1))},[s,g,d,f]),M.jsxs(M.Fragment,{children:[M.jsx("pointLight",{ref:o,position:[Pc/2,bl/2,cS/2]}),M.jsxs("group",{children:[M.jsxs("mesh",{ref:t,onPointerDown:y=>{g(y.object),c&&m&&l(x=>x+1)},children:[M.jsx("sphereGeometry",{args:[zr]}),M.jsx("meshStandardMaterial",{color:new Be(a.enemies.color)})]}),M.jsxs("mesh",{ref:e,onPointerDown:y=>{g(y.object),c&&m&&l(x=>x+1)},children:[M.jsx("sphereGeometry",{args:[zr]}),M.jsx("meshStandardMaterial",{color:new Be(a.enemies.color)})]}),M.jsxs("mesh",{ref:n,onPointerDown:y=>{g(y.object),c&&m&&l(x=>x+1)},children:[M.jsx("sphereGeometry",{args:[zr]}),M.jsx("meshStandardMaterial",{color:new Be(a.enemies.color)})]}),M.jsxs("mesh",{ref:i,onPointerDown:y=>{g(y.object),c&&m&&l(x=>x+1)},children:[M.jsx("sphereGeometry",{args:[zr]}),M.jsx("meshStandardMaterial",{color:new Be(a.enemies.color)})]}),M.jsxs("mesh",{ref:r,onPointerDown:y=>{g(y.object),c&&m&&l(x=>x+1)},children:[M.jsx("sphereGeometry",{args:[zr]}),M.jsx("meshStandardMaterial",{color:new Be(a.enemies.color)})]})]}),a.enemies.glow&&t&&t&&e&&n&&i&&r&&M.jsx(G$,{children:M.jsx($$,{lights:[o],selection:[t,e,n,i,r],luminanceThreshold:0})})]})},s4="1-wall-5-targets",uAe=()=>M.jsx(Lk,{children:M.jsx(gW,{children:M.jsx(yW,{children:M.jsx(_W,{damagePerHit:25,children:M.jsx(KG,{timeDuration:60,scenarioName:s4,children:M.jsxs(gt,{width:"100%",height:"100%",children:[M.jsxs($G,{children:[M.jsx(aAe,{}),M.jsx(cAe,{}),M.jsx(z$,{position:[Pc/2,bl/2,cS-1]})]}),M.jsx(XG,{}),M.jsx(QG,{}),M.jsx(ZG,{}),M.jsx(N$,{scenarioName:s4}),M.jsx(F$,{})]})})})})})}),dAe=Ule([{path:"/aim-blitz",element:M.jsx(Pde,{}),children:[{path:"/aim-blitz",index:!0,element:M.jsx(kde,{})},{path:"/aim-blitz/create-account",loader:async()=>{var e;const t=await Fb();return(e=t==null?void 0:t.data)!=null&&e.account?Yf("/"):null},element:M.jsx(sde,{})},{path:"/aim-blitz/scenarios",element:M.jsx(Ide,{})},{path:"/aim-blitz/settings",element:M.jsx(jde,{})},{path:"/aim-blitz/sign-in",loader:async()=>{var e;const t=await Fb();return(e=t==null?void 0:t.data)!=null&&e.account?Yf("/"):null},element:M.jsx(ade,{})},{path:"/aim-blitz/accounts/:accountId",loader:async({params:t})=>{var e,n,i;if(t.accountId){const r=await sAe({accountId:t.accountId}),s=await oAe({accountId:t.accountId});return(e=r==null?void 0:r.data)!=null&&e.account?{account:(n=r==null?void 0:r.data)==null?void 0:n.account,recentScores:(i=s==null?void 0:s.data)==null?void 0:i.scores}:Yf("/aim-blitz")}},element:M.jsx(cde,{})},{path:"/aim-blitz/accounts/:accountId/edit",loader:async({params:t})=>{var e;if(t.accountId){const n=await Fb();if((e=n==null?void 0:n.data)!=null&&e.account&&n.data.account._id===t.accountId)return null}return Yf("/")},element:M.jsx(mde,{})},{path:"/aim-blitz/*",loader:()=>Yf("/aim-blitz")}]},{path:"/aim-blitz/scenarios",children:[{path:"/aim-blitz/scenarios/tile-frenzy",element:M.jsx(rAe,{})},{path:"/aim-blitz/scenarios/1-wall-5-targets",element:M.jsx(uAe,{})},{path:"/aim-blitz/scenarios/*",loader:()=>Yf("/aim-blitz/scenarios")}]}]),fAe=()=>M.jsx(Yle,{router:dAe}),hAe=()=>M.jsx(wae,{children:M.jsx(fAe,{})});DC.createRoot(document.getElementById("root")).render(M.jsx(Qt.StrictMode,{children:M.jsx(hAe,{})}));
